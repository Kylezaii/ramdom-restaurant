{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ApplicationPopupComponent = exports.ApplicationDialogComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst application_model_1 = require(\"./application.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@ng-bootstrap/ng-bootstrap\"));\nconst i2 = tslib_1.__importStar(require(\"./application.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/event-manager.service\"));\nconst i4 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i7 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i8 = tslib_1.__importStar(require(\"./application-popup.service\"));\nclass ApplicationDialogComponent {\n  constructor(activeModal, applicationService, eventManager, router) {\n    this.activeModal = activeModal;\n    this.applicationService = applicationService;\n    this.eventManager = eventManager;\n    this.router = router;\n    this.application = new application_model_1.Application();\n  }\n  ngOnInit() {\n    this.isSaving = false;\n  }\n  clear() {\n    this.activeModal.dismiss('cancel');\n    this.backToPrevious();\n  }\n  save() {\n    this.isSaving = true;\n    this.subscribeToSaveResponse(this.application.appId ? this.applicationService.update(this.application) : this.applicationService.create(this.application));\n  }\n  backToPrevious() {\n    setTimeout(() => {\n      this.router.navigate(['admin/acm/ic-application']);\n    }, 0);\n  }\n  subscribeToSaveResponse(result) {\n    result.subscribe(res => this.onSaveSuccess(res), res => this.onSaveError(res));\n  }\n  onSaveSuccess(result) {\n    this.eventManager.broadcast({\n      name: 'applicationListModification',\n      content: 'OK'\n    });\n    this.isSaving = false;\n    this.activeModal.dismiss(result);\n    this.backToPrevious();\n  }\n  onSaveError(error) {\n    this.isSaving = false;\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\n    document.getElementById('appDialogErrorMsg').innerHTML = appDialogErrorMsg;\n    document.getElementById('appDialogErrorMsg').style.display = 'block';\n  }\n}\nexports.ApplicationDialogComponent = ApplicationDialogComponent;\nApplicationDialogComponent.ɵfac = function ApplicationDialogComponent_Factory(t) {\n  return new (t || ApplicationDialogComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.ApplicationService), i0.ɵɵdirectiveInject(i3.EventManager), i0.ɵɵdirectiveInject(i4.Router));\n};\nApplicationDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ApplicationDialogComponent,\n  selectors: [[\"ic-application-dialog\"]],\n  decls: 85,\n  vars: 13,\n  consts: [[\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [1, \"modal-header\"], [\"id\", \"myApplicationLabel\", \"icTranslate\", \"acmAdmin.application.home.createOrEditLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"id\", \"appDialogErrorMsg\", 1, \"alert-dismissible\", \"alert-danger\", \"alert\", 2, \"display\", \"none\"], [1, \"modal-body\"], [1, \"row\"], [1, \"rounded-pill\", \"col-md-6\", 3, \"hidden\"], [\"icTranslate\", \"acmAdmin.application.appCode\", \"for\", \"field_appCode\", 1, \"form-control-label\"], [\"id\", \"field_appCode1\", \"type\", \"text\", \"name\", \"appCode\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"hidden\"], [\"icTranslate\", \"entity.validation.required\", 1, \"form-text\", \"text-danger\", 3, \"hidden\"], [\"type\", \"text\", \"name\", \"appCode\", \"id\", \"field_appCode\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"rounded-pill\", \"col-md-6\"], [\"icTranslate\", \"acmAdmin.application.appName\", \"for\", \"field_appName\", 1, \"form-control-label\"], [\"type\", \"text\", \"name\", \"appName\", \"id\", \"field_appName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"acmAdmin.application.appDesc\", \"for\", \"field_appDesc\", 1, \"form-control-label\"], [\"type\", \"text\", \"name\", \"appDesc\", \"id\", \"field_appDesc\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"id\", \"saveApp\", \"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\"], [3, \"icon\"], [\"icTranslate\", \"entity.action.save\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"click\"], [\"icTranslate\", \"entity.action.cancel\"]],\n  template: function ApplicationDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function ApplicationDialogComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(2, \"\\n  \");\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtext(4, \"\\n    \");\n      i0.ɵɵelementStart(5, \"h4\", 3);\n      i0.ɵɵtext(6, \"\\n      Create or edit a Application\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n    \");\n      i0.ɵɵelementStart(8, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ApplicationDialogComponent_Template_button_click_8_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵtext(9, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\\n  \");\n      i0.ɵɵelement(12, \"p\", 5);\n      i0.ɵɵtext(13, \"\\n\\n  \");\n      i0.ɵɵelementStart(14, \"div\", 6);\n      i0.ɵɵtext(15, \"\\n    \");\n      i0.ɵɵelementStart(16, \"div\", 7);\n      i0.ɵɵtext(17, \"\\n      \");\n      i0.ɵɵelementStart(18, \"div\", 8);\n      i0.ɵɵtext(19, \"\\n        \");\n      i0.ɵɵelementStart(20, \"label\", 9);\n      i0.ɵɵtext(21, \"App Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \"\\n        \");\n      i0.ɵɵelementStart(23, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ApplicationDialogComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.application.appCode = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n        \");\n      i0.ɵɵelementStart(25, \"div\", 11);\n      i0.ɵɵtext(26, \"\\n          \");\n      i0.ɵɵelementStart(27, \"small\", 12);\n      i0.ɵɵtext(28, \"\\n            This field is required.\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n\\n      \");\n      i0.ɵɵelementStart(32, \"div\", 8);\n      i0.ɵɵtext(33, \"\\n        \");\n      i0.ɵɵelementStart(34, \"label\", 9);\n      i0.ɵɵtext(35, \"App Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n        \");\n      i0.ɵɵelementStart(37, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function ApplicationDialogComponent_Template_input_ngModelChange_37_listener($event) {\n        return ctx.application.appCode = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n\\n      \");\n      i0.ɵɵelementStart(40, \"div\", 14);\n      i0.ɵɵtext(41, \"\\n        \");\n      i0.ɵɵelementStart(42, \"label\", 15);\n      i0.ɵɵtext(43, \"App Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(44, \"\\n        \");\n      i0.ɵɵelementStart(45, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function ApplicationDialogComponent_Template_input_ngModelChange_45_listener($event) {\n        return ctx.application.appName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \"\\n        \");\n      i0.ɵɵelementStart(47, \"div\", 11);\n      i0.ɵɵtext(48, \"\\n          \");\n      i0.ɵɵelementStart(49, \"small\", 12);\n      i0.ɵɵtext(50, \"\\n            This field is required.\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n\\n      \");\n      i0.ɵɵelementStart(54, \"div\", 14);\n      i0.ɵɵtext(55, \"\\n        \");\n      i0.ɵɵelementStart(56, \"label\", 17);\n      i0.ɵɵtext(57, \"App Desc\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n        \");\n      i0.ɵɵelementStart(59, \"input\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function ApplicationDialogComponent_Template_input_ngModelChange_59_listener($event) {\n        return ctx.application.appDesc = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(60, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(61, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n  \");\n      i0.ɵɵelementStart(64, \"div\", 19);\n      i0.ɵɵtext(65, \"\\n\");\n      i0.ɵɵtext(66, \"\\n    \");\n      i0.ɵɵelementStart(67, \"button\", 20);\n      i0.ɵɵtext(68, \"\\n      \");\n      i0.ɵɵelement(69, \"fa-icon\", 21);\n      i0.ɵɵtext(70, \"\\u00A0\");\n      i0.ɵɵelementStart(71, \"span\", 22);\n      i0.ɵɵtext(72, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \"\\n    \");\n      i0.ɵɵelementStart(75, \"button\", 23);\n      i0.ɵɵlistener(\"click\", function ApplicationDialogComponent_Template_button_click_75_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵtext(76, \"\\n      \");\n      i0.ɵɵelement(77, \"fa-icon\", 21);\n      i0.ɵɵtext(78, \"\\u00A0\");\n      i0.ɵɵelementStart(79, \"span\", 24);\n      i0.ɵɵtext(80, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(82, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(83, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(84, \"\\n\");\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"hidden\", ctx.application.appId);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.application.appCode);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !((_r0.controls.appCode == null ? null : _r0.controls.appCode.dirty) && (_r0.controls.appCode == null ? null : _r0.controls.appCode.invalid)));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !(_r0.controls.appCode == null ? null : _r0.controls.appCode.errors == null ? null : _r0.controls.appCode.errors.required));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"hidden\", !ctx.application.appId);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.application.appCode);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.application.appName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !((_r0.controls.appName == null ? null : _r0.controls.appName.dirty) && (_r0.controls.appName == null ? null : _r0.controls.appName.invalid)));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !(_r0.controls.appName == null ? null : _r0.controls.appName.errors == null ? null : _r0.controls.appName.errors.required));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.application.appDesc);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", _r0.form.invalid || ctx.isSaving);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"icon\", \"save\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"ban\");\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.FaIconComponent, i7.TranslateDirective],\n  encapsulation: 2\n});\nclass ApplicationPopupComponent {\n  constructor(route, applicationPopupService) {\n    this.route = route;\n    this.applicationPopupService = applicationPopupService;\n  }\n  ngOnInit() {\n    this.routeSub = this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.applicationPopupService.open(ApplicationDialogComponent, params['id']);\n      } else {\n        this.applicationPopupService.open(ApplicationDialogComponent);\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.routeSub.unsubscribe();\n  }\n}\nexports.ApplicationPopupComponent = ApplicationPopupComponent;\nApplicationPopupComponent.ɵfac = function ApplicationPopupComponent_Factory(t) {\n  return new (t || ApplicationPopupComponent)(i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i8.ApplicationPopupService));\n};\nApplicationPopupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ApplicationPopupComponent,\n  selectors: [[\"ic-application-popup\"]],\n  decls: 0,\n  vars: 0,\n  template: function ApplicationPopupComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["ApplicationDialogComponent","constructor","activeModal","applicationService","eventManager","router","application_model_1","ngOnInit","isSaving","clear","dismiss","backToPrevious","save","subscribeToSaveResponse","application","appId","update","create","setTimeout","navigate","result","subscribe","res","onSaveSuccess","onSaveError","broadcast","name","content","error","appDialogErrorMsg","headers","get","document","getElementById","innerHTML","style","display","exports","selectors","decls","vars","consts","template","i0","ctx","ApplicationPopupComponent","route","applicationPopupService","routeSub","params","open","ngOnDestroy","unsubscribe","encapsulation"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\application\\application-dialog.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\application\\application-dialog.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { EventManager } from 'app/core/util/event-manager.service';\r\nimport { Application } from './application.model';\r\nimport { ApplicationPopupService } from './application-popup.service';\r\nimport { ApplicationService } from './application.service';\r\n\r\n@Component({\r\n  selector: 'ic-application-dialog',\r\n  templateUrl: './application-dialog.component.html',\r\n})\r\nexport class ApplicationDialogComponent implements OnInit {\r\n  application: Application = new Application();\r\n  isSaving?: boolean;\r\n\r\n  constructor(\r\n    public activeModal: NgbActiveModal,\r\n    private applicationService: ApplicationService,\r\n    private eventManager: EventManager,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isSaving = false;\r\n  }\r\n\r\n  clear(): void {\r\n    this.activeModal.dismiss('cancel');\r\n    this.backToPrevious();\r\n  }\r\n\r\n  save(): void {\r\n    this.isSaving = true;\r\n    this.subscribeToSaveResponse(\r\n      this.application.appId ? this.applicationService.update(this.application) : this.applicationService.create(this.application)\r\n    );\r\n  }\r\n\r\n  backToPrevious(): void {\r\n    setTimeout(() => {\r\n      this.router.navigate(['admin/acm/ic-application']);\r\n    }, 0);\r\n  }\r\n\r\n  private subscribeToSaveResponse(result: Observable<Application>): void {\r\n    result.subscribe(\r\n      (res: Application) => this.onSaveSuccess(res),\r\n      (res: HttpResponse<any>) => this.onSaveError(res)\r\n    );\r\n  }\r\n\r\n  private onSaveSuccess(result: Application): void {\r\n    this.eventManager.broadcast({ name: 'applicationListModification', content: 'OK' });\r\n    this.isSaving = false;\r\n    this.activeModal.dismiss(result);\r\n    this.backToPrevious();\r\n  }\r\n\r\n  private onSaveError(error: any): void {\r\n    this.isSaving = false;\r\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\r\n    document.getElementById('appDialogErrorMsg')!.innerHTML = appDialogErrorMsg;\r\n    document.getElementById('appDialogErrorMsg')!.style.display = 'block';\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'ic-application-popup',\r\n  template: '',\r\n})\r\nexport class ApplicationPopupComponent implements OnInit, OnDestroy {\r\n  routeSub: any;\r\n\r\n  constructor(private route: ActivatedRoute, private applicationPopupService: ApplicationPopupService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.routeSub = this.route.params.subscribe(params => {\r\n      if (params['id']) {\r\n        this.applicationPopupService.open(ApplicationDialogComponent as Component, params['id']);\r\n      } else {\r\n        this.applicationPopupService.open(ApplicationDialogComponent as Component);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.routeSub.unsubscribe();\r\n  }\r\n}\r\n","<form name=\"editForm\" role=\"form\" (ngSubmit)=\"save()\" #editForm=\"ngForm\">\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myApplicationLabel\" icTranslate=\"acmAdmin.application.home.createOrEditLabel\">\r\n      Create or edit a Application\r\n    </h4>\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\" (click)=\"clear()\">&times;</button>\r\n  </div>\r\n\r\n  <p style=\"display: none\" id=\"appDialogErrorMsg\" class=\"alert-dismissible alert-danger alert\"></p>\r\n\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"rounded-pill col-md-6\" [hidden]=\"application.appId\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.application.appCode\" for=\"field_appCode\">App Code</label>\r\n        <input id=\"field_appCode1\" type=\"text\" class=\"form-control\" name=\"appCode\" [(ngModel)]=\"application.appCode\" required />\r\n        <div [hidden]=\"!(editForm.controls.appCode?.dirty && editForm.controls.appCode?.invalid)\">\r\n          <small\r\n            class=\"form-text text-danger\"\r\n            [hidden]=\"!editForm.controls.appCode?.errors?.required\"\r\n            icTranslate=\"entity.validation.required\"\r\n          >\r\n            This field is required.\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\" [hidden]=\"!application.appId\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.application.appCode\" for=\"field_appCode\">App Code</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"appCode\" id=\"field_appCode\" [(ngModel)]=\"application.appCode\" readonly />\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.application.appName\" for=\"field_appName\">App Name</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"appName\" id=\"field_appName\" [(ngModel)]=\"application.appName\" required />\r\n        <div [hidden]=\"!(editForm.controls.appName?.dirty && editForm.controls.appName?.invalid)\">\r\n          <small\r\n            class=\"form-text text-danger\"\r\n            [hidden]=\"!editForm.controls.appName?.errors?.required\"\r\n            icTranslate=\"entity.validation.required\"\r\n          >\r\n            This field is required.\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.application.appDesc\" for=\"field_appDesc\">App Desc</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"appDesc\" id=\"field_appDesc\" [(ngModel)]=\"application.appDesc\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n<!--    <input type=\"hidden\" id=\"appId\" name=\"appId\" [(ngModel)]=\"application.appId\" />-->\r\n    <button id=\"saveApp\" type=\"submit\" [disabled]=\"editForm.form.invalid || isSaving\" class=\"btn btn-primary btn-sm\">\r\n      <fa-icon [icon]=\"'save'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.save\">Save</span>\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-secondary btn-sm\" data-dismiss=\"modal\" (click)=\"clear()\">\r\n      <fa-icon [icon]=\"'ban'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.cancel\">Cancel</span>\r\n    </button>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}