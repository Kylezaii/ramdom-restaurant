{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewCpfDeviationComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst http_1 = require(\"@angular/common/http\");\nconst common_1 = require(\"@angular/common\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i2 = tslib_1.__importStar(require(\"app/claim/ec-claim/service/ec-claim.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/common\"));\nfunction ViewCpfDeviationComponent_ng_template_101_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"th\", 8);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"p-button\", 9);\n    i0.ɵɵlistener(\"click\", function ViewCpfDeviationComponent_ng_template_101_Template_p_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(99);\n      return i0.ɵɵresetView(ctx_r4.exportToCsv(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n    \");\n    i0.ɵɵelementStart(9, \"tr\");\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementStart(11, \"th\", 10);\n    i0.ɵɵtext(12, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n      \");\n    i0.ɵɵelementStart(14, \"th\", 11);\n    i0.ɵɵtext(15, \"\\n        Item \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 12);\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n      \");\n    i0.ɵɵelementStart(19, \"th\", 13);\n    i0.ɵɵtext(20, \"\\n        Latest Item Status \");\n    i0.ɵɵelement(21, \"p-sortIcon\", 14);\n    i0.ɵɵtext(22, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n      \");\n    i0.ɵɵelementStart(24, \"th\", 15);\n    i0.ɵɵtext(25, \"\\n        Date of Item Status \");\n    i0.ɵɵelement(26, \"p-sortIcon\", 16);\n    i0.ɵɵtext(27, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n      \");\n    i0.ɵɵelementStart(29, \"th\", 17);\n    i0.ɵɵtext(30, \"\\n        Case ID \");\n    i0.ɵɵelement(31, \"p-sortIcon\", 18);\n    i0.ɵɵtext(32, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n  \");\n  }\n}\nfunction ViewCpfDeviationComponent_ng_template_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n      \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n      \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n  \");\n  }\n  if (rf & 2) {\n    const coyClaimHistory_r6 = ctx.$implicit;\n    const rowIndex_r7 = ctx.rowIndex;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(rowIndex_r7 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(coyClaimHistory_r6.itemName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(coyClaimHistory_r6.itemStatus);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.dateUtilsService.convertUnixToDateString(coyClaimHistory_r6.updateDt, \"DD-MM-YYYY (HHMM)\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(coyClaimHistory_r6.caseId);\n  }\n}\nfunction ViewCpfDeviationComponent_ng_template_105_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"\\n              \");\n    i0.ɵɵelement(7, \"i\", 19);\n    i0.ɵɵtext(8, \"\\n              No records found.\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n  \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"colspan\", 5);\n  }\n}\nclass ViewCpfDeviationComponent {\n  constructor(route, ecClaimService, dateUtilsService, exportUtilsService, localeId) {\n    this.route = route;\n    this.ecClaimService = ecClaimService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.localeId = localeId;\n    console.log(\"test\");\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.params = params;\n      let httpParams = new http_1.HttpParams();\n      httpParams = httpParams.append(\"claimId\", this.params.claimId);\n      this.ecClaimService.retrieveViewCpfDeviation(httpParams).subscribe(res => {\n        if (res.data) {\n          this.cpfDeviation = res.data;\n        }\n      });\n    });\n  }\n  exportToCsv(dataTable) {\n    const columns = [{\n      field: 'sn',\n      header: 'SN',\n      index: 0\n    }, {\n      field: 'itemName',\n      header: 'Item',\n      index: 1\n    }, {\n      field: 'itemStatus',\n      header: 'Latest Item Status',\n      index: 2\n    }, {\n      field: 'updateDt',\n      header: 'Date of Item Status',\n      index: 3\n    }, {\n      field: 'caseId',\n      header: 'Case ID',\n      index: 4\n    }];\n    const dtoList = [];\n    this.cpfDeviation.coyClaimHistoryList.forEach((companyClaimHistory, index) => {\n      dtoList.push({\n        sn: index + 1,\n        itemName: companyClaimHistory.itemName,\n        itemStatus: companyClaimHistory.itemStatus,\n        updateDt: this.dateUtilsService.convertUnixToDateString(companyClaimHistory.updateDt, \"DD-MM-YYYY (HHMM)\"),\n        caseId: companyClaimHistory.caseId\n      });\n    });\n    this.exportUtilsService.exportCSV(dataTable, dtoList, this.cpfDeviation.coyClaimHistoryList.length, columns, \"company_claim_history_data\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n  }\n}\nexports.ViewCpfDeviationComponent = ViewCpfDeviationComponent;\nViewCpfDeviationComponent.ɵfac = function ViewCpfDeviationComponent_Factory(t) {\n  return new (t || ViewCpfDeviationComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ECClaimService), i0.ɵɵdirectiveInject(i3.DateUtilsService), i0.ɵɵdirectiveInject(i4.ExportUtilsService), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nViewCpfDeviationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewCpfDeviationComponent,\n  selectors: [[\"n2-view-cpf-deviation\"]],\n  decls: 108,\n  vars: 24,\n  consts: [[1, \"field\", \"grid\"], [1, \"col-1\"], [1, \"col-2\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", 3, \"value\"], [\"dt\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"scope\", \"colgroup\", \"colspan\", \"5\"], [\"icon\", \"pi pi-file-o\", 3, \"click\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"itemName\"], [\"field\", \"itemName\"], [\"scope\", \"col\", \"pSortableColumn\", \"itemStatus\"], [\"field\", \"itemStatus\"], [\"scope\", \"col\", \"pSortableColumn\", \"updateDt\"], [\"field\", \"updateDt\"], [\"scope\", \"col\", \"pSortableColumn\", \"caseId\"], [\"field\", \"caseId\"], [1, \"pi\", \"pi-info-circle\"]],\n  template: function ViewCpfDeviationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    NRIC:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n  \");\n      i0.ɵɵelementStart(5, \"div\", 2);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n  \");\n      i0.ɵɵelementStart(8, \"div\", 1);\n      i0.ɵɵtext(9, \"\\n    Name:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementStart(11, \"div\", 2);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n  \");\n      i0.ɵɵelementStart(14, \"div\", 1);\n      i0.ɵɵtext(15, \"\\n    Case ID:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \"\\n  \");\n      i0.ɵɵelementStart(17, \"div\", 2);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\");\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵtext(22, \"\\n\");\n      i0.ɵɵelementStart(23, \"h6\");\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n\");\n      i0.ɵɵelement(26, \"hr\");\n      i0.ɵɵtext(27, \"\\n\");\n      i0.ɵɵelementStart(28, \"div\", 0);\n      i0.ɵɵtext(29, \"\\n  \");\n      i0.ɵɵelementStart(30, \"div\", 1);\n      i0.ɵɵtext(31, \"\\n    CSN:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \"\\n  \");\n      i0.ɵɵelementStart(33, \"div\", 2);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n  \");\n      i0.ɵɵelementStart(36, \"div\", 1);\n      i0.ɵɵtext(37, \"\\n    Company Name:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n  \");\n      i0.ɵɵelementStart(39, \"div\", 2);\n      i0.ɵɵtext(40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n\");\n      i0.ɵɵelementStart(43, \"div\", 0);\n      i0.ɵɵtext(44, \"\\n  \");\n      i0.ɵɵelementStart(45, \"div\", 1);\n      i0.ɵɵtext(46, \"\\n    Income:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n  \");\n      i0.ɵɵelementStart(48, \"div\", 2);\n      i0.ɵɵtext(49);\n      i0.ɵɵpipe(50, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n  \");\n      i0.ɵɵelementStart(52, \"div\", 1);\n      i0.ɵɵtext(53, \"\\n    Deviation:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(54, \"\\n  \");\n      i0.ɵɵelementStart(55, \"div\", 2);\n      i0.ɵɵtext(56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(57, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n\");\n      i0.ɵɵelement(59, \"br\");\n      i0.ɵɵtext(60, \"\\n\");\n      i0.ɵɵelementStart(61, \"h6\");\n      i0.ɵɵtext(62);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n\");\n      i0.ɵɵelement(64, \"hr\");\n      i0.ɵɵtext(65, \"\\n\");\n      i0.ɵɵelementStart(66, \"div\", 0);\n      i0.ɵɵtext(67, \"\\n  \");\n      i0.ɵɵelementStart(68, \"div\", 1);\n      i0.ɵɵtext(69, \"\\n    CSN:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(70, \"\\n  \");\n      i0.ɵɵelementStart(71, \"div\", 2);\n      i0.ɵɵtext(72);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n  \");\n      i0.ɵɵelementStart(74, \"div\", 1);\n      i0.ɵɵtext(75, \"\\n    Company Name:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(76, \"\\n  \");\n      i0.ɵɵelementStart(77, \"div\", 2);\n      i0.ɵɵtext(78);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(79, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n\");\n      i0.ɵɵelementStart(81, \"div\", 0);\n      i0.ɵɵtext(82, \"\\n  \");\n      i0.ɵɵelementStart(83, \"div\", 1);\n      i0.ɵɵtext(84, \"\\n    Income:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(85, \"\\n  \");\n      i0.ɵɵelementStart(86, \"div\", 2);\n      i0.ɵɵtext(87);\n      i0.ɵɵpipe(88, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(89, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(90, \"\\n\");\n      i0.ɵɵelement(91, \"br\");\n      i0.ɵɵtext(92, \"\\n\");\n      i0.ɵɵelementStart(93, \"h6\");\n      i0.ɵɵtext(94, \"Company Claim History (Latest 50 claims based on claim training start)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(95, \"\\n\");\n      i0.ɵɵelement(96, \"hr\");\n      i0.ɵɵtext(97, \"\\n\");\n      i0.ɵɵelementStart(98, \"p-table\", 3, 4);\n      i0.ɵɵtext(100, \"\\n  \");\n      i0.ɵɵtemplate(101, ViewCpfDeviationComponent_ng_template_101_Template, 35, 0, \"ng-template\", 5);\n      i0.ɵɵtext(102, \"\\n  \");\n      i0.ɵɵtemplate(103, ViewCpfDeviationComponent_ng_template_103_Template, 19, 5, \"ng-template\", 6);\n      i0.ɵɵtext(104, \"\\n  \");\n      i0.ɵɵtemplate(105, ViewCpfDeviationComponent_ng_template_105_Template, 12, 1, \"ng-template\", 7);\n      i0.ɵɵtext(106, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(107, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.nric, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.name, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.caseId, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"Initial CPF Deviation (\", ctx.cpfDeviation.initialIncomeMth.substring(4, 6) + \"-\" + ctx.cpfDeviation.initialIncomeMth.substring(0, 4), \")\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate3(\"\\n    \", ctx.cpfDeviation.initialCsn.substring(0, 10), \"-\", ctx.cpfDeviation.initialCsn.substring(10, 13), \"-\", ctx.cpfDeviation.initialCsn.substring(13, 15), \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.cpfDeviation.initialCoyName, \"\\n  \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate1(\"\\n    \", i0.ɵɵpipeBind2(50, 18, ctx.cpfDeviation.initialIncomeAmt, \"1.2-2\"), \"\\n  \");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.cpfDeviation.initialCpfDeviation ? ctx.cpfDeviation.initialCpfDeviation + \"%\" : \"NA\", \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate2(\"Company Latest CPF (\", ctx.cpfDeviation.latestIncomeMth.substring(4, 6) + \"-\" + ctx.cpfDeviation.latestIncomeMth.substring(0, 4), \")(Latest Contribution Month: \", ctx.cpfDeviation.latestContributionMonth.substring(4, 6) + \"-\" + ctx.cpfDeviation.latestContributionMonth.substring(0, 4), \")\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate3(\"\\n    \", ctx.cpfDeviation.latestCsn.substring(0, 10), \"-\", ctx.cpfDeviation.latestCsn.substring(10, 13), \"-\", ctx.cpfDeviation.latestCsn.substring(13, 15), \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.cpfDeviation.latestCoyName, \"\\n  \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate1(\"\\n    \", i0.ɵɵpipeBind2(88, 21, ctx.cpfDeviation.latestIncomeAmt, \"1.2-2\"), \"\\n  \");\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"value\", ctx.cpfDeviation.coyClaimHistoryList);\n    }\n  },\n  dependencies: [i5.PrimeTemplate, i6.Button, i7.Table, i7.SortableColumn, i7.SortIcon, i8.DecimalPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2aWV3LWNwZi1kZXZpYXRpb24uY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vZWMtY2xhaW0vcG9wLXVwL3ZpZXctY3BmLWRldmlhdGlvbi92aWV3LWNwZi1kZXZpYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9MQUFvTCIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ViewCpfDeviationComponent","constructor","route","ecClaimService","dateUtilsService","exportUtilsService","localeId","console","log","ngOnInit","queryParams","subscribe","params","httpParams","http_1","append","claimId","retrieveViewCpfDeviation","res","data","cpfDeviation","exportToCsv","dataTable","columns","field","header","index","dtoList","coyClaimHistoryList","forEach","companyClaimHistory","push","sn","itemName","itemStatus","updateDt","convertUnixToDateString","caseId","exportCSV","length","concat","Date","exports","core_1","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\pop-up\\view-cpf-deviation\\view-cpf-deviation.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\pop-up\\view-cpf-deviation\\view-cpf-deviation.component.html"],"sourcesContent":["import {Component, Inject, LOCALE_ID, OnInit} from '@angular/core';\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {ECClaimService} from \"app/claim/ec-claim/service/ec-claim.service\";\r\nimport {DateUtilsService} from \"app/core/util/date-utils.service\";\r\nimport {ExportUtilsService} from \"app/core/util/export-utils.service\";\r\nimport {HttpParams} from \"@angular/common/http\";\r\nimport {CpfDeviation} from \"app/claim/ec-claim/model/cpf-deviation.model\";\r\nimport {Table} from \"primeng/table\";\r\nimport {formatDate} from \"@angular/common\";\r\nimport {CompanyClaimHistory} from \"app/claim/ec-claim/model/company-claim-history.model\";\r\n\r\n@Component({\r\n  selector: 'n2-view-cpf-deviation',\r\n  templateUrl: './view-cpf-deviation.component.html',\r\n  styleUrls: ['./view-cpf-deviation.component.scss']\r\n})\r\nexport class ViewCpfDeviationComponent implements OnInit {\r\n\r\n  params: any;\r\n  cpfDeviation: CpfDeviation;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private ecClaimService: ECClaimService,\r\n    public dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    @Inject(LOCALE_ID) protected localeId: string) {\r\n    console.log(\"test\");\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.params = params;\r\n\r\n      let httpParams = new HttpParams();\r\n      httpParams = httpParams.append(\"claimId\",this.params.claimId);\r\n\r\n      this.ecClaimService.retrieveViewCpfDeviation(httpParams).subscribe((res) => {\r\n        if(res.data) {\r\n          this.cpfDeviation = res.data;\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  exportToCsv(dataTable: Table): void{\r\n    const columns =\r\n      [\r\n        {field: 'sn', header: 'SN', index: 0},\r\n        {field: 'itemName', header: 'Item', index: 1},\r\n        {field: 'itemStatus', header: 'Latest Item Status', index: 2},\r\n        {field: 'updateDt', header: 'Date of Item Status', index: 3},\r\n        {field: 'caseId',  header: 'Case ID', index: 4},\r\n      ];\r\n\r\n    const dtoList:any[] = [];\r\n\r\n    this.cpfDeviation.coyClaimHistoryList.forEach((companyClaimHistory:CompanyClaimHistory, index:number) => {\r\n      dtoList.push({\r\n        sn: index + 1,\r\n        itemName: companyClaimHistory.itemName,\r\n        itemStatus: companyClaimHistory.itemStatus,\r\n        updateDt: this.dateUtilsService.convertUnixToDateString(companyClaimHistory.updateDt, \"DD-MM-YYYY (HHMM)\"),\r\n        caseId: companyClaimHistory.caseId\r\n      })\r\n    });\r\n\r\n    this.exportUtilsService.exportCSV(dataTable, dtoList,this.cpfDeviation.coyClaimHistoryList.length, columns,\r\n      \"company_claim_history_data\".concat(formatDate(new Date(),\"dd-MM-YYYY\", this.localeId)));\r\n  }\r\n}\r\n","<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    NRIC:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.nric}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Name:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.name}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Case ID:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.caseId}}\r\n  </div>\r\n</div>\r\n<br>\r\n<h6>Initial CPF Deviation ({{this.cpfDeviation.initialIncomeMth.substring(4,6) + \"-\" + this.cpfDeviation.initialIncomeMth.substring(0,4)}})</h6>\r\n<hr>\r\n<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    CSN:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.initialCsn.substring(0,10)}}-{{this.cpfDeviation.initialCsn.substring(10,13)}}-{{this.cpfDeviation.initialCsn.substring(13,15)}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Company Name:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.initialCoyName}}\r\n  </div>\r\n</div>\r\n<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    Income:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.initialIncomeAmt | number: '1.2-2'}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Deviation:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.initialCpfDeviation ? this.cpfDeviation.initialCpfDeviation + \"%\" : \"NA\"}}\r\n  </div>\r\n</div>\r\n<br>\r\n<h6>Company Latest CPF ({{this.cpfDeviation.latestIncomeMth.substring(4,6) + \"-\" + this.cpfDeviation.latestIncomeMth.substring(0,4)}})(Latest Contribution Month: {{this.cpfDeviation.latestContributionMonth.substring(4,6) + \"-\" + this.cpfDeviation.latestContributionMonth.substring(0,4)}})</h6>\r\n<hr>\r\n<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    CSN:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.latestCsn.substring(0,10)}}-{{this.cpfDeviation.latestCsn.substring(10,13)}}-{{this.cpfDeviation.latestCsn.substring(13,15)}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Company Name:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.latestCoyName}}\r\n  </div>\r\n</div>\r\n<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    Income:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.cpfDeviation.latestIncomeAmt | number: '1.2-2'}}\r\n  </div>\r\n</div>\r\n<br>\r\n<h6>Company Claim History (Latest 50 claims based on claim training start)</h6>\r\n<hr>\r\n<p-table #dt [value] = this.cpfDeviation.coyClaimHistoryList\r\n         styleClass=\"p-datatable-gridlines p-datatable-striped\">\r\n  <ng-template pTemplate=\"header\">\r\n    <tr>\r\n      <th scope=\"colgroup\" colspan = \"5\">\r\n        <p-button (click) = \"exportToCsv(dt)\" icon=\"pi pi-file-o\"></p-button>\r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th scope=\"col\">SN</th>\r\n      <th scope=\"col\" pSortableColumn=\"itemName\">\r\n        Item <p-sortIcon field=\"itemName\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"itemStatus\">\r\n        Latest Item Status <p-sortIcon field=\"itemStatus\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"updateDt\">\r\n        Date of Item Status <p-sortIcon field=\"updateDt\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"caseId\">\r\n        Case ID <p-sortIcon field=\"caseId\"></p-sortIcon>\r\n      </th>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"body\" let-coyClaimHistory let-rowIndex = \"rowIndex\">\r\n    <tr>\r\n      <td>{{rowIndex + 1}}</td>\r\n      <td>{{coyClaimHistory.itemName}}</td>\r\n      <td>{{coyClaimHistory.itemStatus}}</td>\r\n      <td>{{this.dateUtilsService.convertUnixToDateString(coyClaimHistory.updateDt,\"DD-MM-YYYY (HHMM)\")}}</td>\r\n      <td>{{coyClaimHistory.caseId}}</td>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"emptymessage\">\r\n    <tr>\r\n      <td [attr.colspan] = \"5\">\r\n            <span>\r\n              <i class=\"pi pi-info-circle\"></i>\r\n              No records found.\r\n            </span>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n</p-table>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}