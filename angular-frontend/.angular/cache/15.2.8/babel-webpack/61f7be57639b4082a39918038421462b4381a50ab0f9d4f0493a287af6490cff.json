{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MaintainProfileComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i3 = tslib_1.__importStar(require(\"../../shared/language/translate.directive\"));\nconst i4 = tslib_1.__importStar(require(\"../../shared/alert/alert.component\"));\nconst i5 = tslib_1.__importStar(require(\"../../shared/alert/alert-error.component\"));\nconst i6 = tslib_1.__importStar(require(\"app/account/profile/view-profile.component\"));\nconst i7 = tslib_1.__importStar(require(\"app/account/profile/generate-token.component\"));\nfunction MaintainProfileComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtext(1, \"User Information\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MaintainProfileComponent_ic_view_profile_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ic-view-profile\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r1.activeTabIndex == \"1\");\n  }\n}\nfunction MaintainProfileComponent_ic_generate_token_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ic-generate-token\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.activeTabIndex == \"2\");\n  }\n}\nclass MaintainProfileComponent {\n  constructor(account) {\n    this.account = account;\n    this.error = null;\n    this.success = null;\n    this.activeTabIndex = '1';\n  }\n  ngOnInit() {\n    this.account.identity().subscribe(account => {\n      this.currentAccount = this.copyAccount(account);\n    });\n  }\n  save() {\n    this.account.save(this.currentAccount).subscribe(() => {\n      this.error = null;\n      this.success = 'OK';\n      this.account.identity(true).subscribe(account => {\n        this.currentAccount = this.copyAccount(account);\n      });\n    }, () => {\n      this.success = null;\n      this.error = 'ERROR';\n    });\n  }\n  copyAccount(account) {\n    return {\n      email: account.email,\n      firstName: account.firstName,\n      lastName: account.lastName,\n      login: account.username,\n      authorities: account.authorities,\n      groups: account.groups\n    };\n  }\n  switchTab(tabIndex) {\n    this.activeTabIndex = tabIndex;\n  }\n}\nexports.MaintainProfileComponent = MaintainProfileComponent;\nMaintainProfileComponent.ɵfac = function MaintainProfileComponent_Factory(t) {\n  return new (t || MaintainProfileComponent)(i0.ɵɵdirectiveInject(i1.AccountService));\n};\nMaintainProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MaintainProfileComponent,\n  selectors: [[\"ic-maintain-profile\"]],\n  decls: 36,\n  vars: 7,\n  consts: [[\"icTranslate\", \"profile.title\", 4, \"ngIf\"], [1, \"nav\", \"nav-tabs\"], [1, \"nav-item\"], [\"href\", \"javascript:;\", 1, \"nav-link\", 3, \"click\"], [\"icTranslate\", \"profile.tab.view\"], [\"icTranslate\", \"profile.tab.generate.token\"], [1, \"tab-content\"], [3, \"active\", 4, \"ngIf\"], [\"icTranslate\", \"profile.title\"]],\n  template: function MaintainProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"h3\");\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵtemplate(4, MaintainProfileComponent_span_4_Template, 2, 0, \"span\", 0);\n      i0.ɵɵtext(5, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n  \");\n      i0.ɵɵelement(7, \"ic-alert\");\n      i0.ɵɵtext(8, \"\\n  \");\n      i0.ɵɵelement(9, \"ic-alert-error\");\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementStart(11, \"ul\", 1);\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelementStart(13, \"li\", 2);\n      i0.ɵɵtext(14, \"\\n      \");\n      i0.ɵɵelementStart(15, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function MaintainProfileComponent_Template_a_click_15_listener() {\n        return ctx.switchTab(\"1\");\n      });\n      i0.ɵɵelementStart(16, \"span\", 4);\n      i0.ɵɵtext(17, \"Profile\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n    \");\n      i0.ɵɵelementStart(20, \"li\", 2);\n      i0.ɵɵtext(21, \"\\n      \");\n      i0.ɵɵelementStart(22, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function MaintainProfileComponent_Template_a_click_22_listener() {\n        return ctx.switchTab(\"2\");\n      });\n      i0.ɵɵelementStart(23, \"span\", 5);\n      i0.ɵɵtext(24, \"Personal Access Token\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(25, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n\\n  \");\n      i0.ɵɵelementStart(28, \"div\", 6);\n      i0.ɵɵtext(29, \"\\n    \");\n      i0.ɵɵtemplate(30, MaintainProfileComponent_ic_view_profile_30_Template, 1, 2, \"ic-view-profile\", 7);\n      i0.ɵɵtext(31, \"\\n    \");\n      i0.ɵɵtemplate(32, MaintainProfileComponent_ic_generate_token_32_Template, 1, 2, \"ic-generate-token\", 7);\n      i0.ɵɵtext(33, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.currentAccount);\n      i0.ɵɵadvance(11);\n      i0.ɵɵclassProp(\"active\", ctx.activeTabIndex == \"1\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵclassProp(\"active\", ctx.activeTabIndex == \"2\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.activeTabIndex == \"1\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.activeTabIndex == \"2\");\n    }\n  },\n  dependencies: [i2.NgIf, i3.TranslateDirective, i4.AlertComponent, i5.AlertErrorComponent, i6.ViewProfileComponent, i7.GenerateTokenComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;IAEIA,+BAAyD;IAAAA,gCAAgB;IAAAA,iBAAO;;;;;IAkBhFA,kCAAwG;;;;IAAvFA,sDAAsC;;;;;IACvDA,oCAA4G;;;;IAAzFA,sDAAsC;;;ACjB7D,MAIaC,wBAAwB;EAMnCC,YAAoBC,OAAuB;IAAvB,YAAO,GAAPA,OAAO;IAL3B,UAAK,GAAkB,IAAI;IAC3B,YAAO,GAAkB,IAAI;IAK3B,IAAI,CAACC,cAAc,GAAG,GAAG;EAC3B;EAEAC,QAAQ;IACN,IAAI,CAACF,OAAO,CAACG,QAAQ,EAAE,CAACC,SAAS,CAACJ,OAAO,IAAG;MAC1C,IAAI,CAACK,cAAc,GAAG,IAAI,CAACC,WAAW,CAACN,OAAO,CAAC;IACjD,CAAC,CAAC;EACJ;EAEAO,IAAI;IACF,IAAI,CAACP,OAAO,CAACO,IAAI,CAAC,IAAI,CAACF,cAAc,CAAC,CAACD,SAAS,CAC9C,MAAK;MACH,IAAI,CAACI,KAAK,GAAG,IAAI;MACjB,IAAI,CAACC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACT,OAAO,CAACG,QAAQ,CAAC,IAAI,CAAC,CAACC,SAAS,CAACJ,OAAO,IAAG;QAC9C,IAAI,CAACK,cAAc,GAAG,IAAI,CAACC,WAAW,CAACN,OAAO,CAAC;MACjD,CAAC,CAAC;IACJ,CAAC,EACD,MAAK;MACH,IAAI,CAACS,OAAO,GAAG,IAAI;MACnB,IAAI,CAACD,KAAK,GAAG,OAAO;IACtB,CAAC,CACF;EACH;EAEAF,WAAW,CAACN,OAAY;IACtB,OAAO;MACLU,KAAK,EAAEV,OAAO,CAACU,KAAK;MACpBC,SAAS,EAAEX,OAAO,CAACW,SAAS;MAC5BC,QAAQ,EAAEZ,OAAO,CAACY,QAAQ;MAC1BC,KAAK,EAAEb,OAAO,CAACc,QAAQ;MACvBC,WAAW,EAAEf,OAAO,CAACe,WAAW;MAChCC,MAAM,EAAEhB,OAAO,CAACgB;KACjB;EACH;EAEAC,SAAS,CAACC,QAAgB;IACxB,IAAI,CAACjB,cAAc,GAAGiB,QAAQ;EAChC;;AAjDFC;;mBAIarB,wBAAwB;AAAA;;QAAxBA,wBAAwB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDRrC3B,2BAAK;MACHA;MAAAA,0BAAI;MACFA;MAAAA,2EAAgF;MAClFA;MAAAA,iBAAK;MACLA;MAAAA,2BAAqB;MACrBA;MAAAA,iCAAiC;MACjCA;MAAAA,8BAAyB;MACvBA;MAAAA,8BAAqB;MACnBA;MAAAA,6BACG;MADqCA;QAAA,OAAS4B,cAAU,GAAG,CAAC;MAAA,EAAC;MAC7D5B,gCAAqC;MAAAA,wBAAO;MAAAA,iBAAO;MAExDA;MAAAA,iBAAK;MACLA;MAAAA,8BAAqB;MACnBA;MAAAA,6BACG;MADqCA;QAAA,OAAS4B,cAAU,GAAG,CAAC;MAAA,EAAC;MAC7D5B,gCAA+C;MAAAA,sCAAqB;MAAAA,iBAAO;MAEhFA;MAAAA,iBAAK;MACPA;MAAAA,iBAAK;MAELA;MAAAA,+BAAyB;MACvBA;MAAAA,mGAAwG;MACxGA;MAAAA,uGAA4G;MAC9GA;MAAAA,iBAAM;MACRA;MAAAA,iBAAM;MACNA;;;MAtBuCA,eAAoB;MAApBA,yCAAoB;MAMYA,gBAAsC;MAAtCA,mDAAsC;MAKtCA,eAAsC;MAAtCA,mDAAsC;MAOhDA,eAA2B;MAA3BA,gDAA2B;MACzBA,eAA2B;MAA3BA,gDAA2B","names":["i0","MaintainProfileComponent","constructor","account","activeTabIndex","ngOnInit","identity","subscribe","currentAccount","copyAccount","save","error","success","email","firstName","lastName","login","username","authorities","groups","switchTab","tabIndex","exports","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\account\\profile\\maintain-profile.component.html","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\account\\profile\\maintain-profile.component.ts"],"sourcesContent":["<div>\r\n  <h3>\r\n    <span icTranslate=\"profile.title\" *ngIf=\"currentAccount\">User Information</span>\r\n  </h3>\r\n  <ic-alert></ic-alert>\r\n  <ic-alert-error></ic-alert-error>\r\n  <ul class=\"nav nav-tabs\">\r\n    <li class=\"nav-item\">\r\n      <a href=\"javascript:;\" class=\"nav-link\" (click)=\"switchTab('1')\" [class.active]=\"activeTabIndex == '1'\"\r\n        ><span icTranslate=\"profile.tab.view\">Profile</span></a\r\n      >\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <a href=\"javascript:;\" class=\"nav-link\" (click)=\"switchTab('2')\" [class.active]=\"activeTabIndex == '2'\"\r\n        ><span icTranslate=\"profile.tab.generate.token\">Personal Access Token</span></a\r\n      >\r\n    </li>\r\n  </ul>\r\n\r\n  <div class=\"tab-content\">\r\n    <ic-view-profile [class.active]=\"activeTabIndex == '1'\" *ngIf=\"activeTabIndex == '1'\"></ic-view-profile>\r\n    <ic-generate-token [class.active]=\"activeTabIndex == '2'\" *ngIf=\"activeTabIndex == '2'\"></ic-generate-token>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { AccountService } from 'app/core/auth/account.service';\r\n\r\n@Component({\r\n  selector: 'ic-maintain-profile',\r\n  templateUrl: './maintain-profile.component.html',\r\n})\r\nexport class MaintainProfileComponent implements OnInit {\r\n  error: string | null = null;\r\n  success: string | null = null;\r\n  currentAccount: any;\r\n  activeTabIndex: string;\r\n\r\n  constructor(private account: AccountService) {\r\n    this.activeTabIndex = '1';\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.account.identity().subscribe(account => {\r\n      this.currentAccount = this.copyAccount(account);\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    this.account.save(this.currentAccount).subscribe(\r\n      () => {\r\n        this.error = null;\r\n        this.success = 'OK';\r\n        this.account.identity(true).subscribe(account => {\r\n          this.currentAccount = this.copyAccount(account);\r\n        });\r\n      },\r\n      () => {\r\n        this.success = null;\r\n        this.error = 'ERROR';\r\n      }\r\n    );\r\n  }\r\n\r\n  copyAccount(account: any): any {\r\n    return {\r\n      email: account.email,\r\n      firstName: account.firstName,\r\n      lastName: account.lastName,\r\n      login: account.username,\r\n      authorities: account.authorities,\r\n      groups: account.groups,\r\n    };\r\n  }\r\n\r\n  switchTab(tabIndex: string): void {\r\n    this.activeTabIndex = tabIndex;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}