{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AccessRightReviewComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst dynamicdialog_1 = require(\"primeng/dynamicdialog\");\nconst nspay2_constants_1 = require(\"app/nspay2.constants\");\nconst view_accounts_review_component_1 = require(\"./view-accounts-review-modal/view-accounts-review.component\");\nconst accounts_review_settings_component_1 = require(\"./accounts-review-settings-modal/accounts-review-settings.component\");\nconst overview_enum_model_1 = require(\"../model/overview-enum.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../service/access-right-review.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i3 = tslib_1.__importStar(require(\"primeng/dynamicdialog\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nfunction AccessRightReviewComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function AccessRightReviewComponent_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r6.exportCSV(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AccessRightReviewComponent_ng_template_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.openSettingsDialog());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n    \");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.accountReviewSettingsBtnVisible);\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 38);\n    i0.ɵɵlistener(\"onSelect\", function AccessRightReviewComponent_ng_template_5_ng_template_33_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const filter_r13 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r13($event));\n    });\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                    \");\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_ng_template_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 38);\n    i0.ɵɵlistener(\"onSelect\", function AccessRightReviewComponent_ng_template_5_ng_template_50_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const filter_r16 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r16($event));\n    });\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                    \");\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_ng_template_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 38);\n    i0.ɵɵlistener(\"onSelect\", function AccessRightReviewComponent_ng_template_5_ng_template_67_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const filter_r19 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r19($event));\n    });\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                    \");\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_ng_template_77_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"span\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const option_r25 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r25.name);\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_ng_template_77_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-multiSelect\", 39);\n    i0.ɵɵlistener(\"onChange\", function AccessRightReviewComponent_ng_template_5_ng_template_77_Template_p_multiSelect_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const filter_r23 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r23($event.value));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵtemplate(3, AccessRightReviewComponent_ng_template_5_ng_template_77_ng_template_3_Template, 4, 1, \"ng-template\", 40);\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const value_r22 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r22)(\"options\", ctx_r12.reviewStatuses);\n  }\n}\nfunction AccessRightReviewComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"th\", 9);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"th\", 10);\n    i0.ɵɵtext(7, \"\\n                Review Month\\n                \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 11);\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵelement(10, \"p-columnFilter\", 12);\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelementStart(13, \"th\", 13);\n    i0.ɵɵtext(14, \"\\n                Unit\\n                \");\n    i0.ɵɵelement(15, \"p-sortIcon\", 14);\n    i0.ɵɵtext(16, \"\\n                \");\n    i0.ɵɵelement(17, \"p-columnFilter\", 15);\n    i0.ɵɵtext(18, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n            \");\n    i0.ɵɵelementStart(20, \"th\", 16);\n    i0.ɵɵtext(21, \"\\n                1st Verified By\\n                \");\n    i0.ɵɵelement(22, \"p-sortIcon\", 17);\n    i0.ɵɵtext(23, \"\\n                \");\n    i0.ɵɵelement(24, \"p-columnFilter\", 18);\n    i0.ɵɵtext(25, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n            \");\n    i0.ɵɵelementStart(27, \"th\", 19);\n    i0.ɵɵtext(28, \"\\n                1st Verified On\\n                \");\n    i0.ɵɵelement(29, \"p-sortIcon\", 20);\n    i0.ɵɵtext(30, \"\\n                \");\n    i0.ɵɵelementStart(31, \"p-columnFilter\", 21);\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵtemplate(33, AccessRightReviewComponent_ng_template_5_ng_template_33_Template, 4, 0, \"ng-template\", 22);\n    i0.ɵɵtext(34, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n            \");\n    i0.ɵɵelementStart(37, \"th\", 23);\n    i0.ɵɵtext(38, \"\\n                2nd Verified By\\n                \");\n    i0.ɵɵelement(39, \"p-sortIcon\", 24);\n    i0.ɵɵtext(40, \"\\n                \");\n    i0.ɵɵelement(41, \"p-columnFilter\", 25);\n    i0.ɵɵtext(42, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementStart(44, \"th\", 26);\n    i0.ɵɵtext(45, \"\\n                2nd Verified On\\n                \");\n    i0.ɵɵelement(46, \"p-sortIcon\", 27);\n    i0.ɵɵtext(47, \"\\n                \");\n    i0.ɵɵelementStart(48, \"p-columnFilter\", 28);\n    i0.ɵɵtext(49, \"\\n                    \");\n    i0.ɵɵtemplate(50, AccessRightReviewComponent_ng_template_5_ng_template_50_Template, 4, 0, \"ng-template\", 22);\n    i0.ɵɵtext(51, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n            \");\n    i0.ɵɵelementStart(54, \"th\", 29);\n    i0.ɵɵtext(55, \"\\n                Approved By\\n                \");\n    i0.ɵɵelement(56, \"p-sortIcon\", 30);\n    i0.ɵɵtext(57, \"\\n                \");\n    i0.ɵɵelement(58, \"p-columnFilter\", 31);\n    i0.ɵɵtext(59, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \"\\n            \");\n    i0.ɵɵelementStart(61, \"th\", 32);\n    i0.ɵɵtext(62, \"\\n                Approved On\\n                \");\n    i0.ɵɵelement(63, \"p-sortIcon\", 33);\n    i0.ɵɵtext(64, \"\\n                \");\n    i0.ɵɵelementStart(65, \"p-columnFilter\", 34);\n    i0.ɵɵtext(66, \"\\n                    \");\n    i0.ɵɵtemplate(67, AccessRightReviewComponent_ng_template_5_ng_template_67_Template, 4, 0, \"ng-template\", 22);\n    i0.ɵɵtext(68, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(69, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n            \");\n    i0.ɵɵelementStart(71, \"th\", 35);\n    i0.ɵɵtext(72, \"\\n                Status\\n                \");\n    i0.ɵɵelement(73, \"p-sortIcon\", 36);\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵelementStart(75, \"p-columnFilter\", 37);\n    i0.ɵɵtext(76, \"\\n                    \");\n    i0.ɵɵtemplate(77, AccessRightReviewComponent_ng_template_5_ng_template_77_Template, 6, 2, \"ng-template\", 22);\n    i0.ɵɵtext(78, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(79, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(80, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n    \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(75);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n  }\n}\nfunction AccessRightReviewComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵelementStart(8, \"a\", 42);\n    i0.ɵɵlistener(\"click\", function AccessRightReviewComponent_ng_template_7_Template_a_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const reviews_r28 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.openViewAccountReview(reviews_r28));\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n            \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n            \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n            \");\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n            \");\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n            \");\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n            \");\n    i0.ɵɵelementStart(32, \"td\");\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n            \");\n    i0.ɵɵelementStart(36, \"td\");\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n    \");\n  }\n  if (rf & 2) {\n    const reviews_r28 = ctx.$implicit;\n    const i_r29 = ctx.rowIndex;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r29 + 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\n                    \", reviews_r28.reviewMonth, \"\\n                \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reviews_r28.unitName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(reviews_r28.firstVerifiedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 10, reviews_r28.firstVerifiedDt, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reviews_r28.secondVerifiedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(27, 13, reviews_r28.secondVerifiedDt, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reviews_r28.approvedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(34, 16, reviews_r28.approvedDt, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.reviewStatusEnum[reviews_r28.reviewStatus]);\n  }\n}\nfunction AccessRightReviewComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n  }\n}\nfunction AccessRightReviewComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"td\", 43);\n    i0.ɵɵtext(4, \"No records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n}\nconst _c0 = function () {\n  return [10, 25, 50];\n};\nclass AccessRightReviewComponent {\n  constructor(accessRightReviewService, ns2HttpService, dialogService, exportUtilsService, accountService, datePipe, toastService) {\n    this.accessRightReviewService = accessRightReviewService;\n    this.ns2HttpService = ns2HttpService;\n    this.dialogService = dialogService;\n    this.exportUtilsService = exportUtilsService;\n    this.accountService = accountService;\n    this.datePipe = datePipe;\n    this.toastService = toastService;\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n    // Filter\n    this.reviewStatuses = [];\n    // Enums\n    this.reviewStatusEnum = overview_enum_model_1.ReviewStatus;\n  }\n  ngOnInit() {\n    this.loading = true;\n    this.accountReviewSettingsBtnVisible = false;\n    this.retrieveUserInfoAndSetAccess();\n    this.loadEnums();\n  }\n  loadEnums() {\n    for (const [key, value] of Object.entries(overview_enum_model_1.ReviewStatus)) {\n      this.reviewStatuses.push({\n        name: value,\n        value: key\n      });\n    }\n  }\n  loadData(event) {\n    console.log(\"Load Data\");\n    this.loading = true;\n    this.lazyLoadEvent = event;\n    setTimeout(() => {\n      const options = this.ns2HttpService.convertLazyEvent(event, this.pageData, this.pageSize);\n      this.accessRightReviewService.getAllReviews(options).subscribe({\n        next: res => {\n          if (res.body?.data?.content) {\n            this.reviewsLists = res.body.data.content;\n            this.totalRecords = res.body.data.totalElements;\n          } else {\n            this.reviewsLists = [];\n          }\n          this.loading = false;\n        },\n        error(error) {\n          console.log(error);\n        },\n        complete() {\n          console.log(\"Load Data Completed\");\n          this.loading = false;\n        }\n      });\n    }, 1000);\n  }\n  onPage(event) {\n    this.pageSize = event.rows;\n    this.pageData.currentPage = event.first / event.rows;\n  }\n  retrieveUserInfoAndSetAccess() {\n    console.log(\"Set Settings Btn Visbility\");\n    console.log(\"Get User Info\");\n    this.accountService.identity().subscribe(account => {\n      this.currentAccount = this.copyAccount(account, null);\n      console.log(\"Get User Unit\");\n      this.accessRightReviewService.getUserUnit(this.currentAccount?.subjectId).subscribe(unit => {\n        this.currentAccount = this.copyAccount(this.currentAccount, unit.body?.data);\n      });\n      console.log(\"Get User Optional Roles\");\n      this.accessRightReviewService.getUserOptionalRoles(this.currentAccount?.subjectId).subscribe(optionalRoles => {\n        this.userOptionalRoles = optionalRoles.body?.data;\n        if (this.userOptionalRoles[nspay2_constants_1.NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined) {\n          this.accountReviewSettingsBtnVisible = true;\n        }\n        ;\n      });\n    });\n  }\n  copyAccount(account, unitId) {\n    return {\n      email: account.email,\n      firstName: account.firstName,\n      lastName: account.lastName,\n      login: account.username,\n      authorities: account.authorities,\n      groups: account.groups,\n      subjectId: account.subjectId,\n      unit: unitId\n    };\n  }\n  openSettingsDialog() {\n    console.log(\"Open Accounts Review Settings Modal\");\n    this.dialogService.open(accounts_review_settings_component_1.AccountsReviewSettingsComponent, {\n      showHeader: false,\n      width: \"80%\",\n      contentStyle: {\n        'min-width': '50%'\n      }\n    });\n  }\n  openViewAccountReview(reviews) {\n    if (reviews.unitName === this.currentAccount.unit) {\n      console.log(\"Open Review Modal\");\n      this.ref = this.dialogService.open(view_accounts_review_component_1.ViewAccountsReviewComponent, {\n        showHeader: false,\n        width: \"98%\",\n        contentStyle: {\n          'padding': '0.5rem'\n        },\n        data: reviews\n      });\n    } else {\n      console.log(\"Cannot access unrelated unit.\");\n    }\n    this.ref.onClose.subscribe(result => {\n      if (result) {\n        this.loadData(this.lazyLoadEvent);\n      }\n    });\n  }\n  exportCSV(dataTable) {\n    console.log(\"Export CSV\");\n    setTimeout(() => {\n      const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\n      this.accessRightReviewService.getAllReviewsExport(options).subscribe({\n        next: res => {\n          if (res.body?.data?.content) {\n            const data = res.body.data.content;\n            const columns = [{\n              field: 'sn',\n              header: 'SN',\n              index: 0\n            }, {\n              field: 'reviewMonth',\n              header: 'Review Month',\n              index: 1\n            }, {\n              field: 'unitName',\n              header: 'Unit',\n              index: 2\n            }, {\n              field: 'reviewStatus',\n              header: 'Status',\n              index: 3\n            }, {\n              field: 'firstVerifiedBy',\n              header: '1st Verified By',\n              index: 4\n            }, {\n              field: 'firstVerifiedDt',\n              header: '1st Verified On',\n              index: 5\n            }, {\n              field: 'secondVerifiedBy',\n              header: '2nd Verified By',\n              index: 6\n            }, {\n              field: 'secondVerifiedDt',\n              header: '2nd Verified On',\n              index: 7\n            }, {\n              field: 'approvedBy',\n              header: 'Approved By',\n              index: 8\n            }, {\n              field: 'approvedDt',\n              header: 'Approved On',\n              index: 9\n            }, {\n              field: 'updatedBy',\n              header: 'Last Updated By',\n              index: 10\n            }, {\n              field: 'updatedDt',\n              header: 'Last Updated On',\n              index: 11\n            }];\n            const dtoList = [];\n            data.forEach((record, index) => {\n              const dto = {\n                sn: index + 1,\n                reviewMonth: record.reviewMonth,\n                unitName: record.unitName,\n                reviewStatus: this.reviewStatusEnum[record.reviewStatus],\n                firstVerifiedBy: record.firstVerifiedBy,\n                firstVerifiedDt: this.datePipe.transform(record.firstVerifiedDt, 'dd-MM-yyyy'),\n                secondVerifiedBy: record.secondVerifiedBy,\n                secondVerifiedDt: this.datePipe.transform(record.secondVerifiedDt, 'dd-MM-yyyy'),\n                approvedBy: record.approvedBy,\n                approvedDt: this.datePipe.transform(record.approvedDt, 'dd-MM-yyyy'),\n                updatedBy: record.updatedBy,\n                updatedDt: this.datePipe.transform(record.updatedDt, 'dd-MM-yyyy')\n              };\n              dtoList.push(dto);\n            });\n            console.log(dtoList);\n            this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"User Accounts Reviews Table\");\n          }\n        },\n        error: error => {\n          console.log(error);\n          this.toastService.error(error.error?.error_desc);\n        },\n        complete() {\n          console.log(\"Export CSV Completed\");\n        }\n      });\n    }, 1000);\n  }\n}\nexports.AccessRightReviewComponent = AccessRightReviewComponent;\nAccessRightReviewComponent.ɵfac = function AccessRightReviewComponent_Factory(t) {\n  return new (t || AccessRightReviewComponent)(i0.ɵɵdirectiveInject(i1.AccessRightReviewService), i0.ɵɵdirectiveInject(i2.Ns2HttpService), i0.ɵɵdirectiveInject(i3.DialogService), i0.ɵɵdirectiveInject(i4.ExportUtilsService), i0.ɵɵdirectiveInject(i5.AccountService), i0.ɵɵdirectiveInject(i6.DatePipe), i0.ɵɵdirectiveInject(i7.CustomToastService));\n};\nAccessRightReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AccessRightReviewComponent,\n  selectors: [[\"n2-access-right-review\"]],\n  features: [i0.ɵɵProvidersFeature([dynamicdialog_1.DialogService, common_1.DatePipe])],\n  decls: 14,\n  vars: 9,\n  consts: [[\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\", \"lazy\", \"loading\", \"paginator\", \"totalRecords\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\", \"onLazyLoad\", \"onPage\"], [\"dataTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"paginatorleft\"], [\"pTemplate\", \"emptymessage\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export to Excel\", \"tooltipPosition\", \"bottom\", 1, \"p-button-primary\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Settings\", 1, \"p-button-primary\", 2, \"float\", \"right\", 3, \"hidden\", \"click\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"reviewMonth\"], [\"field\", \"reviewMonth\", 2, \"float\", \"right\"], [\"type\", \"text\", \"field\", \"reviewMonth\", \"display\", \"menu\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"unitName\"], [\"field\", \"unit\", 2, \"float\", \"right\"], [\"type\", \"text\", \"field\", \"unitName\", \"display\", \"menu\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"firstVerifiedBy\"], [\"field\", \"firstVerifiedBy\", 2, \"float\", \"right\"], [\"type\", \"text\", \"field\", \"firstVerifiedBy\", \"display\", \"menu\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"firstVerifiedDt\"], [\"field\", \"firstVerifiedDt\", 2, \"float\", \"right\"], [\"type\", \"date\", \"field\", \"firstVerifiedDt\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"right\"], [\"pTemplate\", \"filter\"], [\"scope\", \"col\", \"pSortableColumn\", \"secondVerifiedBy\"], [\"field\", \"secondVerifiedBy\", 2, \"float\", \"right\"], [\"type\", \"text\", \"field\", \"secondVerifiedBy\", \"display\", \"menu\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"secondVerifiedDt\"], [\"field\", \"secondVerifiedDt\", 2, \"float\", \"right\"], [\"type\", \"date\", \"field\", \"secondVerifiedDt\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"approvedBy\"], [\"field\", \"approvedBy\", 2, \"float\", \"right\"], [\"type\", \"text\", \"field\", \"approvedBy\", \"display\", \"menu\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"approvedDt\"], [\"field\", \"approvedDt\", 2, \"float\", \"right\"], [\"type\", \"date\", \"field\", \"approvedDt\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"right\"], [\"scope\", \"col\", \"pSortableColumn\", \"reviewStatus\"], [\"field\", \"reviewStatus\", 2, \"float\", \"right\"], [\"field\", \"reviewStatus\", \"matchMode\", \"in\", \"display\", \"menu\", 2, \"float\", \"right\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"dateFormat\", \"dd-mm-yy\", 3, \"onSelect\"], [\"placeholder\", \"Any\", \"optionLabel\", \"name\", \"optionValue\", \"value\", 3, \"ngModel\", \"options\", \"onChange\"], [\"pTemplate\", \"item\"], [1, \"ml-1\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"colspan\", \"12\"]],\n  template: function AccessRightReviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0, 1);\n      i0.ɵɵlistener(\"onLazyLoad\", function AccessRightReviewComponent_Template_p_table_onLazyLoad_0_listener($event) {\n        return ctx.loadData($event);\n      })(\"onPage\", function AccessRightReviewComponent_Template_p_table_onPage_0_listener($event) {\n        return ctx.onPage($event);\n      });\n      i0.ɵɵtext(2, \"\\n    \");\n      i0.ɵɵtemplate(3, AccessRightReviewComponent_ng_template_3_Template, 8, 1, \"ng-template\", 2);\n      i0.ɵɵtext(4, \"\\n    \");\n      i0.ɵɵtemplate(5, AccessRightReviewComponent_ng_template_5_Template, 82, 3, \"ng-template\", 3);\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵtemplate(7, AccessRightReviewComponent_ng_template_7_Template, 40, 19, \"ng-template\", 4);\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵtemplate(9, AccessRightReviewComponent_ng_template_9_Template, 1, 0, \"ng-template\", 5);\n      i0.ɵɵtext(10, \"\\n    \");\n      i0.ɵɵtemplate(11, AccessRightReviewComponent_ng_template_11_Template, 7, 0, \"ng-template\", 6);\n      i0.ɵɵtext(12, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.reviewsLists)(\"lazy\", true)(\"loading\", ctx.loading)(\"paginator\", true)(\"totalRecords\", ctx.totalRecords)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(8, _c0))(\"showCurrentPageReport\", true);\n    }\n  },\n  dependencies: [i8.NgControlStatus, i8.NgModel, i9.PrimeTemplate, i10.ButtonDirective, i11.Tooltip, i12.Table, i12.SortableColumn, i12.SortIcon, i12.ColumnFilter, i13.Calendar, i14.MultiSelect, i6.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhY2Nlc3MtcmlnaHQtcmV2aWV3LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW4vYWNjZXNzLWNvbnRyb2wvb3ZlcnZpZXcvYWNjZXNzLXJpZ2h0LXJldmlldy9hY2Nlc3MtcmlnaHQtcmV2aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxvTEFBb0wiLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AccessRightReviewComponent","constructor","accessRightReviewService","ns2HttpService","dialogService","exportUtilsService","accountService","datePipe","toastService","currentPage","overview_enum_model_1","ngOnInit","loading","accountReviewSettingsBtnVisible","retrieveUserInfoAndSetAccess","loadEnums","key","value","Object","entries","reviewStatuses","push","name","loadData","event","console","log","lazyLoadEvent","setTimeout","options","convertLazyEvent","pageData","pageSize","getAllReviews","subscribe","next","res","body","data","content","reviewsLists","totalRecords","totalElements","error","complete","onPage","rows","first","identity","account","currentAccount","copyAccount","getUserUnit","subjectId","unit","getUserOptionalRoles","optionalRoles","userOptionalRoles","nspay2_constants_1","ACCOUNT_REVIEW_APPROVER","undefined","unitId","email","firstName","lastName","login","username","authorities","groups","openSettingsDialog","open","accounts_review_settings_component_1","showHeader","width","contentStyle","openViewAccountReview","reviews","unitName","ref","view_accounts_review_component_1","onClose","result","exportCSV","dataTable","getAllReviewsExport","columns","field","header","index","dtoList","forEach","record","dto","sn","reviewMonth","reviewStatus","reviewStatusEnum","firstVerifiedBy","firstVerifiedDt","transform","secondVerifiedBy","secondVerifiedDt","approvedBy","approvedDt","updatedBy","updatedDt","error_desc","exports","selectors","features","dynamicdialog_1","common_1","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-review\\access-right-review.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-review\\access-right-review.component.html"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { Table } from 'primeng/table';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { DialogService, DynamicDialogRef } from 'primeng/dynamicdialog';\r\nimport { NSPAY2_ROLES } from 'app/nspay2.constants';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { AccessRightReviewService } from '../service/access-right-review.service';\r\nimport { ViewAccountsReviewComponent } from './view-accounts-review-modal/view-accounts-review.component';\r\nimport { AccountsReviewSettingsComponent } from './accounts-review-settings-modal/accounts-review-settings.component';\r\nimport { IReviews } from '../model/access-right-review.model'; \r\nimport { ReviewStatus } from '../model/overview-enum.model';\r\n\r\n@Component({\r\n  selector: 'n2-access-right-review',\r\n  templateUrl: './access-right-review.component.html',\r\n  styleUrls: ['./access-right-review.component.scss'],\r\n  providers: [DialogService, DatePipe]\r\n})\r\n\r\nexport class AccessRightReviewComponent implements OnInit {\r\n  \r\n  reviewsLists?: IReviews[];\r\n\r\n  // User Info\r\n  currentAccount: any;\r\n  userOptionalRoles: any;\r\n\r\n  // Options Visbility\r\n  accountReviewSettingsBtnVisible?: boolean;\r\n\r\n  // Lazy Loading\r\n  totalRecords?: number;\r\n  loading?: boolean;\r\n  pageData: { currentPage: number } = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  lazyLoadEvent: LazyLoadEvent;\r\n\r\n  // Filter\r\n  reviewStatuses: any[] = [];\r\n\r\n  // Dialog\r\n  ref?: DynamicDialogRef;\r\n\r\n  // Enums\r\n  reviewStatusEnum: { [key: string]: ReviewStatus } = ReviewStatus;\r\n\r\n  constructor(\r\n    private accessRightReviewService: AccessRightReviewService,\r\n    private ns2HttpService: Ns2HttpService,\r\n    private dialogService: DialogService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private accountService: AccountService,\r\n    private datePipe: DatePipe,\r\n    private toastService: CustomToastService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loading = true;\r\n    this.accountReviewSettingsBtnVisible = false;\r\n    this.retrieveUserInfoAndSetAccess();\r\n    this.loadEnums();\r\n  }\r\n\r\n  loadEnums(): void {\r\n    for (const [key, value] of Object.entries(ReviewStatus)) {\r\n      this.reviewStatuses.push(\r\n        { name: value, value: key }\r\n      );\r\n    }\r\n  }\r\n\r\n  loadData(event: LazyLoadEvent): void {\r\n    console.log(\"Load Data\")\r\n    this.loading = true;\r\n    this.lazyLoadEvent = event;\r\n    setTimeout(() => {\r\n      const options = this.ns2HttpService.convertLazyEvent(event, this.pageData, this.pageSize);\r\n      this.accessRightReviewService.getAllReviews(options)\r\n        .subscribe(\r\n          {\r\n            next: (res: HttpResponse<any>) => {\r\n              if (res.body?.data?.content) {\r\n                this.reviewsLists = res.body.data.content;\r\n                this.totalRecords = res.body.data.totalElements;\r\n              }\r\n              else{\r\n                this.reviewsLists = []\r\n              }\r\n              this.loading = false;\r\n            },\r\n            error(error: HttpErrorResponse){\r\n              console.log(error);\r\n            },\r\n            complete() {\r\n              console.log(\"Load Data Completed\")\r\n              this.loading = false;\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n  onPage(event: any): void {\r\n    this.pageSize = event.rows;\r\n    this.pageData.currentPage = event.first / event.rows;\r\n  }\r\n\r\n  retrieveUserInfoAndSetAccess(): void{\r\n    console.log(\"Set Settings Btn Visbility\")\r\n    console.log(\"Get User Info\")\r\n    this.accountService.identity().subscribe((account: any) => {\r\n      this.currentAccount = this.copyAccount(account,null);\r\n\r\n      console.log(\"Get User Unit\")\r\n      this.accessRightReviewService.getUserUnit(this.currentAccount?.subjectId)\r\n        .subscribe((unit: any)=> {\r\n          this.currentAccount = this.copyAccount(this.currentAccount, unit.body?.data)\r\n        });\r\n\r\n      console.log(\"Get User Optional Roles\")\r\n      this.accessRightReviewService.getUserOptionalRoles(this.currentAccount?.subjectId)\r\n        .subscribe((optionalRoles: any) => {\r\n          this.userOptionalRoles = optionalRoles.body?.data;\r\n          if (this.userOptionalRoles[NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined) {\r\n            this.accountReviewSettingsBtnVisible = true\r\n          };\r\n        });\r\n    });\r\n  }\r\n\r\n  copyAccount(account: any, unitId: string): any {\r\n    return {\r\n      email: account.email,\r\n      firstName: account.firstName,\r\n      lastName: account.lastName,\r\n      login: account.username,\r\n      authorities: account.authorities,\r\n      groups: account.groups,\r\n      subjectId: account.subjectId,\r\n      unit: unitId,\r\n    };\r\n  }\r\n\r\n  openSettingsDialog(): void{\r\n    console.log(\"Open Accounts Review Settings Modal\");\r\n    this.dialogService.open(AccountsReviewSettingsComponent, {\r\n      showHeader: false,\r\n      width: \"80%\",\r\n      contentStyle: {\r\n        'min-width': '50%',\r\n      }\r\n    });\r\n  }\r\n\r\n  openViewAccountReview(reviews: IReviews): void{\r\n    if (reviews.unitName === this.currentAccount.unit) {\r\n      console.log(\"Open Review Modal\")\r\n      this.ref = this.dialogService.open(ViewAccountsReviewComponent, {\r\n        showHeader: false,\r\n        width: \"98%\",\r\n        contentStyle: {\r\n          'padding': '0.5rem',\r\n        },\r\n        data: reviews\r\n      });\r\n    }\r\n    else {\r\n      console.log(\"Cannot access unrelated unit.\")\r\n    }\r\n\r\n    this.ref.onClose.subscribe((result) => {\r\n      if (result) {\r\n        this.loadData(this.lazyLoadEvent);\r\n      }\r\n    });\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    console.log(\"Export CSV\")\r\n    setTimeout(() => {\r\n      const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\r\n      this.accessRightReviewService.getAllReviewsExport(options)\r\n        .subscribe(\r\n          {\r\n            next: (res: HttpResponse<any>) => {\r\n              if (res.body?.data?.content){\r\n                const data = res.body.data.content\r\n                const columns = [\r\n                  { field: 'sn', header: 'SN', index: 0 },\r\n                  { field: 'reviewMonth', header: 'Review Month', index: 1 },\r\n                  { field: 'unitName', header: 'Unit', index: 2 },\r\n                  { field: 'reviewStatus', header: 'Status', index: 3 },\r\n                  { field: 'firstVerifiedBy', header: '1st Verified By', index: 4 },\r\n                  { field: 'firstVerifiedDt', header: '1st Verified On', index: 5 },\r\n                  { field: 'secondVerifiedBy', header: '2nd Verified By', index: 6 },\r\n                  { field: 'secondVerifiedDt', header: '2nd Verified On', index: 7 },\r\n                  { field: 'approvedBy', header: 'Approved By', index: 8 },\r\n                  { field: 'approvedDt', header: 'Approved On', index: 9 },\r\n                  { field: 'updatedBy', header: 'Last Updated By', index: 10 },\r\n                  { field: 'updatedDt', header: 'Last Updated On', index: 11 },\r\n                ];\r\n                const dtoList: any[] = [];\r\n                data.forEach((record: IReviews, index: number) => {\r\n                  const dto = {\r\n                    sn: index + 1,\r\n                    reviewMonth: record.reviewMonth,\r\n                    unitName: record.unitName,\r\n                    reviewStatus: this.reviewStatusEnum[record.reviewStatus],\r\n                    firstVerifiedBy: record.firstVerifiedBy,\r\n                    firstVerifiedDt: this.datePipe.transform(record.firstVerifiedDt,'dd-MM-yyyy'),\r\n                    secondVerifiedBy: record.secondVerifiedBy,\r\n                    secondVerifiedDt: this.datePipe.transform(record.secondVerifiedDt,'dd-MM-yyyy'),\r\n                    approvedBy: record.approvedBy,\r\n                    approvedDt: this.datePipe.transform(record.approvedDt,'dd-MM-yyyy'),\r\n                    updatedBy: record.updatedBy,\r\n                    updatedDt: this.datePipe.transform(record.updatedDt,'dd-MM-yyyy'),\r\n                  }\r\n                  dtoList.push(dto);\r\n                });\r\n                console.log(dtoList)\r\n                this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"User Accounts Reviews Table\")\r\n              }\r\n            },\r\n            error: (error: HttpErrorResponse) => {\r\n              console.log(error);\r\n              this.toastService.error(error.error?.error_desc)\r\n            },\r\n            complete() {\r\n              console.log(\"Export CSV Completed\");\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n}","<p-table #dataTable [value]=\"reviewsLists\" [lazy]=\"true\" (onLazyLoad)=\"loadData($event)\" [loading]=\"loading\"\r\n    (onPage)=\"onPage($event)\" [paginator]=\"true\" [totalRecords]=\"totalRecords\" [rows]=\"10\"\r\n    [rowsPerPageOptions]=\"[10,25,50]\" [showCurrentPageReport]=\"true\"\r\n    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\r\n    styleClass=\"p-datatable-gridlines\">\r\n    <ng-template pTemplate=\"caption\">\r\n        <div>\r\n            <button pButton type=\"button\" class=\"p-button-primary\" icon=\"pi pi-file-o\" pTooltip=\"Export to Excel\"\r\n                tooltipPosition=\"bottom\" (click)=\"exportCSV(dataTable)\"></button>\r\n            <button pButton type=\"button\" class=\"p-button-primary\" style=\"float:right\" label=\"Settings\"\r\n                (click)=\"openSettingsDialog()\" [hidden]=\"!accountReviewSettingsBtnVisible\"></button>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"header\">\r\n        <tr>\r\n            <th scope=\"col\">SN</th>\r\n            <th scope=\"col\" pSortableColumn=\"reviewMonth\">\r\n                Review Month\r\n                <p-sortIcon field=\"reviewMonth\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"reviewMonth\" display=\"menu\" style=\"float:right\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"unitName\">\r\n                Unit\r\n                <p-sortIcon field=\"unit\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"unitName\" display=\"menu\" style=\"float:right\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"firstVerifiedBy\">\r\n                1st Verified By\r\n                <p-sortIcon field=\"firstVerifiedBy\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"firstVerifiedBy\" display=\"menu\" style=\"float:right\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"firstVerifiedDt\">\r\n                1st Verified On\r\n                <p-sortIcon field=\"firstVerifiedDt\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"date\" field=\"firstVerifiedDt\" display=\"menu\" style=\"float:right\"\r\n                    matchMode=\"contains\">\r\n                    <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                        <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                        </p-calendar>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"secondVerifiedBy\">\r\n                2nd Verified By\r\n                <p-sortIcon field=\"secondVerifiedBy\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"secondVerifiedBy\" display=\"menu\"\r\n                    style=\"float:right\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"secondVerifiedDt\">\r\n                2nd Verified On\r\n                <p-sortIcon field=\"secondVerifiedDt\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"date\" field=\"secondVerifiedDt\" display=\"menu\" style=\"float:right\"\r\n                    matchMode=\"contains\">\r\n                    <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                        <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                        </p-calendar>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"approvedBy\">\r\n                Approved By\r\n                <p-sortIcon field=\"approvedBy\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"approvedBy\" display=\"menu\" style=\"float:right\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"approvedDt\">\r\n                Approved On\r\n                <p-sortIcon field=\"approvedDt\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter type=\"date\" field=\"approvedDt\" display=\"menu\" style=\"float:right\" matchMode=\"contains\">\r\n                    <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                        <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                        </p-calendar>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"reviewStatus\">\r\n                Status\r\n                <p-sortIcon field=\"reviewStatus\" style=\"float:right\"></p-sortIcon>\r\n                <p-columnFilter field=\"reviewStatus\" matchMode=\"in\" display=\"menu\" [showMatchModes]=\"false\"\r\n                    [showOperator]=\"false\" [showAddButton]=\"false\" style=\"float:right\">\r\n                    <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n                        <p-multiSelect [ngModel]=\"value\" [options]=\"reviewStatuses\" placeholder=\"Any\"\r\n                            (onChange)=\"filter($event.value)\" optionLabel=\"name\" optionValue=\"value\">\r\n                            <ng-template let-option pTemplate=\"item\">\r\n                                <span class=\"ml-1\">{{ option.name }}</span>\r\n                            </ng-template>\r\n                        </p-multiSelect>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n        </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"body\" let-reviews let-i=\"rowIndex\">\r\n        <tr>\r\n            <td>{{ i+1 }}</td>\r\n            <td>\r\n                <a href=\"javascript:void(0)\" (click)=\"openViewAccountReview(reviews)\">\r\n                    {{ reviews.reviewMonth }}\r\n                </a>\r\n            </td>\r\n            <td>{{ reviews.unitName }}</td>\r\n            <td>{{ reviews.firstVerifiedBy }}</td>\r\n            <td>{{ reviews.firstVerifiedDt | date:'dd-MM-yyyy' }}</td>\r\n            <td>{{ reviews.secondVerifiedBy }}</td>\r\n            <td>{{ reviews.secondVerifiedDt | date:'dd-MM-yyyy' }}</td>\r\n            <td>{{ reviews.approvedBy }}</td>\r\n            <td>{{ reviews.approvedDt | date:'dd-MM-yyyy' }}</td>\r\n            <td>{{ reviewStatusEnum[reviews.reviewStatus] }}</td>\r\n        </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"paginatorleft\">\r\n    </ng-template>\r\n    <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n            <td colspan=\"12\">No records found.</td>\r\n        </tr>\r\n    </ng-template>\r\n</p-table>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}