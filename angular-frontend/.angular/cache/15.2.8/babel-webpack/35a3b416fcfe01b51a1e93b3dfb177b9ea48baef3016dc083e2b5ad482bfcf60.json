{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ProtectedPayableApprovalComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst ns2status_enum_model_1 = require(\"app/shared/model/ns2status-enum.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i5 = tslib_1.__importStar(require(\"app/payment/protected-payable/service/protected-payable.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/payment/overpayment/service/payment.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/shared/service/file-upload.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/checkbox\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/messages\"));\nconst i15 = tslib_1.__importStar(require(\"app/shared/component/rejection-reason/rejection-reason.component\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst i17 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i18 = tslib_1.__importStar(require(\"../../../shared/pipe/default-string.pipe\"));\nconst _c0 = [\"rejectionReasonDialog\"];\nfunction ProtectedPayableApprovalComponent_ng_template_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                  \");\n    i0.ɵɵelementStart(3, \"th\", 27);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                  \");\n    i0.ɵɵelementStart(6, \"th\", 28);\n    i0.ɵɵtext(7, \"Filename\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n              \");\n  }\n}\nfunction ProtectedPayableApprovalComponent_ng_template_91_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                  \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                  \");\n    i0.ɵɵelementStart(6, \"td\")(7, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_ng_template_91_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const supportDoc_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.downloadFromDMS(supportDoc_r5.documentId));\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"defaultString\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(10, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n              \");\n  }\n  if (rf & 2) {\n    const supportDoc_r5 = ctx.$implicit;\n    const i_r6 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r6 + 1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 2, supportDoc_r5.filename));\n  }\n}\nfunction ProtectedPayableApprovalComponent_ng_template_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                  \");\n    i0.ɵɵelementStart(3, \"td\", 30);\n    i0.ɵɵtext(4, \"No Supporting Documents found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n              \");\n  }\n}\nconst _c1 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction ProtectedPayableApprovalComponent_ng_template_120_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_ng_template_120_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.displayRejectionReasonDialog.display = false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n    \");\n    i0.ɵɵelementStart(3, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_ng_template_120_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onSubmitRejection($event, \"protectedPayableRejectConfirmation\", ctx_r11.displayRejectionReasonDialog));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n  \");\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(6, _c1));\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.rejectionReasonComponent.rejectionReasonForm.valid);\n  }\n}\nconst _c2 = function () {\n  return [10, 25, 50];\n};\nconst _c3 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\nconst _c4 = function () {\n  return {\n    \"960px\": \"75vw\"\n  };\n};\nclass ProtectedPayableApprovalComponent {\n  constructor(nspConfirmService, toastService, router, route, messageService, protectedPayableService, paymentService, fileUploadService) {\n    this.nspConfirmService = nspConfirmService;\n    this.toastService = toastService;\n    this.router = router;\n    this.route = route;\n    this.messageService = messageService;\n    this.protectedPayableService = protectedPayableService;\n    this.paymentService = paymentService;\n    this.fileUploadService = fileUploadService;\n    this.msgs = [];\n    this.protectServicePayFlag = false;\n    this.terminateProtectedPayableFlag = false;\n    this.displayRejectionReasonDialog = {\n      display: false\n    };\n    // Enumeration object for decoding common NSPAY2.0 statuses\n    this.n2StatusEnum = ns2status_enum_model_1.N2Status;\n    this.summary = {\n      nric: '',\n      name: '',\n      rank: '',\n      sex: '',\n      csn: '',\n      principalOS: 0,\n      interestOS: 0,\n      protectedPayableInd: '',\n      protectedPayableSPInd: '',\n      instalmentInd: ''\n    };\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.protectedPayableService.getProtectedPayable(params['protectedPayableId']).subscribe(res => {\n        // console.log(this.route);\n        // Pipe response to an array of Interface model\n        this.pendingApprovalProtectedPayable = res.body.data;\n        if (!res.body.data) {\n          this.toastService.info(\"Protected Payable record not found\");\n          this.router.navigate(['/inbox']);\n        } else if (![ns2status_enum_model_1.N2Status.PENDING_APPROVAL, ns2status_enum_model_1.N2Status.PENDING_TERMINATED].includes(this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status])) {\n          this.toastService.info(\"Protected Payable record is neither pending approval nor pending termination\");\n          this.router.navigate(['/inbox']);\n        } else {\n          this.route.url.subscribe(routeUrl => {\n            if (routeUrl[0] && routeUrl[0].path === 'terminate') {\n              // bounce to inbox if at termination approval route and not 'PENDING TERMINATED'\n              if (this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status] !== ns2status_enum_model_1.N2Status.PENDING_TERMINATED) {\n                this.toastService.info(\"Protected Payable record is not pending termination approval\");\n                this.router.navigate(['/inbox']);\n              }\n              // Set flag & push message based on route URL\n              this.terminateProtectedPayableFlag = true;\n              this.messageService.add({\n                severity: 'warn',\n                summary: 'Warning',\n                detail: 'This protected payable record will be terminated upon approval'\n              });\n            } else {\n              // bounce to inbox if at regular approval route and not 'PENDING APPROVAL'\n              if (this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status] !== ns2status_enum_model_1.N2Status.PENDING_APPROVAL) {\n                this.toastService.info(\"Protected Payable record is not pending approval\");\n                this.router.navigate(['/inbox']);\n              } else {\n                // if route is regular + pending approval, clear msgs\n                this.msgs = [];\n              }\n            }\n            // console.log(\"'terminateProtectedPayableFlag' value is now: \" + this.terminateProtectedPayableFlag);\n          });\n\n          this.protectServicePayFlag = this.pendingApprovalProtectedPayable.protectServicePayInd === 'Y' ? true : false;\n          // Sequentially call other APIs using the NRIC for the Protected Payable\n          this.paymentService.getSummaryByNric(this.pendingApprovalProtectedPayable?.nric).subscribe(summaryRes => {\n            this.summary = summaryRes.body.data;\n            console.log(this.summary);\n          });\n        }\n      }, error => {\n        console.log(error.message);\n        if (error.status === 404 /* HttpStatusCode.NotFound */) {\n          this.toastService.add({\n            severity: 'error',\n            summary: 'Error',\n            detail: 'No Protected Payable pending approval for the given Protected Payable ID'\n          });\n        }\n      });\n    });\n  }\n  onOpen(dialog) {\n    console.log(\"Opening dialog now\");\n    dialog.display = true;\n  }\n  // Pop up the Confirmation dialog to Cancel current transaction\n  onCancel(event, key, dialog) {\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\n      // Define function that will be called upon confirmation of the cancellation dialog\n      // Will route back to Inbox upon cancellation in this case\n      this.router.navigate(['/inbox']);\n    });\n  }\n  onSubmitApprove(event, key, dialog) {\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\n      // Call the service to either approve the record or approve the termination of a record\n      this.protectedPayableService.approve(this.pendingApprovalProtectedPayable.id).subscribe(res => {\n        if (res) {\n          if (res.ok) {\n            this.toastService.success(res.body.success_message);\n            this.router.navigate(['/inbox']);\n          }\n        }\n      }, error => {\n        if (error.status === 400 /* HttpStatusCode.BadRequest */) {\n          this.toastService.error(error.error.error_desc);\n        }\n      });\n    });\n  }\n  onSubmitRejection(event, key, dialog) {\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\n      // Call the service to reject the record\n      this.pendingApprovalProtectedPayable.reason = this.rejectionReasonComponent.rejectionReason;\n      this.protectedPayableService.reject(this.pendingApprovalProtectedPayable).subscribe(res => {\n        if (res) {\n          if (res.ok) {\n            this.toastService.success(res.body.success_message);\n            this.router.navigate(['/inbox']);\n          }\n        }\n      }, error => {\n        console.log(error);\n        if (error.status === 400 /* HttpStatusCode.BadRequest */) {\n          this.toastService.add({\n            severity: 'error',\n            summary: 'Error',\n            detail: error?.error?.error_desc\n          });\n        }\n      });\n    });\n  }\n  downloadFromDMS(fileId) {\n    if (fileId) {\n      this.fileUploadService.downloadTxnId(fileId).subscribe(res => {\n        if (res) {\n          const data = res;\n          const contentDispositionHeader = data.headers.get('content-disposition');\n          const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n          const blob = new Blob([data.body], {\n            type: data.headers.get('content-type')\n          });\n          const anchor = document.createElement(\"a\");\n          anchor.href = URL.createObjectURL(blob);\n          anchor.download = fileName;\n          anchor.click();\n        }\n      }, error => {\n        this.toastService.error(error.error?.error_desc);\n      });\n    }\n  }\n}\nexports.ProtectedPayableApprovalComponent = ProtectedPayableApprovalComponent;\nProtectedPayableApprovalComponent.ɵfac = function ProtectedPayableApprovalComponent_Factory(t) {\n  return new (t || ProtectedPayableApprovalComponent)(i0.ɵɵdirectiveInject(i1.NspConfirmationService), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.MessageService), i0.ɵɵdirectiveInject(i5.ProtectedPayableService), i0.ɵɵdirectiveInject(i6.PaymentService), i0.ɵɵdirectiveInject(i7.FileUploadService));\n};\nProtectedPayableApprovalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProtectedPayableApprovalComponent,\n  selectors: [[\"n2-protected-payable-approval\"]],\n  viewQuery: function ProtectedPayableApprovalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rejectionReasonComponent = _t.first);\n    }\n  },\n  decls: 125,\n  vars: 65,\n  consts: [[3, \"closable\"], [1, \"flex\", \"justify-content-center\"], [1, \"flex\", \"flex-column\", \"gap-4\", 2, \"width\", \"60vw\"], [\"header\", \"Personal Particulars\"], [1, \"particulars\"], [\"header\", \"Approve Protected Payable\"], [1, \"flex\", \"flex-column\", \"gap-4\"], [1, \"grid\"], [1, \"col-3\"], [1, \"col-9\", \"flex-auto\", \"flex\", \"gap-4\"], [1, \"flex\", \"gap-2\"], [3, \"ngModel\", \"binary\", \"disabled\", \"ngModelChange\"], [1, \"col-9\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"flex\", \"justify-content-end\"], [\"type\", \"button\", \"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"label\", \"Reject\", 1, \"p-button-outlined\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"label\", \"Approve\", 3, \"click\"], [\"key\", \"protectedPayableCancel\"], [\"key\", \"protectedPayableApprove\"], [\"header\", \"Reject Protected Payable\", 3, \"visible\", \"breakpoints\", \"draggable\", \"resizable\", \"modal\", \"visibleChange\"], [\"rejectionReasonDialog\", \"\"], [\"pTemplate\", \"footer\"], [\"key\", \"protectedPayableRejectConfirmation\"], [\"scope\", \"col\", 2, \"width\", \"20%\"], [\"scope\", \"col\", 2, \"width\", \"80%\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"colspan\", \"2\"], [\"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Submit\", 3, \"disabled\", \"click\"]],\n  template: function ProtectedPayableApprovalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"p-messages\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n  \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n    \");\n      i0.ɵɵelementStart(6, \"p-panel\", 3);\n      i0.ɵɵtext(7, \"\\n      \");\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtext(9, \"\\n        \");\n      i0.ɵɵelementStart(10, \"h5\");\n      i0.ɵɵtext(11);\n      i0.ɵɵpipe(12, \"defaultString\");\n      i0.ɵɵpipe(13, \"defaultString\");\n      i0.ɵɵpipe(14, \"defaultString\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n        \");\n      i0.ɵɵelementStart(16, \"span\");\n      i0.ɵɵtext(17, \"NSman (M)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \"\\n        \");\n      i0.ɵɵelementStart(19, \"span\");\n      i0.ɵɵtext(20, \"CAB:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"span\");\n      i0.ɵɵtext(22, \"Y\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"\\n        \");\n      i0.ɵɵelementStart(24, \"span\");\n      i0.ɵɵtext(25, \"Protected Payable:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"span\");\n      i0.ɵɵtext(27);\n      i0.ɵɵpipe(28, \"defaultString\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n        \");\n      i0.ɵɵelement(30, \"br\");\n      i0.ɵɵtext(31, \"\\n        \");\n      i0.ɵɵelementStart(32, \"span\");\n      i0.ɵɵtext(33, \"Outstanding Principal:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"span\");\n      i0.ɵɵtext(35);\n      i0.ɵɵpipe(36, \"defaultString\");\n      i0.ɵɵpipe(37, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n        \");\n      i0.ɵɵelementStart(39, \"span\");\n      i0.ɵɵtext(40, \"Outstanding Interest:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"span\");\n      i0.ɵɵtext(42);\n      i0.ɵɵpipe(43, \"defaultString\");\n      i0.ɵɵpipe(44, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n        \");\n      i0.ɵɵelementStart(46, \"span\");\n      i0.ɵɵtext(47, \"Instalment:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"span\");\n      i0.ɵɵtext(49);\n      i0.ɵɵpipe(50, \"defaultString\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n\\n    \");\n      i0.ɵɵelementStart(54, \"p-panel\", 5);\n      i0.ɵɵtext(55, \"\\n      \");\n      i0.ɵɵelementStart(56, \"div\", 6);\n      i0.ɵɵtext(57, \"\\n        \");\n      i0.ɵɵelementStart(58, \"div\", 7);\n      i0.ɵɵtext(59, \"\\n          \");\n      i0.ɵɵelementStart(60, \"div\", 8);\n      i0.ɵɵtext(61, \"Protected Amount from Offset\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n          \");\n      i0.ɵɵelementStart(63, \"div\", 9);\n      i0.ɵɵtext(64, \"\\n            \");\n      i0.ɵɵelementStart(65, \"div\");\n      i0.ɵɵtext(66);\n      i0.ɵɵpipe(67, \"defaultString\");\n      i0.ɵɵpipe(68, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(69, \"\\n            \");\n      i0.ɵɵelementStart(70, \"div\", 10);\n      i0.ɵɵtext(71, \"\\n              \");\n      i0.ɵɵelementStart(72, \"div\");\n      i0.ɵɵtext(73, \"\\n                \");\n      i0.ɵɵelementStart(74, \"p-checkbox\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ProtectedPayableApprovalComponent_Template_p_checkbox_ngModelChange_74_listener($event) {\n        return ctx.protectServicePayFlag = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(75, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(76, \"\\n              Protect Service Pay\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(77, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(78, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(79, \"\\n        \");\n      i0.ɵɵelementStart(80, \"div\", 7);\n      i0.ɵɵtext(81, \"\\n          \");\n      i0.ɵɵelementStart(82, \"div\", 8);\n      i0.ɵɵtext(83, \"Supporting Documents\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(84, \"\\n          \");\n      i0.ɵɵelementStart(85, \"div\", 12);\n      i0.ɵɵtext(86, \"\\n            \");\n      i0.ɵɵelementStart(87, \"p-table\", 13);\n      i0.ɵɵtext(88, \"\\n\\n              \");\n      i0.ɵɵtemplate(89, ProtectedPayableApprovalComponent_ng_template_89_Template, 10, 0, \"ng-template\", 14);\n      i0.ɵɵtext(90, \"\\n\\n              \");\n      i0.ɵɵtemplate(91, ProtectedPayableApprovalComponent_ng_template_91_Template, 12, 4, \"ng-template\", 15);\n      i0.ɵɵtext(92, \"\\n\\n              \");\n      i0.ɵɵtemplate(93, ProtectedPayableApprovalComponent_ng_template_93_Template, 7, 0, \"ng-template\", 16);\n      i0.ɵɵtext(94, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(95, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(96, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(97, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(98, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(99, \"\\n    \");\n      i0.ɵɵelementStart(100, \"div\", 17);\n      i0.ɵɵtext(101, \"\\n      \");\n      i0.ɵɵelementStart(102, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_Template_button_click_102_listener($event) {\n        return ctx.onCancel($event, \"protectedPayableCancel\", null);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(103, \"\\n      \");\n      i0.ɵɵelementStart(104, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_Template_button_click_104_listener() {\n        return ctx.onOpen(ctx.displayRejectionReasonDialog);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(105, \"\\n      \");\n      i0.ɵɵelementStart(106, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function ProtectedPayableApprovalComponent_Template_button_click_106_listener($event) {\n        return ctx.onSubmitApprove($event, \"protectedPayableApprove\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(107, \"\\n      \");\n      i0.ɵɵelement(108, \"p-confirmPopup\", 21);\n      i0.ɵɵtext(109, \"\\n      \");\n      i0.ɵɵelement(110, \"p-confirmPopup\", 22);\n      i0.ɵɵtext(111, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(112, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(113, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(114, \"\\n\\n\");\n      i0.ɵɵelementStart(115, \"p-dialog\", 23);\n      i0.ɵɵlistener(\"visibleChange\", function ProtectedPayableApprovalComponent_Template_p_dialog_visibleChange_115_listener($event) {\n        return ctx.displayRejectionReasonDialog.display = $event;\n      });\n      i0.ɵɵtext(116, \"\\n\\n  \");\n      i0.ɵɵelement(117, \"n2-rejection-reason\", null, 24);\n      i0.ɵɵtext(119, \"\\n\\n  \");\n      i0.ɵɵtemplate(120, ProtectedPayableApprovalComponent_ng_template_120_Template, 5, 7, \"ng-template\", 25);\n      i0.ɵɵtext(121, \"\\n  \");\n      i0.ɵɵelement(122, \"p-confirmPopup\", 26);\n      i0.ɵɵtext(123, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(124, \"\\n\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"closable\", false);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(12, 31, ctx.pendingApprovalProtectedPayable == null ? null : ctx.pendingApprovalProtectedPayable.nric), \"   \", i0.ɵɵpipeBind1(13, 33, ctx.summary == null ? null : ctx.summary.rank), \"   \", i0.ɵɵpipeBind1(14, 35, ctx.summary == null ? null : ctx.summary.name), \"\");\n      i0.ɵɵadvance(16);\n      i0.ɵɵtextInterpolate2(\"\", (ctx.summary == null ? null : ctx.summary.protectedPayableInd) === \"Y\" ? \"Yes\" : i0.ɵɵpipeBind1(28, 37, \"No\"), \" \", (ctx.summary == null ? null : ctx.summary.protectedPayableSPInd) === \"Y\" ? \"(Service Pay)\" : \"\", \"\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(36, 39, i0.ɵɵpipeBind3(37, 41, ctx.summary == null ? null : ctx.summary.principalOS, \"SGD\", \"\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(43, 45, i0.ɵɵpipeBind3(44, 47, ctx.summary == null ? null : ctx.summary.interestOS, \"SGD\", \"\")));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.summary.instalmentInd === \"Y\" ? \"Yes\" : i0.ɵɵpipeBind1(50, 51, \"No\"));\n      i0.ɵɵadvance(17);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(67, 53, i0.ɵɵpipeBind3(68, 55, ctx.pendingApprovalProtectedPayable == null ? null : ctx.pendingApprovalProtectedPayable.protectedAmt, \"SGD\", \"\")));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.protectServicePayFlag)(\"binary\", true)(\"disabled\", true);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"value\", ctx.pendingApprovalProtectedPayable == null ? null : ctx.pendingApprovalProtectedPayable.supportingDocs)(\"paginator\", true)(\"rows\", 5)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(59, _c2))(\"showCurrentPageReport\", true);\n      i0.ɵɵadvance(15);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(60, _c1));\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(61, _c1));\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(62, _c1));\n      i0.ɵɵadvance(9);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(63, _c3));\n      i0.ɵɵproperty(\"visible\", ctx.displayRejectionReasonDialog.display)(\"breakpoints\", i0.ɵɵpureFunction0(64, _c4))(\"draggable\", false)(\"resizable\", false)(\"modal\", true);\n    }\n  },\n  dependencies: [i8.NgControlStatus, i8.NgModel, i4.PrimeTemplate, i9.ButtonDirective, i10.Checkbox, i11.Table, i12.Dialog, i13.ConfirmPopup, i14.Messages, i15.RejectionReasonComponent, i16.Panel, i17.CurrencyPipe, i18.DefaultStringPipe],\n  styles: [\"[_nghost-%COMP%]     .p-dialog-mask {\\n  background-color: rgba(0, 0, 0, 0.4);\\n}\\n\\n.particulars[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .particulars[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  display: inline !important;\\n  padding: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3RlY3RlZC1wYXlhYmxlLWFwcHJvdmFsLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFxwYXltZW50XFxwcm90ZWN0ZWQtcGF5YWJsZVxccHJvdGVjdGVkLXBheWFibGUtYXBwcm92YWxcXHByb3RlY3RlZC1wYXlhYmxlLWFwcHJvdmFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs0RUFBQTtBQUlBO0VBQ0Usb0NBQUE7QUNBRjs7QURHQTtFQUNFLDBCQUFBO0VBQ0EsYUFBQTtBQ0FGIiwiZmlsZSI6InByb3RlY3RlZC1wYXlhYmxlLWFwcHJvdmFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuT3ZlcnJpZGUgRGlhbG9nIG1hc2sgQ1NTIC0gQ2hhbmdlIGZyb20gVHJhbnNwYXJlbnQgYmFjayB0byBibGFja1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWRpYWxvZy1tYXNrIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwNjtcclxufVxyXG5cclxuLnBhcnRpY3VsYXJzIGg1LCAucGFydGljdWxhcnMgc3BhbiB7XHJcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZzogMTZweDtcclxufVxyXG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuT3ZlcnJpZGUgRGlhbG9nIG1hc2sgQ1NTIC0gQ2hhbmdlIGZyb20gVHJhbnNwYXJlbnQgYmFjayB0byBibGFja1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbjpob3N0IDo6bmctZGVlcCAucC1kaWFsb2ctbWFzayB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTtcbn1cblxuLnBhcnRpY3VsYXJzIGg1LCAucGFydGljdWxhcnMgc3BhbiB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxNnB4O1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9wcm90ZWN0ZWQtcGF5YWJsZS9wcm90ZWN0ZWQtcGF5YWJsZS1hcHByb3ZhbC9wcm90ZWN0ZWQtcGF5YWJsZS1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL3Byb2plY3RzJTIwMi9uc3BheWlpYXBwL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9wcm90ZWN0ZWQtcGF5YWJsZS9wcm90ZWN0ZWQtcGF5YWJsZS1hcHByb3ZhbC9wcm90ZWN0ZWQtcGF5YWJsZS1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7NEVBQUE7QUFJQTtFQUNFLG9DQUFBO0FDQUY7O0FER0E7RUFDRSwwQkFBQTtFQUNBLGFBQUE7QUNBRjtBRENBLGdwREFBZ3BEIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuT3ZlcnJpZGUgRGlhbG9nIG1hc2sgQ1NTIC0gQ2hhbmdlIGZyb20gVHJhbnNwYXJlbnQgYmFjayB0byBibGFja1xyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWRpYWxvZy1tYXNrIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwNjtcclxufVxyXG5cclxuLnBhcnRpY3VsYXJzIGg1LCAucGFydGljdWxhcnMgc3BhbiB7XHJcbiAgZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZzogMTZweDtcclxufVxyXG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuT3ZlcnJpZGUgRGlhbG9nIG1hc2sgQ1NTIC0gQ2hhbmdlIGZyb20gVHJhbnNwYXJlbnQgYmFjayB0byBibGFja1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbjpob3N0IDo6bmctZGVlcCAucC1kaWFsb2ctbWFzayB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTtcbn1cblxuLnBhcnRpY3VsYXJzIGg1LCAucGFydGljdWxhcnMgc3BhbiB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiAxNnB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProtectedPayableApprovalComponent","constructor","nspConfirmService","toastService","router","route","messageService","protectedPayableService","paymentService","fileUploadService","display","ns2status_enum_model_1","nric","name","rank","sex","csn","principalOS","interestOS","protectedPayableInd","protectedPayableSPInd","instalmentInd","ngOnInit","params","subscribe","getProtectedPayable","res","pendingApprovalProtectedPayable","body","data","info","navigate","PENDING_APPROVAL","PENDING_TERMINATED","includes","n2StatusEnum","status","url","routeUrl","path","terminateProtectedPayableFlag","add","severity","summary","detail","msgs","protectServicePayFlag","protectServicePayInd","getSummaryByNric","summaryRes","console","log","error","message","onOpen","dialog","onCancel","event","key","onConfirmPopup","onSubmitApprove","approve","id","ok","success","success_message","error_desc","onSubmitRejection","reason","rejectionReasonComponent","rejectionReason","reject","downloadFromDMS","fileId","downloadTxnId","contentDispositionHeader","headers","get","fileName","split","trim","replace","blob","Blob","type","anchor","document","createElement","href","URL","createObjectURL","download","click","exports","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\protected-payable\\protected-payable-approval\\protected-payable-approval.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\protected-payable\\protected-payable-approval\\protected-payable-approval.component.html"],"sourcesContent":["import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {IProtectedPayable} from 'app/payment/protected-payable/model/protected-payable.model';\r\nimport {ProtectedPayableService} from 'app/payment/protected-payable/service/protected-payable.service';\r\nimport {HttpErrorResponse, HttpResponse, HttpStatusCode} from '@angular/common/http';\r\nimport {NspConfirmationService} from 'app/shared/confirm/nsp-confirm.service';\r\nimport {CustomToastService} from 'app/layouts/service/customtoast.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Message, MessageService} from 'primeng/api';\r\nimport {IOPSummary} from \"app/payment/overpayment/overpayment-info/overpayment-info.model\";\r\nimport {PaymentService} from \"app/payment/overpayment/service/payment.service\";\r\nimport {RejectionReasonComponent} from \"app/shared/component/rejection-reason/rejection-reason.component\";\r\nimport {N2Status} from \"app/shared/model/ns2status-enum.model\";\r\nimport { FileUploadService } from 'app/shared/service/file-upload.service';\r\n\r\n@Component({\r\n  selector: 'n2-protected-payable-approval',\r\n  templateUrl: './protected-payable-approval.component.html',\r\n  styleUrls: ['./protected-payable-approval.component.scss']\r\n})\r\nexport class ProtectedPayableApprovalComponent implements OnInit {\r\n  msgs: Message[] = [];\r\n  pendingApprovalProtectedPayable: IProtectedPayable;\r\n  protectServicePayFlag = false;\r\n  terminateProtectedPayableFlag = false;\r\n  displayRejectionReasonDialog: any = {display: false};\r\n\r\n  // Enumeration object for decoding common NSPAY2.0 statuses\r\n  n2StatusEnum: { [key: string]: N2Status } = N2Status\r\n\r\n  summary: IOPSummary = {\r\n    nric: '',\r\n    name: '',\r\n    rank: '',\r\n    sex: '',\r\n    csn: '',\r\n    principalOS: 0,\r\n    interestOS: 0,\r\n    protectedPayableInd: '',\r\n    protectedPayableSPInd: '',\r\n    instalmentInd: ''\r\n  };\r\n\r\n  @ViewChild('rejectionReasonDialog', {static: true})\r\n  public rejectionReasonComponent!: RejectionReasonComponent;\r\n\r\n  constructor(\r\n    private nspConfirmService: NspConfirmationService,\r\n    private toastService: CustomToastService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private messageService: MessageService,\r\n    private protectedPayableService: ProtectedPayableService,\r\n    private paymentService: PaymentService,\r\n    private fileUploadService: FileUploadService) {\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.subscribe(params => {\r\n      this.protectedPayableService.getProtectedPayable(params['protectedPayableId']).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          // console.log(this.route);\r\n          // Pipe response to an array of Interface model\r\n          this.pendingApprovalProtectedPayable = res.body.data;\r\n          if (!res.body.data) {\r\n            this.toastService.info(\"Protected Payable record not found\")\r\n            this.router.navigate(['/inbox']);\r\n          } else if (![N2Status.PENDING_APPROVAL, N2Status.PENDING_TERMINATED].includes(this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status])) {\r\n            this.toastService.info(\"Protected Payable record is neither pending approval nor pending termination\")\r\n            this.router.navigate(['/inbox']);\r\n          } else {\r\n            this.route.url.subscribe(routeUrl => {\r\n              if (routeUrl[0] && routeUrl[0].path === 'terminate') {\r\n                // bounce to inbox if at termination approval route and not 'PENDING TERMINATED'\r\n                if (this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status] !== N2Status.PENDING_TERMINATED) {\r\n                  this.toastService.info(\"Protected Payable record is not pending termination approval\")\r\n                  this.router.navigate(['/inbox']);\r\n                }\r\n                // Set flag & push message based on route URL\r\n                this.terminateProtectedPayableFlag = true;\r\n                this.messageService.add({severity:'warn', summary:'Warning', detail:'This protected payable record will be terminated upon approval'});\r\n              } else {\r\n                // bounce to inbox if at regular approval route and not 'PENDING APPROVAL'\r\n                if(this.n2StatusEnum[this.pendingApprovalProtectedPayable?.status] !== N2Status.PENDING_APPROVAL){\r\n                  this.toastService.info(\"Protected Payable record is not pending approval\")\r\n                  this.router.navigate(['/inbox']);\r\n                } else {\r\n                  // if route is regular + pending approval, clear msgs\r\n                  this.msgs = [];\r\n                }\r\n              }\r\n              // console.log(\"'terminateProtectedPayableFlag' value is now: \" + this.terminateProtectedPayableFlag);\r\n            })\r\n\r\n            this.protectServicePayFlag = this.pendingApprovalProtectedPayable.protectServicePayInd === 'Y' ? true : false;\r\n\r\n            // Sequentially call other APIs using the NRIC for the Protected Payable\r\n            this.paymentService.getSummaryByNric(this.pendingApprovalProtectedPayable?.nric).subscribe(\r\n              (summaryRes: HttpResponse<any>) => {\r\n                this.summary = summaryRes.body.data;\r\n                console.log(this.summary);\r\n              }\r\n            );\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error.message);\r\n          if (error.status === HttpStatusCode.NotFound) {\r\n            this.toastService.add({\r\n              severity: 'error',\r\n              summary: 'Error',\r\n              detail: 'No Protected Payable pending approval for the given Protected Payable ID'\r\n            });\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  onOpen(dialog: any): void {\r\n    console.log(\"Opening dialog now\")\r\n    dialog.display = true;\r\n  }\r\n\r\n  // Pop up the Confirmation dialog to Cancel current transaction\r\n  onCancel(event: Event, key: string, dialog: any): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\r\n      // Define function that will be called upon confirmation of the cancellation dialog\r\n      // Will route back to Inbox upon cancellation in this case\r\n      this.router.navigate(['/inbox']);\r\n    });\r\n  }\r\n\r\n  onSubmitApprove(event: Event, key: string, dialog?: any): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\r\n      // Call the service to either approve the record or approve the termination of a record\r\n      this.protectedPayableService.approve(this.pendingApprovalProtectedPayable.id).subscribe(res => {\r\n          if (res) {\r\n            if (res.ok) {\r\n              this.toastService.success(res.body.success_message);\r\n              this.router.navigate(['/inbox']);\r\n            }\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          if (error.status === HttpStatusCode.BadRequest) {\r\n            this.toastService.error(error.error.error_desc);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  onSubmitRejection(event: Event, key: string, dialog: any): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\r\n      // Call the service to reject the record\r\n      this.pendingApprovalProtectedPayable.reason = this.rejectionReasonComponent.rejectionReason;\r\n      this.protectedPayableService.reject(this.pendingApprovalProtectedPayable).subscribe(res => {\r\n          if (res) {\r\n            if (res.ok) {\r\n              this.toastService.success(res.body.success_message);\r\n              this.router.navigate(['/inbox']);\r\n            }\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          if (error.status === HttpStatusCode.BadRequest) {\r\n            this.toastService.add({\r\n              severity: 'error',\r\n              summary: 'Error',\r\n              detail: error?.error?.error_desc\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  downloadFromDMS(fileId: string) : void {\r\n    if(fileId) {\r\n      this.fileUploadService.downloadTxnId(fileId).subscribe(\r\n        res => {\r\n          if(res) {\r\n            const data = res;\r\n            const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n            const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');        \r\n            const blob = new Blob([data.body], { type: data.headers.get('content-type')});\r\n            const anchor = document.createElement(\"a\");\r\n            anchor.href = URL.createObjectURL(blob);\r\n            anchor.download = fileName;\r\n            anchor.click();\r\n          }\r\n        },\r\n        error => {\r\n          this.toastService.error(error.error?.error_desc);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<p-messages [closable]=\"false\"></p-messages>\r\n<div class='flex justify-content-center'>\r\n  <div class='flex flex-column gap-4' style='width: 60vw'>\r\n    <p-panel header='Personal Particulars'>\r\n      <div class='particulars'>\r\n        <h5>{{pendingApprovalProtectedPayable?.nric | defaultString}}   {{summary?.rank | defaultString}}   {{summary?.name | defaultString}}</h5>\r\n        <span>NSman (M)</span>\r\n        <span>CAB:</span><span>Y</span>\r\n        <span>Protected Payable:</span><span>{{summary?.protectedPayableInd === 'Y' ? 'Yes' : 'No' | defaultString}} {{summary?.protectedPayableSPInd === 'Y' ? '(Service Pay)' : ''}}</span>\r\n        <br />\r\n        <span>Outstanding Principal:</span><span>{{summary?.principalOS | currency:'SGD':'' | defaultString}}</span>\r\n        <span>Outstanding Interest:</span><span>{{summary?.interestOS | currency:'SGD':'' | defaultString}}</span>\r\n        <span>Instalment:</span><span>{{summary.instalmentInd === 'Y' ? 'Yes' : 'No' | defaultString}}</span>\r\n      </div>\r\n    </p-panel>\r\n\r\n    <p-panel header='Approve Protected Payable'>\r\n      <div class='flex flex-column gap-4'>\r\n        <div class='grid'>\r\n          <div class='col-3'>Protected Amount from Offset</div>\r\n          <div class='col-9 flex-auto flex gap-4'>\r\n            <div>{{pendingApprovalProtectedPayable?.protectedAmt | currency:'SGD':'' | defaultString}}</div>\r\n            <div class='flex gap-2'>\r\n              <div>\r\n                <p-checkbox [(ngModel)]='protectServicePayFlag' [binary]='true' [disabled]='true'></p-checkbox>\r\n              </div>\r\n              Protect Service Pay\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='grid'>\r\n          <div class='col-3'>Supporting Documents</div>\r\n          <div class='col-9'>\r\n            <p-table [value]='pendingApprovalProtectedPayable?.supportingDocs!'\r\n                     styleClass='p-datatable-gridlines' [paginator]='true'\r\n                     [rows]='5'\r\n                     [rowsPerPageOptions]='[10,25,50]'\r\n                     [showCurrentPageReport]='true'\r\n                     currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'>\r\n\r\n              <ng-template pTemplate='header'>\r\n                <tr>\r\n                  <th scope=\"col\" style='width: 20%'>SN</th>\r\n                  <th scope=\"col\" style='width: 80%'>Filename</th>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate='body' let-supportDoc let-i='rowIndex'>\r\n                <tr>\r\n                  <td>{{i + 1}}</td>\r\n                  <td><a href=\"javascript:void(0)\" (click)=\"downloadFromDMS(supportDoc.documentId)\">{{supportDoc.filename | defaultString}}</a></td>\r\n                </tr>\r\n              </ng-template>\r\n\r\n              <ng-template pTemplate='emptymessage'>\r\n                <tr>\r\n                  <td colspan='2'>No Supporting Documents found.</td>\r\n                </tr>\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </p-panel>\r\n    <div class='flex justify-content-end'>\r\n      <button class='p-button-danger' type='button' pButton label='Cancel' (click)=\"onCancel($event, 'protectedPayableCancel', null)\"\r\n              [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n      <button class='p-button-outlined' type='button' pButton label='Reject'\r\n              (click)=\"onOpen(displayRejectionReasonDialog)\"\r\n              [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n      <button type='button' pButton label='Approve' (click)=\"onSubmitApprove($event, 'protectedPayableApprove')\"\r\n              [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n      <p-confirmPopup key='protectedPayableCancel'></p-confirmPopup>\r\n      <p-confirmPopup key='protectedPayableApprove'></p-confirmPopup>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<p-dialog header='Reject Protected Payable' [(visible)]='displayRejectionReasonDialog.display'\r\n          [breakpoints]=\"{'960px': '75vw'}\"\r\n          [style]=\"{width: '50vw'}\" [draggable]='false' [resizable]='false' [modal]='true'>\r\n\r\n  <n2-rejection-reason #rejectionReasonDialog></n2-rejection-reason>\r\n\r\n  <ng-template pTemplate='footer'>\r\n    <button pButton class='p-button-danger' label='Cancel' (click)='displayRejectionReasonDialog.display=false'\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n    <button pButton label='Submit' [disabled]=\"!rejectionReasonComponent.rejectionReasonForm.valid\" (click)=\"onSubmitRejection($event, 'protectedPayableRejectConfirmation', displayRejectionReasonDialog)\"\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n  </ng-template>\r\n  <p-confirmPopup key='protectedPayableRejectConfirmation'></p-confirmPopup>\r\n</p-dialog>\r\n\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}