{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewAccountsReviewComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst http_1 = require(\"@angular/common/http\");\nconst api_1 = require(\"primeng/api\");\nconst nspay2_constants_1 = require(\"app/nspay2.constants\");\nconst overview_enum_model_1 = require(\"../../model/overview-enum.model\");\nconst account_status_pipe_1 = require(\"../../pipe/account-status.pipe\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"primeng/dynamicdialog\"));\nconst i2 = tslib_1.__importStar(require(\"../../service/access-right-review.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i9 = tslib_1.__importStar(require(\"../../pipe/account-status.pipe\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nfunction ViewAccountsReviewComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ViewAccountsReviewComponent_ng_template_10_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(8);\n      return i0.ɵɵresetView(ctx_r6.exportCSV(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_59_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"span\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const option_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r16.name);\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-multiSelect\", 50);\n    i0.ɵɵlistener(\"onChange\", function ViewAccountsReviewComponent_ng_template_12_ng_template_59_Template_p_multiSelect_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const filter_r14 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r14($event.value));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵtemplate(3, ViewAccountsReviewComponent_ng_template_12_ng_template_59_ng_template_3_Template, 4, 1, \"ng-template\", 51);\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const value_r13 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r13)(\"options\", ctx_r8.accountStatuses);\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 53);\n    i0.ɵɵlistener(\"onSelect\", function ViewAccountsReviewComponent_ng_template_12_ng_template_71_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const filter_r19 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r19($event));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                        \");\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_83_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 53);\n    i0.ɵɵlistener(\"onSelect\", function ViewAccountsReviewComponent_ng_template_12_ng_template_83_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const filter_r22 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r22($event));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                        \");\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_95_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 53);\n    i0.ɵɵlistener(\"onSelect\", function ViewAccountsReviewComponent_ng_template_12_ng_template_95_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const filter_r25 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r25($event));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                        \");\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_12_ng_template_125_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 53);\n    i0.ɵɵlistener(\"onSelect\", function ViewAccountsReviewComponent_ng_template_12_ng_template_125_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const filter_r28 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r28($event));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                        \");\n  }\n}\nconst _c0 = function () {\n  return {\n    \"min-width\": \"20%\"\n  };\n};\nconst _c1 = function () {\n  return {\n    \"min-width\": \"15%\"\n  };\n};\nconst _c2 = function () {\n  return {\n    \"min-width\": \"10%\"\n  };\n};\nfunction ViewAccountsReviewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementStart(6, \"th\", 13);\n    i0.ɵɵtext(7, \"\\n                    Name\\n                    \");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵelement(10, \"p-sortIcon\", 14);\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelement(12, \"p-columnFilter\", 15);\n    i0.ɵɵtext(13, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"th\", 16);\n    i0.ɵɵtext(16, \"\\n                    Email\\n                    \");\n    i0.ɵɵelement(17, \"br\");\n    i0.ɵɵtext(18, \"\\n                    \");\n    i0.ɵɵelement(19, \"p-sortIcon\", 17);\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelement(21, \"p-columnFilter\", 18);\n    i0.ɵɵtext(22, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                \");\n    i0.ɵɵelementStart(24, \"th\", 19);\n    i0.ɵɵtext(25, \"\\n                    Unit\\n                    \");\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵtext(27, \"\\n                    \");\n    i0.ɵɵelement(28, \"p-sortIcon\", 20);\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelement(30, \"p-columnFilter\", 21);\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n                \");\n    i0.ɵɵelementStart(33, \"th\", 22);\n    i0.ɵɵtext(34, \"\\n                    Role\\n                    \");\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelement(37, \"p-sortIcon\", 23);\n    i0.ɵɵtext(38, \"\\n                    \");\n    i0.ɵɵelement(39, \"p-columnFilter\", 24);\n    i0.ɵɵtext(40, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n                \");\n    i0.ɵɵelementStart(42, \"th\", 25);\n    i0.ɵɵtext(43, \"\\n                    Optional Role\\n                    \");\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵtext(45, \"\\n                    \");\n    i0.ɵɵelement(46, \"p-sortIcon\", 26);\n    i0.ɵɵtext(47, \"\\n                    \");\n    i0.ɵɵelement(48, \"p-columnFilter\", 27);\n    i0.ɵɵtext(49, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n                \");\n    i0.ɵɵelementStart(51, \"th\", 28);\n    i0.ɵɵtext(52, \"\\n                    Status\\n                    \");\n    i0.ɵɵelement(53, \"br\");\n    i0.ɵɵtext(54, \"\\n                    \");\n    i0.ɵɵelement(55, \"p-sortIcon\", 29);\n    i0.ɵɵtext(56, \"\\n                    \");\n    i0.ɵɵelementStart(57, \"p-columnFilter\", 30);\n    i0.ɵɵtext(58, \"\\n                    \");\n    i0.ɵɵtemplate(59, ViewAccountsReviewComponent_ng_template_12_ng_template_59_Template, 6, 2, \"ng-template\", 31);\n    i0.ɵɵtext(60, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \"\\n                \");\n    i0.ɵɵelementStart(63, \"th\", 32);\n    i0.ɵɵtext(64, \"\\n                    Expiry Date\\n                    \");\n    i0.ɵɵelement(65, \"br\");\n    i0.ɵɵtext(66, \"\\n                    \");\n    i0.ɵɵelement(67, \"p-sortIcon\", 33);\n    i0.ɵɵtext(68, \"\\n                    \");\n    i0.ɵɵelementStart(69, \"p-columnFilter\", 34);\n    i0.ɵɵtext(70, \"\\n                        \");\n    i0.ɵɵtemplate(71, ViewAccountsReviewComponent_ng_template_12_ng_template_71_Template, 4, 0, \"ng-template\", 31);\n    i0.ɵɵtext(72, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵelementStart(75, \"th\", 35);\n    i0.ɵɵtext(76, \"\\n                    Disabled Date\\n                    \");\n    i0.ɵɵelement(77, \"br\");\n    i0.ɵɵtext(78, \"\\n                    \");\n    i0.ɵɵelement(79, \"p-sortIcon\", 36);\n    i0.ɵɵtext(80, \"\\n                    \");\n    i0.ɵɵelementStart(81, \"p-columnFilter\", 37);\n    i0.ɵɵtext(82, \"\\n                        \");\n    i0.ɵɵtemplate(83, ViewAccountsReviewComponent_ng_template_12_ng_template_83_Template, 4, 0, \"ng-template\", 31);\n    i0.ɵɵtext(84, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(86, \"\\n                \");\n    i0.ɵɵelementStart(87, \"th\", 38);\n    i0.ɵɵtext(88, \"\\n                    Deleted Date\\n                    \");\n    i0.ɵɵelement(89, \"br\");\n    i0.ɵɵtext(90, \"\\n                    \");\n    i0.ɵɵelement(91, \"p-sortIcon\", 39);\n    i0.ɵɵtext(92, \"\\n                    \");\n    i0.ɵɵelementStart(93, \"p-columnFilter\", 40);\n    i0.ɵɵtext(94, \"\\n                        \");\n    i0.ɵɵtemplate(95, ViewAccountsReviewComponent_ng_template_12_ng_template_95_Template, 4, 0, \"ng-template\", 31);\n    i0.ɵɵtext(96, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(97, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(98, \"\\n                \");\n    i0.ɵɵelementStart(99, \"th\", 41);\n    i0.ɵɵtext(100, \"\\n                    Requestor\\n                    \");\n    i0.ɵɵelement(101, \"br\");\n    i0.ɵɵtext(102, \"\\n                    \");\n    i0.ɵɵelement(103, \"p-sortIcon\", 42);\n    i0.ɵɵtext(104, \"\\n                    \");\n    i0.ɵɵelement(105, \"p-columnFilter\", 43);\n    i0.ɵɵtext(106, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(107, \"\\n                \");\n    i0.ɵɵelementStart(108, \"th\", 44);\n    i0.ɵɵtext(109, \"\\n                    Approver\\n                    \");\n    i0.ɵɵelement(110, \"br\");\n    i0.ɵɵtext(111, \"\\n                    \");\n    i0.ɵɵelement(112, \"p-sortIcon\", 45);\n    i0.ɵɵtext(113, \"\\n                    \");\n    i0.ɵɵelement(114, \"p-columnFilter\", 46);\n    i0.ɵɵtext(115, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(116, \"\\n                \");\n    i0.ɵɵelementStart(117, \"th\", 47);\n    i0.ɵɵtext(118, \"\\n                    Effective Date\\n                    \");\n    i0.ɵɵelement(119, \"br\");\n    i0.ɵɵtext(120, \"\\n                    \");\n    i0.ɵɵelement(121, \"p-sortIcon\", 48);\n    i0.ɵɵtext(122, \"\\n                    \");\n    i0.ɵɵelementStart(123, \"p-columnFilter\", 49);\n    i0.ɵɵtext(124, \"\\n                        \");\n    i0.ɵɵtemplate(125, ViewAccountsReviewComponent_ng_template_12_ng_template_125_Template, 4, 0, \"ng-template\", 31);\n    i0.ɵɵtext(126, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(127, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(128, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(129, \"\\n        \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c0));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(28, _c0));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c1));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(30, _c2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(31, _c2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(32, _c2));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(33, _c1));\n    i0.ɵɵadvance(12);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(34, _c1));\n    i0.ɵɵadvance(12);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(35, _c1));\n    i0.ɵɵadvance(12);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(36, _c2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(37, _c2));\n    i0.ɵɵadvance(9);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(38, _c1));\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"accountStatusPipe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                \");\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n                \");\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n                \");\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                \");\n    i0.ɵɵelementStart(37, \"td\");\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n                \");\n    i0.ɵɵelementStart(40, \"td\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \"\\n                \");\n    i0.ɵɵelementStart(43, \"td\");\n    i0.ɵɵtext(44);\n    i0.ɵɵpipe(45, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n        \");\n  }\n  if (rf & 2) {\n    const accountsReviewList_r31 = ctx.$implicit;\n    const i_r32 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r32 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.unit);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.role);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.optionalRole);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 13, accountsReviewList_r31.status, accountsReviewList_r31.logicalDel));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(27, 16, accountsReviewList_r31.expiryDate, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(31, 19, accountsReviewList_r31.disabledDate, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 22, accountsReviewList_r31.deletedDate, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.lastRequestedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(accountsReviewList_r31.lastApprovedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(45, 25, accountsReviewList_r31.effectiveDate, \"dd-MM-yyyy\"));\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n  }\n}\nfunction ViewAccountsReviewComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"td\", 54);\n    i0.ɵɵtext(4, \"No records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n        \");\n  }\n}\nconst _c3 = function () {\n  return {\n    \"margin\": \"1rem 1.5rem 0.5rem 1.5rem\"\n  };\n};\nconst _c4 = function () {\n  return {\n    \"float\": \"right\"\n  };\n};\nconst _c5 = function () {\n  return {\n    \"padding\": \"1rem 1.5rem 0.5rem 1.5rem\"\n  };\n};\nconst _c6 = function () {\n  return [10, 25, 50];\n};\nclass ViewAccountsReviewComponent {\n  constructor(dialogRef, config, changeDetectorRef, accessRightReviewService, accountService, ns2HttpService, confirmationService, exportUtilsService, toastService, datePipe, accountStatusPipe, filterService) {\n    this.dialogRef = dialogRef;\n    this.config = config;\n    this.changeDetectorRef = changeDetectorRef;\n    this.accessRightReviewService = accessRightReviewService;\n    this.accountService = accountService;\n    this.ns2HttpService = ns2HttpService;\n    this.confirmationService = confirmationService;\n    this.exportUtilsService = exportUtilsService;\n    this.toastService = toastService;\n    this.datePipe = datePipe;\n    this.accountStatusPipe = accountStatusPipe;\n    this.filterService = filterService;\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n    // Enum\n    this.salutationEnum = overview_enum_model_1.Salutation;\n    // Filter\n    this.accountStatuses = [];\n  }\n  ngOnInit() {\n    console.log(\"Init View Account Review\");\n    this.selectedReview = this.config.data;\n    console.log(\"Review Information\", this.selectedReview);\n    this.closeBtnVisible = true;\n    this.cancelBtnVisible = false;\n    this.approveVerifyBtnVisible = false;\n    this.approveVerifyBtnDisabled = true;\n    this.approveVerifyBtnLabel = \"Verify\";\n    this.isApproveReview = false;\n    this.changeDetectorRef.detectChanges();\n    this.retrieveUserInfoAndSetAccess();\n    this.loadEnums();\n  }\n  loadEnums() {\n    for (const [key, value] of Object.entries(overview_enum_model_1.AccountStatus)) {\n      this.accountStatuses.push({\n        name: value,\n        value: key\n      });\n    }\n  }\n  loadData(event) {\n    console.log(\"Load data\");\n    this.lazyLoadEvent = event;\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, this.pageData, this.pageSize);\n    this.loading = true;\n    setTimeout(() => {\n      this.accessRightReviewService.getAccountSnapshot(options, this.selectedReview.aclReviewId).subscribe({\n        next: res => {\n          console.log(\"Account Snapshots\", res.body?.data?.content);\n          this.accountsReviewList = res.body?.data?.content;\n          this.totalRecords = res.body.data.totalElements;\n          this.loading = false;\n        },\n        error(err) {\n          console.log(err);\n        },\n        complete() {\n          console.log(\"View Accounts Review is Completed\");\n        }\n      });\n    }, 1000);\n  }\n  onPage(event) {\n    console.log(\"Page event\", event);\n    this.pageSize = event.rows;\n    this.pageData.currentPage = event.first / event.rows;\n  }\n  confirm(event) {\n    this.confirmationService.confirm({\n      target: event.target,\n      message: 'Good to go?',\n      icon: 'pi pi-exclamation-triangle',\n      acceptLabel: \"Proceed\",\n      rejectLabel: \"No\",\n      accept: () => {\n        // Actual logic to perform a confirmation\n        if (this.isApproveReview) {\n          this.ApproveReview();\n        } else {\n          this.VerifyReview();\n        }\n      },\n      reject: () => {\n        this.closeDialog(false);\n      }\n    });\n  }\n  ApproveReview() {\n    console.log(\"ApproveReview()\");\n    setTimeout(() => {\n      this.accessRightReviewService.putApproveReview(this.selectedReview.aclReviewId).subscribe({\n        next: res => {\n          console.log(res);\n          if (res.body?.status === 200 /* HttpStatusCode.Ok */) {\n            this.toastService.success(res.body?.success_message);\n            this.closeDialog(true);\n          }\n        },\n        error(error) {\n          console.log(error);\n        },\n        complete() {\n          console.log(\"ApproveReview(): Completed\");\n        }\n      });\n    }, 1000);\n  }\n  VerifyReview() {\n    console.log(\"VerifyReview()\");\n    setTimeout(() => {\n      this.accessRightReviewService.putVerifyReview(this.selectedReview.aclReviewId).subscribe({\n        next: res => {\n          console.log(res);\n          if (res.body?.status === 200 /* HttpStatusCode.Ok */) {\n            this.toastService.success(res.body?.success_message);\n            this.closeDialog(true);\n          }\n        },\n        error: error => {\n          console.log(\"error is\", String(error?.error?.error_desc));\n          const error_message = String(error?.error?.error_desc);\n          const same_opt_role = \"verified by a person with the same optional role\";\n          if (error_message.includes(same_opt_role)) {\n            this.toastService.error(error_message);\n          }\n        },\n        complete() {\n          console.log(\"ApproveReview(): Completed\");\n        }\n      });\n    }, 1000);\n  }\n  retrieveUserInfoAndSetAccess() {\n    console.log(\"Set Settings Btn Visbility\");\n    console.log(\"Get User Info\");\n    this.accountService.identity().subscribe(account => {\n      this.currentAccount = this.copyAccount(account, null);\n      console.log(\"Get User Optional Roles\");\n      this.accessRightReviewService.getUserOptionalRoles(this.currentAccount?.subjectId).subscribe(optionalRoles => {\n        this.userOptionalRoles = optionalRoles.body?.data;\n        this.setRolesBasedOptions();\n      });\n    });\n  }\n  copyAccount(account, unitId) {\n    return {\n      email: account.email,\n      firstName: account.firstName,\n      lastName: account.lastName,\n      login: account.username,\n      authorities: account.authorities,\n      groups: account.groups,\n      subjectId: account.subjectId,\n      unit: unitId\n    };\n  }\n  setRolesBasedOptions() {\n    // If review has already been approved.\n    if (this.selectedReview.reviewStatus === nspay2_constants_1.NSPAY2_STATUS.APPROVED) {\n      this.closeBtnVisible = true;\n      this.cancelBtnVisible = false;\n      this.approveVerifyBtnVisible = false;\n      this.approveVerifyBtnDisabled = true;\n      this.approveVerifyBtnLabel = \"Verify\";\n      this.isApproveReview = false;\n      this.changeDetectorRef.detectChanges();\n      console.log(\"Disable approve/verify options\");\n    }\n    // If review is awaiting approval\n    else if (this.userOptionalRoles[nspay2_constants_1.NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined && this.selectedReview.reviewStatus === nspay2_constants_1.NSPAY2_STATUS.PENDING_APPROVAL) {\n      this.closeBtnVisible = false;\n      this.cancelBtnVisible = true;\n      this.approveVerifyBtnVisible = true;\n      this.approveVerifyBtnDisabled = false;\n      this.approveVerifyBtnLabel = \"Approve\";\n      this.isApproveReview = true;\n      this.changeDetectorRef.detectChanges();\n      console.log(\"Enable approve options\");\n    }\n    // If review is pending first or second verification.\n    else if (this.selectedReview.reviewStatus === nspay2_constants_1.NSPAY2_STATUS.PENDING_FIRST_VERIFICATION || this.selectedReview.reviewStatus === nspay2_constants_1.NSPAY2_STATUS.PENDING_SECOND_VERIFICATION) {\n      // If user has verified the review previously\n      if (this.selectedReview.firstVerifiedBy === this.currentAccount.subjectId) {\n        this.closeBtnVisible = false;\n        this.cancelBtnVisible = true;\n        this.approveVerifyBtnVisible = true;\n        this.approveVerifyBtnDisabled = true;\n        this.approveVerifyBtnLabel = \"Verify\";\n        this.isApproveReview = false;\n        this.changeDetectorRef.detectChanges();\n        console.log(\"Show disabled verify button\");\n      } else {\n        // If user has verifier or supervisor role.\n        if (this.userOptionalRoles[nspay2_constants_1.NSPAY2_ROLES.ACCOUNT_REVIEW_VERIFIER] !== undefined || this.userOptionalRoles[nspay2_constants_1.NSPAY2_ROLES.ACCOUNT_REVIEW_SUPERVISOR] !== undefined) {\n          this.closeBtnVisible = false;\n          this.cancelBtnVisible = true;\n          this.approveVerifyBtnVisible = true;\n          this.approveVerifyBtnDisabled = false;\n          this.approveVerifyBtnLabel = \"Verify\";\n          this.isApproveReview = false;\n          this.changeDetectorRef.detectChanges();\n          console.log(\"Enable verify options\");\n        }\n        // If user has approver role.\n        else if (this.userOptionalRoles[nspay2_constants_1.NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined) {\n          this.closeBtnVisible = false;\n          this.cancelBtnVisible = true;\n          this.approveVerifyBtnVisible = true;\n          this.approveVerifyBtnDisabled = true;\n          this.approveVerifyBtnLabel = \"Approve\";\n          this.isApproveReview = false;\n          this.changeDetectorRef.detectChanges();\n          console.log(\"Disable approve options with btn visible\");\n        }\n        // Any uncovered conditions/roles\n        else {\n          this.closeBtnVisible = true;\n          this.cancelBtnVisible = false;\n          this.approveVerifyBtnVisible = false;\n          this.approveVerifyBtnDisabled = true;\n          this.approveVerifyBtnLabel = \"Verify\";\n          this.isApproveReview = false;\n          this.changeDetectorRef.detectChanges();\n          console.log(\"Disable approve/verify options\");\n        }\n      }\n    }\n  }\n  // TODO: Intergration\n  exportCSV(dataTable) {\n    console.log(\"exportCSV()\");\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\n    setTimeout(() => {\n      this.accessRightReviewService.getAccountSnapshotExport(options, this.selectedReview.aclReviewId).subscribe({\n        next: res => {\n          if (res.body?.data?.content) {\n            const data = res.body.data.content;\n            const columns = [{\n              field: 'sn',\n              header: 'SN',\n              index: 0\n            }, {\n              field: 'email',\n              header: 'Email',\n              index: 1\n            }, {\n              field: 'salutation',\n              header: 'Salutation',\n              index: 2\n            }, {\n              field: 'name',\n              header: 'Name',\n              index: 3\n            }, {\n              field: 'displayName',\n              header: 'Display Name',\n              index: 4\n            }, {\n              field: 'userInitials',\n              header: 'User Initials',\n              index: 5\n            }, {\n              field: 'appt',\n              header: 'Appointment',\n              index: 6\n            }, {\n              field: 'unit',\n              header: 'Unit',\n              index: 7\n            }, {\n              field: 'contactNumber',\n              header: 'Contact Number',\n              index: 8\n            }, {\n              field: 'role',\n              header: 'Role',\n              index: 9\n            }, {\n              field: 'optionalRole',\n              header: 'Optional Role',\n              index: 10\n            }, {\n              field: 'expiredOn',\n              header: 'Expired On',\n              index: 11\n            }, {\n              field: 'disabledOn',\n              header: 'Disabled On',\n              index: 12\n            }, {\n              field: 'deletedFlag',\n              header: 'Deleted Flag',\n              index: 13\n            }, {\n              field: 'deletedOn',\n              header: 'Deleted On',\n              index: 14\n            }, {\n              field: 'createdOn',\n              header: 'Created On',\n              index: 15\n            }, {\n              field: 'createdBy',\n              header: 'Created By',\n              index: 16\n            }, {\n              field: 'lastUpdatedOn',\n              header: 'Last Updated On',\n              index: 17\n            }, {\n              field: 'lastUpdatedBy',\n              header: 'Last Updated By',\n              index: 18\n            }, {\n              field: 'status',\n              header: 'Status',\n              index: 19\n            }];\n            const dtoList = [];\n            console.log(\"data\", data);\n            data.forEach((record, index) => {\n              const dto = {\n                sn: index + 1,\n                email: record.email,\n                salutation: this.salutationEnum[record.salutation],\n                name: record.name,\n                displayName: record.displayName,\n                userInitials: record.userInitial,\n                appt: record.appt,\n                unit: record.unit,\n                contactNumber: record.phoneNum,\n                role: record.role,\n                optionalRole: record.optionalRole,\n                expiredOn: this.datePipe.transform(record.expiryDate, 'dd-MM-yyyy'),\n                disabledOn: this.datePipe.transform(record.disabledDate, 'dd-MM-yyyy'),\n                deletedFlag: record.logicalDel,\n                deletedOn: this.datePipe.transform(record.deletedDate, 'dd-MM-yyyy'),\n                createdOn: this.datePipe.transform(record.createdDt, 'dd-MM-yyyy HH:mm:ss'),\n                createdBy: record.createdBy,\n                lastUpdatedBy: record.updatedBy,\n                lastUpdatedOn: this.datePipe.transform(record.updatedDt, 'dd-MM-yyyy HH:mm:ss'),\n                status: this.accountStatusPipe.transform(record.status, record.logicalDel)\n              };\n              dtoList.push(dto);\n            });\n            console.log(dtoList);\n            this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"Accounts Review Snapshot\");\n          }\n        },\n        error: err => {\n          console.log(err);\n          this.toastService.error(err.error?.error_desc);\n        },\n        complete() {\n          console.log(\"Current Access exportCSV() completed\");\n        }\n      });\n    }, 1000);\n  }\n  closeDialog(cond) {\n    this.dialogRef.close(cond);\n  }\n}\nexports.ViewAccountsReviewComponent = ViewAccountsReviewComponent;\nViewAccountsReviewComponent.ɵfac = function ViewAccountsReviewComponent_Factory(t) {\n  return new (t || ViewAccountsReviewComponent)(i0.ɵɵdirectiveInject(i1.DynamicDialogRef), i0.ɵɵdirectiveInject(i1.DynamicDialogConfig), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.AccessRightReviewService), i0.ɵɵdirectiveInject(i3.AccountService), i0.ɵɵdirectiveInject(i4.Ns2HttpService), i0.ɵɵdirectiveInject(i5.ConfirmationService), i0.ɵɵdirectiveInject(i6.ExportUtilsService), i0.ɵɵdirectiveInject(i7.CustomToastService), i0.ɵɵdirectiveInject(i8.DatePipe), i0.ɵɵdirectiveInject(i9.AccountStatusPipe), i0.ɵɵdirectiveInject(i5.FilterService));\n};\nViewAccountsReviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewAccountsReviewComponent,\n  selectors: [[\"n2-view-accounts-review\"]],\n  features: [i0.ɵɵProvidersFeature([api_1.ConfirmationService, common_1.DatePipe, account_status_pipe_1.AccountStatusPipe])],\n  decls: 36,\n  vars: 28,\n  consts: [[\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-times\", 1, \"p-button-rounded\", \"p-button-primary\", \"p-button-text\", 3, \"click\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"styleClass\", \"p-datatable-sm p-datatable-gridlines\", 3, \"value\", \"lazy\", \"loading\", \"paginator\", \"totalRecords\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\", \"onLazyLoad\", \"onPage\"], [\"dataTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"paginatorleft\"], [\"pTemplate\", \"emptymessage\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Close\", 1, \"p-button-primary\", 3, \"hidden\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"hidden\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", 1, \"p-button-success\", 3, \"hidden\", \"disabled\", \"label\", \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export to Excel\", \"tooltipPosition\", \"bottom\", 1, \"p-button-primary\", 3, \"click\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"name\"], [\"field\", \"name\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"name\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"email\"], [\"field\", \"email\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"email\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"unit\"], [\"field\", \"unit\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"unit\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"role\"], [\"field\", \"role\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"role\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"optionalRole\"], [\"field\", \"optionalRole\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"optionalRole\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"status\"], [\"field\", \"status\", 2, \"float\", \"left\"], [\"field\", \"status\", \"matchMode\", \"in\", \"display\", \"menu\", 2, \"float\", \"left\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"pTemplate\", \"filter\"], [\"scope\", \"col\", \"pSortableColumn\", \"expiryDate\"], [\"field\", \"expiryDate\", 2, \"float\", \"left\"], [\"type\", \"date\", \"field\", \"expiryDate\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"disabledDate\"], [\"field\", \"disabledDate\", 2, \"float\", \"left\"], [\"type\", \"date\", \"field\", \"disabledDate\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"deletedDate\"], [\"field\", \"deletedDate\", 2, \"float\", \"left\"], [\"type\", \"date\", \"field\", \"deletedDate\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"lastRequestedBy\"], [\"field\", \"lastRequestedBy\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"lastRequestedBy\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"lastApprovedBy\"], [\"field\", \"lastApprovedBy\", 2, \"float\", \"left\"], [\"type\", \"text\", \"field\", \"lastApprovedBy\", \"display\", \"menu\", 2, \"float\", \"left\"], [\"scope\", \"col\", \"pSortableColumn\", \"effectiveDate\"], [\"field\", \"effectiveDate\", 2, \"float\", \"left\"], [\"type\", \"date\", \"field\", \"effectiveDate\", \"display\", \"menu\", \"matchMode\", \"contains\", 2, \"float\", \"left\"], [\"placeholder\", \"Any\", \"optionLabel\", \"name\", \"optionValue\", \"value\", 3, \"ngModel\", \"options\", \"onChange\"], [\"pTemplate\", \"item\"], [1, \"ml-1\"], [\"dateFormat\", \"dd-mm-yy\", 3, \"onSelect\"], [\"colspan\", \"13\"]],\n  template: function ViewAccountsReviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function ViewAccountsReviewComponent_Template_button_click_2_listener() {\n        return ctx.closeDialog(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(3, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n\");\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵelementStart(7, \"p-table\", 1, 2);\n      i0.ɵɵlistener(\"onLazyLoad\", function ViewAccountsReviewComponent_Template_p_table_onLazyLoad_7_listener($event) {\n        return ctx.loadData($event);\n      })(\"onPage\", function ViewAccountsReviewComponent_Template_p_table_onPage_7_listener($event) {\n        return ctx.onPage($event);\n      });\n      i0.ɵɵtext(9, \"\\n        \");\n      i0.ɵɵtemplate(10, ViewAccountsReviewComponent_ng_template_10_Template, 6, 0, \"ng-template\", 3);\n      i0.ɵɵtext(11, \"\\n        \");\n      i0.ɵɵtemplate(12, ViewAccountsReviewComponent_ng_template_12_Template, 130, 39, \"ng-template\", 4);\n      i0.ɵɵtext(13, \"\\n        \");\n      i0.ɵɵtemplate(14, ViewAccountsReviewComponent_ng_template_14_Template, 48, 28, \"ng-template\", 5);\n      i0.ɵɵtext(15, \"\\n        \");\n      i0.ɵɵtemplate(16, ViewAccountsReviewComponent_ng_template_16_Template, 1, 0, \"ng-template\", 6);\n      i0.ɵɵtext(17, \"\\n        \");\n      i0.ɵɵtemplate(18, ViewAccountsReviewComponent_ng_template_18_Template, 7, 0, \"ng-template\", 7);\n      i0.ɵɵtext(19, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n    \");\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵtext(22, \"\\n    \");\n      i0.ɵɵelementStart(23, \"footer\");\n      i0.ɵɵtext(24, \"\\n        \");\n      i0.ɵɵelementStart(25, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ViewAccountsReviewComponent_Template_button_click_25_listener() {\n        return ctx.closeDialog(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n        \");\n      i0.ɵɵelementStart(27, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ViewAccountsReviewComponent_Template_button_click_27_listener() {\n        return ctx.closeDialog(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(28, \"\\n        \");\n      i0.ɵɵelementStart(29, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function ViewAccountsReviewComponent_Template_button_click_29_listener($event) {\n        return ctx.confirm($event);\n      });\n      i0.ɵɵtext(30, \"\\n            \");\n      i0.ɵɵelement(31, \"p-confirmPopup\");\n      i0.ɵɵtext(32, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(23, _c3));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate2(\"\\n    \", ctx.selectedReview.reviewMonth, \" Access Control Review (\", ctx.selectedReview.unitName, \")\\n    \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(24, _c4));\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(25, _c5));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.accountsReviewList)(\"lazy\", true)(\"loading\", ctx.loading)(\"paginator\", true)(\"totalRecords\", ctx.totalRecords)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(26, _c6))(\"showCurrentPageReport\", true);\n      i0.ɵɵadvance(16);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c4));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.closeBtnVisible);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.cancelBtnVisible);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.approveVerifyBtnVisible)(\"disabled\", ctx.approveVerifyBtnDisabled)(\"label\", ctx.approveVerifyBtnLabel);\n    }\n  },\n  dependencies: [i10.NgControlStatus, i10.NgModel, i5.PrimeTemplate, i11.ButtonDirective, i12.Tooltip, i13.Table, i13.SortableColumn, i13.SortIcon, i13.ColumnFilter, i14.ConfirmPopup, i15.Calendar, i16.MultiSelect, i8.DatePipe, i9.AccountStatusPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2aWV3LWFjY291bnRzLXJldmlldy5jb21wb25lbnQuc2NzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW4vYWNjZXNzLWNvbnRyb2wvb3ZlcnZpZXcvYWNjZXNzLXJpZ2h0LXJldmlldy92aWV3LWFjY291bnRzLXJldmlldy1tb2RhbC92aWV3LWFjY291bnRzLXJldmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esb0xBQW9MIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ViewAccountsReviewComponent","constructor","dialogRef","config","changeDetectorRef","accessRightReviewService","accountService","ns2HttpService","confirmationService","exportUtilsService","toastService","datePipe","accountStatusPipe","filterService","currentPage","overview_enum_model_1","ngOnInit","console","log","selectedReview","data","closeBtnVisible","cancelBtnVisible","approveVerifyBtnVisible","approveVerifyBtnDisabled","approveVerifyBtnLabel","isApproveReview","detectChanges","retrieveUserInfoAndSetAccess","loadEnums","key","value","Object","entries","accountStatuses","push","name","loadData","event","lazyLoadEvent","options","convertLazyEvent","pageData","pageSize","loading","setTimeout","getAccountSnapshot","aclReviewId","subscribe","next","res","body","content","accountsReviewList","totalRecords","totalElements","error","err","complete","onPage","rows","first","confirm","target","message","icon","acceptLabel","rejectLabel","accept","ApproveReview","VerifyReview","reject","closeDialog","putApproveReview","status","success","success_message","putVerifyReview","String","error_desc","error_message","same_opt_role","includes","identity","account","currentAccount","copyAccount","getUserOptionalRoles","subjectId","optionalRoles","userOptionalRoles","setRolesBasedOptions","unitId","email","firstName","lastName","login","username","authorities","groups","unit","reviewStatus","nspay2_constants_1","APPROVED","ACCOUNT_REVIEW_APPROVER","undefined","PENDING_APPROVAL","PENDING_FIRST_VERIFICATION","PENDING_SECOND_VERIFICATION","firstVerifiedBy","ACCOUNT_REVIEW_VERIFIER","ACCOUNT_REVIEW_SUPERVISOR","exportCSV","dataTable","getAccountSnapshotExport","columns","field","header","index","dtoList","forEach","record","dto","sn","salutation","salutationEnum","displayName","userInitials","userInitial","appt","contactNumber","phoneNum","role","optionalRole","expiredOn","transform","expiryDate","disabledOn","disabledDate","deletedFlag","logicalDel","deletedOn","deletedDate","createdOn","createdDt","createdBy","lastUpdatedBy","updatedBy","lastUpdatedOn","updatedDt","cond","close","exports","selectors","features","api_1","common_1","account_status_pipe_1","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-review\\view-accounts-review-modal\\view-accounts-review.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-review\\view-accounts-review-modal\\view-accounts-review.component.html"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { HttpErrorResponse, HttpResponse, HttpStatusCode } from '@angular/common/http';\r\nimport { Table } from 'primeng/table';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { FilterService } from 'primeng/api';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { DynamicDialogConfig, DynamicDialogRef } from 'primeng/dynamicdialog';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { NSPAY2_ROLES, NSPAY2_STATUS } from 'app/nspay2.constants';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { AccessRightReviewService } from '../../service/access-right-review.service';\r\nimport { IViewAccountsReview } from '../../model/access-right-review.model';\r\nimport { IReviews } from '../../model/access-right-review.model';\r\nimport { AccountStatus, Salutation } from '../../model/overview-enum.model';\r\nimport { AccountStatusPipe } from '../../pipe/account-status.pipe';\r\n\r\n@Component({\r\n  selector: 'n2-view-accounts-review',\r\n  templateUrl: './view-accounts-review.component.html',\r\n  styleUrls: ['./view-accounts-review.component.scss'],\r\n  providers: [ConfirmationService, DatePipe, AccountStatusPipe]\r\n})\r\n\r\nexport class ViewAccountsReviewComponent implements OnInit {\r\n\r\n  selectedReview: IReviews;\r\n  accountsReviewList: IViewAccountsReview[];\r\n\r\n  // User Info\r\n  currentAccount: any;\r\n  userOptionalRoles: any;\r\n\r\n  // Options Visbility\r\n  closeBtnVisible?: boolean;\r\n  cancelBtnVisible?: boolean;\r\n  approveVerifyBtnVisible?: boolean;\r\n\r\n  // Options Disable\r\n  approveVerifyBtnDisabled?: boolean;\r\n\r\n  // Options Label\r\n  approveVerifyBtnLabel?: string;\r\n\r\n  // Options isApprove\r\n  isApproveReview?: boolean;\r\n\r\n  // Lazy Loading\r\n  totalRecords?: number;\r\n  loading?: boolean;\r\n  pageData: { currentPage: number } = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  lazyLoadEvent: LazyLoadEvent;\r\n\r\n  // Enum\r\n  salutationEnum: { [key: string]: Salutation } = Salutation;\r\n\r\n  // Filter\r\n  accountStatuses: any[] = [];\r\n\r\n  constructor(\r\n    private dialogRef: DynamicDialogRef,\r\n    private config: DynamicDialogConfig,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    private accessRightReviewService: AccessRightReviewService,\r\n    private accountService: AccountService,\r\n    private ns2HttpService: Ns2HttpService,\r\n    private confirmationService: ConfirmationService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private toastService: CustomToastService,\r\n    private datePipe: DatePipe,\r\n    private accountStatusPipe: AccountStatusPipe,\r\n    private filterService: FilterService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"Init View Account Review\");\r\n    this.selectedReview = this.config.data;\r\n    console.log(\"Review Information\", this.selectedReview);\r\n    this.closeBtnVisible = true;\r\n    this.cancelBtnVisible = false;\r\n    this.approveVerifyBtnVisible = false;\r\n    this.approveVerifyBtnDisabled = true;\r\n    this.approveVerifyBtnLabel = \"Verify\";\r\n    this.isApproveReview = false;\r\n    this.changeDetectorRef.detectChanges();\r\n    this.retrieveUserInfoAndSetAccess();\r\n    this.loadEnums();\r\n  }\r\n\r\n  loadEnums(): void {\r\n    for (const [key, value] of Object.entries(AccountStatus)) {\r\n      this.accountStatuses.push(\r\n        { name: value, value: key }\r\n      );\r\n    }\r\n  }\r\n\r\n  loadData(event: LazyLoadEvent): void {\r\n    console.log(\"Load data\")\r\n    this.lazyLoadEvent = event;\r\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, this.pageData, this.pageSize);\r\n\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      this.accessRightReviewService.getAccountSnapshot(options, this.selectedReview.aclReviewId)\r\n        .subscribe(\r\n          {\r\n            next: (res?) => {\r\n              console.log(\"Account Snapshots\", res.body?.data?.content);\r\n              this.accountsReviewList = res.body?.data?.content\r\n              this.totalRecords = res.body.data.totalElements;\r\n              this.loading = false;\r\n            },\r\n            error(err) {\r\n              console.log(err);\r\n            },\r\n            complete() {\r\n              console.log(\"View Accounts Review is Completed\");\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n  onPage(event: any): void {\r\n    console.log(\"Page event\", event);\r\n    this.pageSize = event.rows;\r\n    this.pageData.currentPage = event.first / event.rows;\r\n  }\r\n\r\n  confirm(event: Event): void {\r\n    this.confirmationService.confirm({\r\n      target: event.target,\r\n      message: 'Good to go?',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      acceptLabel: \"Proceed\",\r\n      rejectLabel: \"No\",\r\n      accept: () => {\r\n        // Actual logic to perform a confirmation\r\n        if (this.isApproveReview) {\r\n          this.ApproveReview();\r\n        }\r\n        else {\r\n          this.VerifyReview();\r\n        }\r\n      },\r\n      reject: () => {\r\n        this.closeDialog(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  ApproveReview(): void {\r\n    console.log(\"ApproveReview()\")\r\n    setTimeout(() => {\r\n      this.accessRightReviewService.putApproveReview(this.selectedReview.aclReviewId)\r\n        .subscribe(\r\n          {\r\n            next: (res: HttpResponse<any>) => {\r\n              console.log(res)\r\n              if (res.body?.status === HttpStatusCode.Ok) {\r\n                this.toastService.success(res.body?.success_message)\r\n                this.closeDialog(true);\r\n              }\r\n            },\r\n            error(error: HttpErrorResponse) {\r\n              console.log(error);\r\n            },\r\n            complete() {\r\n              console.log(\"ApproveReview(): Completed\")\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n  VerifyReview(): void {\r\n    console.log(\"VerifyReview()\")\r\n    setTimeout(() => {\r\n      this.accessRightReviewService.putVerifyReview(this.selectedReview.aclReviewId)\r\n        .subscribe(\r\n          {\r\n            next: (res: HttpResponse<any>) => {\r\n              console.log(res)\r\n              if (res.body?.status === HttpStatusCode.Ok) {\r\n                this.toastService.success(res.body?.success_message)\r\n                this.closeDialog(true);\r\n              }\r\n            },\r\n            error: (error: HttpErrorResponse) => {\r\n              console.log(\"error is\", String(error?.error?.error_desc));\r\n              const error_message = String(error?.error?.error_desc);\r\n              const same_opt_role = \"verified by a person with the same optional role\";\r\n              if (error_message.includes(same_opt_role)) {\r\n                this.toastService.error(error_message);\r\n              }\r\n            },\r\n            complete() {\r\n              console.log(\"ApproveReview(): Completed\")\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n  retrieveUserInfoAndSetAccess(): void {\r\n    console.log(\"Set Settings Btn Visbility\")\r\n    console.log(\"Get User Info\")\r\n    this.accountService.identity().subscribe((account: any) => {\r\n      this.currentAccount = this.copyAccount(account, null);\r\n\r\n      console.log(\"Get User Optional Roles\")\r\n      this.accessRightReviewService.getUserOptionalRoles(this.currentAccount?.subjectId)\r\n        .subscribe((optionalRoles: any) => {\r\n          this.userOptionalRoles = optionalRoles.body?.data;\r\n          this.setRolesBasedOptions();\r\n        });\r\n    });\r\n  }\r\n\r\n  copyAccount(account: any, unitId: string): any {\r\n    return {\r\n      email: account.email,\r\n      firstName: account.firstName,\r\n      lastName: account.lastName,\r\n      login: account.username,\r\n      authorities: account.authorities,\r\n      groups: account.groups,\r\n      subjectId: account.subjectId,\r\n      unit: unitId,\r\n    };\r\n  }\r\n\r\n  setRolesBasedOptions(): void {\r\n    // If review has already been approved.\r\n    if (this.selectedReview.reviewStatus === NSPAY2_STATUS.APPROVED) {\r\n      this.closeBtnVisible = true;\r\n      this.cancelBtnVisible = false;\r\n      this.approveVerifyBtnVisible = false;\r\n      this.approveVerifyBtnDisabled = true;\r\n      this.approveVerifyBtnLabel = \"Verify\";\r\n      this.isApproveReview = false;\r\n      this.changeDetectorRef.detectChanges();\r\n      console.log(\"Disable approve/verify options\");\r\n    }\r\n    // If review is awaiting approval\r\n    else if ((this.userOptionalRoles[NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined)\r\n      && (this.selectedReview.reviewStatus === NSPAY2_STATUS.PENDING_APPROVAL)) {\r\n      this.closeBtnVisible = false;\r\n      this.cancelBtnVisible = true;\r\n      this.approveVerifyBtnVisible = true;\r\n      this.approveVerifyBtnDisabled = false;\r\n      this.approveVerifyBtnLabel = \"Approve\";\r\n      this.isApproveReview = true;\r\n      this.changeDetectorRef.detectChanges();\r\n      console.log(\"Enable approve options\")\r\n    }\r\n    // If review is pending first or second verification.\r\n    else if ((this.selectedReview.reviewStatus === NSPAY2_STATUS.PENDING_FIRST_VERIFICATION)\r\n      || (this.selectedReview.reviewStatus === NSPAY2_STATUS.PENDING_SECOND_VERIFICATION)) {\r\n      // If user has verified the review previously\r\n      if (this.selectedReview.firstVerifiedBy === this.currentAccount.subjectId) {\r\n        this.closeBtnVisible = false;\r\n        this.cancelBtnVisible = true;\r\n        this.approveVerifyBtnVisible = true;\r\n        this.approveVerifyBtnDisabled = true;\r\n        this.approveVerifyBtnLabel = \"Verify\";\r\n        this.isApproveReview = false;\r\n        this.changeDetectorRef.detectChanges();\r\n        console.log(\"Show disabled verify button\");\r\n      } else {\r\n        // If user has verifier or supervisor role.\r\n        if ((this.userOptionalRoles[NSPAY2_ROLES.ACCOUNT_REVIEW_VERIFIER] !== undefined)\r\n          || (this.userOptionalRoles[NSPAY2_ROLES.ACCOUNT_REVIEW_SUPERVISOR] !== undefined)) {\r\n          this.closeBtnVisible = false;\r\n          this.cancelBtnVisible = true;\r\n          this.approveVerifyBtnVisible = true;\r\n          this.approveVerifyBtnDisabled = false;\r\n          this.approveVerifyBtnLabel = \"Verify\";\r\n          this.isApproveReview = false;\r\n          this.changeDetectorRef.detectChanges();\r\n          console.log(\"Enable verify options\")\r\n        }\r\n        // If user has approver role.\r\n        else if (this.userOptionalRoles[NSPAY2_ROLES.ACCOUNT_REVIEW_APPROVER] !== undefined) {\r\n          this.closeBtnVisible = false;\r\n          this.cancelBtnVisible = true;\r\n          this.approveVerifyBtnVisible = true;\r\n          this.approveVerifyBtnDisabled = true;\r\n          this.approveVerifyBtnLabel = \"Approve\";\r\n          this.isApproveReview = false;\r\n          this.changeDetectorRef.detectChanges();\r\n          console.log(\"Disable approve options with btn visible\")\r\n        }\r\n        // Any uncovered conditions/roles\r\n        else {\r\n          this.closeBtnVisible = true;\r\n          this.cancelBtnVisible = false;\r\n          this.approveVerifyBtnVisible = false;\r\n          this.approveVerifyBtnDisabled = true;\r\n          this.approveVerifyBtnLabel = \"Verify\";\r\n          this.isApproveReview = false;\r\n          this.changeDetectorRef.detectChanges();\r\n          console.log(\"Disable approve/verify options\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO: Intergration\r\n  exportCSV(dataTable: Table): void {\r\n    console.log(\"exportCSV()\")\r\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\r\n    setTimeout(() => {\r\n      this.accessRightReviewService.getAccountSnapshotExport(options, this.selectedReview.aclReviewId)\r\n        .subscribe(\r\n          {\r\n            next: (res: HttpResponse<any>) => {\r\n              if (res.body?.data?.content) {\r\n                const data = res.body.data.content\r\n                const columns = [\r\n                  { field: 'sn', header: 'SN', index: 0 },\r\n                  { field: 'email', header: 'Email', index: 1 },\r\n                  { field: 'salutation', header: 'Salutation', index: 2 },\r\n                  { field: 'name', header: 'Name', index: 3 },\r\n                  { field: 'displayName', header: 'Display Name', index: 4 },\r\n                  { field: 'userInitials', header: 'User Initials', index: 5 },\r\n                  { field: 'appt', header: 'Appointment', index: 6 },\r\n                  { field: 'unit', header: 'Unit', index: 7 },\r\n                  { field: 'contactNumber', header: 'Contact Number', index: 8 },\r\n                  { field: 'role', header: 'Role', index: 9 },\r\n                  { field: 'optionalRole', header: 'Optional Role', index: 10 },\r\n                  { field: 'expiredOn', header: 'Expired On', index: 11 },\r\n                  { field: 'disabledOn', header: 'Disabled On', index: 12 },\r\n                  { field: 'deletedFlag', header: 'Deleted Flag', index: 13 },\r\n                  { field: 'deletedOn', header: 'Deleted On', index: 14 },\r\n                  { field: 'createdOn', header: 'Created On', index: 15 },\r\n                  { field: 'createdBy', header: 'Created By', index: 16 },\r\n                  { field: 'lastUpdatedOn', header: 'Last Updated On', index: 17 },\r\n                  { field: 'lastUpdatedBy', header: 'Last Updated By', index: 18 },\r\n                  { field: 'status', header: 'Status', index: 19 }\r\n                ];\r\n                const dtoList: any[] = [];\r\n                console.log(\"data\", data);\r\n                data.forEach((record: IViewAccountsReview, index: number) => {\r\n                  const dto = {\r\n                    sn: index + 1,\r\n                    email: record.email,\r\n                    salutation: this.salutationEnum[record.salutation],\r\n                    name: record.name,\r\n                    displayName: record.displayName,\r\n                    userInitials: record.userInitial,\r\n                    appt: record.appt,\r\n                    unit: record.unit,\r\n                    contactNumber: record.phoneNum,\r\n                    role: record.role,\r\n                    optionalRole: record.optionalRole,\r\n                    expiredOn: this.datePipe.transform(record.expiryDate, 'dd-MM-yyyy'),\r\n                    disabledOn: this.datePipe.transform(record.disabledDate, 'dd-MM-yyyy'),\r\n                    deletedFlag: record.logicalDel,\r\n                    deletedOn: this.datePipe.transform(record.deletedDate, 'dd-MM-yyyy'),\r\n                    createdOn: this.datePipe.transform(record.createdDt, 'dd-MM-yyyy HH:mm:ss'),\r\n                    createdBy: record.createdBy,\r\n                    lastUpdatedBy: record.updatedBy,\r\n                    lastUpdatedOn: this.datePipe.transform(record.updatedDt, 'dd-MM-yyyy HH:mm:ss'),\r\n                    status: this.accountStatusPipe.transform(record.status, record.logicalDel)\r\n                  }\r\n                  dtoList.push(dto);\r\n                });\r\n                console.log(dtoList)\r\n                this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"Accounts Review Snapshot\")\r\n              }\r\n            },\r\n            error: (err: HttpErrorResponse)=> {\r\n              console.log(err);\r\n              this.toastService.error(err.error?.error_desc)\r\n            },\r\n            complete() {\r\n              console.log(\"Current Access exportCSV() completed\");\r\n            }\r\n          }\r\n        )\r\n    }, 1000);\r\n  }\r\n\r\n  closeDialog(cond: boolean): void {\r\n    this.dialogRef.close(cond);\r\n  }\r\n\r\n}\r\n","<h2 [style]=\"{'margin':'1rem 1.5rem 0.5rem 1.5rem'}\">\r\n    {{selectedReview.reviewMonth}} Access Control Review ({{selectedReview.unitName}})\r\n    <button [style]=\"{'float':'right'}\" pButton pRipple type=\"button\" icon=\"pi pi-times\" (click)=\"closeDialog(false)\"\r\n        class=\"p-button-rounded p-button-primary p-button-text\"></button>\r\n</h2>\r\n<div [style]=\"{'padding':'1rem 1.5rem 0.5rem 1.5rem'}\">\r\n    <p-table #dataTable [value]=\"accountsReviewList\" [lazy]=\"true\" (onLazyLoad)=\"loadData($event)\" [loading]=\"loading\"\r\n        (onPage)=\"onPage($event)\" [paginator]=\"true\" [totalRecords]=\"totalRecords\" [rows]=\"10\"\r\n        [rowsPerPageOptions]=\"[10,25,50]\" [showCurrentPageReport]=\"true\"\r\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\r\n        styleClass=\"p-datatable-sm p-datatable-gridlines\">\r\n        <ng-template pTemplate=\"caption\">\r\n            <div>\r\n                <button pButton type=\"button\" class=\"p-button-primary\" icon=\"pi pi-file-o\" pTooltip=\"Export to Excel\"\r\n                    tooltipPosition=\"bottom\" (click)=\"exportCSV(dataTable)\"></button>\r\n            </div>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\">\r\n            <tr>\r\n                <th scope=\"col\">SN</th>\r\n                <th scope=\"col\" pSortableColumn=\"name\" [style]=\"{'min-width':'20%'}\">\r\n                    Name\r\n                    <br>\r\n                    <p-sortIcon field=\"name\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"name\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"email\" [style]=\"{'min-width':'20%'}\">\r\n                    Email\r\n                    <br>\r\n                    <p-sortIcon field=\"email\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"email\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"unit\" [style]=\"{'min-width':'15%'}\">\r\n                    Unit\r\n                    <br>\r\n                    <p-sortIcon field=\"unit\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"unit\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"role\" [style]=\"{'min-width':'10%'}\">\r\n                    Role\r\n                    <br>\r\n                    <p-sortIcon field=\"role\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"role\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"optionalRole\" [style]=\"{'min-width':'10%'}\">\r\n                    Optional Role\r\n                    <br>\r\n                    <p-sortIcon field=\"optionalRole\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"optionalRole\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"status\" [style]=\"{'min-width':'10%'}\">\r\n                    Status\r\n                    <br>\r\n                    <p-sortIcon field=\"status\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter field=\"status\" matchMode=\"in\" display=\"menu\" [showMatchModes]=\"false\"\r\n                    [showOperator]=\"false\" [showAddButton]=\"false\" style=\"float:left\">\r\n                    <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n                        <p-multiSelect [ngModel]=\"value\" [options]=\"accountStatuses\" placeholder=\"Any\"\r\n                            (onChange)=\"filter($event.value)\" optionLabel=\"name\" optionValue=\"value\">\r\n                            <ng-template let-option pTemplate=\"item\">\r\n                                <span class=\"ml-1\">{{option.name}}</span>\r\n                            </ng-template>\r\n                        </p-multiSelect>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"expiryDate\" [style]=\"{'min-width':'15%'}\">\r\n                    Expiry Date\r\n                    <br>\r\n                    <p-sortIcon field=\"expiryDate\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"date\" field=\"expiryDate\" display=\"menu\" style=\"float:left\"\r\n                        matchMode=\"contains\">\r\n                        <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                            </p-calendar>\r\n                        </ng-template>\r\n                    </p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"disabledDate\" [style]=\"{'min-width':'15%'}\">\r\n                    Disabled Date\r\n                    <br>\r\n                    <p-sortIcon field=\"disabledDate\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"date\" field=\"disabledDate\" display=\"menu\" style=\"float:left\"\r\n                        matchMode=\"contains\">\r\n                        <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                            </p-calendar>\r\n                        </ng-template>\r\n                    </p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"deletedDate\" [style]=\"{'min-width':'15%'}\">\r\n                    Deleted Date\r\n                    <br>\r\n                    <p-sortIcon field=\"deletedDate\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"date\" field=\"deletedDate\" display=\"menu\" style=\"float:left\"\r\n                        matchMode=\"contains\">\r\n                        <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                            </p-calendar>\r\n                        </ng-template>\r\n                    </p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"lastRequestedBy\" [style]=\"{'min-width':'10%'}\">\r\n                    Requestor\r\n                    <br>\r\n                    <p-sortIcon field=\"lastRequestedBy\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"lastRequestedBy\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"lastApprovedBy\" [style]=\"{'min-width':'10%'}\">\r\n                    Approver\r\n                    <br>\r\n                    <p-sortIcon field=\"lastApprovedBy\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"lastApprovedBy\" display=\"menu\" style=\"float:left\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn=\"effectiveDate\" [style]=\"{'min-width':'15%'}\">\r\n                    Effective Date\r\n                    <br>\r\n                    <p-sortIcon field=\"effectiveDate\" style=\"float:left\"></p-sortIcon>\r\n                    <p-columnFilter type=\"date\" field=\"effectiveDate\" display=\"menu\" style=\"float:left\"\r\n                        matchMode=\"contains\">\r\n                        <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n                            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter($event)\">\r\n                            </p-calendar>\r\n                        </ng-template>\r\n                    </p-columnFilter>\r\n                </th>\r\n            </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"body\" let-accountsReviewList let-i=\"rowIndex\">\r\n            <tr>\r\n                <td>{{ i+1 }}</td>\r\n                <td>{{ accountsReviewList.name }}</td>\r\n                <td>{{ accountsReviewList.email }}</td>\r\n                <td>{{ accountsReviewList.unit }}</td>\r\n                <td>{{ accountsReviewList.role }}</td>\r\n                <td>{{ accountsReviewList.optionalRole }}</td>\r\n                <td>{{ accountsReviewList.status | accountStatusPipe: accountsReviewList.logicalDel }}</td>\r\n                <td>{{ accountsReviewList.expiryDate | date:'dd-MM-yyyy' }}</td>\r\n                <td>{{ accountsReviewList.disabledDate | date:'dd-MM-yyyy' }}</td>\r\n                <td>{{ accountsReviewList.deletedDate | date:'dd-MM-yyyy' }}</td>\r\n                <td>{{ accountsReviewList.lastRequestedBy }}</td>\r\n                <td>{{ accountsReviewList.lastApprovedBy }}</td>\r\n                <td>{{ accountsReviewList.effectiveDate | date:'dd-MM-yyyy' }}</td>\r\n            </tr>\r\n        </ng-template>\r\n        <ng-template pTemplate=\"paginatorleft\">\r\n        </ng-template>\r\n        <ng-template pTemplate=\"emptymessage\">\r\n            <tr>\r\n                <td colspan=\"13\">No records found.</td>\r\n            </tr>\r\n        </ng-template>\r\n    </p-table>\r\n    <br>\r\n    <footer [style]=\"{'float':'right'}\">\r\n        <button [hidden]=\"!closeBtnVisible\" pButton pRipple type=\"button\" label=\"Close\" class=\"p-button-primary\"\r\n            (click)=\"closeDialog(false)\"></button>\r\n        <button [hidden]=\"!cancelBtnVisible\" pButton pRipple type=\"button\" label=\"Cancel\" class=\"p-button-danger\"\r\n            (click)=\"closeDialog(false)\"></button>\r\n        <button [hidden]=\"!approveVerifyBtnVisible\" [disabled]=\"approveVerifyBtnDisabled\" pButton pRipple type=\"button\"\r\n            [label]=\"approveVerifyBtnLabel\" class=\"p-button-success\" (click)=\"confirm($event)\">\r\n            <p-confirmPopup></p-confirmPopup>\r\n        </button>\r\n    </footer>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}