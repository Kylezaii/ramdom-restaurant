{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormlyCalendarMonthlyComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@ngx-formly/core\");\nconst rxjs_1 = require(\"rxjs\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i3 = tslib_1.__importStar(require(\"@ngx-formly/core\"));\nclass FormlyCalendarMonthlyComponent extends core_1.FieldType {\n  constructor() {\n    super();\n    this.minimum = this.getFirstDateOfMth();\n    this.maximum = new Date();\n    //  public maximum =  toDateParser(1664257896000);\n    this.onDestroy$ = new rxjs_1.Subject();\n  }\n  ngOnInit() {\n    if (this.field.validators) {\n      this.formControl.setValidators(this.field.validators.validation);\n    }\n    // this.formControl.valueChanges.pipe(\n    //   takeUntil(this.onDestroy$),\n    //   tap(v => {\n    //     this.model.expressionProperties = {\n    //       'templateOptions.disabled': v\n    //     };\n    //   }),\n    // ).subscribe();\n  }\n\n  ngOnDestroy() {\n    this.onDestroy$.next();\n    this.onDestroy$.complete();\n  }\n  dateCallbackFilter(event) {\n    console.log(\"called the\", event);\n  }\n  getFirstDateOfMth() {\n    return new Date(new Date().getFullYear(), new Date().getMonth(), 1);\n  }\n}\nexports.FormlyCalendarMonthlyComponent = FormlyCalendarMonthlyComponent;\nFormlyCalendarMonthlyComponent.ɵfac = function FormlyCalendarMonthlyComponent_Factory(t) {\n  return new (t || FormlyCalendarMonthlyComponent)();\n};\nFormlyCalendarMonthlyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormlyCalendarMonthlyComponent,\n  selectors: [[\"n2-formly-monthly-calendar\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 8,\n  consts: [[\"selectionMode\", \"single\", \"dateFormat\", \"dd/mm/yy\", \"input\", \"\", \"type\", \"input\", 3, \"placeholder\", \"formlyAttributes\", \"minDate\", \"maxDate\", \"showOtherMonths\", \"formControl\", \"onSelect\"]],\n  template: function FormlyCalendarMonthlyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"p-calendar\", 0);\n      i0.ɵɵlistener(\"onSelect\", function FormlyCalendarMonthlyComponent_Template_p_calendar_onSelect_2_listener($event) {\n        return ctx.dateCallbackFilter($event);\n      });\n      i0.ɵɵtext(3, \"\\n   class=\\\"form-control\\\"\\n  \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(4, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"ng-dirty\", ctx.showError);\n      i0.ɵɵproperty(\"placeholder\", ctx.to.placeholder)(\"formlyAttributes\", ctx.field)(\"minDate\", ctx.minimum)(\"maxDate\", ctx.maximum)(\"showOtherMonths\", false)(\"formControl\", ctx.formControl);\n    }\n  },\n  dependencies: [i1.NgControlStatus, i1.FormControlDirective, i2.Calendar, i3.ɵFormlyAttributes],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;AACA;AAEA;;;;;AAEA,MAoBaA,8BAA+B,SAAQC,gBAA0B;EAU7EC;IACE,KAAK,EAAE;IATF,YAAO,GAAI,IAAI,CAACC,iBAAiB,EAAE;IACnC,YAAO,GAAI,IAAIC,IAAI,EAAE;IAE5B;IAEA,eAAU,GAAG,IAAIC,cAAO,EAAQ;EAMhC;EAEAC,QAAQ;IACP,IAAI,IAAI,CAACC,KAAK,CAACC,UAAU,EAAE;MACzB,IAAI,CAACC,WAAW,CAACC,aAAa,CAAC,IAAI,CAACH,KAAK,CAACC,UAAU,CAACG,UAAU,CAAC;;IAElE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACD;;EAEAC,WAAW;IACV,IAAI,CAACC,UAAU,CAACC,IAAI,EAAE;IACtB,IAAI,CAACD,UAAU,CAACE,QAAQ,EAAE;EAE5B;EACCC,kBAAkB,CAACC,KAAY;IAC9BC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,KAAK,CAAC;EACjC;EAEAd,iBAAiB;IAChB,OAAO,IAAIC,IAAI,CAAC,IAAIA,IAAI,EAAE,CAACgB,WAAW,EAAE,EAAE,IAAIhB,IAAI,EAAE,CAACiB,QAAQ,EAAE,EAAE,CAAC,CAAC;EACpE;;AA5DDC;;mBAoBatB,8BAA8B;AAAA;;QAA9BA,8BAA8B;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAlB9BC,2BAAK;MAChBA;MAAAA,qCASoB;MAFnBA;QAAA,OAAYC,8BAA0B;MAAA,EAAC;MAGvCD,+CACD;MAAAA,iBAAa;MACfA;;;MAXIA,eAA4B;MAA5BA,yCAA4B;MADlBA,gDAA8B","names":["FormlyCalendarMonthlyComponent","core_1","constructor","getFirstDateOfMth","Date","rxjs_1","ngOnInit","field","validators","formControl","setValidators","validation","ngOnDestroy","onDestroy$","next","complete","dateCallbackFilter","event","console","log","getFullYear","getMonth","exports","selectors","features","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\shared\\component\\formly-input-field\\formly-calendar-monthly.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FieldType, FieldTypeConfig } from '@ngx-formly/core';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { Subject, takeUntil, tap } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'n2-formly-monthly-calendar',\r\n  template: `<div>\r\n  <p-calendar [placeholder]=\"to.placeholder\"\r\n    [class.ng-dirty]=\"showError\"  \r\n    [formlyAttributes]=\"field\"\r\n    [minDate] =\"minimum\"\r\n    [maxDate] = \"maximum\"\r\n    selectionMode = \"single\"\r\n    [showOtherMonths] = false\r\n   (onSelect)=\"dateCallbackFilter($event)\" dateFormat=\"dd/mm/yy\"  \r\n   [formControl]=\"formControl\"\r\n   input type=\"input\">\r\n   class=\"form-control\"\r\n  </p-calendar></div>\r\n`,\r\n})\r\n// [minDate] =\"minDate\"\r\n\r\n//custom for nspay2, otherwise use datepicker as name\r\nexport class FormlyCalendarMonthlyComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n\r\n public minimum =  this.getFirstDateOfMth();\r\n public maximum =  new Date();\r\n\r\n //  public maximum =  toDateParser(1664257896000);\r\n\r\n onDestroy$ = new Subject<void>();\r\n\r\n\r\n constructor(){\r\n   super();\r\n\r\n }\r\n\r\n ngOnInit() {\r\n  if (this.field.validators) {\r\n    this.formControl.setValidators(this.field.validators.validation);\r\n  }\r\n  // this.formControl.valueChanges.pipe(\r\n  //   takeUntil(this.onDestroy$),\r\n  //   tap(v => {\r\n  //     this.model.expressionProperties = {\r\n  //       'templateOptions.disabled': v\r\n  //     };\r\n  //   }),\r\n  // ).subscribe();\r\n }\r\n\r\n ngOnDestroy(): void {\r\n  this.onDestroy$.next();\r\n  this.onDestroy$.complete();\r\n\r\n}\r\n dateCallbackFilter(event: Event){\r\n  console.log(\"called the\", event);\r\n }\r\n \r\n getFirstDateOfMth(){\r\n  return new Date(new Date().getFullYear(), new Date().getMonth(), 1);\r\n }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}