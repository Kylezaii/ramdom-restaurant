{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewProfileComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"../../shared/language/translate.directive\"));\nfunction ViewProfileComponent_div_0_button_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"span\", 18);\n    i0.ɵɵtext(3, \"Change Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"span\", 4);\n    i0.ɵɵtext(7, \"View Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n    \");\n    i0.ɵɵelementStart(10, \"div\", 5);\n    i0.ɵɵtext(11, \"\\n      \");\n    i0.ɵɵelementStart(12, \"div\", 6);\n    i0.ɵɵtext(13, \"\\n        \");\n    i0.ɵɵelementStart(14, \"label\", 7);\n    i0.ɵɵtext(15, \"Login ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵelementStart(18, \"div\", 6);\n    i0.ɵɵtext(19, \"\\n        \");\n    i0.ɵɵelementStart(20, \"label\", 8);\n    i0.ɵɵtext(21, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n      \");\n    i0.ɵɵelementStart(24, \"div\", 6);\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementStart(26, \"label\", 9);\n    i0.ɵɵtext(27, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n      \");\n    i0.ɵɵelementStart(30, \"div\", 6);\n    i0.ɵɵtext(31, \"\\n        \");\n    i0.ɵɵelementStart(32, \"label\", 10);\n    i0.ɵɵtext(33, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n      \");\n    i0.ɵɵelementStart(36, \"div\", 6);\n    i0.ɵɵtext(37, \"\\n        \");\n    i0.ɵɵelementStart(38, \"label\", 11);\n    i0.ɵɵtext(39, \"Groups\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n      \");\n    i0.ɵɵelementStart(42, \"div\", 6);\n    i0.ɵɵtext(43, \"\\n        \");\n    i0.ɵɵelementStart(44, \"label\", 12);\n    i0.ɵɵtext(45, \"Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n  \");\n    i0.ɵɵelementStart(50, \"div\", 13);\n    i0.ɵɵtext(51, \"\\n    \");\n    i0.ɵɵelementStart(52, \"button\", 14);\n    i0.ɵɵtext(53, \"\\n      \");\n    i0.ɵɵelementStart(54, \"span\", 15);\n    i0.ɵɵtext(55, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n    \");\n    i0.ɵɵtemplate(58, ViewProfileComponent_div_0_button_58_Template, 5, 0, \"button\", 16);\n    i0.ɵɵtext(59, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.login, \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.firstName, \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.lastName, \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.email, \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.groups, \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", ctx_r0.currentAccount.authorities, \"\\n      \");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentAccount.loginMethod == \"PASSWORD\");\n  }\n}\nclass ViewProfileComponent {\n  constructor(accountService) {\n    this.accountService = accountService;\n  }\n  ngOnInit() {\n    this.accountService.identity().subscribe(account => {\n      this.currentAccount = this.copyAccount(account);\n    });\n  }\n  copyAccount(account) {\n    return {\n      email: account.email,\n      firstName: account.firstName,\n      lastName: account.lastName,\n      login: account.username,\n      authorities: account.authorities ? this.serializeArrayList(account.authorities) : '',\n      groups: account.groups ? this.serializeArrayList(account.groups) : '',\n      loginMethod: account.authMethod\n    };\n  }\n  serializeArrayList(array) {\n    if (array instanceof Array && array.length > 0) {\n      if (array.length === 1) {\n        return array.toString();\n      } else {\n        let tempStr = array.toString();\n        tempStr = tempStr.replace(',', ', ');\n        return tempStr;\n      }\n    }\n    return array;\n  }\n}\nexports.ViewProfileComponent = ViewProfileComponent;\nViewProfileComponent.ɵfac = function ViewProfileComponent_Factory(t) {\n  return new (t || ViewProfileComponent)(i0.ɵɵdirectiveInject(i1.AccountService));\n};\nViewProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewProfileComponent,\n  selectors: [[\"ic-view-profile\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[\"id\", \"view-profile\", \"class\", \"tab-pane\", \"style\", \"padding: 1.5% 0 1.5% 0\", 4, \"ngIf\"], [\"id\", \"view-profile\", 1, \"tab-pane\", 2, \"padding\", \"1.5% 0 1.5% 0\"], [1, \"card\"], [1, \"card-header\"], [\"icTranslate\", \"profile.tab.view\"], [1, \"card-block\", 2, \"padding\", \"1.5%\"], [1, \"rounded-pill\"], [\"icTranslate\", \"profile.form.loginid\", 1, \"col-sm-2\", \"form-control-label\"], [\"icTranslate\", \"profile.form.firstname\", 1, \"col-sm-2\", \"form-control-label\"], [\"icTranslate\", \"profile.form.lastname\", 1, \"col-sm-2\", \"form-control-label\"], [\"icTranslate\", \"global.form.email.label\", 1, \"col-sm-2\", \"form-control-label\"], [\"icTranslate\", \"profile.form.groups\", 1, \"col-sm-2\", \"form-control-label\"], [\"icTranslate\", \"profile.form.roles\", 1, \"col-sm-2\", \"form-control-label\"], [2, \"margin-top\", \"1.5%\"], [\"type\", \"button\", \"role\", \"button\", \"routerLink\", \"edit\", \"routerLinkActive\", \"active\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [\"icTranslate\", \"profile.form.edit\"], [\"type\", \"button\", \"class\", \"btn btn-primary btn-sm\", \"role\", \"button\", \"routerLink\", \"../password\", \"routerLinkActive\", \"active\", 4, \"ngIf\"], [\"type\", \"button\", \"role\", \"button\", \"routerLink\", \"../password\", \"routerLinkActive\", \"active\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [\"icTranslate\", \"profile.form.changepwd\"]],\n  template: function ViewProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ViewProfileComponent_div_0_Template, 61, 7, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.currentAccount);\n    }\n  },\n  dependencies: [i2.NgIf, i3.RouterLink, i3.RouterLinkActive, i4.TranslateDirective],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","ViewProfileComponent","constructor","accountService","ngOnInit","identity","subscribe","account","currentAccount","copyAccount","email","firstName","lastName","login","username","authorities","serializeArrayList","groups","loginMethod","authMethod","array","Array","length","toString","tempStr","replace","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\account\\profile\\view-profile.component.html","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\account\\profile\\view-profile.component.ts"],"sourcesContent":["<div id=\"view-profile\" class=\"tab-pane\" style=\"padding: 1.5% 0 1.5% 0\" *ngIf=\"currentAccount\">\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <span icTranslate=\"profile.tab.view\">View Profile</span>\r\n    </div>\r\n    <div class=\"card-block\" style=\"padding: 1.5%\">\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"profile.form.loginid\">Login ID</label>\r\n        {{ currentAccount.login }}\r\n      </div>\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"profile.form.firstname\">First Name</label>\r\n        {{ currentAccount.firstName }}\r\n      </div>\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"profile.form.lastname\">Last Name</label>\r\n        {{ currentAccount.lastName }}\r\n      </div>\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"global.form.email.label\">Email</label>\r\n        {{ currentAccount.email }}\r\n      </div>\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"profile.form.groups\">Groups</label>\r\n        {{ currentAccount.groups }}\r\n      </div>\r\n      <div class=\"rounded-pill\">\r\n        <label class=\"col-sm-2 form-control-label\" icTranslate=\"profile.form.roles\">Roles</label>\r\n        {{ currentAccount.authorities }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div style=\"margin-top: 1.5%\">\r\n    <button type=\"button\" class=\"btn btn-primary btn-sm\" role=\"button\" routerLink=\"edit\" routerLinkActive=\"active\">\r\n      <span icTranslate=\"profile.form.edit\">Edit</span>\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      *ngIf=\"currentAccount.loginMethod == 'PASSWORD'\"\r\n      class=\"btn btn-primary btn-sm\"\r\n      role=\"button\"\r\n      routerLink=\"../password\"\r\n      routerLinkActive=\"active\"\r\n    >\r\n      <span icTranslate=\"profile.form.changepwd\">Change Password</span>\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\n\r\n@Component({\r\n  selector: 'ic-view-profile',\r\n  templateUrl: './view-profile.component.html',\r\n})\r\nexport class ViewProfileComponent implements OnInit {\r\n  error: string | undefined;\r\n  success: string | undefined;\r\n  currentAccount: any;\r\n\r\n  constructor(private accountService: AccountService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.accountService.identity().subscribe(account => {\r\n      this.currentAccount = this.copyAccount(account);\r\n    });\r\n  }\r\n\r\n  copyAccount(account: any): any {\r\n    return {\r\n      email: account.email,\r\n      firstName: account.firstName,\r\n      lastName: account.lastName,\r\n      login: account.username,\r\n      authorities: account.authorities ? this.serializeArrayList(account.authorities) : '',\r\n      groups: account.groups ? this.serializeArrayList(account.groups) : '',\r\n      loginMethod: account.authMethod,\r\n    };\r\n  }\r\n\r\n  private serializeArrayList(array: any): unknown {\r\n    if (array instanceof Array && array.length > 0) {\r\n      if (array.length === 1) {\r\n        return array.toString();\r\n      } else {\r\n        let tempStr = array.toString();\r\n        tempStr = tempStr.replace(',', ', ');\r\n        return tempStr;\r\n      }\r\n    }\r\n    return array;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}