{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StopPaymentManualInsertComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst nspapp_constants_1 = require(\"app/shared/constants/nspapp.constants\");\nconst forms_1 = require(\"@angular/forms\");\nconst nric_directive_1 = require(\"app/shared/validator/nric.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i3 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/ripple\"));\nconst i11 = tslib_1.__importStar(require(\"../../../../shared/pipe/default-string.pipe\"));\nfunction StopPaymentManualInsertComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.invalidNricMsg);\n  }\n}\nfunction StopPaymentManualInsertComponent_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.requiredInputMsg);\n  }\n}\nfunction StopPaymentManualInsertComponent_ng_template_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 19);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function StopPaymentManualInsertComponent_ng_template_53_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.exportCSV());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n  \");\n  }\n}\nfunction StopPaymentManualInsertComponent_ng_template_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"th\", 21);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"th\", 22);\n    i0.ɵɵtext(7, \"NRIC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n      \");\n    i0.ɵɵelementStart(9, \"th\", 23);\n    i0.ɵɵtext(10, \"Remark\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n    i0.ɵɵelement(12, \"th\", 24);\n    i0.ɵɵtext(13, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n  \");\n  }\n}\nfunction StopPaymentManualInsertComponent_ng_template_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n      \");\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14, \"\\n        \");\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function StopPaymentManualInsertComponent_ng_template_57_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const stopPaymentRecord_r8 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.removeRow(stopPaymentRecord_r8 == null ? null : stopPaymentRecord_r8.nric));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n  \");\n  }\n  if (rf & 2) {\n    const stopPaymentRecord_r8 = ctx.$implicit;\n    const i_r9 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r9 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(8, 3, stopPaymentRecord_r8 == null ? null : stopPaymentRecord_r8.nric), \"\\n      \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 5, stopPaymentRecord_r8 == null ? null : stopPaymentRecord_r8.remark));\n  }\n}\nfunction StopPaymentManualInsertComponent_ng_template_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\", 26);\n    i0.ɵɵtext(4, \"No Stop Payment records to be inserted.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n  }\n}\nconst _c0 = function () {\n  return {\n    \"padding-top\": \"3px\"\n  };\n};\nconst _c1 = function () {\n  return {\n    \"margin-left\": \"2rem\"\n  };\n};\nconst _c2 = function () {\n  return [10, 25, 50];\n};\nclass StopPaymentManualInsertComponent {\n  constructor(fb, nspConfirmationService) {\n    this.fb = fb;\n    this.nspConfirmationService = nspConfirmationService;\n    this.invalidNricMsg = nspapp_constants_1.NSPAppConstants.INVALID_NRIC_FORMAT;\n    this.requiredInputMsg = nspapp_constants_1.NSPAppConstants.REQUIRED_INPUT_FIELD;\n    this.stopPaymentManualInsertMap = new Map();\n    this.maxRemarksChar = nspapp_constants_1.NSPAppConstants.MAXIMUM_REMARKS_CHARACTERS; // max num of chars\n    this.manualInsertForm = this.fb.group({\n      nricInputValue: new forms_1.FormControl(\"\", (0, nric_directive_1.NRICValidator)()),\n      remarksInputValue: new forms_1.FormControl(\"\", forms_1.Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.nricAlreadyExists = false;\n  }\n  exportCSV() {\n    // TODO: Implement export CSV function or call it from a utility class\n  }\n  addStopPayment() {\n    const nricToInsert = this.manualInsertForm.get('nricInputValue')?.value.toUpperCase();\n    console.log('Checking if map contains nricToReleaseId: ' + nricToInsert);\n    if (!this.stopPaymentManualInsertMap.has(nricToInsert)) {\n      const stopPaymentObj = {\n        nric: this.manualInsertForm.get('nricInputValue')?.value.toUpperCase(),\n        remark: this.manualInsertForm.get('remarksInputValue')?.value\n      };\n      this.stopPaymentManualInsertMap.set(stopPaymentObj.nric, stopPaymentObj);\n      this.nricAlreadyExists = false;\n    } else {\n      // Ignore if NRIC already exists & display error span\n      this.nricAlreadyExists = true;\n    }\n  }\n  removeRow(stopPaymentToInsertNric) {\n    // TODO: Implement removal of stop payment row record\n    this.stopPaymentManualInsertMap.delete(stopPaymentToInsertNric);\n  }\n  mapToArray(mapToConvert) {\n    return [...mapToConvert.values()];\n  }\n  resetNricAlreadyExists() {\n    this.nricAlreadyExists = false;\n  }\n}\nexports.StopPaymentManualInsertComponent = StopPaymentManualInsertComponent;\nStopPaymentManualInsertComponent.ɵfac = function StopPaymentManualInsertComponent_Factory(t) {\n  return new (t || StopPaymentManualInsertComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.NspConfirmationService));\n};\nStopPaymentManualInsertComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StopPaymentManualInsertComponent,\n  selectors: [[\"n2-stop-payment-manual-insert\"]],\n  decls: 62,\n  vars: 20,\n  consts: [[3, \"formGroup\"], [1, \"flex\", \"align-items-end\", \"gap-2\"], [1, \"flex\", \"align-items-center\", \"gap-2\"], [\"formControlName\", \"nricInputValue\", \"type\", \"text\", \"pInputText\", \"\", \"maxlength\", \"\", 3, \"input\"], [1, \"flex\", \"align-items-end\"], [\"class\", \"p-error\", 4, \"ngIf\"], [1, \"flex\", \"justify-content-between\", \"align-items-end\"], [1, \"flex-auto\"], [1, \"flex\", \"gap-2\"], [\"formControlName\", \"remarksInputValue\", \"pInputTextarea\", \"\", 1, \"flex-auto\", 3, \"maxLength\"], [1, \"flex\", \"align-items-end\", \"justify-content-end\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Add\", \"tooltipPosition\", \"bottom\", 3, \"disabled\", \"pTooltip\", \"click\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"p-error\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", 1, \"sn-header\"], [\"scope\", \"col\", 1, \"nric-header\"], [\"scope\", \"col\", 1, \"remark-header\"], [\"scope\", \"col\", 1, \"remove-row-header\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-times\", \"pTooltip\", \"Remove row\", \"tooltipPosition\", \"left\", 3, \"click\"], [\"colspan\", \"4\"]],\n  template: function StopPaymentManualInsertComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n      \");\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵtext(7, \"NRIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n      \");\n      i0.ɵɵelementStart(9, \"div\");\n      i0.ɵɵtext(10, \"\\n        \");\n      i0.ɵɵelementStart(11, \"input\", 3);\n      i0.ɵɵlistener(\"input\", function StopPaymentManualInsertComponent_Template_input_input_11_listener() {\n        return ctx.resetNricAlreadyExists();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n    \");\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵtext(16, \"\\n      \");\n      i0.ɵɵtemplate(17, StopPaymentManualInsertComponent_span_17_Template, 2, 1, \"span\", 5);\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\\n  \");\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵtext(22, \"\\n  \");\n      i0.ɵɵelementStart(23, \"div\", 6);\n      i0.ɵɵtext(24, \"\\n    \");\n      i0.ɵɵelementStart(25, \"div\", 7);\n      i0.ɵɵtext(26, \"\\n      \");\n      i0.ɵɵelementStart(27, \"h5\");\n      i0.ɵɵtext(28, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n      \");\n      i0.ɵɵelementStart(30, \"div\", 8);\n      i0.ɵɵtext(31, \"\\n          \");\n      i0.ɵɵelement(32, \"textarea\", 9);\n      i0.ɵɵtext(33, \"\\n        \");\n      i0.ɵɵelementStart(34, \"div\", 10);\n      i0.ɵɵtext(35, \"\\n        \");\n      i0.ɵɵtemplate(36, StopPaymentManualInsertComponent_span_36_Template, 2, 1, \"span\", 5);\n      i0.ɵɵtext(37, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n    \");\n      i0.ɵɵelementStart(41, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function StopPaymentManualInsertComponent_Template_button_click_41_listener() {\n        return ctx.addStopPayment();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(43, \"\\n  \");\n      i0.ɵɵelementStart(44, \"span\");\n      i0.ɵɵtext(45);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n\\n\");\n      i0.ɵɵelement(48, \"br\")(49, \"br\");\n      i0.ɵɵtext(50, \"\\n\");\n      i0.ɵɵelementStart(51, \"p-table\", 12);\n      i0.ɵɵtext(52, \"\\n  \");\n      i0.ɵɵtemplate(53, StopPaymentManualInsertComponent_ng_template_53_Template, 9, 0, \"ng-template\", 13);\n      i0.ɵɵtext(54, \"\\n  \");\n      i0.ɵɵtemplate(55, StopPaymentManualInsertComponent_ng_template_55_Template, 15, 0, \"ng-template\", 14);\n      i0.ɵɵtext(56, \"\\n\\n  \");\n      i0.ɵɵtemplate(57, StopPaymentManualInsertComponent_ng_template_57_Template, 19, 7, \"ng-template\", 15);\n      i0.ɵɵtext(58, \"\\n\\n  \");\n      i0.ɵɵtemplate(59, StopPaymentManualInsertComponent_ng_template_59_Template, 7, 0, \"ng-template\", 16);\n      i0.ɵɵtext(60, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(61, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_2_0;\n      let tmp_4_0;\n      let tmp_8_0;\n      i0.ɵɵproperty(\"formGroup\", ctx.manualInsertForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(17, _c0));\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", (ctx.manualInsertForm == null ? null : (tmp_2_0 = ctx.manualInsertForm.get(\"nricInputValue\")) == null ? null : tmp_2_0.hasError(\"nric\")) && (ctx.manualInsertForm == null ? null : (tmp_2_0 = ctx.manualInsertForm.get(\"nricInputValue\")) == null ? null : tmp_2_0.dirty));\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"maxLength\", ctx.maxRemarksChar);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", (ctx.manualInsertForm == null ? null : (tmp_4_0 = ctx.manualInsertForm.get(\"remarksInputValue\")) == null ? null : tmp_4_0.hasError(\"required\")) && (ctx.manualInsertForm == null ? null : (tmp_4_0 = ctx.manualInsertForm.get(\"remarksInputValue\")) == null ? null : tmp_4_0.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(18, _c1));\n      i0.ɵɵproperty(\"disabled\", !(ctx.manualInsertForm == null ? null : ctx.manualInsertForm.valid))(\"pTooltip\", !(ctx.manualInsertForm == null ? null : ctx.manualInsertForm.valid) ? \"Enter required values\" : \"Add record\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate2(\"Characters left: \", ctx.maxRemarksChar - (ctx.manualInsertForm == null ? null : (tmp_8_0 = ctx.manualInsertForm.get(\"remarksInputValue\")) == null ? null : tmp_8_0.value.length), \"\\n    of \", ctx.maxRemarksChar, \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"value\", ctx.mapToArray(ctx.stopPaymentManualInsertMap))(\"paginator\", true)(\"rows\", 5)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(19, _c2))(\"showCurrentPageReport\", true);\n    }\n  },\n  dependencies: [i3.ButtonDirective, i4.PrimeTemplate, i5.NgIf, i6.Tooltip, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName, i7.Table, i8.InputText, i9.InputTextarea, i10.Ripple, i11.DefaultStringPipe],\n  styles: [\".nric-label[_ngcontent-%COMP%] {\\n  margin-right: 1rem;\\n}\\n\\n.sn-header[_ngcontent-%COMP%] {\\n  width: 3rem;\\n}\\n\\n.nric-header[_ngcontent-%COMP%] {\\n  width: 5rem;\\n}\\n\\n.remark-header[_ngcontent-%COMP%] {\\n  width: 25rem;\\n}\\n\\n.remove-row-header[_ngcontent-%COMP%] {\\n  width: 3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3AtcGF5bWVudC1tYW51YWwtaW5zZXJ0LmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxccGF5bWVudFxcYmFua2ZpbGUtc3RvcC1wYXltZW50XFxzdG9wLXBheW1lbnRcXHN0b3AtcGF5bWVudC1tYW51YWwtaW5zZXJ0XFxzdG9wLXBheW1lbnQtbWFudWFsLWluc2VydC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3RvcC1wYXltZW50LW1hbnVhbC1pbnNlcnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubnJpYy1sYWJlbCB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xyXG59XHJcblxyXG4uc24taGVhZGVyIHtcclxuICB3aWR0aDogM3JlbTtcclxufVxyXG5cclxuLm5yaWMtaGVhZGVyIHtcclxuICB3aWR0aDogNXJlbTtcclxufVxyXG5cclxuLnJlbWFyay1oZWFkZXIge1xyXG4gIHdpZHRoOiAyNXJlbTtcclxufVxyXG5cclxuLnJlbW92ZS1yb3ctaGVhZGVyIHtcclxuICB3aWR0aDogM3JlbTtcclxufVxyXG4iLCIubnJpYy1sYWJlbCB7XG4gIG1hcmdpbi1yaWdodDogMXJlbTtcbn1cblxuLnNuLWhlYWRlciB7XG4gIHdpZHRoOiAzcmVtO1xufVxuXG4ubnJpYy1oZWFkZXIge1xuICB3aWR0aDogNXJlbTtcbn1cblxuLnJlbWFyay1oZWFkZXIge1xuICB3aWR0aDogMjVyZW07XG59XG5cbi5yZW1vdmUtcm93LWhlYWRlciB7XG4gIHdpZHRoOiAzcmVtO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9iYW5rZmlsZS1zdG9wLXBheW1lbnQvc3RvcC1wYXltZW50L3N0b3AtcGF5bWVudC1tYW51YWwtaW5zZXJ0L3N0b3AtcGF5bWVudC1tYW51YWwtaW5zZXJ0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9wYXltZW50L2JhbmtmaWxlLXN0b3AtcGF5bWVudC9zdG9wLXBheW1lbnQvc3RvcC1wYXltZW50LW1hbnVhbC1pbnNlcnQvc3RvcC1wYXltZW50LW1hbnVhbC1pbnNlcnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGO0FEQ0Esb3ZDQUFvdkMiLCJzb3VyY2VzQ29udGVudCI6WyIubnJpYy1sYWJlbCB7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xyXG59XHJcblxyXG4uc24taGVhZGVyIHtcclxuICB3aWR0aDogM3JlbTtcclxufVxyXG5cclxuLm5yaWMtaGVhZGVyIHtcclxuICB3aWR0aDogNXJlbTtcclxufVxyXG5cclxuLnJlbWFyay1oZWFkZXIge1xyXG4gIHdpZHRoOiAyNXJlbTtcclxufVxyXG5cclxuLnJlbW92ZS1yb3ctaGVhZGVyIHtcclxuICB3aWR0aDogM3JlbTtcclxufVxyXG4iLCIubnJpYy1sYWJlbCB7XG4gIG1hcmdpbi1yaWdodDogMXJlbTtcbn1cblxuLnNuLWhlYWRlciB7XG4gIHdpZHRoOiAzcmVtO1xufVxuXG4ubnJpYy1oZWFkZXIge1xuICB3aWR0aDogNXJlbTtcbn1cblxuLnJlbWFyay1oZWFkZXIge1xuICB3aWR0aDogMjVyZW07XG59XG5cbi5yZW1vdmUtcm93LWhlYWRlciB7XG4gIHdpZHRoOiAzcmVtO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","StopPaymentManualInsertComponent","constructor","fb","nspConfirmationService","nspapp_constants_1","INVALID_NRIC_FORMAT","REQUIRED_INPUT_FIELD","Map","MAXIMUM_REMARKS_CHARACTERS","group","nricInputValue","forms_1","remarksInputValue","required","ngOnInit","nricAlreadyExists","exportCSV","addStopPayment","nricToInsert","manualInsertForm","get","value","toUpperCase","console","log","stopPaymentManualInsertMap","has","stopPaymentObj","nric","remark","set","removeRow","stopPaymentToInsertNric","delete","mapToArray","mapToConvert","values","resetNricAlreadyExists","exports","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\bankfile-stop-payment\\stop-payment\\stop-payment-manual-insert\\stop-payment-manual-insert.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\bankfile-stop-payment\\stop-payment\\stop-payment-manual-insert\\stop-payment-manual-insert.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NSPAppConstants } from 'app/shared/constants/nspapp.constants';\r\nimport { IStopPayment } from 'app/payment/bankfile-stop-payment/stop-payment/model/stop-payment.model';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NRICValidator } from 'app/shared/validator/nric.directive';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\n\r\n@Component({\r\n  selector: 'n2-stop-payment-manual-insert',\r\n  templateUrl: './stop-payment-manual-insert.component.html',\r\n  styleUrls: ['./stop-payment-manual-insert.component.scss']\r\n})\r\nexport class StopPaymentManualInsertComponent implements OnInit {\r\n  nricAlreadyExists: boolean;\r\n  invalidNricMsg: string = NSPAppConstants.INVALID_NRIC_FORMAT;\r\n  requiredInputMsg: string = NSPAppConstants.REQUIRED_INPUT_FIELD;\r\n\r\n  stopPaymentManualInsertMap: Map<string, IStopPayment> = new Map<string, IStopPayment>();\r\n  maxRemarksChar: number = NSPAppConstants.MAXIMUM_REMARKS_CHARACTERS; // max num of chars\r\n\r\n  manualInsertForm: FormGroup = this.fb.group({\r\n    nricInputValue: new FormControl(\"\", NRICValidator()),\r\n    remarksInputValue: new FormControl(\"\", Validators.required)\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private nspConfirmationService: NspConfirmationService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.nricAlreadyExists = false;\r\n  }\r\n\r\n  exportCSV(): void {\r\n    // TODO: Implement export CSV function or call it from a utility class\r\n  }\r\n\r\n  addStopPayment(): void {\r\n    const nricToInsert: string = this.manualInsertForm.get('nricInputValue')?.value.toUpperCase();\r\n    console.log('Checking if map contains nricToReleaseId: ' + nricToInsert);\r\n    if (!this.stopPaymentManualInsertMap.has(nricToInsert)) {\r\n      const stopPaymentObj = <IStopPayment>{\r\n        nric: this.manualInsertForm.get('nricInputValue')?.value.toUpperCase(),\r\n        remark: this.manualInsertForm.get('remarksInputValue')?.value\r\n      };\r\n      this.stopPaymentManualInsertMap.set(stopPaymentObj.nric, stopPaymentObj);\r\n      this.nricAlreadyExists = false;\r\n    } else {\r\n      // Ignore if NRIC already exists & display error span\r\n      this.nricAlreadyExists = true;\r\n    }\r\n  }\r\n\r\n  removeRow(stopPaymentToInsertNric: string): void {\r\n    // TODO: Implement removal of stop payment row record\r\n    this.stopPaymentManualInsertMap.delete(stopPaymentToInsertNric);\r\n  }\r\n\r\n  mapToArray(mapToConvert: Map<string, IStopPayment>): IStopPayment[] {\r\n    return [...mapToConvert.values()];\r\n  }\r\n\r\n  resetNricAlreadyExists(): void {\r\n    this.nricAlreadyExists = false;\r\n  }\r\n}\r\n","<div [formGroup]='manualInsertForm'>\r\n  <div class='flex align-items-end gap-2'>\r\n    <div class='flex align-items-center gap-2' [style]=\"{'padding-top': '3px'}\">\r\n      <div>NRIC</div>\r\n      <div>\r\n        <input (input)='resetNricAlreadyExists()' formControlName='nricInputValue' type='text' pInputText\r\n               maxlength='' />\r\n      </div>\r\n\r\n    </div>\r\n    <div class='flex align-items-end'>\r\n      <span *ngIf=\"(manualInsertForm?.get('nricInputValue')?.hasError('nric')\r\n      && manualInsertForm?.get('nricInputValue')?.dirty)\" class='p-error'>{{invalidNricMsg}}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <br>\r\n  <div class='flex justify-content-between align-items-end'>\r\n    <div class='flex-auto'>\r\n      <h5>Remarks</h5>\r\n      <div class='flex gap-2'>\r\n          <textarea class='flex-auto' formControlName='remarksInputValue' pInputTextarea\r\n                    [maxLength]='maxRemarksChar'></textarea>\r\n        <div class='flex align-items-end justify-content-end'>\r\n        <span *ngIf=\"(manualInsertForm?.get('remarksInputValue')?.hasError('required')\r\n      && manualInsertForm?.get('remarksInputValue')?.dirty)\" class='p-error'>{{requiredInputMsg}}</span>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <button type='button' pButton pRipple label='Add' [disabled]='!manualInsertForm?.valid' (click)='addStopPayment()'\r\n            [pTooltip]='!manualInsertForm?.valid?\"Enter required values\":\"Add record\"' tooltipPosition='bottom'\r\n            [style]=\"{'margin-left': '2rem'}\"></button>\r\n  </div>\r\n  <span>Characters left: {{maxRemarksChar - manualInsertForm?.get('remarksInputValue')?.value.length}}\r\n    of {{maxRemarksChar}}</span>\r\n</div>\r\n\r\n<br><br>\r\n<p-table [value]='mapToArray(stopPaymentManualInsertMap)' styleClass='p-datatable-gridlines' [paginator]='true'\r\n         [rows]='5'\r\n         [rowsPerPageOptions]='[10,25,50]'\r\n         [showCurrentPageReport]='true'\r\n         currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'>\r\n  <ng-template pTemplate='caption'>\r\n    <div class='grid'>\r\n      <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>\r\n        <button type='button' pButton pRipple icon='pi pi-file-o' (click)='exportCSV()' pTooltip='Export as CSV'\r\n                tooltipPosition='bottom'></button>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template pTemplate='header'>\r\n    <tr>\r\n      <th scope=\"col\" class='sn-header'>SN</th>\r\n      <th scope=\"col\" class='nric-header'>NRIC</th>\r\n      <th scope=\"col\" class='remark-header'>Remark</th>\r\n      <th scope=\"col\" class='remove-row-header'></th>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate='body' let-stopPaymentRecord let-i='rowIndex'>\r\n    <tr>\r\n      <td>{{i + 1}}</td>\r\n      <td>{{stopPaymentRecord?.nric | defaultString}}\r\n      <td>{{stopPaymentRecord?.remark | defaultString}}</td>\r\n      <td>\r\n        <button type='button' pButton pRipple icon='pi pi-times' (click)='removeRow(stopPaymentRecord?.nric)'\r\n                pTooltip='Remove row'\r\n                tooltipPosition='left'></button>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate='emptymessage'>\r\n    <tr>\r\n      <td colspan='4'>No Stop Payment records to be inserted.</td>\r\n    </tr>\r\n  </ng-template>\r\n</p-table>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}