{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RoleEditComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst resource_model_1 = require(\"../resource/resource.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"./role.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/alert.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/event-manager.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i8 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/alert/alert.component\"));\nfunction RoleEditComponent_div_0_form_18_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementStart(2, \"label\", 35);\n    i0.ɵɵtext(3, \"Application\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n              \");\n    i0.ɵɵelementStart(5, \"div\", 27);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementStart(7, \"input\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleEditComponent_div_0_form_18_div_10_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.role.application.appName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r12.role.application.appName);\n  }\n}\nfunction RoleEditComponent_div_0_form_18_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementStart(2, \"label\", 35);\n    i0.ɵɵtext(3, \"Application\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n              \");\n    i0.ɵɵelementStart(5, \"div\", 27);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelement(7, \"input\", 37);\n    i0.ɵɵtext(8, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return [\"../../../../admin/acm/ic-role\"];\n};\nfunction RoleEditComponent_div_0_form_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 20, 21);\n    i0.ɵɵlistener(\"ngSubmit\", function RoleEditComponent_div_0_form_18_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.save());\n    });\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"div\", 8);\n    i0.ɵɵtext(6, \"Role Detail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵtemplate(10, RoleEditComponent_div_0_form_18_div_10_Template, 10, 1, \"div\", 22);\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵtemplate(12, RoleEditComponent_div_0_form_18_div_12_Template, 10, 0, \"div\", 22);\n    i0.ɵɵtext(13, \"\\n\\n            \");\n    i0.ɵɵelementStart(14, \"div\", 23);\n    i0.ɵɵtext(15, \"\\n              \");\n    i0.ɵɵelementStart(16, \"label\", 24);\n    i0.ɵɵtext(17, \"Role Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n\");\n    i0.ɵɵtext(19, \"\\n\");\n    i0.ɵɵtext(20, \"\\n\");\n    i0.ɵɵtext(21, \"\\n\");\n    i0.ɵɵtext(22, \"\\n\");\n    i0.ɵɵtext(23, \"\\n\");\n    i0.ɵɵtext(24, \"\\n\");\n    i0.ɵɵtext(25, \"\\n\");\n    i0.ɵɵtext(26, \"\\n\");\n    i0.ɵɵtext(27, \"\\n\");\n    i0.ɵɵtext(28, \"\\n\");\n    i0.ɵɵtext(29, \"\\n\");\n    i0.ɵɵtext(30, \"\\n\");\n    i0.ɵɵtext(31, \"\\n\");\n    i0.ɵɵtext(32, \"\\n\");\n    i0.ɵɵtext(33, \"\\n\");\n    i0.ɵɵtext(34, \"\\n\");\n    i0.ɵɵtext(35, \"\\n\");\n    i0.ɵɵtext(36, \"\\n\");\n    i0.ɵɵtext(37, \"\\n\");\n    i0.ɵɵtext(38, \"\\n\");\n    i0.ɵɵtext(39, \"\\n\");\n    i0.ɵɵtext(40, \"\\n\");\n    i0.ɵɵtext(41, \"\\n\");\n    i0.ɵɵtext(42, \"\\n\");\n    i0.ɵɵtext(43, \"\\n              \");\n    i0.ɵɵelementStart(44, \"label\", 25);\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n\\n              \");\n    i0.ɵɵelementStart(47, \"label\", 26);\n    i0.ɵɵtext(48, \"Role Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n              \");\n    i0.ɵɵelementStart(50, \"div\", 27);\n    i0.ɵɵtext(51, \"\\n                \");\n    i0.ɵɵelementStart(52, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleEditComponent_div_0_form_18_Template_input_ngModelChange_52_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.role.resourceName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n                \");\n    i0.ɵɵelementStart(54, \"div\", 29);\n    i0.ɵɵtext(55, \"\\n                  \");\n    i0.ɵɵelementStart(56, \"small\", 30);\n    i0.ɵɵtext(57, \"\\n                    This field is required.\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(59, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \"\\n\\n            \");\n    i0.ɵɵelementStart(62, \"div\", 23);\n    i0.ɵɵtext(63, \"\\n              \");\n    i0.ɵɵelementStart(64, \"div\", 4);\n    i0.ɵɵtext(65, \"\\n\");\n    i0.ɵɵtext(66, \"\\n\\n                \");\n    i0.ɵɵelementStart(67, \"button\", 31);\n    i0.ɵɵtext(68, \"\\n                  \");\n    i0.ɵɵelement(69, \"fa-icon\", 19);\n    i0.ɵɵtext(70, \"\\u00A0\");\n    i0.ɵɵelementStart(71, \"span\", 32);\n    i0.ɵɵtext(72, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵelementStart(75, \"button\", 33);\n    i0.ɵɵtext(76, \"\\n                  \");\n    i0.ɵɵelement(77, \"fa-icon\", 19);\n    i0.ɵɵtext(78, \"\\u00A0\");\n    i0.ɵɵelementStart(79, \"span\", 34);\n    i0.ɵɵtext(80, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(82, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(83, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(84, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(86, \"\\n      \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r11 = i0.ɵɵreference(1);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.role.application);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.role.application);\n    i0.ɵɵadvance(33);\n    i0.ɵɵtextInterpolate(ctx_r1.role.resourceId);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.role.resourceName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !((_r11.controls.resourceName == null ? null : _r11.controls.resourceName.dirty) && (_r11.controls.resourceName == null ? null : _r11.controls.resourceName.invalid)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(_r11.controls.resourceName == null ? null : _r11.controls.resourceName.errors == null ? null : _r11.controls.resourceName.errors.required));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", _r11.form.invalid || ctx_r1.isSaving);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"save\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"ban\");\n  }\n}\nfunction RoleEditComponent_div_0_tbody_58_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 39);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_tbody_58_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const user_r20 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.selectOneUser($event, user_r20));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                  \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                  \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                  \");\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r20 = ctx.$implicit;\n    const idx_r21 = ctx.index;\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r19.selectedAllUsers);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r21 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r20.firstName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r20.lastName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r20.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r20.status);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, RoleEditComponent_div_0_tbody_58_tr_2_Template, 20, 6, \"tr\", 38);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.assignedUsers);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 40);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleEditComponent_div_0_button_66_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_button_66_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.unAssignUsers());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 19);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.selectedUsers || ctx_r4.selectedUsers.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nfunction RoleEditComponent_div_0_tbody_107_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 39);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_tbody_107_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const role_r27 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r29.selectOneFunc($event, role_r27));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r27 = ctx.$implicit;\n    const idx_r28 = ctx.index;\n    const ctx_r26 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r26.selectedAllFuncs);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r28 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(role_r27.resourceName);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_107_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, RoleEditComponent_div_0_tbody_107_tr_2_Template, 11, 3, \"tr\", 38);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.assignedFuncs);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 42);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleEditComponent_div_0_button_115_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_button_115_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.unAssignFuncs());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 19);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Functions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.selectedFuncs || ctx_r7.selectedFuncs.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nfunction RoleEditComponent_div_0_tbody_156_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 39);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_tbody_156_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r37);\n      const group_r34 = restoredCtx.$implicit;\n      const ctx_r36 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r36.selectOneGroup($event, group_r34));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r34 = ctx.$implicit;\n    const idx_r35 = ctx.index;\n    const ctx_r33 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r33.selectedAllGroups);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r35 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(group_r34.groupName);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_156_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, RoleEditComponent_div_0_tbody_156_tr_2_Template, 11, 3, \"tr\", 38);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.assignedGroups);\n  }\n}\nfunction RoleEditComponent_div_0_tbody_158_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 42);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleEditComponent_div_0_button_164_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function RoleEditComponent_div_0_button_164_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r38.unAssignGroups());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 19);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Groups\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.selectedGroups || ctx_r10.selectedGroups.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nconst _c1 = function (a2) {\n  return [\"../assign\", \"users\", a2];\n};\nconst _c2 = function (a2) {\n  return [\"../assign\", \"funcs\", a2];\n};\nconst _c3 = function (a2) {\n  return [\"../assign\", \"groups\", a2];\n};\nfunction RoleEditComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"span\", 1);\n    i0.ɵɵtext(5, \"Edit Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n\\n  \");\n    i0.ɵɵelement(8, \"p\", 2);\n    i0.ɵɵtext(9, \"\\n  \");\n    i0.ɵɵelement(10, \"ic-alert\");\n    i0.ɵɵtext(11, \"\\n  \");\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \"\\n  \");\n    i0.ɵɵelementStart(14, \"div\", 3);\n    i0.ɵɵtext(15, \"\\n    \");\n    i0.ɵɵelementStart(16, \"div\", 4);\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵtemplate(18, RoleEditComponent_div_0_form_18_Template, 87, 11, \"form\", 5);\n    i0.ɵɵtext(19, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n\\n    \");\n    i0.ɵɵelementStart(21, \"div\", 6);\n    i0.ɵɵtext(22, \"\\n      \");\n    i0.ɵɵelementStart(23, \"div\", 7);\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelementStart(25, \"div\", 8);\n    i0.ɵɵtext(26, \"Users Assigned to Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n        \");\n    i0.ɵɵelementStart(28, \"div\", 9);\n    i0.ɵɵtext(29, \"\\n          \");\n    i0.ɵɵelementStart(30, \"div\", 10);\n    i0.ɵɵtext(31, \"\\n            \");\n    i0.ɵɵelementStart(32, \"table\", 11);\n    i0.ɵɵtext(33, \"\\n              \");\n    i0.ɵɵelementStart(34, \"thead\");\n    i0.ɵɵtext(35, \"\\n                \");\n    i0.ɵɵelementStart(36, \"tr\");\n    i0.ɵɵtext(37, \"\\n                  \");\n    i0.ɵɵelementStart(38, \"th\", 12)(39, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleEditComponent_div_0_Template_input_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.selectedAllUsers = $event);\n    })(\"click\", function RoleEditComponent_div_0_Template_input_click_39_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.selectAllUsers($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(40, \"\\n                  \");\n    i0.ɵɵelementStart(41, \"th\", 14);\n    i0.ɵɵtext(42, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n                  \");\n    i0.ɵɵelementStart(44, \"th\", 15);\n    i0.ɵɵtext(45, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                  \");\n    i0.ɵɵelementStart(47, \"th\", 15);\n    i0.ɵɵtext(48, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n                  \");\n    i0.ɵɵelementStart(50, \"th\", 15);\n    i0.ɵɵtext(51, \"Email Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n                  \");\n    i0.ɵɵelementStart(53, \"th\", 15);\n    i0.ɵɵtext(54, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n              \");\n    i0.ɵɵtemplate(58, RoleEditComponent_div_0_tbody_58_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(59, \"\\n              \");\n    i0.ɵɵtemplate(60, RoleEditComponent_div_0_tbody_60_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(61, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \"\\n\\n          \");\n    i0.ɵɵelementStart(64, \"div\", 16);\n    i0.ɵɵtext(65, \"\\n            \");\n    i0.ɵɵtemplate(66, RoleEditComponent_div_0_button_66_Template, 6, 2, \"button\", 17);\n    i0.ɵɵtext(67, \"\\n            \");\n    i0.ɵɵelementStart(68, \"button\", 18);\n    i0.ɵɵtext(69, \"\\n              \");\n    i0.ɵɵelement(70, \"fa-icon\", 19);\n    i0.ɵɵelementStart(71, \"span\");\n    i0.ɵɵtext(72, \"\\u00A0Assign Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(75, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(76, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n\\n    \");\n    i0.ɵɵelementStart(79, \"div\", 6);\n    i0.ɵɵtext(80, \"\\n      \");\n    i0.ɵɵelementStart(81, \"div\", 7);\n    i0.ɵɵtext(82, \"\\n        \");\n    i0.ɵɵelementStart(83, \"div\", 8);\n    i0.ɵɵtext(84, \"Functions Assigned to Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n        \");\n    i0.ɵɵelementStart(86, \"div\", 9);\n    i0.ɵɵtext(87, \"\\n          \");\n    i0.ɵɵelementStart(88, \"div\", 10);\n    i0.ɵɵtext(89, \"\\n            \");\n    i0.ɵɵelementStart(90, \"table\", 11);\n    i0.ɵɵtext(91, \"\\n              \");\n    i0.ɵɵelementStart(92, \"thead\");\n    i0.ɵɵtext(93, \"\\n                \");\n    i0.ɵɵelementStart(94, \"tr\");\n    i0.ɵɵtext(95, \"\\n                  \");\n    i0.ɵɵelementStart(96, \"th\", 12)(97, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleEditComponent_div_0_Template_input_ngModelChange_97_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.selectedAllFuncs = $event);\n    })(\"click\", function RoleEditComponent_div_0_Template_input_click_97_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.selectAllFuncs($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(98, \"\\n                  \");\n    i0.ɵɵelementStart(99, \"th\", 14);\n    i0.ɵɵtext(100, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(101, \"\\n                  \");\n    i0.ɵɵelementStart(102, \"th\", 15);\n    i0.ɵɵtext(103, \"Function Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(104, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(105, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(106, \"\\n              \");\n    i0.ɵɵtemplate(107, RoleEditComponent_div_0_tbody_107_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(108, \"\\n              \");\n    i0.ɵɵtemplate(109, RoleEditComponent_div_0_tbody_109_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(110, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(111, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(112, \"\\n\\n          \");\n    i0.ɵɵelementStart(113, \"div\", 16);\n    i0.ɵɵtext(114, \"\\n            \");\n    i0.ɵɵtemplate(115, RoleEditComponent_div_0_button_115_Template, 6, 2, \"button\", 17);\n    i0.ɵɵtext(116, \"\\n            \");\n    i0.ɵɵelementStart(117, \"button\", 18);\n    i0.ɵɵtext(118, \"\\n              \");\n    i0.ɵɵelement(119, \"fa-icon\", 19);\n    i0.ɵɵelementStart(120, \"span\");\n    i0.ɵɵtext(121, \"\\u00A0Assign Functions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(122, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(123, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(124, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(125, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(126, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(127, \"\\n\\n    \");\n    i0.ɵɵelementStart(128, \"div\", 6);\n    i0.ɵɵtext(129, \"\\n      \");\n    i0.ɵɵelementStart(130, \"div\", 7);\n    i0.ɵɵtext(131, \"\\n        \");\n    i0.ɵɵelementStart(132, \"div\", 8);\n    i0.ɵɵtext(133, \"Groups Assigned to Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(134, \"\\n        \");\n    i0.ɵɵelementStart(135, \"div\", 9);\n    i0.ɵɵtext(136, \"\\n          \");\n    i0.ɵɵelementStart(137, \"div\", 10);\n    i0.ɵɵtext(138, \"\\n            \");\n    i0.ɵɵelementStart(139, \"table\", 11);\n    i0.ɵɵtext(140, \"\\n              \");\n    i0.ɵɵelementStart(141, \"thead\");\n    i0.ɵɵtext(142, \"\\n                \");\n    i0.ɵɵelementStart(143, \"tr\");\n    i0.ɵɵtext(144, \"\\n                  \");\n    i0.ɵɵelementStart(145, \"th\", 12)(146, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function RoleEditComponent_div_0_Template_input_ngModelChange_146_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.selectedAllGroups = $event);\n    })(\"click\", function RoleEditComponent_div_0_Template_input_click_146_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.selectAllGroups($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(147, \"\\n                  \");\n    i0.ɵɵelementStart(148, \"th\", 14);\n    i0.ɵɵtext(149, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(150, \"\\n                  \");\n    i0.ɵɵelementStart(151, \"th\", 15);\n    i0.ɵɵtext(152, \"Group Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(153, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(154, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(155, \"\\n              \");\n    i0.ɵɵtemplate(156, RoleEditComponent_div_0_tbody_156_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(157, \"\\n              \");\n    i0.ɵɵtemplate(158, RoleEditComponent_div_0_tbody_158_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(159, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(160, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(161, \"\\n\\n          \");\n    i0.ɵɵelementStart(162, \"div\", 16);\n    i0.ɵɵtext(163, \"\\n            \");\n    i0.ɵɵtemplate(164, RoleEditComponent_div_0_button_164_Template, 6, 2, \"button\", 17);\n    i0.ɵɵtext(165, \"\\n            \");\n    i0.ɵɵelementStart(166, \"button\", 18);\n    i0.ɵɵtext(167, \"\\n              \");\n    i0.ɵɵelement(168, \"fa-icon\", 19);\n    i0.ɵɵelementStart(169, \"span\");\n    i0.ɵɵtext(170, \"\\u00A0Assign Groups\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(171, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(172, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(173, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(174, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(175, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(176, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(177, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.role);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllUsers);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(22, _c1, ctx_r0.role.resourceId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n    i0.ɵɵadvance(27);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllFuncs);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFuncsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFuncsLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFuncsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(24, _c2, ctx_r0.role.resourceId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n    i0.ɵɵadvance(27);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllGroups);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedGroupsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedGroupsLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedGroupsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(26, _c3, ctx_r0.role.resourceId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n  }\n}\nclass RoleEditComponent {\n  constructor(roleService, alertService, route, eventManager) {\n    this.roleService = roleService;\n    this.alertService = alertService;\n    this.route = route;\n    this.eventManager = eventManager;\n    this.role = new resource_model_1.Resource();\n    this.assignedUsers = [];\n    this.assignedFuncs = [];\n    this.assignedGroups = [];\n    this.selectedUsers = [];\n    this.selectedFuncs = [];\n    this.selectedGroups = [];\n  }\n  ngOnInit() {\n    this.isSaving = false;\n    this.subscription = this.route.params.subscribe(params => {\n      this.resourceId = params['id'];\n    });\n    // get role object\n    this.load(this.resourceId);\n    // get all assigned users, functions, groups\n    this.getAllAssignedUsers(this.resourceId);\n    this.getAllAssignedFuncs(this.resourceId);\n    this.getAllAssignedGroups(this.resourceId);\n    // register change\n    this.registerChangeInAssignedUsers();\n    this.registerChangeInAssignedFuncs();\n    this.registerChangeInAssignedGroups();\n  }\n  ngOnDestroy() {\n    if (this.eventSubscriber) {\n      this.eventManager.destroy(this.eventSubscriber);\n    }\n  }\n  load(id) {\n    this.roleService.find(id).subscribe(role => {\n      this.role = role;\n    });\n  }\n  getAllAssignedUsers(resourceId) {\n    this.roleService.findAllAssignedUsers(resourceId).subscribe(res => {\n      this.assignedUsers = res.body;\n      this.selectedAllUsers = false;\n      this.selectedUsers = [];\n    }, res => this.onError(res.body));\n  }\n  getAllAssignedFuncs(resourceId) {\n    this.roleService.findAllAssignedFuncs(resourceId).subscribe(res => {\n      this.assignedFuncs = res.body;\n      this.selectedAllFuncs = false;\n      this.selectedFuncs = [];\n    }, res => this.onError(res.body));\n  }\n  getAllAssignedGroups(resourceId) {\n    this.roleService.findAllAssignedGroups(resourceId).subscribe(res => {\n      this.assignedGroups = res.body;\n      this.selectedAllGroups = false;\n      this.selectedGroups = [];\n    }, res => this.onError(res.body));\n  }\n  save() {\n    this.isSaving = true;\n    this.subscribeToSaveResponse(this.roleService.update(this.role));\n  }\n  lowerCaseRoleId() {\n    if (this.role.resourceId) {\n      this.role.resourceId = this.role.resourceId.toLowerCase();\n    }\n  }\n  selectAllUsers(event) {\n    this.selectedUsers = [];\n    this.selectedAllUsers = event.target.checked;\n    if (this.selectedAllUsers) {\n      for (let i = 0; i < this.assignedUsers.length; i++) {\n        this.selectedUsers.push(this.assignedUsers[i]);\n      }\n    }\n  }\n  selectOneUser(event, subject) {\n    if (event.target.checked) {\n      if (this.selectedUsers.length === 0) {\n        this.selectedUsers = [];\n      }\n      this.selectedUsers.push(subject);\n    } else {\n      const index = this.selectedUsers.indexOf(subject);\n      if (index >= 0) {\n        this.selectedUsers.splice(index, 1);\n      }\n      if (this.selectedUsers.length === 0) {\n        this.selectedAllUsers = false;\n      }\n    }\n  }\n  selectAllFuncs(event) {\n    this.selectedFuncs = [];\n    this.selectedAllFuncs = event.target.checked;\n    if (this.selectedAllFuncs) {\n      for (let i = 0; i < this.assignedFuncs.length; i++) {\n        this.selectedFuncs.push(this.assignedFuncs[i]);\n      }\n    }\n  }\n  selectOneFunc(event, resource) {\n    if (event.target.checked) {\n      if (this.selectedFuncs.length === 0) {\n        this.selectedFuncs = [];\n      }\n      this.selectedFuncs.push(resource);\n    } else {\n      const index = this.selectedFuncs.indexOf(resource);\n      if (index >= 0) {\n        this.selectedFuncs.splice(index, 1);\n      }\n      if (this.selectedFuncs.length === 0) {\n        this.selectedAllFuncs = false;\n      }\n    }\n  }\n  selectAllGroups(event) {\n    this.selectedGroups = [];\n    this.selectedAllGroups = event.target.checked;\n    if (this.selectedAllGroups) {\n      for (let i = 0; i < this.assignedGroups.length; i++) {\n        this.selectedGroups.push(this.assignedGroups[i]);\n      }\n    }\n  }\n  selectOneGroup(event, group) {\n    if (event.target.checked) {\n      if (this.selectedGroups.length === 0) {\n        this.selectedGroups = [];\n      }\n      this.selectedGroups.push(group);\n    } else {\n      const index = this.selectedGroups.indexOf(group);\n      if (index >= 0) {\n        this.selectedGroups.splice(index, 1);\n      }\n      if (this.selectedGroups.length === 0) {\n        this.selectedAllGroups = false;\n      }\n    }\n  }\n  assignedUsersLength() {\n    return this.assignedUsers.length;\n  }\n  assignedFuncsLength() {\n    return this.assignedFuncs.length;\n  }\n  assignedGroupsLength() {\n    return this.assignedGroups.length;\n  }\n  unAssignUsers() {\n    if (this.selectedUsers.length > 0) {\n      this.roleService.unAssignUsers(this.resourceId, this.selectedUsers).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedUserListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  unAssignFuncs() {\n    if (this.selectedFuncs.length > 0) {\n      this.roleService.unAssignFuncs(this.resourceId, this.selectedFuncs).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedFuncListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  unAssignGroups() {\n    if (this.selectedGroups.length > 0) {\n      this.roleService.unAssignGroups(this.resourceId, this.selectedGroups).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedGroupListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  registerChangeInAssignedUsers() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedUserListModification', () => this.getAllAssignedUsers(this.role.resourceId));\n  }\n  registerChangeInAssignedFuncs() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedFuncListModification', () => this.getAllAssignedFuncs(this.role.resourceId));\n  }\n  registerChangeInAssignedGroups() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedGroupListModification', () => this.getAllAssignedGroups(this.role.resourceId));\n  }\n  subscribeToSaveResponse(result) {\n    result.subscribe(() => this.onSaveSuccess(), res => this.onSaveError(res));\n  }\n  onSaveSuccess() {\n    this.isSaving = false;\n  }\n  onSaveError(error) {\n    this.isSaving = false;\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\n    document.getElementById('appDialogErrorMsg').innerHTML = appDialogErrorMsg;\n    document.getElementById('appDialogErrorMsg').style.display = 'block';\n  }\n  onError(error) {\n    this.alertService.addAlert({\n      type: 'danger',\n      translationKey: error.message\n    });\n  }\n}\nexports.RoleEditComponent = RoleEditComponent;\nRoleEditComponent.ɵfac = function RoleEditComponent_Factory(t) {\n  return new (t || RoleEditComponent)(i0.ɵɵdirectiveInject(i1.RoleService), i0.ɵɵdirectiveInject(i2.AlertService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.EventManager));\n};\nRoleEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RoleEditComponent,\n  selectors: [[\"ic-role-edit\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"icTranslate\", \"acmAdmin.role.home.editLabel\"], [\"id\", \"appDialogErrorMsg\", 1, \"alert-dismissible\", \"alert-danger\", \"alert\", 2, \"display\", \"none\"], [1, \"row\"], [1, \"col-sm-12\"], [\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\", 4, \"ngIf\"], [1, \"col-sm-12\", 2, \"margin-top\", \"20px\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-block\", 2, \"padding\", \"1.5% 1.5% 1% 1.5%\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\", 2, \"width\", \"60px\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"scope\", \"col\", 2, \"width\", \"100px\"], [\"scope\", \"col\"], [2, \"margin-top\", \"20px\"], [\"type\", \"button\", \"class\", \"btn btn-danger btn-sm\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\", \"replaceUrl\"], [3, \"icon\"], [\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [\"class\", \"rounded-pill row\", 4, \"ngIf\"], [1, \"rounded-pill\", \"row\"], [\"icTranslate\", \"acmAdmin.role.resourceId\", \"for\", \"field_resourceId\", 1, \"col-sm-2\", \"form-control-label\"], [\"id\", \"field_resourceId\", 1, \"col-sm-4\", \"form-control-label\"], [\"icTranslate\", \"acmAdmin.role.resourceName\", \"for\", \"field_resourceName\", 1, \"col-sm-2\", \"form-control-label\"], [1, \"col-sm-4\"], [\"type\", \"text\", \"name\", \"resourceName\", \"id\", \"field_resourceName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"hidden\"], [\"icTranslate\", \"entity.validation.required\", 1, \"form-text\", \"text-danger\", 3, \"hidden\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\"], [\"icTranslate\", \"entity.action.save\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"routerLink\"], [\"icTranslate\", \"entity.action.cancel\"], [\"icTranslate\", \"acmAdmin.role.application\", \"for\", \"field_application\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"appName\", \"id\", \"field_application\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"appName\", \"id\", \"field_application\", \"placeholder\", \"No application name is found\", \"readonly\", \"\", 1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"checked\", \"click\"], [\"colspan\", \"6\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"colspan\", \"4\"]],\n  template: function RoleEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RoleEditComponent_div_0_Template, 178, 28, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.role);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.NgForOf, i6.NgIf, i7.FaIconComponent, i3.RouterLink, i8.TranslateDirective, i9.AlertComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","RoleEditComponent","constructor","roleService","alertService","route","eventManager","resource_model_1","ngOnInit","isSaving","subscription","params","subscribe","resourceId","load","getAllAssignedUsers","getAllAssignedFuncs","getAllAssignedGroups","registerChangeInAssignedUsers","registerChangeInAssignedFuncs","registerChangeInAssignedGroups","ngOnDestroy","eventSubscriber","destroy","id","find","role","findAllAssignedUsers","res","assignedUsers","body","selectedAllUsers","selectedUsers","onError","findAllAssignedFuncs","assignedFuncs","selectedAllFuncs","selectedFuncs","findAllAssignedGroups","assignedGroups","selectedAllGroups","selectedGroups","save","subscribeToSaveResponse","update","lowerCaseRoleId","toLowerCase","selectAllUsers","event","target","checked","i","length","push","selectOneUser","subject","index","indexOf","splice","selectAllFuncs","selectOneFunc","resource","selectAllGroups","selectOneGroup","group","assignedUsersLength","assignedFuncsLength","assignedGroupsLength","unAssignUsers","broadcast","name","content","unAssignFuncs","unAssignGroups","result","onSaveSuccess","onSaveError","error","appDialogErrorMsg","headers","get","document","getElementById","innerHTML","style","display","addAlert","type","translationKey","message","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\role\\role-edit.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\role\\role-edit.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { EventManager } from 'app/core/util/event-manager.service';\r\nimport { Subject } from '../user/user.model';\r\nimport { Resource } from '../resource/resource.model';\r\nimport { RoleService } from './role.service';\r\nimport { Group } from '../group/group.model';\r\n\r\n@Component({\r\n  selector: 'ic-role-edit',\r\n  templateUrl: './role-edit.component.html',\r\n})\r\nexport class RoleEditComponent implements OnInit, OnDestroy {\r\n  currentAccount: any;\r\n  error: any;\r\n  success: any;\r\n  eventSubscriber?: Subscription;\r\n  links: any;\r\n  totalItems: any;\r\n  queryCount: any;\r\n  itemsPerPage: any;\r\n  page: any;\r\n  predicate!: string;\r\n  reverse: any;\r\n\r\n  isSaving?: boolean;\r\n  resourceId?: any;\r\n  role: Resource = new Resource();\r\n\r\n  assignedUsers: Subject[] = [];\r\n  assignedFuncs: Resource[] = [];\r\n  assignedGroups: Group[] = [];\r\n\r\n  selectedAllUsers?: boolean;\r\n  selectedUsers: Subject[] = [];\r\n\r\n  selectedAllFuncs?: boolean;\r\n  selectedFuncs: Resource[] = [];\r\n\r\n  selectedAllGroups?: boolean;\r\n  selectedGroups: Group[] = [];\r\n\r\n  subscription?: Subscription;\r\n\r\n  constructor(\r\n    private roleService: RoleService,\r\n    private alertService: AlertService,\r\n    private route: ActivatedRoute,\r\n    private eventManager: EventManager\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isSaving = false;\r\n    this.subscription = this.route.params.subscribe(params => {\r\n      this.resourceId = params['id'];\r\n    });\r\n\r\n    // get role object\r\n    this.load(this.resourceId);\r\n\r\n    // get all assigned users, functions, groups\r\n    this.getAllAssignedUsers(this.resourceId);\r\n    this.getAllAssignedFuncs(this.resourceId);\r\n    this.getAllAssignedGroups(this.resourceId);\r\n\r\n    // register change\r\n    this.registerChangeInAssignedUsers();\r\n    this.registerChangeInAssignedFuncs();\r\n    this.registerChangeInAssignedGroups();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.eventSubscriber) {\r\n      this.eventManager.destroy(this.eventSubscriber);\r\n    }\r\n  }\r\n\r\n  load(id: any): void {\r\n    this.roleService.find(id).subscribe(role => {\r\n      this.role = role;\r\n    });\r\n  }\r\n\r\n  getAllAssignedUsers(resourceId: any): void {\r\n    this.roleService.findAllAssignedUsers(resourceId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.assignedUsers = res.body;\r\n        this.selectedAllUsers = false;\r\n        this.selectedUsers = [];\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n  }\r\n\r\n  getAllAssignedFuncs(resourceId: any): void {\r\n    this.roleService.findAllAssignedFuncs(resourceId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.assignedFuncs = res.body;\r\n        this.selectedAllFuncs = false;\r\n        this.selectedFuncs = [];\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n  }\r\n\r\n  getAllAssignedGroups(resourceId: any): void {\r\n    this.roleService.findAllAssignedGroups(resourceId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.assignedGroups = res.body;\r\n        this.selectedAllGroups = false;\r\n        this.selectedGroups = [];\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n  }\r\n\r\n  save(): void {\r\n    this.isSaving = true;\r\n    this.subscribeToSaveResponse(this.roleService.update(this.role));\r\n  }\r\n\r\n  lowerCaseRoleId(): void {\r\n    if (this.role.resourceId) {\r\n      this.role.resourceId = this.role.resourceId.toLowerCase();\r\n    }\r\n  }\r\n\r\n  selectAllUsers(event: MouseEvent): void {\r\n    this.selectedUsers = [];\r\n    this.selectedAllUsers = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllUsers) {\r\n      for (let i = 0; i < this.assignedUsers.length; i++) {\r\n        this.selectedUsers.push(this.assignedUsers[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneUser(event: MouseEvent, subject: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedUsers.length === 0) {\r\n        this.selectedUsers = [];\r\n      }\r\n      this.selectedUsers.push(subject);\r\n    } else {\r\n      const index = this.selectedUsers.indexOf(subject);\r\n      if (index >= 0) {\r\n        this.selectedUsers.splice(index, 1);\r\n      }\r\n      if (this.selectedUsers.length === 0) {\r\n        this.selectedAllUsers = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selectAllFuncs(event: MouseEvent): void {\r\n    this.selectedFuncs = [];\r\n    this.selectedAllFuncs = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllFuncs) {\r\n      for (let i = 0; i < this.assignedFuncs.length; i++) {\r\n        this.selectedFuncs.push(this.assignedFuncs[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneFunc(event: MouseEvent, resource: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedFuncs.length === 0) {\r\n        this.selectedFuncs = [];\r\n      }\r\n      this.selectedFuncs.push(resource);\r\n    } else {\r\n      const index = this.selectedFuncs.indexOf(resource);\r\n      if (index >= 0) {\r\n        this.selectedFuncs.splice(index, 1);\r\n      }\r\n      if (this.selectedFuncs.length === 0) {\r\n        this.selectedAllFuncs = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selectAllGroups(event: MouseEvent): void {\r\n    this.selectedGroups = [];\r\n    this.selectedAllGroups = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllGroups) {\r\n      for (let i = 0; i < this.assignedGroups.length; i++) {\r\n        this.selectedGroups.push(this.assignedGroups[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneGroup(event: MouseEvent, group: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedGroups.length === 0) {\r\n        this.selectedGroups = [];\r\n      }\r\n      this.selectedGroups.push(group);\r\n    } else {\r\n      const index = this.selectedGroups.indexOf(group);\r\n      if (index >= 0) {\r\n        this.selectedGroups.splice(index, 1);\r\n      }\r\n      if (this.selectedGroups.length === 0) {\r\n        this.selectedAllGroups = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  assignedUsersLength(): number {\r\n    return this.assignedUsers.length;\r\n  }\r\n\r\n  assignedFuncsLength(): number {\r\n    return this.assignedFuncs.length;\r\n  }\r\n\r\n  assignedGroupsLength(): number {\r\n    return this.assignedGroups.length;\r\n  }\r\n\r\n  unAssignUsers(): void {\r\n    if (this.selectedUsers.length > 0) {\r\n      this.roleService.unAssignUsers(this.resourceId, this.selectedUsers).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedUserListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  unAssignFuncs(): void {\r\n    if (this.selectedFuncs.length > 0) {\r\n      this.roleService.unAssignFuncs(this.resourceId, this.selectedFuncs).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedFuncListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  unAssignGroups(): void {\r\n    if (this.selectedGroups.length > 0) {\r\n      this.roleService.unAssignGroups(this.resourceId, this.selectedGroups).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedGroupListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  registerChangeInAssignedUsers(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedUserListModification', () =>\r\n      this.getAllAssignedUsers(this.role.resourceId)\r\n    );\r\n  }\r\n\r\n  registerChangeInAssignedFuncs(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedFuncListModification', () =>\r\n      this.getAllAssignedFuncs(this.role.resourceId)\r\n    );\r\n  }\r\n\r\n  registerChangeInAssignedGroups(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedGroupListModification', () =>\r\n      this.getAllAssignedGroups(this.role.resourceId)\r\n    );\r\n  }\r\n\r\n  private subscribeToSaveResponse(result: Observable<Group>): void {\r\n    result.subscribe(\r\n      () => this.onSaveSuccess(),\r\n      (res: HttpResponse<any>) => this.onSaveError(res)\r\n    );\r\n  }\r\n\r\n  private onSaveSuccess(): void {\r\n    this.isSaving = false;\r\n  }\r\n\r\n  private onSaveError(error: any): void {\r\n    this.isSaving = false;\r\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\r\n    document.getElementById('appDialogErrorMsg')!.innerHTML = appDialogErrorMsg;\r\n    document.getElementById('appDialogErrorMsg')!.style.display = 'block';\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    this.alertService.addAlert({ type: 'danger', translationKey: error.message });\r\n  }\r\n}\r\n","<div *ngIf=\"role\">\r\n  <h2>\r\n    <span icTranslate=\"acmAdmin.role.home.editLabel\">Edit Role</span>\r\n  </h2>\r\n\r\n  <p style=\"display: none\" id=\"appDialogErrorMsg\" class=\"alert-dismissible alert-danger alert\"></p>\r\n  <ic-alert></ic-alert>\r\n  <br />\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <form *ngIf=\"role\" name=\"editForm\" role=\"form\"  (ngSubmit)=\"save()\" #editForm=\"ngForm\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">Role Detail</div>\r\n          <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n            <div *ngIf=\"role.application\" class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.role.application\" for=\"field_application\">Application</label>\r\n              <div class=\"col-sm-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"appName\"\r\n                  id=\"field_application\"\r\n                  [(ngModel)]=\"role.application.appName\"\r\n                  readonly\r\n                />\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"!role.application\" class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.role.application\" for=\"field_application\">Application</label>\r\n              <div class=\"col-sm-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"appName\"\r\n                  id=\"field_application\"\r\n                  placeholder=\"No application name is found\"\r\n                  readonly\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.role.resourceId\" for=\"field_resourceId\">Role Id</label>\r\n<!--              <div class=\"col-sm-4\">-->\r\n<!--                <input-->\r\n<!--                  type=\"text\"-->\r\n<!--                  class=\"form-control\"-->\r\n<!--                  name=\"resourceId\"-->\r\n<!--                  id=\"field_resourceId\"-->\r\n<!--                  [(ngModel)]=\"role.resourceId\"-->\r\n<!--                  required-->\r\n<!--                  pattern=\"^(role){1}-[A-Za-z0-9-]*\"-->\r\n<!--                  (blur)=\"lowerCaseRoleId()\"-->\r\n<!--                  [disabled]=\"true\"-->\r\n<!--                />-->\r\n<!--                <div [hidden]=\"!(editForm.controls.resourceId?.dirty && editForm.controls.resourceId?.invalid)\">-->\r\n<!--                  <small-->\r\n<!--                    class=\"form-text text-danger\"-->\r\n<!--                    [hidden]=\"!editForm.controls.resourceId?.errors?.required\"-->\r\n<!--                    icTranslate=\"entity.validation.required\"-->\r\n<!--                  >-->\r\n<!--                    This field is required.-->\r\n<!--                  </small>-->\r\n<!--                  <small class=\"form-text text-danger\" [hidden]=\"!editForm.controls.resourceId?.errors?.pattern\">-->\r\n<!--                    This field must start with 'role-' and only allowed characters: A-Z a-z 0-9 -.-->\r\n<!--                  </small>-->\r\n<!--                </div>-->\r\n<!--              </div>-->\r\n              <label class=\"col-sm-4 form-control-label\" id=\"field_resourceId\">{{role.resourceId}}</label>\r\n\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.role.resourceName\" for=\"field_resourceName\">Role Name</label>\r\n              <div class=\"col-sm-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"resourceName\"\r\n                  id=\"field_resourceName\"\r\n                  [(ngModel)]=\"role.resourceName\"\r\n                  required\r\n                />\r\n                <div [hidden]=\"!(editForm.controls.resourceName?.dirty && editForm.controls.resourceName?.invalid)\">\r\n                  <small\r\n                    class=\"form-text text-danger\"\r\n                    [hidden]=\"!editForm.controls.resourceName?.errors?.required\"\r\n                    icTranslate=\"entity.validation.required\"\r\n                  >\r\n                    This field is required.\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <div class=\"col-sm-12\">\r\n<!--                <input type=\"hidden\" id=\"resourceId\" name=\"resourceId\" [(ngModel)]=\"role.resourceId\" />-->\r\n\r\n                <button type=\"submit\" [disabled]=\"editForm.form.invalid || isSaving\" class=\"btn btn-primary btn-sm\">\r\n                  <fa-icon [icon]=\"'save'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.save\">Save</span>\r\n                </button>\r\n                <button type=\"button\" [routerLink]=\"['../../../../admin/acm/ic-role']\" class=\"btn btn-secondary btn-sm\">\r\n                  <fa-icon [icon]=\"'ban'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.cancel\">Cancel</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Users Assigned to Role</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\"><input type=\"checkbox\" [(ngModel)]=\"selectedAllUsers\" (click)=\"selectAllUsers($event)\" /></th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">First Name</th>\r\n                  <th scope=\"col\">Last Name</th>\r\n                  <th scope=\"col\">Email Address</th>\r\n                  <th scope=\"col\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedUsersLength() > 0\">\r\n                <tr *ngFor=\"let user of assignedUsers; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllUsers\" (click)=\"selectOneUser($event, user)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ user.firstName }}</td>\r\n                  <td>{{ user.lastName }}</td>\r\n                  <td>{{ user.email }}</td>\r\n                  <td>{{ user.status }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedUsersLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"6\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignUsers()\"\r\n              *ngIf=\"assignedUsersLength() > 0\"\r\n              [disabled]=\"!selectedUsers || selectedUsers.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Users</span>\r\n            </button>\r\n            <button type=\"button\" [routerLink]=\"['../assign', 'users', role.resourceId]\" [replaceUrl]=\"true\" class=\"btn btn-primary btn-sm\">\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Users</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Functions Assigned to Role</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\"><input type=\"checkbox\" [(ngModel)]=\"selectedAllFuncs\" (click)=\"selectAllFuncs($event)\" /></th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">Function Name</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedFuncsLength() > 0\">\r\n                <tr *ngFor=\"let role of assignedFuncs; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllFuncs\" (click)=\"selectOneFunc($event, role)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ role.resourceName }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedFuncsLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"4\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignFuncs()\"\r\n              *ngIf=\"assignedFuncsLength() > 0\"\r\n              [disabled]=\"!selectedFuncs || selectedFuncs.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Functions</span>\r\n            </button>\r\n            <button type=\"button\" [routerLink]=\"['../assign', 'funcs', role.resourceId]\" [replaceUrl]=\"true\" class=\"btn btn-primary btn-sm\">\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Functions</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Groups Assigned to Role</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\"><input type=\"checkbox\" [(ngModel)]=\"selectedAllGroups\" (click)=\"selectAllGroups($event)\" /></th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">Group Name</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedGroupsLength() > 0\">\r\n                <tr *ngFor=\"let group of assignedGroups; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllGroups\" (click)=\"selectOneGroup($event, group)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ group.groupName }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedGroupsLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"4\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignGroups()\"\r\n              *ngIf=\"assignedGroupsLength() > 0\"\r\n              [disabled]=\"!selectedGroups || selectedGroups.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Groups</span>\r\n            </button>\r\n            <button type=\"button\" [routerLink]=\"['../assign', 'groups', role.resourceId]\" [replaceUrl]=\"true\" class=\"btn btn-primary btn-sm\">\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Groups</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}