{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParameterApprovalComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst nspay2_constants_1 = require(\"app/nspay2.constants\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/administration/parameter/service/parameter.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/admin/access-control\"));\nconst i3 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i4 = tslib_1.__importStar(require(\"./../../../shared/confirm/nsp-confirm.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i7 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/messages\"));\nconst i14 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nconst i17 = tslib_1.__importStar(require(\"../../../shared/pipe/cap.pipe\"));\nfunction ParameterApprovalComponent_div_2_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 18);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"th\", 19);\n    i0.ɵɵtext(4, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"th\", 20);\n    i0.ɵɵtext(7, \"Designation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"th\", 21);\n    i0.ɵɵtext(10, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"th\", 20);\n    i0.ɵɵtext(13, \"Official Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵelementStart(15, \"th\", 20);\n    i0.ɵɵtext(16, \"Working Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                    \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"modified-multiselect\": a0\n  };\n};\nfunction ParameterApprovalComponent_div_2_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"td\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"\\n                                \");\n    i0.ɵɵelementStart(11, \"p-multiSelect\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_ng_template_14_Template_p_multiSelect_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const limitLevel_r17 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(limitLevel_r17.limitLevelApprOpt = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                            \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"parameterCap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                            \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19, \"\\n                                \");\n    i0.ɵɵelement(20, \"input\", 24);\n    i0.ɵɵpipe(21, \"parameterCap\");\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const limitLevel_r17 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(limitLevel_r17.level);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(limitLevel_r17.designation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r3.claimApproverOptions)(\"ngModel\", limitLevel_r17.limitLevelApprOpt)(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, limitLevel_r17.isModified))(\"disabled\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 9, limitLevel_r17.officialCap));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", i0.ɵɵpipeBind1(21, 11, limitLevel_r17.workingCap));\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 25);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementStart(4, \"label\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementStart(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_25_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const paramUser_r21 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramUser_r21.value = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramUser_r21 = ctx.$implicit;\n    const i_r22 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"paramUserBef\", i_r22, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(paramUser_r21.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramUserBef\", i_r22, \"\");\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", paramUser_r21.value);\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 29);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementStart(2, \"p-dropdown\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_38_Template_p_dropdown_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const paramSignature_r25 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramSignature_r25.signerId = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramSignature_r25 = ctx.$implicit;\n    const i_r26 = ctx.index;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramSignatureBef\", i_r26, \"\");\n    i0.ɵɵproperty(\"options\", ctx_r7.signatureOptions)(\"ngModel\", paramSignature_r25.signerId)(\"disabled\", true);\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 31);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_p_table_48_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"th\", 19);\n    i0.ɵɵtext(4, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"th\", 20);\n    i0.ɵɵtext(7, \"Designation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"th\", 21);\n    i0.ɵɵtext(10, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"th\", 20);\n    i0.ɵɵtext(13, \"Official Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵelementStart(15, \"th\", 20);\n    i0.ɵɵtext(16, \"Working Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                    \");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"modified\": a0\n  };\n};\nfunction ParameterApprovalComponent_div_2_p_table_48_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"td\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"\\n                                \");\n    i0.ɵɵelementStart(11, \"p-multiSelect\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_p_table_48_ng_template_4_Template_p_multiSelect_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const limitLevel_r31 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(limitLevel_r31.limitReqLevelApprOpt = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                            \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"parameterCap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                            \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19, \"\\n                                \");\n    i0.ɵɵelement(20, \"input\", 33);\n    i0.ɵɵpipe(21, \"parameterCap\");\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const limitLevel_r31 = ctx.$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(limitLevel_r31.level);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(limitLevel_r31.designation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r30.claimApproverOptions)(\"ngModel\", limitLevel_r31.limitReqLevelApprOpt)(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, limitLevel_r31.isModified))(\"disabled\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 10, limitLevel_r31.officialCap));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", i0.ɵɵpipeBind1(21, 12, limitLevel_r31.workingCap))(\"ngClass\", i0.ɵɵpureFunction1(16, _c1, limitLevel_r31.action !== \"U\"));\n  }\n}\nfunction ParameterApprovalComponent_div_2_p_table_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_p_table_48_ng_template_2_Template, 19, 0, \"ng-template\", 5);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵtemplate(4, ParameterApprovalComponent_div_2_p_table_48_ng_template_4_Template, 25, 18, \"ng-template\", 7);\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", ctx_r9.parameterCopy.paramLimit == null ? null : ctx_r9.parameterCopy.paramLimit.limitReqLevels);\n  }\n}\nfunction ParameterApprovalComponent_div_2_p_table_50_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 19);\n    i0.ɵɵtext(4, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"th\", 20);\n    i0.ɵɵtext(7, \"Designation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"th\", 21);\n    i0.ɵɵtext(10, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementStart(12, \"th\", 20);\n    i0.ɵɵtext(13, \"Official Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"th\", 20);\n    i0.ɵɵtext(16, \"Working Cap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_p_table_50_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"td\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementStart(11, \"p-multiSelect\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_p_table_50_ng_template_4_Template_p_multiSelect_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const limitLevel_r37 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(limitLevel_r37.limitLevelApprOpt = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"parameterCap\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelement(19, \"input\", 24);\n    i0.ɵɵpipe(20, \"parameterCap\");\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                \");\n  }\n  if (rf & 2) {\n    const limitLevel_r37 = ctx.$implicit;\n    const ctx_r36 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(limitLevel_r37.level);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(limitLevel_r37.designation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r36.claimApproverOptions)(\"ngModel\", limitLevel_r37.limitLevelApprOpt)(\"disabled\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 8, limitLevel_r37.officialCap));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", i0.ɵɵpipeBind1(20, 10, limitLevel_r37.workingCap));\n  }\n}\nfunction ParameterApprovalComponent_div_2_p_table_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 32);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_p_table_50_ng_template_2_Template, 19, 0, \"ng-template\", 5);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵtemplate(4, ParameterApprovalComponent_div_2_p_table_50_ng_template_4_Template, 24, 12, \"ng-template\", 7);\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", ctx_r10.parameterCopy.paramLimit == null ? null : ctx_r10.parameterCopy.paramLimit.limitLevels);\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 35);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_60_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"label\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementStart(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelementStart(9, \"input\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_60_div_2_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const paramUser_r42 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramUser_r42.value = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramUser_r42 = ctx.$implicit;\n    const i_r43 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"paramUserAft\", i_r43, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(paramUser_r42.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramUserAft\", i_r43, \"\");\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", paramUser_r42.value)(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, paramUser_r42.action !== \"U\"));\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_div_60_div_2_Template, 13, 8, \"div\", 9);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.parameterCopy.paramUser == null ? null : ctx_r12.parameterCopy.paramUser.paramReqList);\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_62_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"label\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementStart(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelementStart(9, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_62_div_2_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const paramUser_r47 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramUser_r47.value = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramUser_r47 = ctx.$implicit;\n    const i_r48 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"paramUserAft\", i_r48, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(paramUser_r47.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramUserAft\", i_r48, \"\");\n    i0.ɵɵproperty(\"disabled\", true)(\"ngModel\", paramUser_r47.value);\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_div_62_div_2_Template, 13, 5, \"div\", 9);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.parameterCopy.paramUser == null ? null : ctx_r13.parameterCopy.paramUser.paramList);\n  }\n}\nfunction ParameterApprovalComponent_div_2_ng_template_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 37);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"modified-dropdown\": a0\n  };\n};\nfunction ParameterApprovalComponent_div_2_div_75_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"p-dropdown\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_75_div_2_Template_p_dropdown_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r55);\n      const paramSignature_r52 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramSignature_r52.signerId = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramSignature_r52 = ctx.$implicit;\n    const i_r53 = ctx.index;\n    const ctx_r51 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramSignatureAft\", i_r53, \"\");\n    i0.ɵɵproperty(\"options\", ctx_r51.signatureOptions)(\"ngModel\", paramSignature_r52.signerId)(\"disabled\", true)(\"ngClass\", i0.ɵɵpureFunction1(5, _c2, paramSignature_r52.action == \"N\" || paramSignature_r52.action === \"M\"));\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_div_75_div_2_Template, 4, 7, \"div\", 38);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.parameterCopy.paramSignature == null ? null : ctx_r15.parameterCopy.paramSignature.signatureReqList);\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_77_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"p-dropdown\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function ParameterApprovalComponent_div_2_div_77_div_2_Template_p_dropdown_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const paramSignature_r57 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(paramSignature_r57.signerId = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paramSignature_r57 = ctx.$implicit;\n    const i_r58 = ctx.index;\n    const ctx_r56 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"paramSignatureAft\", i_r58, \"\");\n    i0.ɵɵproperty(\"options\", ctx_r56.signatureOptions)(\"ngModel\", paramSignature_r57.signerId)(\"disabled\", true);\n  }\n}\nfunction ParameterApprovalComponent_div_2_div_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_div_77_div_2_Template, 4, 4, \"div\", 38);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.parameterCopy.paramSignature == null ? null : ctx_r16.parameterCopy.paramSignature.signatureList);\n  }\n}\nfunction ParameterApprovalComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"p-panel\", 4);\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵtemplate(8, ParameterApprovalComponent_div_2_ng_template_8_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵelementStart(10, \"p-table\", 6);\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵtemplate(12, ParameterApprovalComponent_div_2_ng_template_12_Template, 19, 0, \"ng-template\", 5);\n    i0.ɵɵtext(13, \"\\n                    \");\n    i0.ɵɵtemplate(14, ParameterApprovalComponent_div_2_ng_template_14_Template, 25, 15, \"ng-template\", 7);\n    i0.ɵɵtext(15, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n\\n        \");\n    i0.ɵɵelementStart(19, \"div\", 8);\n    i0.ɵɵtext(20, \"\\n            \");\n    i0.ɵɵelementStart(21, \"p-panel\");\n    i0.ɵɵtext(22, \"\\n                \");\n    i0.ɵɵtemplate(23, ParameterApprovalComponent_div_2_ng_template_23_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(24, \"\\n                \");\n    i0.ɵɵtemplate(25, ParameterApprovalComponent_div_2_div_25_Template, 13, 5, \"div\", 9);\n    i0.ɵɵtext(26, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n\\n        \");\n    i0.ɵɵelementStart(29, \"div\", 10);\n    i0.ɵɵtext(30, \"\\n            \");\n    i0.ɵɵelementStart(31, \"p-panel\");\n    i0.ɵɵtext(32, \"\\n                \");\n    i0.ɵɵtemplate(33, ParameterApprovalComponent_div_2_ng_template_33_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(34, \"\\n                \");\n    i0.ɵɵelementStart(35, \"span\", 11);\n    i0.ɵɵtext(36, \"Recoupment Listing Signature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n                \");\n    i0.ɵɵtemplate(38, ParameterApprovalComponent_div_2_div_38_Template, 4, 4, \"div\", 9);\n    i0.ɵɵtext(39, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n\\n        \");\n    i0.ɵɵelementStart(42, \"div\", 3);\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementStart(44, \"p-panel\", 4);\n    i0.ɵɵtext(45, \"\\n                \");\n    i0.ɵɵtemplate(46, ParameterApprovalComponent_div_2_ng_template_46_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(47, \"\\n                \");\n    i0.ɵɵtemplate(48, ParameterApprovalComponent_div_2_p_table_48_Template, 6, 1, \"p-table\", 12);\n    i0.ɵɵtext(49, \"\\n\\n                \");\n    i0.ɵɵtemplate(50, ParameterApprovalComponent_div_2_p_table_50_Template, 6, 1, \"p-table\", 12);\n    i0.ɵɵtext(51, \"\\n\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n\\n        \");\n    i0.ɵɵelementStart(54, \"div\", 8);\n    i0.ɵɵtext(55, \"\\n            \");\n    i0.ɵɵelementStart(56, \"p-panel\");\n    i0.ɵɵtext(57, \"\\n                \");\n    i0.ɵɵtemplate(58, ParameterApprovalComponent_div_2_ng_template_58_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(59, \"\\n                \");\n    i0.ɵɵtemplate(60, ParameterApprovalComponent_div_2_div_60_Template, 4, 1, \"div\", 1);\n    i0.ɵɵtext(61, \"\\n\\n                \");\n    i0.ɵɵtemplate(62, ParameterApprovalComponent_div_2_div_62_Template, 4, 1, \"div\", 1);\n    i0.ɵɵtext(63, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(64, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n\\n        \");\n    i0.ɵɵelementStart(66, \"div\", 10);\n    i0.ɵɵtext(67, \"\\n            \");\n    i0.ɵɵelementStart(68, \"p-panel\");\n    i0.ɵɵtext(69, \"\\n                \");\n    i0.ɵɵtemplate(70, ParameterApprovalComponent_div_2_ng_template_70_Template, 3, 0, \"ng-template\", 5);\n    i0.ɵɵtext(71, \"\\n                \");\n    i0.ɵɵelementStart(72, \"span\", 11);\n    i0.ɵɵtext(73, \"Recoupment Listing Signature\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵtemplate(75, ParameterApprovalComponent_div_2_div_75_Template, 4, 1, \"div\", 1);\n    i0.ɵɵtext(76, \"\\n                \");\n    i0.ɵɵtemplate(77, ParameterApprovalComponent_div_2_div_77_Template, 4, 1, \"div\", 1);\n    i0.ɵɵtext(78, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(79, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(80, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n\\n    \");\n    i0.ɵɵelementStart(82, \"div\", 13);\n    i0.ɵɵtext(83, \"\\n        \");\n    i0.ɵɵelementStart(84, \"div\");\n    i0.ɵɵtext(85, \"\\n        \");\n    i0.ɵɵelement(86, \"p-confirmPopup\", 14);\n    i0.ɵɵtext(87, \"\\n        \");\n    i0.ɵɵelementStart(88, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ParameterApprovalComponent_div_2_Template_button_click_88_listener($event) {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.confirm($event, \"rejectConfirmPopup\", 0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n        \");\n    i0.ɵɵelement(90, \"p-confirmPopup\", 16);\n    i0.ɵɵtext(91, \"\\n        \");\n    i0.ɵɵelementStart(92, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ParameterApprovalComponent_div_2_Template_button_click_92_listener($event) {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.confirm($event, \"approveConfirmPopup\", 1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(93, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(94, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(95, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"value\", ctx_r0.parameterCopy.paramLimit == null ? null : ctx_r0.parameterCopy.paramLimit.limitLevels);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.parameterCopy.paramUser == null ? null : ctx_r0.parameterCopy.paramUser.paramList);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.parameterCopy.paramSignature == null ? null : ctx_r0.parameterCopy.paramSignature.signatureList);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramLimit == null ? null : ctx_r0.parameterCopy.paramLimit.status) == ctx_r0.myNSPAY2_STATUS.PENDING_APPROVAL);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramLimit == null ? null : ctx_r0.parameterCopy.paramLimit.status) == ctx_r0.myNSPAY2_STATUS.APPROVED);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramUser == null ? null : ctx_r0.parameterCopy.paramUser.status) == ctx_r0.myNSPAY2_STATUS.PENDING_APPROVAL);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramUser == null ? null : ctx_r0.parameterCopy.paramUser.status) == ctx_r0.myNSPAY2_STATUS.APPROVED);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramSignature == null ? null : ctx_r0.parameterCopy.paramSignature.status) == ctx_r0.myNSPAY2_STATUS.PENDING_APPROVAL);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.parameterCopy.paramSignature == null ? null : ctx_r0.parameterCopy.paramSignature.status) == ctx_r0.myNSPAY2_STATUS.APPROVED);\n  }\n}\nclass ParameterApprovalComponent {\n  constructor(parameterService, roleService, groupService, messageService, nspConfirmService, toastService) {\n    this.parameterService = parameterService;\n    this.roleService = roleService;\n    this.groupService = groupService;\n    this.messageService = messageService;\n    this.nspConfirmService = nspConfirmService;\n    this.toastService = toastService;\n    this.claimApproverOptions = [];\n    this.signatureOptions = [];\n    this.parameter = {};\n    this.parameterCopy = {};\n    // Constants\n    this.WORKING_CAP_UNLIMITED = 2147483647;\n    this.WORKING_CAP_NA = 0;\n    this.myNSPAY2_STATUS = nspay2_constants_1.NSPAY2_STATUS;\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.parameterService.get().subscribe(res => {\n      this.parameter = res.body;\n      if (this.parameter.overallStatus !== nspay2_constants_1.NSPAY2_STATUS.PENDING_APPROVAL) {\n        this.messageService.add({\n          severity: 'warn',\n          summary: 'Warning',\n          detail: 'No pending request'\n        });\n      }\n      this.parameterCopy = Object.assign({}, this.parameter);\n      this.transformData();\n    }, error => {\n      console.log(error.message);\n    });\n    this.retrieveClaimApproverUsers();\n    this.retrieveSignatureUsers();\n  }\n  retrieveClaimApproverUsers() {\n    this.roleService.findAllAssignedUsers(nspay2_constants_1.NSPAY2_ROLES.CLAIMS_APPROVER).subscribe({\n      next: res => {\n        this.claimApproverOptions = this.mapUsersToOptions(res.body);\n      },\n      error(error) {\n        console.log(error);\n        this.toastService.error(\"Failed to load Claim Approvers\");\n      }\n    });\n  }\n  retrieveSignatureUsers() {\n    this.groupService.findAllAssignedRoles(nspay2_constants_1.NSPAY2_GROUPS.U2).subscribe({\n      next: res => {\n        const response = res.body;\n        response.forEach(r => {\n          this.retrieveUsersAndAppendSignatureOptions(r.resourceId);\n        });\n      },\n      error(error) {\n        console.log(error);\n        this.toastService.error(\"Failed to load users\");\n      }\n    });\n  }\n  retrieveUsersAndAppendSignatureOptions(id) {\n    this.roleService.findAllAssignedUsers(id).subscribe({\n      next: res => {\n        const options = this.mapUsersToOptions(res.body);\n        this.signatureOptions = [...this.signatureOptions, ...options];\n      },\n      error(error) {\n        console.log(error);\n        this.toastService.error(\"Failed to load users\");\n      }\n    });\n  }\n  mapUsersToOptions(data) {\n    const usersArr = data;\n    const options = [];\n    usersArr.forEach(u => {\n      const fullName = u.firstName + \" \" + u.lastName;\n      options.push({\n        name: fullName,\n        approverId: u.subjectId\n      });\n    });\n    options.sort((a, b) => a.name < b.name ? -1 : a.name > b.name ? 1 : 0);\n    return options;\n  }\n  transformData() {\n    this.parameterCopy.paramLimit?.limitLevels?.forEach(level => {\n      level.isModified = false;\n      level.limitLevelApprOpt = [];\n      level.limitLevelAppr?.forEach(a => {\n        level.limitLevelApprOpt?.push(a.approverId);\n        if (a.action === 'N' || a.action === 'M') {\n          level.isModified = true;\n        }\n      });\n    });\n    this.parameterCopy.paramLimit?.limitReqLevels?.forEach(level => {\n      level.isModified = false;\n      level.limitReqLevelApprOpt = [];\n      level.limitReqLevelAppr?.forEach(a => {\n        level.limitReqLevelApprOpt?.push(a.approverId);\n        if (a.action === 'N' || a.action === 'M') {\n          level.isModified = true;\n        }\n      });\n    });\n  }\n  log() {\n    console.log(this.claimApproverOptions);\n    console.log(this.signatureOptions);\n    console.log(this.parameter);\n    console.log(this.parameter.paramLimit?.limitReqLevels);\n    console.log(\"parameterCopy\");\n    console.log(this.parameterCopy);\n  }\n  confirm(event, key, choice) {\n    this.nspConfirmService.onConfirmPopup(event, key, null, () => {\n      console.log(\"confirm\");\n      this.submitRequest(choice);\n    });\n  }\n  submitRequest(choice) {\n    console.log(choice);\n    // 0 is reject, 1 is approve\n    if (choice === 1) {\n      console.log(\"Confirm Approve\");\n      this.parameterService.approve(this.parameter).subscribe(res => {\n        if (res.ok) {\n          this.toastService.add({\n            severity: 'success',\n            summary: 'Success',\n            detail: 'Request approved'\n          });\n        }\n      }, error => {\n        console.log(error.message);\n      });\n    } else if (choice === 0) {\n      console.log(\"Confirm Reject\");\n      this.parameterService.reject(this.parameter).subscribe(res => {\n        if (res.ok) {\n          this.toastService.add({\n            severity: 'success',\n            summary: 'Success',\n            detail: 'Request rejected'\n          });\n        }\n      }, error => {\n        console.log(error.message);\n      });\n    }\n  }\n}\nexports.ParameterApprovalComponent = ParameterApprovalComponent;\nParameterApprovalComponent.ɵfac = function ParameterApprovalComponent_Factory(t) {\n  return new (t || ParameterApprovalComponent)(i0.ɵɵdirectiveInject(i1.ParameterService), i0.ɵɵdirectiveInject(i2.RoleService), i0.ɵɵdirectiveInject(i2.GroupService), i0.ɵɵdirectiveInject(i3.MessageService), i0.ɵɵdirectiveInject(i4.NspConfirmationService), i0.ɵɵdirectiveInject(i5.CustomToastService));\n};\nParameterApprovalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ParameterApprovalComponent,\n  selectors: [[\"n2-parameter-approval\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[3, \"closable\"], [4, \"ngIf\"], [1, \"grid\"], [1, \"col-7\"], [\"styleClass\", \"no-padding-panel\"], [\"pTemplate\", \"header\"], [\"id\", \"paramLimitBef\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"pTemplate\", \"body\"], [1, \"col-3\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-2\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.recoupmentListSignature\"], [\"id\", \"paramLimitAft\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\", 4, \"ngIf\"], [1, \"flex\", \"justify-content-end\", \"align-items-center\"], [\"key\", \"rejectConfirmPopup\", \"id\", \"reject\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Reject\", 1, \"p-button-danger\", 3, \"click\"], [\"key\", \"approveConfirmPopup\", \"id\", \"approve\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Approve\", 3, \"click\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.approvalLimitBef\", 1, \"p-panel-title\"], [\"scope\", \"col\", 2, \"width\", \"10%\"], [\"scope\", \"col\", 2, \"width\", \"15%\"], [\"scope\", \"col\", 2, \"width\", \"50%\"], [2, \"word-wrap\", \"normal\"], [\"display\", \"chip\", \"dropdownIcon\", \"\", \"styleClass\", \"full-width\", \"optionLabel\", \"name\", \"optionValue\", \"approverId\", 3, \"options\", \"ngModel\", \"ngClass\", \"disabled\", \"ngModelChange\"], [\"type\", \"text\", \"pInputText\", \"\", 1, \"w-full\", 3, \"disabled\", \"ngModel\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.userBef\", 1, \"p-panel-title\"], [1, \"field\", \"grid\"], [1, \"col-10\", 3, \"for\"], [\"type\", \"text\", \"pInputText\", \"\", 1, \"w-full\", 3, \"id\", \"disabled\", \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.signatureBef\", 1, \"p-panel-title\"], [\"dropdownIcon\", \"\", \"optionLabel\", \"name\", \"optionValue\", \"approverId\", 3, \"id\", \"options\", \"ngModel\", \"disabled\", \"ngModelChange\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.approvalLimitAft\", 1, \"p-panel-title\"], [\"id\", \"paramLimitAft\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"type\", \"text\", \"pInputText\", \"\", 1, \"w-full\", 3, \"disabled\", \"ngModel\", \"ngClass\"], [\"display\", \"chip\", \"dropdownIcon\", \"\", \"styleClass\", \"full-width\", \"optionLabel\", \"name\", \"optionValue\", \"approverId\", 3, \"options\", \"ngModel\", \"disabled\", \"ngModelChange\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.userAft\", 1, \"p-panel-title\"], [\"type\", \"text\", \"pInputText\", \"\", 1, \"w-full\", 3, \"id\", \"disabled\", \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"icTranslate\", \"nspay2App.administration.admin-approval.parameter.signatureAft\", 1, \"p-panel-title\"], [\"class\", \"field grid\", 4, \"ngFor\", \"ngForOf\"], [\"dropdownIcon\", \"\", \"optionLabel\", \"name\", \"optionValue\", \"approverId\", 3, \"id\", \"options\", \"ngModel\", \"disabled\", \"ngClass\", \"ngModelChange\"]],\n  template: function ParameterApprovalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"p-messages\", 0);\n      i0.ɵɵtext(1, \"\\n\\n\");\n      i0.ɵɵtemplate(2, ParameterApprovalComponent_div_2_Template, 96, 9, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"closable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.parameterCopy && ctx.parameterCopy.overallStatus == ctx.myNSPAY2_STATUS.PENDING_APPROVAL);\n    }\n  },\n  dependencies: [i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i7.NgClass, i7.NgForOf, i7.NgIf, i3.PrimeTemplate, i8.ButtonDirective, i9.Table, i10.Dropdown, i11.InputText, i12.ConfirmPopup, i13.Messages, i14.TranslateDirective, i15.Panel, i16.MultiSelect, i17.ParameterCapPipe],\n  styles: [\".modified[_ngcontent-%COMP%] {\\n  background: #F59E0B;\\n  opacity: 1;\\n}\\n\\n[_nghost-%COMP%]     .no-padding-panel .p-panel-content {\\n  padding: 0px;\\n  border: 0px;\\n}\\n\\n[_nghost-%COMP%]     .full-width {\\n  width: 100%;\\n}\\n\\n[_nghost-%COMP%]     .modified-multiselect .p-multiselect {\\n  background: #F59E0B;\\n  opacity: 1;\\n}\\n\\n[_nghost-%COMP%]     .modified-dropdown .p-dropdown {\\n  background: #F59E0B;\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcmFtZXRlci1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxcYWRtaW5pc3RyYXRpb25cXGFkbWluLWFwcHJvdmFsXFxwYXJhbWV0ZXItYXBwcm92YWxcXHBhcmFtZXRlci1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7RUFDQSxVQUFBO0FDQ0oiLCJmaWxlIjoicGFyYW1ldGVyLWFwcHJvdmFsLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGlmaWVkIHtcclxuICAgIGJhY2tncm91bmQ6ICNGNTlFMEI7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLm5vLXBhZGRpbmctcGFuZWwgLnAtcGFuZWwtY29udGVudCB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBib3JkZXI6IDBweDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLm1vZGlmaWVkLW11bHRpc2VsZWN0IC5wLW11bHRpc2VsZWN0IHtcclxuICAgIGJhY2tncm91bmQ6ICNGNTlFMEI7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLm1vZGlmaWVkLWRyb3Bkb3duIC5wLWRyb3Bkb3duIHtcclxuICAgIGJhY2tncm91bmQ6ICNGNTlFMEI7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG59IiwiLm1vZGlmaWVkIHtcbiAgYmFja2dyb3VuZDogI0Y1OUUwQjtcbiAgb3BhY2l0eTogMTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5uby1wYWRkaW5nLXBhbmVsIC5wLXBhbmVsLWNvbnRlbnQge1xuICBwYWRkaW5nOiAwcHg7XG4gIGJvcmRlcjogMHB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmZ1bGwtd2lkdGgge1xuICB3aWR0aDogMTAwJTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5tb2RpZmllZC1tdWx0aXNlbGVjdCAucC1tdWx0aXNlbGVjdCB7XG4gIGJhY2tncm91bmQ6ICNGNTlFMEI7XG4gIG9wYWNpdHk6IDE7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubW9kaWZpZWQtZHJvcGRvd24gLnAtZHJvcGRvd24ge1xuICBiYWNrZ3JvdW5kOiAjRjU5RTBCO1xuICBvcGFjaXR5OiAxO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW5pc3RyYXRpb24vYWRtaW4tYXBwcm92YWwvcGFyYW1ldGVyLWFwcHJvdmFsL3BhcmFtZXRlci1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL3Byb2plY3RzJTIwMi9uc3BheWlpYXBwL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW5pc3RyYXRpb24vYWRtaW4tYXBwcm92YWwvcGFyYW1ldGVyLWFwcHJvdmFsL3BhcmFtZXRlci1hcHByb3ZhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7RUFDQSxVQUFBO0FDQ0o7QURDQSxveERBQW94RCIsInNvdXJjZXNDb250ZW50IjpbIi5tb2RpZmllZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRjU5RTBCO1xyXG4gICAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5uby1wYWRkaW5nLXBhbmVsIC5wLXBhbmVsLWNvbnRlbnQge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG4gICAgYm9yZGVyOiAwcHg7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZnVsbC13aWR0aCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5tb2RpZmllZC1tdWx0aXNlbGVjdCAucC1tdWx0aXNlbGVjdCB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRjU5RTBCO1xyXG4gICAgb3BhY2l0eTogMTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5tb2RpZmllZC1kcm9wZG93biAucC1kcm9wZG93biB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRjU5RTBCO1xyXG4gICAgb3BhY2l0eTogMTtcclxufSIsIi5tb2RpZmllZCB7XG4gIGJhY2tncm91bmQ6ICNGNTlFMEI7XG4gIG9wYWNpdHk6IDE7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubm8tcGFkZGluZy1wYW5lbCAucC1wYW5lbC1jb250ZW50IHtcbiAgcGFkZGluZzogMHB4O1xuICBib3JkZXI6IDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubW9kaWZpZWQtbXVsdGlzZWxlY3QgLnAtbXVsdGlzZWxlY3Qge1xuICBiYWNrZ3JvdW5kOiAjRjU5RTBCO1xuICBvcGFjaXR5OiAxO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLm1vZGlmaWVkLWRyb3Bkb3duIC5wLWRyb3Bkb3duIHtcbiAgYmFja2dyb3VuZDogI0Y1OUUwQjtcbiAgb3BhY2l0eTogMTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ParameterApprovalComponent","constructor","parameterService","roleService","groupService","messageService","nspConfirmService","toastService","nspay2_constants_1","ngOnInit","load","get","subscribe","res","parameter","body","overallStatus","PENDING_APPROVAL","add","severity","summary","detail","parameterCopy","Object","assign","transformData","error","console","log","message","retrieveClaimApproverUsers","retrieveSignatureUsers","findAllAssignedUsers","CLAIMS_APPROVER","next","claimApproverOptions","mapUsersToOptions","findAllAssignedRoles","U2","response","forEach","r","retrieveUsersAndAppendSignatureOptions","resourceId","id","options","signatureOptions","data","usersArr","u","fullName","firstName","lastName","push","name","approverId","subjectId","sort","a","b","paramLimit","limitLevels","level","isModified","limitLevelApprOpt","limitLevelAppr","action","limitReqLevels","limitReqLevelApprOpt","limitReqLevelAppr","confirm","event","key","choice","onConfirmPopup","submitRequest","approve","ok","reject","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\administration\\admin-approval\\parameter-approval\\parameter-approval.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\administration\\admin-approval\\parameter-approval\\parameter-approval.component.html"],"sourcesContent":["import { NspConfirmationService } from './../../../shared/confirm/nsp-confirm.service';\r\nimport {HttpErrorResponse, HttpResponse} from '@angular/common/http';\r\nimport {Component, OnInit} from '@angular/core';\r\nimport {GroupService, RoleService} from 'app/admin/access-control';\r\nimport {IParameter, IParamLimitLevel} from 'app/administration/parameter/parameter.model';\r\nimport {ParameterService} from 'app/administration/parameter/service/parameter.service';\r\nimport {CustomToastService} from 'app/layouts/service/customtoast.service';\r\nimport {NSPAY2_GROUPS, NSPAY2_ROLES, NSPAY2_STATUS} from 'app/nspay2.constants';\r\nimport {ConfirmationService, MessageService} from 'primeng/api';\r\n\r\n@Component({\r\n  selector: 'n2-parameter-approval',\r\n  templateUrl: './parameter-approval.component.html',\r\n  styleUrls: ['./parameter-approval.component.scss']\r\n})\r\nexport class ParameterApprovalComponent implements OnInit {\r\n\r\n  claimApproverOptions: any[] = [];\r\n  signatureOptions: any[] = [];\r\n\r\n  parameter: IParameter = {};\r\n  parameterCopy: IParameter = {};\r\n\r\n  // Constants\r\n  readonly WORKING_CAP_UNLIMITED = 2147483647;\r\n  readonly WORKING_CAP_NA = 0;\r\n  readonly myNSPAY2_STATUS = NSPAY2_STATUS;\r\n\r\n  constructor(\r\n    private parameterService: ParameterService,\r\n    private roleService: RoleService,\r\n    private groupService: GroupService,\r\n    private messageService: MessageService,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private toastService: CustomToastService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.load();\r\n  }\r\n\r\n  load(): void {\r\n    this.parameterService.get().subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.parameter = res.body;\r\n\r\n        if (this.parameter.overallStatus !== NSPAY2_STATUS.PENDING_APPROVAL) {\r\n          this.messageService.add({severity: 'warn', summary: 'Warning', detail: 'No pending request'});\r\n        }\r\n        this.parameterCopy = Object.assign({}, this.parameter);\r\n        this.transformData();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error.message);\r\n      }\r\n    );\r\n\r\n    this.retrieveClaimApproverUsers();\r\n    this.retrieveSignatureUsers();\r\n  }\r\n\r\n  retrieveClaimApproverUsers(): void {\r\n    this.roleService.findAllAssignedUsers(NSPAY2_ROLES.CLAIMS_APPROVER)\r\n      .subscribe(\r\n        {\r\n          next: (res: HttpResponse<any>) => {\r\n              this.claimApproverOptions = this.mapUsersToOptions(res.body);\r\n          }, \r\n          error(error: HttpErrorResponse) {\r\n            console.log(error);\r\n            this.toastService.error(\"Failed to load Claim Approvers\");\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  retrieveSignatureUsers(): void {\r\n    this.groupService.findAllAssignedRoles(NSPAY2_GROUPS.U2)\r\n    .subscribe(\r\n      {\r\n        next: (res: HttpResponse<any>) => {\r\n          const response = res.body;\r\n\r\n          response.forEach((r: { resourceId: string; }) => {\r\n            this.retrieveUsersAndAppendSignatureOptions(r.resourceId);\r\n          })\r\n        }, \r\n        error(error: HttpErrorResponse) {\r\n          console.log(error);\r\n          this.toastService.error(\"Failed to load users\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  retrieveUsersAndAppendSignatureOptions(id: string): void {\r\n    this.roleService.findAllAssignedUsers(id)\r\n      .subscribe(\r\n        {\r\n          next: (res: HttpResponse<any>) => {\r\n            const options = this.mapUsersToOptions(res.body);\r\n            this.signatureOptions = [...this.signatureOptions, ...options];\r\n          }, \r\n          error(error: HttpErrorResponse) {\r\n            console.log(error);\r\n            this.toastService.error(\"Failed to load users\");\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  mapUsersToOptions(data: any): any[] {\r\n    const usersArr = data;\r\n    const options: any[] = [];\r\n\r\n    usersArr.forEach((u: { firstName: string; lastName: string; subjectId: any; }) => {\r\n      const fullName = u.firstName + \" \" + u.lastName;\r\n      options.push({name: fullName, approverId: u.subjectId});\r\n    })\r\n\r\n    options.sort((a, b) => a.name < b.name ? -1 : (a.name > b.name ? 1 : 0))\r\n\r\n    return options;\r\n  }\r\n\r\n  transformData(): void {\r\n    this.parameterCopy.paramLimit?.limitLevels?.forEach((level: IParamLimitLevel) => {\r\n      level.isModified = false;\r\n      level.limitLevelApprOpt = [];\r\n\r\n      level.limitLevelAppr?.forEach(a => {\r\n        level.limitLevelApprOpt?.push(a.approverId);\r\n        if (a.action === 'N' || a.action === 'M') {\r\n          level.isModified = true;\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n    this.parameterCopy.paramLimit?.limitReqLevels?.forEach((level: IParamLimitLevel) => {\r\n      level.isModified = false;\r\n      level.limitReqLevelApprOpt = [];\r\n\r\n      level.limitReqLevelAppr?.forEach(a => {\r\n        level.limitReqLevelApprOpt?.push(a.approverId);\r\n        if (a.action === 'N' || a.action === 'M') {\r\n          level.isModified = true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  log(): void {\r\n    console.log(this.claimApproverOptions);\r\n    console.log(this.signatureOptions);\r\n    console.log(this.parameter);\r\n    console.log(this.parameter.paramLimit?.limitReqLevels);\r\n\r\n    console.log(\"parameterCopy\");\r\n    console.log(this.parameterCopy);\r\n  }\r\n\r\n  confirm(event: Event, key: string, choice: number): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, null, () => {\r\n      console.log(\"confirm\")\r\n      this.submitRequest(choice);\r\n    });\r\n  }\r\n\r\n  submitRequest(choice: number): void {\r\n    console.log(choice);\r\n    // 0 is reject, 1 is approve\r\n    if (choice === 1) {\r\n      console.log(\"Confirm Approve\")\r\n      this.parameterService.approve(this.parameter).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          if (res.ok) {\r\n            this.toastService.add({severity: 'success', summary: 'Success', detail: 'Request approved'});\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error.message);\r\n        }\r\n      );\r\n    } else if (choice === 0) {\r\n      console.log(\"Confirm Reject\")\r\n      this.parameterService.reject(this.parameter).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          if (res.ok) {\r\n            this.toastService.add({severity: 'success', summary: 'Success', detail: 'Request rejected'});\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error.message);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<p-messages [closable]=\"false\"></p-messages>\r\n\r\n<div *ngIf=\"parameterCopy && parameterCopy.overallStatus == myNSPAY2_STATUS.PENDING_APPROVAL\">\r\n    <div class=\"grid\">\r\n        <div class=\"col-7\">\r\n            <p-panel styleClass=\"no-padding-panel\">\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.approvalLimitBef\"></span>\r\n                </ng-template>\r\n                <p-table\r\n                    id=\"paramLimitBef\"\r\n                    [value]=\"parameterCopy.paramLimit?.limitLevels!\"\r\n                    styleClass=\"p-datatable-gridlines\">\r\n                    <ng-template pTemplate=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\" style=\"width: 10%\">Level</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Designation</th>\r\n                            <th scope=\"col\" style=\"width: 50%\">Name</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Official Cap</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Working Cap</th>\r\n                        </tr>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"body\" let-limitLevel let-i=\"rowIndex\">\r\n                        <tr>\r\n                            <td>{{limitLevel.level}}</td>\r\n                            <td style=\"word-wrap:normal\">{{limitLevel.designation}}</td>\r\n                            <td>\r\n                                <p-multiSelect display=\"chip\"\r\n                                    dropdownIcon=\"\"\r\n                                    styleClass=\"full-width\"\r\n                                    [options]=\"claimApproverOptions\"\r\n                                    optionLabel=\"name\"\r\n                                    optionValue=\"approverId\"\r\n                                    [(ngModel)]=\"limitLevel.limitLevelApprOpt\"\r\n                                    [ngClass]=\"{'modified-multiselect': limitLevel.isModified}\"\r\n                                    [disabled]=\"true\"></p-multiSelect>\r\n                            </td>\r\n                            <td>{{limitLevel.officialCap | parameterCap}}</td>\r\n                            <td>\r\n                                <input type=\"text\" pInputText\r\n                                    [disabled]=\"true\"\r\n                                    class=\"w-full\"\r\n                                    [ngModel]=\"limitLevel.workingCap | parameterCap\"/>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </p-table>\r\n            </p-panel>\r\n        </div>\r\n\r\n        <div class=\"col-3\">\r\n            <p-panel>\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.userBef\"></span>\r\n                </ng-template>\r\n                <div *ngFor=\"let paramUser of parameterCopy.paramUser?.paramList; let i = index;\">\r\n                    <div  class=\"field grid\">\r\n                        <label for=\"paramUserBef{{i}}\" class=\"col-10\">{{paramUser.name}}</label>\r\n                        <div class=\"col-2\">\r\n                            <input type=\"text\"\r\n                            pInputText id=\"paramUserBef{{i}}\"\r\n                             [disabled]=\"true\"\r\n                            [(ngModel)]=\"paramUser.value\"\r\n                            class=\"w-full\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </p-panel>\r\n        </div>\r\n\r\n        <div class=\"col-2\">\r\n            <p-panel>\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.signatureBef\"></span>\r\n                </ng-template>\r\n                <span icTranslate=\"nspay2App.administration.admin-approval.parameter.recoupmentListSignature\">Recoupment Listing Signature</span>\r\n                <div *ngFor=\"let paramSignature of parameterCopy.paramSignature?.signatureList; let i = index;\">\r\n                    <p-dropdown\r\n                        id=\"paramSignatureBef{{i}}\"\r\n                        [options]=\"signatureOptions\"\r\n                        [(ngModel)]=\"paramSignature.signerId\"\r\n                        dropdownIcon=\"\"\r\n                        optionLabel=\"name\"\r\n                        optionValue=\"approverId\"\r\n                        [disabled]=\"true\"></p-dropdown>\r\n                </div>\r\n            </p-panel>\r\n        </div>\r\n\r\n        <div class=\"col-7\">\r\n            <p-panel styleClass=\"no-padding-panel\">\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.approvalLimitAft\"></span>\r\n                </ng-template>\r\n                <p-table\r\n                    *ngIf=\"parameterCopy.paramLimit?.status == myNSPAY2_STATUS.PENDING_APPROVAL\"\r\n                    id=\"paramLimitAft\"\r\n                    [value]=\"parameterCopy.paramLimit?.limitReqLevels!\"\r\n                    styleClass=\"p-datatable-gridlines\">\r\n                    <ng-template pTemplate=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\" style=\"width: 10%\">Level</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Designation</th>\r\n                            <th scope=\"col\" style=\"width: 50%\">Name</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Official Cap</th>\r\n                            <th scope=\"col\" style=\"width: 15%\">Working Cap</th>\r\n                        </tr>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"body\" let-limitLevel let-i=\"rowIndex\">\r\n                        <tr>\r\n                            <td>{{limitLevel.level}}</td>\r\n                            <td style=\"word-wrap:normal\">{{limitLevel.designation}}</td>\r\n                            <td>\r\n                                <p-multiSelect display=\"chip\"\r\n                                    dropdownIcon=\"\"\r\n                                    styleClass=\"full-width\"\r\n                                    [options]=\"claimApproverOptions\"\r\n                                    optionLabel=\"name\"\r\n                                    optionValue=\"approverId\"\r\n                                    [(ngModel)]=\"limitLevel.limitReqLevelApprOpt\"\r\n                                    [ngClass]=\"{'modified-multiselect': limitLevel.isModified}\"\r\n                                    [disabled]=\"true\"></p-multiSelect>\r\n                            </td>\r\n                            <td>{{limitLevel.officialCap | parameterCap}}</td>\r\n                            <td>\r\n                                <input type=\"text\" pInputText\r\n                                    [disabled]=\"true\"\r\n                                    class=\"w-full\"\r\n                                    [ngModel]=\"limitLevel.workingCap | parameterCap\"\r\n                                    [ngClass]=\"{'modified': limitLevel.action !== 'U'}\"/>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </p-table>\r\n\r\n                <p-table\r\n                    *ngIf=\"parameterCopy.paramLimit?.status == myNSPAY2_STATUS.APPROVED\"\r\n                    id=\"paramLimitAft\"\r\n                    [value]=\"parameterCopy.paramLimit?.limitLevels!\"\r\n                    styleClass=\"p-datatable-gridlines\">\r\n                <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\" style=\"width: 10%\">Level</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Designation</th>\r\n                        <th scope=\"col\" style=\"width: 50%\">Name</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Official Cap</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Working Cap</th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-limitLevel let-i=\"rowIndex\">\r\n                    <tr>\r\n                        <td>{{limitLevel.level}}</td>\r\n                        <td style=\"word-wrap:normal\">{{limitLevel.designation}}</td>\r\n                        <td>\r\n                            <p-multiSelect display=\"chip\"\r\n                                dropdownIcon=\"\"\r\n                                styleClass=\"full-width\"\r\n                                [options]=\"claimApproverOptions\"\r\n                                optionLabel=\"name\"\r\n                                optionValue=\"approverId\"\r\n                                [(ngModel)]=\"limitLevel.limitLevelApprOpt\"\r\n                                [disabled]=\"true\"></p-multiSelect>\r\n                        </td>\r\n                        <td>{{limitLevel.officialCap | parameterCap}}</td>\r\n                        <td><input type=\"text\" pInputText\r\n                                [disabled]=\"true\"\r\n                                class=\"w-full\"\r\n                                [ngModel]=\"limitLevel.workingCap | parameterCap\"/>\r\n                        </td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n\r\n            </p-panel>\r\n        </div>\r\n\r\n        <div class=\"col-3\">\r\n            <p-panel>\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.userAft\"></span>\r\n                </ng-template>\r\n                <div *ngIf=\"parameterCopy.paramUser?.status == myNSPAY2_STATUS.PENDING_APPROVAL\">\r\n                    <div *ngFor=\"let paramUser of parameterCopy.paramUser?.paramReqList; let i = index;\">\r\n                        <div class=\"field grid\">\r\n                            <label for=\"paramUserAft{{i}}\" class=\"col-10\">{{paramUser.name}}</label>\r\n                            <div class=\"col-2\">\r\n                                <input type=\"text\" pInputText\r\n                                    id=\"paramUserAft{{i}}\"\r\n                                    [disabled]=\"true\"\r\n                                    class=\"w-full\"\r\n                                    [(ngModel)]=\"paramUser.value\"\r\n                                    [ngClass]=\"{'modified': paramUser.action !== 'U'}\"/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div *ngIf=\"parameterCopy.paramUser?.status == myNSPAY2_STATUS.APPROVED\">\r\n                    <div *ngFor=\"let paramUser of parameterCopy.paramUser?.paramList; let i = index;\">\r\n                        <div  class=\"field grid\">\r\n                            <label for=\"paramUserAft{{i}}\" class=\"col-10\">{{paramUser.name}}</label>\r\n                            <div class=\"col-2\">\r\n                                <input type=\"text\" pInputText\r\n                                    id=\"paramUserAft{{i}}\"\r\n                                    [disabled]=\"true\"\r\n                                    class=\"w-full\"\r\n                                    [(ngModel)]=\"paramUser.value\"/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </p-panel>\r\n        </div>\r\n\r\n        <div class=\"col-2\">\r\n            <p-panel>\r\n                <ng-template pTemplate=\"header\">\r\n                    <span class=\"p-panel-title\" icTranslate=\"nspay2App.administration.admin-approval.parameter.signatureAft\"></span>\r\n                </ng-template>\r\n                <span icTranslate=\"nspay2App.administration.admin-approval.parameter.recoupmentListSignature\">Recoupment Listing Signature</span>\r\n                <div *ngIf=\"parameterCopy.paramSignature?.status == myNSPAY2_STATUS.PENDING_APPROVAL\">\r\n                    <div class=\"field grid\" *ngFor=\"let paramSignature of parameterCopy.paramSignature?.signatureReqList; let i = index;\">\r\n                        <p-dropdown\r\n                            id=\"paramSignatureAft{{i}}\"\r\n                            [options]=\"signatureOptions\"\r\n                            [(ngModel)]=\"paramSignature.signerId\"\r\n                            dropdownIcon=\"\"\r\n                            optionLabel=\"name\"\r\n                            optionValue=\"approverId\"\r\n                            [disabled]=\"true\"\r\n                            [ngClass]=\"{'modified-dropdown': (paramSignature.action == 'N' || paramSignature.action === 'M')}\"></p-dropdown>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"parameterCopy.paramSignature?.status == myNSPAY2_STATUS.APPROVED\">\r\n                    <div class=\"field grid\" *ngFor=\"let paramSignature of parameterCopy.paramSignature?.signatureList; let i = index;\">\r\n                        <p-dropdown\r\n                            id=\"paramSignatureAft{{i}}\"\r\n                            [options]=\"signatureOptions\"\r\n                            [(ngModel)]=\"paramSignature.signerId\"\r\n                            dropdownIcon=\"\"\r\n                            optionLabel=\"name\"\r\n                            optionValue=\"approverId\"\r\n                            [disabled]=\"true\"></p-dropdown>\r\n                    </div>\r\n                </div>\r\n            </p-panel>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"flex justify-content-end align-items-center\">\r\n        <div>\r\n        <p-confirmPopup key='rejectConfirmPopup' id=\"reject\"></p-confirmPopup>\r\n        <button pButton type=\"button\" label=\"Reject\" (click)=\"confirm($event,'rejectConfirmPopup', 0)\" class=\"p-button-danger\"></button>\r\n        <p-confirmPopup key='approveConfirmPopup' id=\"approve\"></p-confirmPopup>\r\n        <button pButton type=\"button\" label=\"Approve\" (click)=\"confirm($event, 'approveConfirmPopup' , 1)\"></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}