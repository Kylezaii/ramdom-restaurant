{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InstalmentTerminateComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst forms_1 = require(\"@angular/forms\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i3 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/ripple\"));\nconst i11 = tslib_1.__importStar(require(\"../../../shared/pipe/default-string.pipe\"));\nfunction InstalmentTerminateComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function InstalmentTerminateComponent_ng_template_15_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.exportCSV());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Selected NRIC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n      \");\n    i0.ɵɵelement(9, \"p-confirmPopup\", 11);\n    i0.ɵɵtext(10, \"\\n    \");\n  }\n}\nfunction InstalmentTerminateComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementStart(6, \"th\", 13);\n    i0.ɵɵtext(7, \"Name\\n          \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 14);\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n    \");\n  }\n}\nfunction InstalmentTerminateComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n    \");\n  }\n  if (rf & 2) {\n    const instalmentRecord_r6 = ctx.$implicit;\n    const i_r7 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r7 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(8, 3, instalmentRecord_r6 == null ? null : instalmentRecord_r6.nric), \" \", instalmentRecord_r6 == null ? null : instalmentRecord_r6.name, \"\");\n  }\n}\nfunction InstalmentTerminateComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"td\", 15);\n    i0.ɵɵtext(4, \"No Instalment records selected.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n}\nconst _c0 = function () {\n  return [10, 25, 50];\n};\nclass InstalmentTerminateComponent {\n  constructor(router, route, fb, codeService) {\n    this.router = router;\n    this.route = route;\n    this.fb = fb;\n    this.codeService = codeService;\n    this.instalmentRecordsToTerminate = [];\n    this.terminateInstalmentForm = this.fb.group({\n      reason: new forms_1.FormControl('', forms_1.Validators.required)\n    });\n  }\n  ngOnInit() {\n    this.codeService.gets('instalmentTerminateRsn').subscribe(codes => {\n      this.terminateReasonOptions = codes[0];\n      this.terminateInstalmentForm.get('reason').patchValue(this.terminateReasonOptions[0]);\n    });\n  }\n  exportCSV() {\n    // TODO: Implement export CSV function or call it from a utility class\n  }\n  setSelectedRecords(records) {\n    this.instalmentRecordsToTerminate = records;\n  }\n}\nexports.InstalmentTerminateComponent = InstalmentTerminateComponent;\nInstalmentTerminateComponent.ɵfac = function InstalmentTerminateComponent_Factory(t) {\n  return new (t || InstalmentTerminateComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.IcCodeService));\n};\nInstalmentTerminateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InstalmentTerminateComponent,\n  selectors: [[\"n2-instalment-terminate\"]],\n  decls: 25,\n  vars: 8,\n  consts: [[1, \"flex\", \"flex-column\", \"gap-2\"], [3, \"formGroup\"], [1, \"flex\", \"align-items-center\", \"gap-2\"], [\"formControlName\", \"reason\", \"id\", \"reason\", \"optionLabel\", \"label.en-US\", \"optionValue\", \"label.en-US\", 1, \"flex-auto\", 3, \"options\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"dataKey\", \"nric\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"flex\", \"gap-2\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"key\", \"terminateInstalmentRecords\"], [\"scope\", \"col\", 2, \"width\", \"10%\"], [\"scope\", \"col\", \"pSortableColumn\", \"name\"], [\"field\", \"name\"], [\"colspan\", \"2\"]],\n  template: function InstalmentTerminateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n      \");\n      i0.ɵɵelementStart(6, \"span\");\n      i0.ɵɵtext(7, \"Reason\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n      \");\n      i0.ɵɵelement(9, \"p-dropdown\", 3);\n      i0.ɵɵtext(10, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n\\n  \");\n      i0.ɵɵelementStart(13, \"p-table\", 4);\n      i0.ɵɵtext(14, \"\\n    \");\n      i0.ɵɵtemplate(15, InstalmentTerminateComponent_ng_template_15_Template, 11, 0, \"ng-template\", 5);\n      i0.ɵɵtext(16, \"\\n    \");\n      i0.ɵɵtemplate(17, InstalmentTerminateComponent_ng_template_17_Template, 12, 0, \"ng-template\", 6);\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵtemplate(19, InstalmentTerminateComponent_ng_template_19_Template, 11, 5, \"ng-template\", 7);\n      i0.ɵɵtext(20, \"\\n\\n    \");\n      i0.ɵɵtemplate(21, InstalmentTerminateComponent_ng_template_21_Template, 7, 0, \"ng-template\", 8);\n      i0.ɵɵtext(22, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.terminateInstalmentForm);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"options\", ctx.terminateReasonOptions);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.instalmentRecordsToTerminate)(\"paginator\", true)(\"rows\", 5)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(7, _c0))(\"showCurrentPageReport\", true);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.PrimeTemplate, i5.ButtonDirective, i6.Tooltip, i7.Table, i7.SortableColumn, i7.SortIcon, i8.Dropdown, i9.ConfirmPopup, i10.Ripple, i11.DefaultStringPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbnN0YWxtZW50LXRlcm1pbmF0ZS5jb21wb25lbnQuc2NzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9pbnN0YWxtZW50L2luc3RhbG1lbnQtdGVybWluYXRlL2luc3RhbG1lbnQtdGVybWluYXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxvTEFBb0wiLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;AACA;;;;;;;;;;;;;;;;ICmBMA;IAAAA,8BAAwB;IACtBA;IAAAA,kCACiC;IADuBA;MAAAA;MAAA;MAAA,OAASA,iCAAW;IAAA,EAAC;IAC5CA,iBAAS;IAC1CA;IAAAA,4BAAM;IAAAA,6BAAa;IAAAA,iBAAO;IAC5BA;IAAAA,iBAAM;IACNA;IAAAA,qCAAkE;IACpEA;;;;;IAEEA;IAAAA,0BAAI;IACFA;IAAAA,8BAAmC;IAAAA,kBAAE;IAAAA,iBAAK;IAC1CA;IAAAA,8BAAuC;IAAAA,gCACrC;IAAAA,iCAAsC;IACxCA;IAAAA,iBAAK;IACPA;IAAAA,iBAAK;IACPA;;;;;IAEEA;IAAAA,0BAAI;IACFA;IAAAA,0BAAI;IAAAA,YAAS;IAAAA,iBAAK;IAClBA;IAAAA,0BAAI;IAAAA,YAAqE;;IAAAA,iBAAK;IAChFA;IAAAA,iBAAK;IACPA;;;;;IAHQA,eAAS;IAATA,8BAAS;IACTA,eAAqE;IAArEA,sLAAqE;;;;;IAK3EA;IAAAA,0BAAI;IACFA;IAAAA,8BAAgB;IAAAA,+CAA+B;IAAAA,iBAAK;IACtDA;IAAAA,iBAAK;IACPA;;;;;;ADxCJ,MAKaC,4BAA4B;EASvCC,YACUC,MAAc,EACdC,KAAqB,EACrBC,EAAe,EACfC,WAA0B;IAH1B,WAAM,GAANH,MAAM;IACN,UAAK,GAALC,KAAK;IACL,OAAE,GAAFC,EAAE;IACF,gBAAW,GAAXC,WAAW;IAZrB,iCAA4B,GAAsB,EAAE;IAIpD,4BAAuB,GAAc,IAAI,CAACD,EAAE,CAACE,KAAK,CAAC;MACjDC,MAAM,EAAE,IAAIC,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ;KAChD,CAAC;EAOF;EAEAC,QAAQ;IACN,IAAI,CAACL,WAAW,CAACM,IAAI,CAAC,wBAAwB,CAAC,CAC9CC,SAAS,CAAEC,KAAY,IAAI;MAC1B,IAAI,CAACC,sBAAsB,GAAGD,KAAK,CAAC,CAAC,CAAC;MAEtC,IAAI,CAACE,uBAAuB,CAACC,GAAG,CAAC,QAAQ,CAAC,CAACC,UAAU,CAAC,IAAI,CAACH,sBAAsB,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC;EACJ;EAEAI,SAAS;IACP;EAAA;EAGFC,kBAAkB,CAACC,OAA0B;IAC3C,IAAI,CAACC,4BAA4B,GAAGD,OAAO;EAC7C;;AApCFE;;mBAKatB,4BAA4B;AAAA;;QAA5BA,4BAA4B;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXzC5B,8BAAoC;MAClCA;MAAAA,+BAA4C;MAC1CA;MAAAA,8BAA2C;MACzCA;MAAAA,4BAAM;MAAAA,sBAAM;MAAAA,iBAAO;MACnBA;MAAAA,gCAEyF;MAC3FA;MAAAA,iBAAM;MACRA;MAAAA,iBAAO;MAEPA;MAAAA,mCAQiB;MACfA;MAAAA,gGAOc;MACdA;MAAAA,gGAOc;MACdA;MAAAA,gGAKc;MAEdA;MAAAA,+FAIc;MAChBA;MAAAA,iBAAU;MACZA;MAAAA,iBAAM;MACNA;;;MAhDQA,eAAqC;MAArCA,uDAAqC;MAGTA,eAAkC;MAAlCA,oDAAkC;MAOlEA,eAAsC;MAAtCA,wDAAsC","names":["i0","InstalmentTerminateComponent","constructor","router","route","fb","codeService","group","reason","forms_1","required","ngOnInit","gets","subscribe","codes","terminateReasonOptions","terminateInstalmentForm","get","patchValue","exportCSV","setSelectedRecords","records","instalmentRecordsToTerminate","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\instalment\\instalment-terminate\\instalment-terminate.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\instalment\\instalment-terminate\\instalment-terminate.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { IcCodeService } from 'app/ng-connect';\r\nimport { IInstalmentPlan } from 'app/payment/instalment/model/instalment-plan.model';\r\n\r\n@Component({\r\n  selector: 'n2-instalment-terminate',\r\n  templateUrl: './instalment-terminate.component.html',\r\n  styleUrls: ['./instalment-terminate.component.scss']\r\n})\r\nexport class InstalmentTerminateComponent implements OnInit {\r\n  instalmentRecordsToTerminate: IInstalmentPlan[] = [];\r\n\r\n  terminateReasonOptions: any[];\r\n  terminateReasonChoice: string;\r\n  terminateInstalmentForm: FormGroup = this.fb.group({\r\n    reason: new FormControl('', Validators.required)\r\n  });\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private codeService: IcCodeService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.codeService.gets('instalmentTerminateRsn')\r\n    .subscribe((codes: any[]) => {\r\n      this.terminateReasonOptions = codes[0];\r\n\r\n      this.terminateInstalmentForm.get('reason').patchValue(this.terminateReasonOptions[0]);\r\n    });\r\n  }\r\n\r\n  exportCSV(): void {\r\n    // TODO: Implement export CSV function or call it from a utility class\r\n  }\r\n\r\n  setSelectedRecords(records: IInstalmentPlan[]): void {\r\n    this.instalmentRecordsToTerminate = records;\r\n  }\r\n}\r\n","<div class='flex flex-column gap-2'>\r\n  <form [formGroup]='terminateInstalmentForm'>\r\n    <div class='flex align-items-center gap-2'>\r\n      <span>Reason</span>\r\n      <p-dropdown class='flex-auto' [options]='terminateReasonOptions'\r\n                  formControlName='reason'\r\n                  id='reason' optionLabel=\"label.en-US\" optionValue=\"label.en-US\"></p-dropdown>\r\n    </div>\r\n  </form>\r\n\r\n  <p-table\r\n    [value]='instalmentRecordsToTerminate'\r\n    styleClass='p-datatable-gridlines'\r\n    [paginator]='true'\r\n    [rows]='5'\r\n    currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'\r\n    [rowsPerPageOptions]='[10,25,50]'\r\n    [showCurrentPageReport]='true'\r\n    dataKey='nric'>\r\n    <ng-template pTemplate='caption'>\r\n      <div class='flex gap-2'>\r\n        <button type='button' pButton pRipple icon='pi pi-file' (click)='exportCSV()' pTooltip='Export as CSV'\r\n                tooltipPosition='bottom'></button>\r\n        <span>Selected NRIC</span>\r\n      </div>\r\n      <p-confirmPopup key='terminateInstalmentRecords'></p-confirmPopup>\r\n    </ng-template>\r\n    <ng-template pTemplate='header'>\r\n      <tr>\r\n        <th scope=\"col\" style='width: 10%'>SN</th>\r\n        <th scope=\"col\" pSortableColumn='name'>Name\r\n          <p-sortIcon field='name'></p-sortIcon>\r\n        </th>\r\n      </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate='body' let-instalmentRecord let-i='rowIndex'>\r\n      <tr>\r\n        <td>{{i + 1}}</td>\r\n        <td>{{instalmentRecord?.nric | defaultString}} {{instalmentRecord?.name}}</td>\r\n      </tr>\r\n    </ng-template>\r\n\r\n    <ng-template pTemplate='emptymessage'>\r\n      <tr>\r\n        <td colspan='2'>No Instalment records selected.</td>\r\n      </tr>\r\n    </ng-template>\r\n  </p-table>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}