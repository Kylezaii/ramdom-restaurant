{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VesRecordEditComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst http_1 = require(\"@angular/common/http\");\nconst forms_1 = require(\"@angular/forms\");\nconst date_validator_directive_1 = require(\"app/shared/validator/date-validator.directive\");\nconst fileupload2_directive_1 = require(\"app/shared/validator/fileupload2.directive\");\nconst ves_enum_model_1 = require(\"../model/ves-enum.model\");\nconst common_1 = require(\"@angular/common\");\nconst email_directive_1 = require(\"app/shared/validator/email.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i4 = tslib_1.__importStar(require(\"../service/ves.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/shared/service/file-upload.service\"));\nconst i8 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i9 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i18 = tslib_1.__importStar(require(\"../../../shared/component/file-upload/file-upload.component\"));\nconst i19 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst _c0 = [\"vesRecordSupportingDocuments\"];\nfunction VesRecordEditComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"span\", 42);\n    i0.ɵɵtext(2, \"VES Detail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n}\nfunction VesRecordEditComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \"\\n                    Please enter a value\\n                  \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VesRecordEditComponent_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \"\\n                    Please enter a value\\n                  \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VesRecordEditComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \"\\n                    End of Extension Date needs to be later than Start of Extension Date\\n                  \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VesRecordEditComponent_ng_template_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"span\", 42);\n    i0.ɵɵtext(2, \"Payment Record(s)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n}\nfunction VesRecordEditComponent_ng_template_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n              \");\n    i0.ɵɵelementStart(3, \"th\", 44);\n    i0.ɵɵtext(4, \"Payment Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n              \");\n    i0.ɵɵelementStart(6, \"th\", 45);\n    i0.ɵɵtext(7, \"Payday\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n          \");\n  }\n}\nfunction VesRecordEditComponent_ng_template_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n              \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n          \");\n  }\n  if (rf & 2) {\n    const paymentRecord_r18 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(5, 3, paymentRecord_r18.payPeriodFrom, \"dd-MM-YYYY\"), \" to \", i0.ɵɵpipeBind2(6, 6, paymentRecord_r18.payPeriodTo, \"dd-MM-YYYY\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 9, paymentRecord_r18.paydayDt, \"dd-MM-YYYY\"));\n  }\n}\nfunction VesRecordEditComponent_ng_template_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"span\", 42);\n    i0.ɵɵtext(2, \"Unit Administrator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n}\nfunction VesRecordEditComponent_div_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵtext(1, \"\\n              Invalid Email format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VesRecordEditComponent_ng_template_119_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function VesRecordEditComponent_ng_template_119_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      const _r10 = i0.ɵɵreference(117);\n      return i0.ɵɵresetView(ctx_r20.exportCSV(_r10));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n            \");\n  }\n}\nfunction VesRecordEditComponent_ng_template_121_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"th\", 47);\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Filename\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 48);\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                \");\n    i0.ɵɵelementStart(11, \"th\", 49);\n    i0.ɵɵtext(12, \"\\n                  \");\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14, \"Uploaded On\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                  \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 50);\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                \");\n    i0.ɵɵelementStart(19, \"th\", 51);\n    i0.ɵɵtext(20, \"\\n                  \");\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22, \"Uploaded By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                  \");\n    i0.ɵɵelement(24, \"p-sortIcon\", 52);\n    i0.ɵɵtext(25, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n            \");\n  }\n}\nfunction VesRecordEditComponent_ng_template_123_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 53);\n    i0.ɵɵlistener(\"click\", function VesRecordEditComponent_ng_template_123_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const file_r22 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.downloadDoc(file_r22.documentId));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n  }\n  if (rf & 2) {\n    const file_r22 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(file_r22.fileName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 3, file_r22.createdDt, \"dd-MM-YYYY (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(file_r22.uploadedBy);\n  }\n}\nfunction VesRecordEditComponent_p_143_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\n        [System] Start of Extension changed from \", i0.ɵɵpipeBind2(2, 2, ctx_r15.vesRecordDetails.extensionStartDt, \"dd-MM-yyyy\"), \"\\n        to\\n        \", i0.ɵɵpipeBind2(3, 5, (tmp_0_0 = ctx_r15.vesDetailForm.get(\"extensionStartDt\")) == null ? null : tmp_0_0.value, \"dd-MM-yyyy\"), \"\\n      \");\n  }\n}\nfunction VesRecordEditComponent_p_146_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\n        [System] End of Extension changed from \", i0.ɵɵpipeBind2(2, 2, ctx_r16.vesRecordDetails.extensionEndDt, \"dd-MM-yyyy\"), \" to\\n        \", i0.ɵɵpipeBind2(3, 5, (tmp_0_0 = ctx_r16.vesDetailForm.get(\"extensionEndDt\")) == null ? null : tmp_0_0.value, \"dd-MM-yyyy\"), \"\\n      \");\n  }\n}\nfunction VesRecordEditComponent_p_149_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\n        [System] Email changed from \", \"blank\", \" to\\n        \", (tmp_0_0 = ctx_r17.vesDetailForm.get(\"emailInput\")) == null ? null : tmp_0_0.value, \"\\n      \");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"border-dashed border-yellow-500\": a0\n  };\n};\nconst _c2 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\nconst _c3 = function () {\n  return {\n    \"960px\": \"75vw\"\n  };\n};\nclass VesRecordEditComponent {\n  constructor(fb, toastService, n2httpService, vesService, route, dateUtilsService, fileUploadService, exportUtilsService, router, localeId) {\n    this.fb = fb;\n    this.toastService = toastService;\n    this.n2httpService = n2httpService;\n    this.vesService = vesService;\n    this.route = route;\n    this.dateUtilsService = dateUtilsService;\n    this.fileUploadService = fileUploadService;\n    this.exportUtilsService = exportUtilsService;\n    this.router = router;\n    this.localeId = localeId;\n    this.confirmEditVesRecordDialog = {\n      display: false\n    };\n    this.vesDetailForm = this.fb.group({\n      nricInput: new forms_1.FormControl({\n        value: null,\n        disabled: true\n      }),\n      nameInput: new forms_1.FormControl({\n        value: null,\n        disabled: true\n      }),\n      extensionStartDt: new forms_1.FormControl('', forms_1.Validators.required),\n      extensionEndDt: new forms_1.FormControl('', forms_1.Validators.required),\n      remarksInput: new forms_1.FormControl({\n        value: null,\n        disabled: true\n      }),\n      confirmRemarksInput: new forms_1.FormControl(null),\n      emailInput: new forms_1.FormControl(null, (0, email_directive_1.EmailValidator)()),\n      supportingDocuments: new forms_1.FormControl([], fileupload2_directive_1.FileUploadValidator2.allowableExtension(\".pdf\"))\n    }, {\n      validators: date_validator_directive_1.DateValidator.dateLessThanOrEquals('extensionStartDt', 'extensionEndDt')\n    });\n    this.disabled = true;\n    this.vesStatusEnum = ves_enum_model_1.VesStatus;\n    //\n  }\n\n  ngOnInit() {\n    console.log(\"VES Record ID: \", this.route.snapshot.paramMap.get(\"id\"));\n    this.recordId = this.route.snapshot.paramMap.get(\"id\");\n    this.loadRecord();\n  }\n  loadRecord() {\n    this.vesService.getRecordById(this.recordId).subscribe(res => {\n      console.log(res);\n      this.vesRecordDetails = res.body.data;\n      console.log(this.vesRecordDetails);\n      if (this.checkVesStatus(this.vesRecordDetails)) {\n        this.fileList = res.body.data.supportingDocs;\n        this.paymentRecords = res.body.data.payments;\n        console.log(this.fileList);\n        console.log(this.paymentRecords);\n        console.log(res);\n        this.patchFormValues();\n      } else {\n        this.router.navigate(['payroll/ves']);\n        this.toastService.warn(\"VES record cannot be edited\");\n      }\n    }, error => {\n      console.log(error);\n      if (error.status === 404 /* HttpStatusCode.NotFound */) {\n        this.toastService.error(error.error.error_desc);\n      }\n    });\n  }\n  checkVesStatus(data) {\n    return this.vesStatusEnum[data.status] === ves_enum_model_1.VesStatus.ACTIVE || this.vesStatusEnum[data.status] === ves_enum_model_1.VesStatus.ON_HOLD;\n  }\n  downloadDoc(docId) {\n    if (docId) {\n      console.log(docId);\n      this.fileUploadService.downloadTxnId(docId).subscribe(res => {\n        if (res) {\n          const data = res;\n          const contentDispositionHeader = data.headers.get('content-disposition');\n          const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n          const blob = new Blob([data.body], {\n            type: data.headers.get('content-type')\n          });\n          const anchor = document.createElement(\"a\");\n          anchor.href = URL.createObjectURL(blob);\n          anchor.download = fileName;\n          anchor.click();\n        }\n      }, error => {\n        console.log(error);\n        this.toastService.error(error.error?.error_desc);\n      });\n    }\n  }\n  exportCSV(dataTable) {\n    if (this.fileList) {\n      const data = this.fileList;\n      const columns = [{\n        field: 'sn',\n        header: 'SN',\n        index: 0\n      }, {\n        field: 'fileName',\n        header: 'File Name',\n        index: 1\n      }, {\n        field: 'createdDt',\n        header: 'Uploaded On',\n        index: 2\n      }, {\n        field: 'uploadedBy',\n        header: 'Uploaded By',\n        index: 3\n      }];\n      const dtoList = [];\n      console.log(\"data\", data);\n      data.forEach((file, index) => {\n        const dto = {\n          sn: index + 1,\n          fileName: `${String(file.fileName)}`,\n          createdDt: `${String(this.dateUtilsService.formatStrDate(file.createdDt, \"DD-MM-YYYY\"))}`,\n          uploadedBy: `${String(file.uploadedBy)}`\n        };\n        dtoList.push(dto);\n      });\n      this.exportUtilsService.exportCSV(dataTable, dtoList, this.fileList.length, columns, \"DocumentList_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n    } else {\n      this.toastService.info(\"No documents found\");\n    }\n  }\n  patchFormValues() {\n    this.vesDetailForm.get('nricInput').patchValue(this.vesRecordDetails.nric);\n    this.vesDetailForm.get('nameInput').patchValue(this.vesRecordDetails.name);\n    this.vesDetailForm.get('extensionStartDt').patchValue(new Date(this.vesRecordDetails.extensionStartDt));\n    this.vesDetailForm.get('extensionEndDt').patchValue(new Date(this.vesRecordDetails.extensionEndDt));\n    this.vesDetailForm.get('emailInput').patchValue(this.vesRecordDetails.adminEmail);\n    if (this.vesRecordDetails.remarks.length > 0) {\n      this.vesDetailForm.get('remarksInput').patchValue(this.vesRecordDetails.remarks[this.vesRecordDetails.remarks.length - 1].remarks.slice(23));\n    }\n  }\n  checkInputField(inputField) {\n    let customClass = '';\n    const vdForm = this.vesDetailForm;\n    const startDt = vdForm.get('extensionStartDt');\n    const endDt = vdForm.get('extensionEndDt');\n    if (inputField === 'extensionStartDt') {\n      if (startDt.hasError('required') && startDt.touched) {\n        customClass = 'ng-invalid ng-dirty';\n      } else if (startDt.dirty) {\n        customClass = 'border-dashed border-yellow-500';\n      }\n    } else if (inputField === 'extensionEndDt') {\n      if (endDt.hasError('required') && endDt.touched || vdForm.errors?.['invalidDateLessThanOrEquals'] && endDt.dirty) {\n        customClass = 'ng-invalid ng-dirty';\n      } else if (endDt.dirty) {\n        customClass = 'border-dashed border-yellow-500';\n      }\n    }\n    return customClass;\n  }\n  onSubmit(dialog) {\n    dialog.display = true;\n  }\n  onCancel() {\n    this.toastService.info('Edit cancelled. All fields have been reset.');\n    this.supportingDocsFileUploadComponent.clearAndReset();\n    this.vesDetailForm.markAsPristine();\n    this.vesDetailForm.reset({\n      nricInput: this.vesRecordDetails.nric,\n      nameInput: this.vesRecordDetails.name,\n      extensionStartDt: new Date(this.vesRecordDetails.extensionStartDt),\n      extensionEndDt: new Date(this.vesRecordDetails.extensionEndDt),\n      remarksInput: null,\n      emailInput: null\n    });\n  }\n  onClose(dialog) {\n    dialog.display = false;\n  }\n  editVesRecord() {\n    const newStartDt = String(this.dateUtilsService.formatStrDate(this.vesDetailForm.get('extensionStartDt')?.value, \"YYYY-MM-DD\"));\n    const newEndDt = String(this.dateUtilsService.formatStrDate(this.vesDetailForm.get('extensionEndDt')?.value, \"YYYY-MM-DD\"));\n    const newAdminEmail = this.vesDetailForm.get('emailInput')?.value;\n    const originalStartDt = this.vesRecordDetails.extensionStartDt;\n    const originalEndDt = this.vesRecordDetails.extensionEndDt;\n    const originalAdminEmail = this.vesRecordDetails.adminEmail;\n    const editRecordRequest = {\n      recordId: this.recordId,\n      supportingDocs: this.supportingDocsFileUploadComponent.verifiedFiles.map(x => String(x.meta_data.id)),\n      remarks: this.vesDetailForm.get('confirmRemarksInput')?.value,\n      fields: {\n        extensionStartDt: newStartDt === originalStartDt ? null : newStartDt,\n        extensionEndDt: newEndDt === originalEndDt ? null : newEndDt,\n        adminEmail: newAdminEmail === originalAdminEmail ? null : newAdminEmail\n      }\n    };\n    console.log(editRecordRequest);\n    if (newStartDt === originalStartDt && newEndDt === originalEndDt && newAdminEmail === originalAdminEmail) {\n      this.toastService.info(\"No changes made\");\n    } else {\n      this.vesService.createEditRecordRequest(editRecordRequest).subscribe(res => {\n        console.log(res);\n        this.confirmEditVesRecordDialog.display = false;\n        this.router.navigate(['payroll/ves']);\n        this.toastService.success(\"Requested VES record to be edited\");\n      }, error => {\n        console.log(error);\n        this.confirmEditVesRecordDialog.display = false;\n        this.toastService.error(error.error.error_desc);\n      });\n    }\n  }\n}\nexports.VesRecordEditComponent = VesRecordEditComponent;\nVesRecordEditComponent.ɵfac = function VesRecordEditComponent_Factory(t) {\n  return new (t || VesRecordEditComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.Ns2HttpService), i0.ɵɵdirectiveInject(i4.VesService), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i6.DateUtilsService), i0.ɵɵdirectiveInject(i7.FileUploadService), i0.ɵɵdirectiveInject(i8.ExportUtilsService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nVesRecordEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VesRecordEditComponent,\n  selectors: [[\"n2-ves-record-edit\"]],\n  viewQuery: function VesRecordEditComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.supportingDocsFileUploadComponent = _t.first);\n    }\n  },\n  decls: 172,\n  vars: 34,\n  consts: [[\"header\", \"Edit VES Record\"], [3, \"formGroup\"], [1, \"flex\", \"grid\"], [1, \"col-6\"], [\"pTemplate\", \"header\"], [1, \"formgrid\", \"grid\"], [1, \"field\", \"grid\", \"align-items-center\"], [\"for\", \"nricInput\", 1, \"col-4\"], [1, \"col-8\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"nricInput\", \"formControlName\", \"nricInput\", \"placeholder\", \"NRIC\", 1, \"w-full\"], [\"for\", \"nameInput\", 1, \"col-4\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"nameInput\", \"formControlName\", \"nameInput\", \"placeholder\", \"Name\", 1, \"w-full\"], [\"for\", \"extensionStartDt\", 1, \"col-4\"], [\"styleClass\", \"w-full\", \"dateFormat\", \"dd-mm-yy\", \"inputId\", \"dateformat\", \"formControlName\", \"extensionStartDt\", 3, \"inputStyleClass\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"for\", \"extensionEndDt\", 1, \"col-4\"], [\"styleClass\", \"w-full\", \"dateFormat\", \"dd-mm-yy\", \"inputId\", \"dateformat\", \"formControlName\", \"extensionEndDt\", 3, \"inputStyleClass\"], [1, \"field\", \"grid\"], [\"for\", \"remarksInput\", 1, \"col-2\", \"align-items-start\"], [1, \"col-10\"], [\"pInputTextarea\", \"\", \"formControlName\", \"remarksInput\", 1, \"w-full\", 3, \"rows\"], [\"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"vet\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"body\"], [1, \"grid\", \"col-7\", \"align-items-center\"], [1, \"col-3\"], [1, \"col-9\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"emailInput\", \"formControlName\", \"emailInput\", \"name\", \"emailInput\", \"placeholder\", \"Email\", 1, \"w-full\", 3, \"ngClass\"], [\"docT\", \"\"], [\"formControlName\", \"supportingDocuments\", \"id\", \"supportingDocuments\", 3, \"contentHeight\"], [\"vesRecordSupportingDocuments\", \"\"], [1, \"mt-5\", \"nsp-align-right\", \"gap-2\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Submit\", 3, \"disabled\", \"click\"], [\"header\", \"Edit Ves Record Confirmation\", 3, \"visible\", \"draggable\", \"resizable\", \"modal\", \"breakpoints\", \"visibleChange\"], [\"class\", \"mb-1\", 4, \"ngIf\"], [1, \"field\", \"col\"], [\"for\", \"confirmRemarksInput\", 1, \"align-items-start\"], [1, \"w-full\"], [\"pInputTextarea\", \"\", \"formControlName\", \"confirmRemarksInput\", 1, \"w-full\", 3, \"rows\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Submit\", 3, \"click\"], [1, \"font-bold\"], [1, \"form-text\", \"text-danger\"], [\"scope\", \"col\", 1, \"col-9\"], [\"scope\", \"col\", 1, \"col-3\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", \"pSortableColumn\", \"fileName\", 1, \"col-6\", \"justify-content-between\"], [\"field\", \"fileName\"], [\"scope\", \"col\", \"pSortableColumn\", \"createdDt\", 1, \"col-3\"], [\"field\", \"createdDt\"], [\"scope\", \"col\", \"pSortableColumn\", \"createdBy\", 1, \"col-3\"], [\"field\", \"createdBy\"], [1, \"underline\", \"text-blue-500\", 3, \"click\"], [1, \"mb-1\"]],\n  template: function VesRecordEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-panel\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n      \");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵtext(7, \"\\n        \");\n      i0.ɵɵelementStart(8, \"p-panel\");\n      i0.ɵɵtext(9, \"\\n          \");\n      i0.ɵɵtemplate(10, VesRecordEditComponent_ng_template_10_Template, 4, 0, \"ng-template\", 4);\n      i0.ɵɵtext(11, \"\\n          \");\n      i0.ɵɵelementStart(12, \"div\", 5);\n      i0.ɵɵtext(13, \"\\n            \");\n      i0.ɵɵelementStart(14, \"div\", 3);\n      i0.ɵɵtext(15, \"\\n              \");\n      i0.ɵɵelementStart(16, \"div\", 6);\n      i0.ɵɵtext(17, \"\\n                \");\n      i0.ɵɵelementStart(18, \"label\", 7);\n      i0.ɵɵtext(19, \"NRIC:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n                \");\n      i0.ɵɵelementStart(21, \"div\", 8);\n      i0.ɵɵtext(22, \"\\n                  \");\n      i0.ɵɵelement(23, \"input\", 9);\n      i0.ɵɵtext(24, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n              \");\n      i0.ɵɵelementStart(27, \"div\", 6);\n      i0.ɵɵtext(28, \"\\n                \");\n      i0.ɵɵelementStart(29, \"label\", 10);\n      i0.ɵɵtext(30, \"Name from E-HR:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n                \");\n      i0.ɵɵelementStart(32, \"div\", 8);\n      i0.ɵɵtext(33, \"\\n                  \");\n      i0.ɵɵelement(34, \"input\", 11);\n      i0.ɵɵtext(35, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n            \");\n      i0.ɵɵelementStart(39, \"div\", 3);\n      i0.ɵɵtext(40, \"\\n              \");\n      i0.ɵɵelementStart(41, \"div\", 6);\n      i0.ɵɵtext(42, \"\\n                \");\n      i0.ɵɵelementStart(43, \"label\", 12);\n      i0.ɵɵtext(44, \"Start of Extension*: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n                \");\n      i0.ɵɵelementStart(46, \"div\", 8);\n      i0.ɵɵtext(47, \"\\n                  \");\n      i0.ɵɵelementStart(48, \"p-calendar\", 13);\n      i0.ɵɵtext(49, \"\\n                  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \"\\n                  \");\n      i0.ɵɵtemplate(51, VesRecordEditComponent_div_51_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(52, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(54, \"\\n              \");\n      i0.ɵɵelementStart(55, \"div\", 6);\n      i0.ɵɵtext(56, \"\\n                \");\n      i0.ɵɵelementStart(57, \"label\", 15);\n      i0.ɵɵtext(58, \"End of Extension*: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n                \");\n      i0.ɵɵelementStart(60, \"div\", 8);\n      i0.ɵɵtext(61, \"\\n                  \");\n      i0.ɵɵelementStart(62, \"p-calendar\", 16);\n      i0.ɵɵtext(63, \"\\n                  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(64, \"\\n                  \");\n      i0.ɵɵtemplate(65, VesRecordEditComponent_div_65_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(66, \"\\n                  \");\n      i0.ɵɵtemplate(67, VesRecordEditComponent_div_67_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(68, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(69, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(70, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(71, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(72, \"\\n          \");\n      i0.ɵɵelementStart(73, \"div\", 17);\n      i0.ɵɵtext(74, \"\\n            \");\n      i0.ɵɵelementStart(75, \"label\", 18);\n      i0.ɵɵtext(76, \"Remarks:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(77, \"\\n            \");\n      i0.ɵɵelementStart(78, \"div\", 19);\n      i0.ɵɵtext(79, \"\\n              \");\n      i0.ɵɵelement(80, \"textarea\", 20);\n      i0.ɵɵtext(81, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(82, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(83, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(84, \"br\");\n      i0.ɵɵtext(85, \"\\n        \");\n      i0.ɵɵelementStart(86, \"p-table\", 21, 22);\n      i0.ɵɵtext(88, \"\\n          \");\n      i0.ɵɵtemplate(89, VesRecordEditComponent_ng_template_89_Template, 4, 0, \"ng-template\", 23);\n      i0.ɵɵtext(90, \"\\n          \");\n      i0.ɵɵtemplate(91, VesRecordEditComponent_ng_template_91_Template, 10, 0, \"ng-template\", 4);\n      i0.ɵɵtext(92, \"\\n          \");\n      i0.ɵɵtemplate(93, VesRecordEditComponent_ng_template_93_Template, 13, 12, \"ng-template\", 24);\n      i0.ɵɵtext(94, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(95, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(96, \"\\n      \");\n      i0.ɵɵelementStart(97, \"div\", 3);\n      i0.ɵɵtext(98, \"\\n        \");\n      i0.ɵɵelementStart(99, \"p-panel\");\n      i0.ɵɵtext(100, \"\\n          \");\n      i0.ɵɵtemplate(101, VesRecordEditComponent_ng_template_101_Template, 4, 0, \"ng-template\", 4);\n      i0.ɵɵtext(102, \"\\n          \");\n      i0.ɵɵelementStart(103, \"div\", 25);\n      i0.ɵɵtext(104, \"\\n            \");\n      i0.ɵɵelementStart(105, \"label\", 26);\n      i0.ɵɵtext(106, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(107, \"\\n            \");\n      i0.ɵɵelementStart(108, \"div\", 27);\n      i0.ɵɵtext(109, \"\\n              \");\n      i0.ɵɵelement(110, \"input\", 28);\n      i0.ɵɵtext(111, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(112, \"\\n            \");\n      i0.ɵɵtemplate(113, VesRecordEditComponent_div_113_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(114, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(115, \"\\n          \");\n      i0.ɵɵelementStart(116, \"p-table\", 21, 29);\n      i0.ɵɵtext(118, \"\\n            \");\n      i0.ɵɵtemplate(119, VesRecordEditComponent_ng_template_119_Template, 3, 0, \"ng-template\", 23);\n      i0.ɵɵtext(120, \"\\n            \");\n      i0.ɵɵtemplate(121, VesRecordEditComponent_ng_template_121_Template, 28, 0, \"ng-template\", 4);\n      i0.ɵɵtext(122, \"\\n            \");\n      i0.ɵɵtemplate(123, VesRecordEditComponent_ng_template_123_Template, 16, 6, \"ng-template\", 24);\n      i0.ɵɵtext(124, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(125, \"\\n          \");\n      i0.ɵɵelement(126, \"br\");\n      i0.ɵɵtext(127, \"\\n          \");\n      i0.ɵɵelement(128, \"n2-file-upload\", 30, 31);\n      i0.ɵɵtext(130, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(131, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(132, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(133, \"\\n    \");\n      i0.ɵɵelementStart(134, \"div\", 32);\n      i0.ɵɵtext(135, \"\\n      \");\n      i0.ɵɵelementStart(136, \"button\", 33);\n      i0.ɵɵlistener(\"click\", function VesRecordEditComponent_Template_button_click_136_listener() {\n        return ctx.onCancel();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(137, \"\\n      \");\n      i0.ɵɵelementStart(138, \"button\", 34);\n      i0.ɵɵlistener(\"click\", function VesRecordEditComponent_Template_button_click_138_listener() {\n        return ctx.onSubmit(ctx.confirmEditVesRecordDialog);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(139, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(140, \"\\n    \");\n      i0.ɵɵelementStart(141, \"p-dialog\", 35);\n      i0.ɵɵlistener(\"visibleChange\", function VesRecordEditComponent_Template_p_dialog_visibleChange_141_listener($event) {\n        return ctx.confirmEditVesRecordDialog.display = $event;\n      });\n      i0.ɵɵtext(142, \"\\n      \");\n      i0.ɵɵtemplate(143, VesRecordEditComponent_p_143_Template, 4, 8, \"p\", 36);\n      i0.ɵɵpipe(144, \"date\");\n      i0.ɵɵtext(145, \"\\n      \");\n      i0.ɵɵtemplate(146, VesRecordEditComponent_p_146_Template, 4, 8, \"p\", 36);\n      i0.ɵɵpipe(147, \"date\");\n      i0.ɵɵtext(148, \"\\n      \");\n      i0.ɵɵtemplate(149, VesRecordEditComponent_p_149_Template, 2, 2, \"p\", 36);\n      i0.ɵɵtext(150, \"\\n      \");\n      i0.ɵɵelementStart(151, \"div\", 37);\n      i0.ɵɵtext(152, \"\\n        \");\n      i0.ɵɵelementStart(153, \"label\", 38);\n      i0.ɵɵtext(154, \"Remarks:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(155, \"\\n        \");\n      i0.ɵɵelementStart(156, \"div\", 39);\n      i0.ɵɵtext(157, \"\\n          \");\n      i0.ɵɵelement(158, \"textarea\", 40);\n      i0.ɵɵtext(159, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(160, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(161, \"\\n      \");\n      i0.ɵɵelementStart(162, \"div\", 32);\n      i0.ɵɵtext(163, \"\\n        \");\n      i0.ɵɵelementStart(164, \"button\", 33);\n      i0.ɵɵlistener(\"click\", function VesRecordEditComponent_Template_button_click_164_listener() {\n        return ctx.onClose(ctx.confirmEditVesRecordDialog);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(165, \"\\n        \");\n      i0.ɵɵelementStart(166, \"button\", 41);\n      i0.ɵɵlistener(\"click\", function VesRecordEditComponent_Template_button_click_166_listener() {\n        return ctx.editVesRecord();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(167, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(168, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(169, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(170, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(171, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_2_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_8_0;\n      let tmp_9_0;\n      let tmp_19_0;\n      let tmp_20_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.vesDetailForm);\n      i0.ɵɵadvance(46);\n      i0.ɵɵpropertyInterpolate(\"inputStyleClass\", ctx.checkInputField(\"extensionStartDt\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.vesDetailForm.get(\"extensionStartDt\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.vesDetailForm.get(\"extensionStartDt\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(11);\n      i0.ɵɵpropertyInterpolate(\"inputStyleClass\", ctx.checkInputField(\"extensionEndDt\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.vesDetailForm.get(\"extensionEndDt\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx.vesDetailForm.get(\"extensionEndDt\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.vesDetailForm.errors == null ? null : ctx.vesDetailForm.errors[\"invalidDateLessThanOrEquals\"]) && ((tmp_5_0 = ctx.vesDetailForm.get(\"extensionEndDt\")) == null ? null : tmp_5_0.dirty));\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"rows\", 5);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"value\", ctx.paymentRecords);\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(30, _c1, ctx.vesDetailForm.get(\"emailInput\").dirty && !((tmp_8_0 = ctx.vesDetailForm.get(\"emailInput\")) == null ? null : tmp_8_0.hasError(\"email\"))));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.vesDetailForm.get(\"emailInput\")) == null ? null : tmp_9_0.hasError(\"email\")) && ((tmp_9_0 = ctx.vesDetailForm.get(\"emailInput\")) == null ? null : tmp_9_0.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"value\", ctx.fileList);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"contentHeight\", \"200px\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"disabled\", !ctx.vesDetailForm.dirty);\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(32, _c2));\n      i0.ɵɵproperty(\"visible\", ctx.confirmEditVesRecordDialog.display)(\"draggable\", false)(\"resizable\", false)(\"modal\", true)(\"breakpoints\", i0.ɵɵpureFunction0(33, _c3));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind2(144, 24, (tmp_19_0 = ctx.vesDetailForm.get(\"extensionStartDt\")) == null ? null : tmp_19_0.value, \"yyyy-MM-dd\") !== ctx.vesRecordDetails.extensionStartDt);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind2(147, 27, (tmp_20_0 = ctx.vesDetailForm.get(\"extensionEndDt\")) == null ? null : tmp_20_0.value, \"yyyy-MM-dd\") !== ctx.vesRecordDetails.extensionEndDt);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.vesDetailForm.get(\"emailInput\").dirty);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"rows\", 10);\n    }\n  },\n  dependencies: [i9.NgClass, i9.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i10.PrimeTemplate, i11.ButtonDirective, i12.Tooltip, i13.Table, i13.SortableColumn, i13.SortIcon, i14.InputText, i15.Dialog, i16.InputTextarea, i17.Calendar, i18.FileUploadComponent, i19.Panel, i9.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ2ZXMtcmVjb3JkLWVkaXQuY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5cm9sbC92ZXMvdmVzLXJlY29yZC1lZGl0L3Zlcy1yZWNvcmQtZWRpdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0xBQWdMIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","VesRecordEditComponent","constructor","fb","toastService","n2httpService","vesService","route","dateUtilsService","fileUploadService","exportUtilsService","router","localeId","display","group","nricInput","forms_1","value","disabled","nameInput","extensionStartDt","required","extensionEndDt","remarksInput","confirmRemarksInput","emailInput","supportingDocuments","fileupload2_directive_1","allowableExtension","validators","date_validator_directive_1","dateLessThanOrEquals","ves_enum_model_1","ngOnInit","console","log","snapshot","paramMap","get","recordId","loadRecord","getRecordById","subscribe","res","vesRecordDetails","body","data","checkVesStatus","fileList","supportingDocs","paymentRecords","payments","patchFormValues","navigate","warn","error","status","error_desc","vesStatusEnum","ACTIVE","ON_HOLD","downloadDoc","docId","downloadTxnId","contentDispositionHeader","headers","fileName","split","trim","replace","blob","Blob","type","anchor","document","createElement","href","URL","createObjectURL","download","click","exportCSV","dataTable","columns","field","header","index","dtoList","forEach","file","dto","sn","String","createdDt","formatStrDate","uploadedBy","push","length","concat","Date","info","vesDetailForm","patchValue","nric","name","adminEmail","remarks","slice","checkInputField","inputField","customClass","vdForm","startDt","endDt","hasError","touched","dirty","errors","onSubmit","dialog","onCancel","supportingDocsFileUploadComponent","clearAndReset","markAsPristine","reset","onClose","editVesRecord","newStartDt","newEndDt","newAdminEmail","originalStartDt","originalEndDt","originalAdminEmail","editRecordRequest","verifiedFiles","map","x","meta_data","id","fields","createEditRecordRequest","confirmEditVesRecordDialog","success","exports","core_1","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\ves-record-edit\\ves-record-edit.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\ves-record-edit\\ves-record-edit.component.html"],"sourcesContent":["import { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { HttpErrorResponse, HttpResponse, HttpStatusCode } from '@angular/common/http';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { VesService } from '../service/ves.service';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport { FileUploadComponent } from 'app/shared/component/file-upload/file-upload.component';\r\nimport { FileUploadValidator2 } from 'app/shared/validator/fileupload2.directive';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { FileUploadService } from 'app/shared/service/file-upload.service';\r\nimport { VesStatus } from '../model/ves-enum.model';\r\nimport { Table } from 'primeng/table';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { formatDate } from '@angular/common';\r\nimport { EmailValidator } from 'app/shared/validator/email.directive';\r\n\r\n@Component({\r\n  selector: 'n2-ves-record-edit',\r\n  templateUrl: './ves-record-edit.component.html',\r\n  styleUrls: ['./ves-record-edit.component.scss']\r\n})\r\nexport class VesRecordEditComponent implements OnInit {\r\n  confirmEditVesRecordDialog: any = { display: false };\r\n\r\n  recordId: string;\r\n  vesRecordDetails: any;\r\n  paymentRecords: string[];\r\n  fileList: string[];\r\n\r\n  vesDetailForm: FormGroup = this.fb.group({\r\n    nricInput: new FormControl({ value: null, disabled: true }),\r\n    nameInput: new FormControl({ value: null, disabled: true }),\r\n    extensionStartDt: new FormControl('', Validators.required),\r\n    extensionEndDt: new FormControl('', Validators.required),\r\n    remarksInput: new FormControl({ value: null, disabled: true }),\r\n    confirmRemarksInput: new FormControl(null),\r\n    emailInput: new FormControl(null, EmailValidator()),\r\n    supportingDocuments: new FormControl([], FileUploadValidator2.allowableExtension(\".pdf\"))\r\n  }, { validators: DateValidator.dateLessThanOrEquals('extensionStartDt', 'extensionEndDt') });\r\n\r\n  disabled = true;\r\n\r\n  vesStatusEnum: { [key: string]: VesStatus } = VesStatus;\r\n\r\n  @ViewChild('vesRecordSupportingDocuments', { static: true })\r\n  private supportingDocsFileUploadComponent!: FileUploadComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private toastService: CustomToastService,\r\n    private n2httpService: Ns2HttpService,\r\n    private vesService: VesService,\r\n    private route: ActivatedRoute,\r\n    private dateUtilsService: DateUtilsService,\r\n    private fileUploadService: FileUploadService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private router: Router,\r\n    @Inject(LOCALE_ID) protected localeId: string) {\r\n    //\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"VES Record ID: \", this.route.snapshot.paramMap.get(\"id\"));\r\n    this.recordId = this.route.snapshot.paramMap.get(\"id\");\r\n    this.loadRecord();\r\n  }\r\n\r\n  loadRecord(): void {\r\n    this.vesService.getRecordById(this.recordId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        console.log(res);\r\n        this.vesRecordDetails = res.body.data;\r\n        console.log(this.vesRecordDetails);\r\n        if (this.checkVesStatus(this.vesRecordDetails)) {\r\n          this.fileList = res.body.data.supportingDocs;\r\n          this.paymentRecords = res.body.data.payments;\r\n          console.log(this.fileList);\r\n          console.log(this.paymentRecords);\r\n          console.log(res);\r\n          this.patchFormValues();\r\n        } else {\r\n          this.router.navigate(['payroll/ves']);\r\n          this.toastService.warn(\"VES record cannot be edited\");\r\n        }\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error);\r\n        if (error.status === HttpStatusCode.NotFound) {\r\n          this.toastService.error(error.error.error_desc);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  checkVesStatus(data: any): boolean {\r\n    return (this.vesStatusEnum[data.status] === VesStatus.ACTIVE || this.vesStatusEnum[data.status] === VesStatus.ON_HOLD);\r\n  }\r\n\r\n  downloadDoc(docId: string): void {\r\n    if (docId) {\r\n      console.log(docId);\r\n      this.fileUploadService.downloadTxnId(docId).subscribe(\r\n        res => {\r\n          if (res) {\r\n            const data = res;\r\n            const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n            const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\r\n            const blob = new Blob([data.body], { type: data.headers.get('content-type') });\r\n            const anchor = document.createElement(\"a\");\r\n            anchor.href = URL.createObjectURL(blob);\r\n            anchor.download = fileName;\r\n            anchor.click();\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.toastService.error(error.error?.error_desc);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    if (this.fileList) {\r\n      const data = this.fileList;\r\n      const columns = [\r\n        { field: 'sn', header: 'SN', index: 0 },\r\n        { field: 'fileName', header: 'File Name', index: 1 },\r\n        { field: 'createdDt', header: 'Uploaded On', index: 2 },\r\n        { field: 'uploadedBy', header: 'Uploaded By', index: 3 },\r\n      ];\r\n\r\n      const dtoList: any[] = [];\r\n      console.log(\"data\", data);\r\n      data.forEach((file: any, index: number) => {\r\n        const dto = {\r\n          sn: index + 1,\r\n          fileName: `${String(file.fileName)}`,\r\n          createdDt: `${String(this.dateUtilsService.formatStrDate(file.createdDt, \"DD-MM-YYYY\"))}`,\r\n          uploadedBy: `${String(file.uploadedBy)}`,\r\n        }\r\n        dtoList.push(dto);\r\n      });\r\n      this.exportUtilsService.exportCSV(dataTable, dtoList, this.fileList.length, columns,\r\n        \"DocumentList_\".concat(formatDate(new Date(), \"dd-MM-YYYY\", this.localeId)));\r\n    } else {\r\n      this.toastService.info(\"No documents found\")\r\n    }\r\n  }\r\n\r\n  patchFormValues(): void {\r\n    this.vesDetailForm.get('nricInput').patchValue(this.vesRecordDetails.nric);\r\n    this.vesDetailForm.get('nameInput').patchValue(this.vesRecordDetails.name);\r\n    this.vesDetailForm.get('extensionStartDt').patchValue(new Date(this.vesRecordDetails.extensionStartDt));\r\n    this.vesDetailForm.get('extensionEndDt').patchValue(new Date(this.vesRecordDetails.extensionEndDt));\r\n    this.vesDetailForm.get('emailInput').patchValue(this.vesRecordDetails.adminEmail);\r\n    if (this.vesRecordDetails.remarks.length > 0) {\r\n      this.vesDetailForm.get('remarksInput')\r\n        .patchValue(this.vesRecordDetails.remarks[this.vesRecordDetails.remarks.length - 1].remarks.slice(23));\r\n    }\r\n  }\r\n\r\n  checkInputField(inputField: string): string {\r\n    let customClass = '';\r\n    const vdForm = this.vesDetailForm\r\n    const startDt = vdForm.get('extensionStartDt');\r\n    const endDt = vdForm.get('extensionEndDt');\r\n    if (inputField === 'extensionStartDt') {\r\n      if (startDt.hasError('required') && startDt.touched) {\r\n        customClass = 'ng-invalid ng-dirty'\r\n      } else if (startDt.dirty) {\r\n        customClass = 'border-dashed border-yellow-500'\r\n      }\r\n    } else if (inputField === 'extensionEndDt') {\r\n      if ((endDt.hasError('required') && endDt.touched) || (vdForm.errors?.['invalidDateLessThanOrEquals'] && endDt.dirty)) {\r\n        customClass = 'ng-invalid ng-dirty'\r\n      } else if (endDt.dirty) {\r\n        customClass = 'border-dashed border-yellow-500'\r\n      }\r\n    }\r\n    return customClass;\r\n  }\r\n\r\n  onSubmit(dialog: any): void {\r\n    dialog.display = true;\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.toastService.info('Edit cancelled. All fields have been reset.');\r\n    this.supportingDocsFileUploadComponent.clearAndReset();\r\n    this.vesDetailForm.markAsPristine();\r\n    this.vesDetailForm.reset({\r\n      nricInput: this.vesRecordDetails.nric,\r\n      nameInput: this.vesRecordDetails.name,\r\n      extensionStartDt: new Date(this.vesRecordDetails.extensionStartDt),\r\n      extensionEndDt: new Date(this.vesRecordDetails.extensionEndDt),\r\n      remarksInput: null,\r\n      emailInput: null\r\n    });\r\n  }\r\n\r\n  onClose(dialog: any): void {\r\n    dialog.display = false;\r\n  }\r\n\r\n  editVesRecord(): void {\r\n    const newStartDt = String(this.dateUtilsService.formatStrDate(this.vesDetailForm.get('extensionStartDt')?.value, \"YYYY-MM-DD\"));\r\n    const newEndDt = String(this.dateUtilsService.formatStrDate(this.vesDetailForm.get('extensionEndDt')?.value, \"YYYY-MM-DD\"));\r\n    const newAdminEmail = this.vesDetailForm.get('emailInput')?.value as string;\r\n\r\n    const originalStartDt = this.vesRecordDetails.extensionStartDt;\r\n    const originalEndDt = this.vesRecordDetails.extensionEndDt;\r\n    const originalAdminEmail = this.vesRecordDetails.adminEmail;\r\n\r\n    const editRecordRequest = {\r\n      recordId: this.recordId,\r\n      supportingDocs: this.supportingDocsFileUploadComponent.verifiedFiles.map(x => String(x.meta_data.id)),\r\n      remarks: this.vesDetailForm.get('confirmRemarksInput')?.value as string,\r\n      fields: {\r\n        extensionStartDt: (newStartDt === originalStartDt) ? null : newStartDt,\r\n        extensionEndDt: (newEndDt === originalEndDt) ? null : newEndDt,\r\n        adminEmail: (newAdminEmail === originalAdminEmail) ? null : newAdminEmail\r\n      }\r\n    }\r\n    console.log(editRecordRequest);\r\n\r\n    if (newStartDt === originalStartDt && newEndDt === originalEndDt && newAdminEmail === originalAdminEmail) {\r\n      this.toastService.info(\"No changes made\");\r\n    } else {\r\n      this.vesService.createEditRecordRequest(editRecordRequest).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          console.log(res);\r\n          this.confirmEditVesRecordDialog.display = false;\r\n          this.router.navigate(['payroll/ves']);\r\n          this.toastService.success(\"Requested VES record to be edited\");\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          this.confirmEditVesRecordDialog.display = false;\r\n          this.toastService.error(error.error.error_desc);\r\n        }\r\n      )\r\n    }\r\n\r\n  }\r\n}\r\n","<p-panel header=\"Edit VES Record\">\r\n  <form [formGroup]=\"vesDetailForm\">\r\n    <div class=\"flex grid\">\r\n      <div class=\"col-6\">\r\n        <p-panel>\r\n          <ng-template pTemplate=\"header\">\r\n            <span class=\"font-bold\">VES Detail</span>\r\n          </ng-template>\r\n          <div class=\"formgrid grid\">\r\n            <div class=\"col-6\">\r\n              <div class=\"field grid align-items-center\">\r\n                <label class=\"col-4\" for=\"nricInput\">NRIC:</label>\r\n                <div class=\"col-8\">\r\n                  <input type=\"text\" pInputText class=\"w-full\" id=\"nricInput\" formControlName=\"nricInput\"\r\n                    placeholder=\"NRIC\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"field grid align-items-center\">\r\n                <label class=\"col-4\" for=\"nameInput\">Name from E-HR:</label>\r\n                <div class=\"col-8\">\r\n                  <input type=\"text\" pInputText class=\"w-full\" id=\"nameInput\" formControlName=\"nameInput\"\r\n                    placeholder=\"Name\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"field grid align-items-center\">\r\n                <label class=\"col-4\" for=\"extensionStartDt\">Start of Extension*: </label>\r\n                <div class=\"col-8\">\r\n                  <p-calendar styleClass=\"w-full\" dateFormat=\"dd-mm-yy\" inputId=\"dateformat\"\r\n                    formControlName=\"extensionStartDt\" inputStyleClass=\"{{checkInputField('extensionStartDt')}}\">\r\n                  </p-calendar>\r\n                  <div\r\n                    *ngIf=\"vesDetailForm.get('extensionStartDt')?.hasError('required') && vesDetailForm.get('extensionStartDt')?.touched\"\r\n                    class=\"form-text text-danger\">\r\n                    Please enter a value\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"field grid align-items-center\">\r\n                <label class=\"col-4\" for=\"extensionEndDt\">End of Extension*: </label>\r\n                <div class=\"col-8\">\r\n                  <p-calendar styleClass=\"w-full\" dateFormat=\"dd-mm-yy\" inputId=\"dateformat\"\r\n                    formControlName=\"extensionEndDt\" inputStyleClass=\"{{checkInputField('extensionEndDt')}}\">\r\n                  </p-calendar>\r\n                  <div\r\n                    *ngIf=\"vesDetailForm.get('extensionEndDt')?.hasError('required') && vesDetailForm.get('extensionEndDt')?.touched\"\r\n                    class=\"form-text text-danger\">\r\n                    Please enter a value\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"vesDetailForm.errors?.['invalidDateLessThanOrEquals'] && vesDetailForm.get('extensionEndDt')?.dirty\"\r\n                    class=\"form-text text-danger\">\r\n                    End of Extension Date needs to be later than Start of Extension Date\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"field grid\">\r\n            <label class=\"col-2 align-items-start\" for=\"remarksInput\">Remarks:</label>\r\n            <div class=\"col-10\">\r\n              <textarea pInputTextarea [rows]=\"5\" class=\"w-full\" formControlName=\"remarksInput\"></textarea>\r\n            </div>\r\n          </div>\r\n        </p-panel><br />\r\n        <p-table #vet styleClass=\"p-datatable-gridlines\" [value]=\"paymentRecords\">\r\n          <ng-template pTemplate=\"caption\">\r\n            <span class=\"font-bold\">Payment Record(s)</span>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th scope=\"col\" class=\"col-9\">Payment Period</th>\r\n              <th scope=\"col\" class=\"col-3\">Payday</th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-paymentRecord let-i=\"rowIndex\">\r\n            <tr>\r\n              <td>{{paymentRecord.payPeriodFrom | date: 'dd-MM-YYYY'}} to {{paymentRecord.payPeriodTo | date :\r\n                'dd-MM-YYYY'}}</td>\r\n              <td>{{paymentRecord.paydayDt | date: 'dd-MM-YYYY'}}</td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <p-panel>\r\n          <ng-template pTemplate=\"header\">\r\n            <span class=\"font-bold\">Unit Administrator</span>\r\n          </ng-template>\r\n          <div class=\"grid col-7 align-items-center\">\r\n            <label class=\"col-3\">Email:</label>\r\n            <div class=\"col-9\">\r\n              <input type=\"text\" pInputText class=\"w-full\" id=\"emailInput\" formControlName=\"emailInput\"\r\n                name=\"emailInput\" placeholder=\"Email\"\r\n                [ngClass]=\"{ 'border-dashed border-yellow-500': vesDetailForm.get('emailInput').dirty && !vesDetailForm.get('emailInput')?.hasError('email') }\" />\r\n            </div>\r\n            <div *ngIf=\"vesDetailForm.get('emailInput')?.hasError('email') && vesDetailForm.get('emailInput')?.dirty\"\r\n              class=\"form-text text-danger\">\r\n              Invalid Email format</div>\r\n          </div>\r\n          <p-table #docT styleClass=\"p-datatable-gridlines\" [value]=\"fileList\">\r\n            <ng-template pTemplate=\"caption\">\r\n              <button type=\"button\" pButton icon=\"pi pi-file-o\" pTooltip=\"Export as CSV\" tooltipPosition=\"bottom\"\r\n                (click)=\"exportCSV(docT)\"></button>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"header\">\r\n              <tr>\r\n                <th scope=\"col\" class=\"col-6 justify-content-between\" pSortableColumn=\"fileName\">\r\n                  <span>Filename</span>\r\n                  <p-sortIcon field=\"fileName\"></p-sortIcon>\r\n                </th>\r\n                <th scope=\"col\" class=\"col-3\" pSortableColumn=\"createdDt\">\r\n                  <span>Uploaded On</span>\r\n                  <p-sortIcon field=\"createdDt\"></p-sortIcon>\r\n                </th>\r\n                <th scope=\"col\" class=\"col-3\" pSortableColumn=\"createdBy\">\r\n                  <span>Uploaded By</span>\r\n                  <p-sortIcon field=\"createdBy\"></p-sortIcon>\r\n                </th>\r\n              </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-file let-i=\"rowIndex\">\r\n              <tr>\r\n                <td><a class=\"underline text-blue-500\" (click)=\"downloadDoc(file.documentId)\">{{file.fileName}}</a>\r\n                </td>\r\n                <td>{{file.createdDt | date: 'dd-MM-YYYY (HHmm)'}}</td>\r\n                <td>{{file.uploadedBy}}</td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n          <br />\r\n          <n2-file-upload formControlName=\"supportingDocuments\" id=\"supportingDocuments\" #vesRecordSupportingDocuments\r\n            [contentHeight]=\"'200px'\"></n2-file-upload>\r\n        </p-panel>\r\n      </div>\r\n    </div>\r\n    <div class=\"mt-5 nsp-align-right gap-2\">\r\n      <button pButton class=\"p-button-danger\" type=\"button\" label=\"Cancel\" (click)=\"onCancel()\"></button>\r\n      <button pButton type=\"button\" label=\"Submit\" [disabled]=\"!vesDetailForm.dirty\"\r\n        (click)=\"onSubmit(confirmEditVesRecordDialog)\"></button>\r\n    </div>\r\n    <p-dialog header=\"Edit Ves Record Confirmation\" [(visible)]=\"confirmEditVesRecordDialog.display\" [draggable]=\"false\"\r\n      [resizable]=\"false\" [modal]=\"true\" [breakpoints]=\"{ '960px': '75vw' }\" [style]=\"{ width: '50vw' }\">\r\n      <p *ngIf=\"(vesDetailForm.get('extensionStartDt')?.value | date: 'yyyy-MM-dd') !== vesRecordDetails.extensionStartDt\"\r\n        class=\"mb-1\">\r\n        [System] Start of Extension changed from {{ vesRecordDetails.extensionStartDt | date: 'dd-MM-yyyy' }}\r\n        to\r\n        {{ vesDetailForm.get('extensionStartDt')?.value | date: 'dd-MM-yyyy' }}\r\n      </p>\r\n      <p *ngIf=\"(vesDetailForm.get('extensionEndDt')?.value | date: 'yyyy-MM-dd') !== vesRecordDetails.extensionEndDt\"\r\n        class=\"mb-1\">\r\n        [System] End of Extension changed from {{ vesRecordDetails.extensionEndDt | date: 'dd-MM-yyyy' }} to\r\n        {{ vesDetailForm.get('extensionEndDt')?.value | date: 'dd-MM-yyyy' }}\r\n      </p>\r\n      <p *ngIf=\"vesDetailForm.get('emailInput').dirty\" class=\"mb-1\">\r\n        [System] Email changed from {{ 'blank' }} to\r\n        {{ vesDetailForm.get('emailInput')?.value }}\r\n      </p>\r\n      <div class=\"field col\">\r\n        <label class=\"align-items-start\" for=\"confirmRemarksInput\">Remarks:</label>\r\n        <div class=\"w-full\">\r\n          <textarea pInputTextarea [rows]=\"10\" class=\"w-full\" formControlName=\"confirmRemarksInput\"></textarea>\r\n        </div>\r\n      </div>\r\n      <div class=\"mt-5 nsp-align-right gap-2\">\r\n        <button pButton class=\"p-button-danger\" type=\"button\" label=\"Cancel\"\r\n          (click)=\"onClose(confirmEditVesRecordDialog)\"></button>\r\n        <button pButton type=\"button\" label=\"Submit\" (click)=\"editVesRecord()\"></button>\r\n      </div>\r\n    </p-dialog>\r\n  </form>\r\n</p-panel>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}