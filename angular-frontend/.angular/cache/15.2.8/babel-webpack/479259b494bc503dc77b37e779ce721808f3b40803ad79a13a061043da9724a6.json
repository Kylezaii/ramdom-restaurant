{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormlyDropdownClaimOptionsComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@ngx-formly/core\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/shared/service/formly-map.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i5 = tslib_1.__importStar(require(\"@ngx-formly/core\"));\nclass FormlyDropdownClaimOptionsComponent extends core_1.FieldType {\n  constructor(formlyMapService, codeService) {\n    super();\n    this.formlyMapService = formlyMapService;\n    this.codeService = codeService;\n    this.claimOptions = [];\n  }\n  ngOnInit() {\n    this.getClaimOptions();\n    console.log(this.claimOptions);\n  }\n  getClaimOptions() {\n    this.codeService.gets('claim_option_long').subscribe(resp => {\n      console.log(resp);\n      resp[0].forEach(x => {\n        // console.log(x);\n        this.claimOptions.push({\n          name: x.label['en-US'],\n          key: x.label['en-US']\n        });\n        this.formControl.patchValue(this.claimOptions.at(0).key);\n      });\n    }, error => {\n      console.log(\"error is\" + String(error?.error?.error_desc));\n    });\n  }\n}\nexports.FormlyDropdownClaimOptionsComponent = FormlyDropdownClaimOptionsComponent;\nFormlyDropdownClaimOptionsComponent.ɵfac = function FormlyDropdownClaimOptionsComponent_Factory(t) {\n  return new (t || FormlyDropdownClaimOptionsComponent)(i0.ɵɵdirectiveInject(i1.FormlyMapService), i0.ɵɵdirectiveInject(i2.IcCodeService));\n};\nFormlyDropdownClaimOptionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormlyDropdownClaimOptionsComponent,\n  selectors: [[\"n2-dropdown-claim-options\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 4,\n  consts: [[\"optionLabel\", \"name\", \"optionValue\", \"key\", 3, \"options\", \"formControl\", \"formlyAttributes\", \"placeholder\"]],\n  template: function FormlyDropdownClaimOptionsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"\\n  \");\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelement(2, \"p-dropdown\", 0);\n      i0.ɵɵtext(3, \"\\n  \");\n      i0.ɵɵtext(4, \"\\n  \");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"options\", ctx.claimOptions)(\"formControl\", ctx.formControl)(\"formlyAttributes\", ctx.field)(\"placeholder\", ctx.to.placeholder);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.FormControlDirective, i4.Dropdown, i5.ɵFormlyAttributes],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;AAEA;;;;;;;AAMA,MAUaA,mCAAoC,SAAQC,gBAA0B;EAIjFC,YACUC,gBAAkC,EAClCC,WAA0B;IAElC,KAAK,EAAE;IAHC,qBAAgB,GAAhBD,gBAAgB;IAChB,gBAAW,GAAXC,WAAW;IAJrB,iBAAY,GAAU,EAAE;EAOxB;EAEAC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;IACtBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,YAAY,CAAC;EAChC;EAEAH,eAAe;IACb,IAAI,CAACF,WAAW,CAACM,IAAI,CAAC,mBAAmB,CAAC,CAACC,SAAS,CAAEC,IAAW,IAAI;MACnEL,OAAO,CAACC,GAAG,CAACI,IAAI,CAAC;MACjBA,IAAI,CAAC,CAAC,CAAC,CAACC,OAAO,CAAEC,CAAM,IAAI;QACzB;QACA,IAAI,CAACL,YAAY,CAACM,IAAI,CAAC;UACrBC,IAAI,EAAEF,CAAC,CAACG,KAAK,CAAC,OAAO,CAAC;UACtBC,GAAG,EAAEJ,CAAC,CAACG,KAAK,CAAC,OAAO;SACrB,CAAC;QACF,IAAI,CAACE,WAAW,CAACC,UAAU,CAAC,IAAI,CAACX,YAAY,CAACY,EAAE,CAAC,CAAC,CAAC,CAACH,GAAG,CAAC;MAC1D,CAAC,CAAC;IACJ,CAAC,EACEI,KAAU,IAAI;MACbf,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGe,MAAM,CAACD,KAAK,EAAEA,KAAK,EAAEE,UAAU,CAAC,CAAC;IAC5D,CAAC,CAAC;EACN;;AAzCFC;;mBAUazB,mCAAmC;AAAA;;QAAnCA,mCAAmC;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MAP9CC;MACEA;MAAAA,gCAEmF;MACrFA;MACAA;;;MAJcA,eAAwB;MAAxBA,0CAAwB","names":["FormlyDropdownClaimOptionsComponent","core_1","constructor","formlyMapService","codeService","ngOnInit","getClaimOptions","console","log","claimOptions","gets","subscribe","resp","forEach","x","push","name","label","key","formControl","patchValue","at","error","String","error_desc","exports","selectors","features","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\shared\\component\\formly-input-field\\formly-dropdown-claim-options.component.ts"],"sourcesContent":["import { HttpParams } from '@angular/common/http';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FieldType, FieldTypeConfig } from '@ngx-formly/core';\r\nimport { ClaimService } from 'app/claim/service/claim.service';\r\nimport { IcCodeService } from 'app/ng-connect';\r\nimport { FormlyMapService } from 'app/shared/service/formly-map.service';\r\nimport { InputNumberModule } from 'primeng/inputnumber';\r\n\r\n@Component({\r\n  selector: 'n2-dropdown-claim-options',\r\n  template: `\r\n  <!-- <div class=\"w-20rem\"> -->\r\n    <p-dropdown [options]=\"claimOptions\"\r\n      [formControl]=\"formControl\" [formlyAttributes]=\"field\"\r\n      [placeholder]=\"to.placeholder\" optionLabel=\"name\" optionValue=\"key\"></p-dropdown>\r\n  <!-- </div> -->\r\n  `,\r\n})\r\nexport class FormlyDropdownClaimOptionsComponent extends FieldType<FieldTypeConfig> implements OnInit {\r\n\r\n  claimOptions: any[] = [];\r\n\r\n  constructor(\r\n    private formlyMapService: FormlyMapService,\r\n    private codeService: IcCodeService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getClaimOptions();\r\n    console.log(this.claimOptions);\r\n  }\r\n\r\n  getClaimOptions(): void {\r\n    this.codeService.gets('claim_option_long').subscribe((resp: any[]) => {\r\n      console.log(resp);\r\n      resp[0].forEach((x: any) => {\r\n        // console.log(x);\r\n        this.claimOptions.push({\r\n          name: x.label['en-US'],\r\n          key: x.label['en-US']\r\n        });\r\n        this.formControl.patchValue(this.claimOptions.at(0).key);\r\n      })\r\n    },\r\n      (error: any) => {\r\n        console.log(\"error is\" + String(error?.error?.error_desc));\r\n      });\r\n  }\r\n}"]},"metadata":{},"sourceType":"script","externalDependencies":[]}