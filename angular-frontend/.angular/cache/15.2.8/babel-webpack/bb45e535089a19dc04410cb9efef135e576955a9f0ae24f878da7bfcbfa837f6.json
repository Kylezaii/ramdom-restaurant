{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PersonalAvailabilityComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst forms_1 = require(\"@angular/forms\");\nconst moment_1 = tslib_1.__importDefault(require(\"moment\"));\nconst rxjs_1 = require(\"rxjs\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../service/workload-inbox.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/checkbox\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/radiobutton\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/chip\"));\nconst _c0 = [\"dataTable\"];\nconst _c1 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-right\": \".5em\"\n  };\n};\nfunction PersonalAvailabilityComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"div\", 26);\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelement(5, \"p-button\", 27);\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementStart(8, \"div\", 28);\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(2, _c1));\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_11_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Verifier\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_11_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Approver\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_11_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵtext(4, \"\\n                                Auto Routing\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_11_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n\\n                        \");\n    i0.ɵɵelementStart(2, \"th\", 34);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"div\", 30);\n    i0.ɵɵtext(5, \"\\n                                EC New\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementStart(8, \"th\", 34);\n    i0.ɵɵtext(9, \"\\n                            \");\n    i0.ɵɵelementStart(10, \"div\", 30);\n    i0.ɵɵtext(11, \"\\n                                EC SD\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"th\", 34);\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵelementStart(16, \"div\", 30);\n    i0.ɵɵtext(17, \"\\n                                SE New\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                        \");\n    i0.ɵɵelementStart(20, \"th\", 34);\n    i0.ɵɵtext(21, \"\\n                            \");\n    i0.ɵɵelementStart(22, \"div\", 30);\n    i0.ɵɵtext(23, \"\\n                                EC SD\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c2 = function () {\n  return {\n    \"width\": \"25%\"\n  };\n};\nfunction PersonalAvailabilityComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 29);\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementStart(5, \"div\", 30);\n    i0.ɵɵtext(6, \"\\n                                \");\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵtemplate(8, PersonalAvailabilityComponent_ng_template_11_div_8_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(9, \"\\n                                \");\n    i0.ɵɵtemplate(10, PersonalAvailabilityComponent_ng_template_11_div_10_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵtemplate(14, PersonalAvailabilityComponent_ng_template_11_th_14_Template, 6, 0, \"th\", 32);\n    i0.ɵɵtext(15, \"\\n                        \");\n    i0.ɵɵelementStart(16, \"th\", 29);\n    i0.ɵɵtext(17, \"\\n                            \");\n    i0.ɵɵelementStart(18, \"div\", 30);\n    i0.ɵɵtext(19, \"\\n                                Period of Absence\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelementStart(22, \"th\", 29);\n    i0.ɵɵtext(23, \"\\n                            \");\n    i0.ɵɵelementStart(24, \"div\", 30);\n    i0.ɵɵtext(25, \"\\n                                Amendment\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n                        \");\n    i0.ɵɵelementStart(28, \"th\", 29);\n    i0.ɵɵtext(29, \"\\n\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n                    \");\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵtemplate(33, PersonalAvailabilityComponent_ng_template_11_tr_33_Template, 26, 0, \"tr\", 31);\n    i0.ɵɵtext(34, \"\\n                \");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.roleList.includes(\"role-cv\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(8, _c2));\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c2));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.roleList.includes(\"role-ca\"));\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"p-checkbox\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r16.roleList.includes(\"role-cv\"))(\"value\", verifierAvail_r13.value.ecNew)(\"binary\", true);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"p-checkbox\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r17.roleList.includes(\"role-cv\"))(\"value\", verifierAvail_r13.value.ecSD)(\"binary\", true);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"p-checkbox\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r18.roleList.includes(\"role-cv\"))(\"value\", verifierAvail_r13.value.seNew)(\"binary\", true);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelement(1, \"p-checkbox\", 42);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r19.roleList.includes(\"role-cv\"))(\"value\", verifierAvail_r13.value.seSD)(\"binary\", true);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_div_17_p_chip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-chip\", 44);\n    i0.ɵɵlistener(\"onRemove\", function PersonalAvailabilityComponent_ng_template_13_div_17_p_chip_2_Template_p_chip_onRemove_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const chip_r30 = restoredCtx.$implicit;\n      const rowIndex_r14 = i0.ɵɵnextContext(2).rowIndex;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onRemoveChip(chip_r30, rowIndex_r14));\n    });\n    i0.ɵɵtext(1, \"\\n                                \");\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const chip_r30 = ctx.$implicit;\n    i0.ɵɵproperty(\"removable\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(chip_r30.chip);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵtemplate(2, PersonalAvailabilityComponent_ng_template_13_div_17_p_chip_2_Template, 5, 2, \"p-chip\", 43);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", verifierAvail_r13.value.periodOfAbsence);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate(ctx_r22.transformObjArrToChip(verifierAvail_r13.value.periodOfAbsence).join(\", \"));\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_div_25_p_chip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-chip\", 46);\n    i0.ɵɵlistener(\"onRemove\", function PersonalAvailabilityComponent_ng_template_13_div_25_p_chip_2_Template_p_chip_onRemove_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const chip_r37 = restoredCtx.$implicit;\n      const rowIndex_r14 = i0.ɵɵnextContext(2).rowIndex;\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.onRemoveAmendmentChip(chip_r37, rowIndex_r14));\n    });\n    i0.ɵɵtext(1, \"\\n                                    \");\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const chip_r37 = ctx.$implicit;\n    i0.ɵɵproperty(\"styleClass\", chip_r37.type == \"deduct\" ? \"deduct-chip\" : \"add-chip\")(\"removable\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(chip_r37.chip);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵtemplate(2, PersonalAvailabilityComponent_ng_template_13_div_25_p_chip_2_Template, 5, 3, \"p-chip\", 45);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", verifierAvail_r13.value.amendment);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function PersonalAvailabilityComponent_ng_template_13_div_30_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext();\n      const rowIndex_r14 = ctx_r44.rowIndex;\n      const verifierAvail_r13 = ctx_r44.$implicit;\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.onOpen(ctx_r42.displayAddPOADialog, rowIndex_r14, verifierAvail_r13.value.subjectId));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function PersonalAvailabilityComponent_ng_template_13_div_30_Template_button_click_4_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const rowIndex_r14 = i0.ɵɵnextContext().rowIndex;\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.onConfirmAmendment($event, \"amendment\", rowIndex_r14));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelement(6, \"p-confirmPopup\", 49);\n    i0.ɵɵtext(7, \"\\n\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n\\n                \");\n    i0.ɵɵelementStart(1, \"tr\", 35);\n    i0.ɵɵtext(2, \"\\n\\n                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵtemplate(7, PersonalAvailabilityComponent_ng_template_13_td_7_Template, 2, 3, \"td\", 31);\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵtemplate(9, PersonalAvailabilityComponent_ng_template_13_td_9_Template, 2, 3, \"td\", 31);\n    i0.ɵɵtext(10, \"\\n                    \");\n    i0.ɵɵtemplate(11, PersonalAvailabilityComponent_ng_template_13_td_11_Template, 2, 3, \"td\", 31);\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵtemplate(13, PersonalAvailabilityComponent_ng_template_13_td_13_Template, 2, 3, \"td\", 31);\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16, \"\\n                        \");\n    i0.ɵɵtemplate(17, PersonalAvailabilityComponent_ng_template_13_div_17_Template, 4, 1, \"div\", 36);\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵtemplate(19, PersonalAvailabilityComponent_ng_template_13_ng_template_19_Template, 1, 1, \"ng-template\", null, 37, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24, \"\\n                        \");\n    i0.ɵɵtemplate(25, PersonalAvailabilityComponent_ng_template_13_div_25_Template, 4, 1, \"div\", 31);\n    i0.ɵɵtext(26, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n\\n                    \");\n    i0.ɵɵelementStart(28, \"td\");\n    i0.ɵɵtext(29, \"\\n                        \");\n    i0.ɵɵtemplate(30, PersonalAvailabilityComponent_ng_template_13_div_30_Template, 8, 0, \"div\", 38);\n    i0.ɵɵtext(31, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n            \");\n  }\n  if (rf & 2) {\n    const verifierAvail_r13 = ctx.$implicit;\n    const rowIndex_r14 = ctx.rowIndex;\n    const _r21 = i0.ɵɵreference(20);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", rowIndex_r14);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(verifierAvail_r13.value.verifierName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.roleList.includes(\"role-ca\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", verifierAvail_r13.value.loginName === ctx_r3.currentAccount.login)(\"ngIfElse\", _r21);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", verifierAvail_r13.value.loginName === ctx_r3.currentAccount.login);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", verifierAvail_r13.value.loginName === ctx_r3.currentAccount.login);\n  }\n}\nfunction PersonalAvailabilityComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"td\", 50);\n    i0.ɵɵtext(4, \"No records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n            \");\n  }\n}\nconst _c3 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction PersonalAvailabilityComponent_ng_template_83_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function PersonalAvailabilityComponent_ng_template_83_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.displayAddPOADialog.display = false);\n    });\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function PersonalAvailabilityComponent_ng_template_83_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.onSubmit(\"confirmAddPOA\", ctx_r49.displayAddPOADialog));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n\\n    \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c3));\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c3));\n  }\n}\nconst _c4 = function () {\n  return {\n    width: \"40vw\"\n  };\n};\nconst _c5 = function () {\n  return {\n    \"960px\": \"75vw\"\n  };\n};\nconst _c6 = function () {\n  return {\n    width: \"80%\"\n  };\n};\nclass PersonalAvailabilityComponent {\n  constructor(workloadService, account, fb, nspConfirmService, formBuilder, toastService, ns2Http, dateUtilsService) {\n    this.workloadService = workloadService;\n    this.account = account;\n    this.fb = fb;\n    this.nspConfirmService = nspConfirmService;\n    this.formBuilder = formBuilder;\n    this.toastService = toastService;\n    this.ns2Http = ns2Http;\n    this.dateUtilsService = dateUtilsService;\n    this.verifierAvailList = [];\n    this.triga = false;\n    this.dateFormat = \"dd-mm-yy\";\n    this.hdDateFormat = \"dd-mm-yy (H)\";\n    this.momentDateFormat = \"DD-MM-YYYY\";\n    this.displayAddPOADialog = {\n      display: false,\n      rowIndex: 0,\n      subjectId: \"\"\n    };\n    this.personalAvailForm = this.fb.group({\n      personalAvailArray: this.fb.array([])\n    });\n    this.account.identity().subscribe(accountToCopy => {\n      this.currentAccount = this.copyAccount(accountToCopy);\n    });\n    this.subscription = new rxjs_1.Subscription();\n  }\n  get personalAvailArray() {\n    return this.personalAvailForm?.get('personalAvailArray');\n  }\n  ngOnInit() {\n    console.log(\"this curr\" + String(this.currentAccount.login));\n    // tempo\n    // will be getting from user auth\n    // this.role = [\"DEF-func-vw-claim-approver-inbox\"];\n    // this.roleList = [\"DEF-func-vw-claim-verifier-inbox\"];\n    this.roleList = [\"role-ca\"];\n    // const reqRoles = [\"DEF-func-vw-claim-approver-inbox\", \"DEF-func-vw-claim-verifier-inbox\"];\n    const reqRoles = [\"role-ca\", \"role-cv\"];\n    if (this.roleList.some(r => reqRoles.includes(r))) {\n      this.refreshVerifierAvail();\n    }\n    // this.role = [\"DEF-func-vw-claim-approver-inbox\"];\n    // this.poaForm = this.formBuilder.group({\n    //   selectedDateRange: new FormControl([new Date(), new Date()]),\n    //   selectedMdDate: new FormControl(new Date()),\n    //   selectedHdDate: new FormControl(new Date()),\n    //   selectedCategory: ['range',[]],\n    // });\n    this.initPOA();\n    this.loading = true;\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n  initPOA() {\n    this.poaForm = this.formBuilder.group({\n      selectedDateRange: new forms_1.FormControl([new Date(), new Date()]),\n      selectedMdDate: new forms_1.FormControl([new Date()]),\n      selectedHdDate: new forms_1.FormControl(new Date()),\n      selectedCategory: ['range', []]\n    });\n  }\n  refreshVerifierAvail() {\n    this.loading = true;\n    let unsortedList;\n    setTimeout(() => {\n      let params = new http_1.HttpParams();\n      this.roleList.forEach(role => {\n        params = params.append(\"roleList\", role);\n      });\n      this.workloadService.getVerifierAvailability({\n        params\n      }).subscribe(resp => {\n        if (resp.body.data) {\n          unsortedList = resp.body.data;\n          this.verifierAvailList = unsortedList.sort(this.sortVerifiers());\n          this.constructForm();\n        }\n        this.loading = false;\n      });\n    }, 0);\n  }\n  copyAccount(account) {\n    return {\n      email: account.email,\n      firstName: account.firstName,\n      lastName: account.lastName,\n      login: account.username,\n      authorities: account.authorities,\n      groups: account.groups\n    };\n  }\n  sortVerifiers() {\n    const currentLogin = this.currentAccount.login;\n    return function (a, b) {\n      if (a.loginName === b.loginName) {\n        return 0;\n      } else if (a.loginName === currentLogin) {\n        return -1;\n      } else if (b.loginName === currentLogin) {\n        return 1;\n      } else {\n        return a.fullName < b.fullName ? -1 : 1;\n      }\n    };\n  }\n  constructForm() {\n    const arr = this.personalAvailForm.get('personalAvailArray');\n    arr.clear();\n    this.verifierAvailList.forEach((data, index) => {\n      arr.push(this.fb.group({\n        subjectId: data.subjectId,\n        loginName: data.loginName,\n        verifierName: data.fullName,\n        ecNew: new forms_1.FormControl(data.ecNewInd === 1 ? true : false),\n        ecSD: new forms_1.FormControl(data.ecSDInd === 1 ? true : false),\n        seNew: new forms_1.FormControl(data.seNewInd === 1 ? true : false),\n        seSD: new forms_1.FormControl(data.seSDInd === 1 ? true : false),\n        periodOfAbsence: new forms_1.FormControl(this.consolidatePOA(data), forms_1.Validators.required),\n        amendment: new forms_1.FormControl([])\n      }));\n    });\n  }\n  consolidatePOA(data) {\n    let poaDate = [];\n    if (data.blockedDates) {\n      poaDate = poaDate.concat(this.processBlockDates(data.blockedDates, false, data.subjectId));\n    }\n    if (data.halfDates) {\n      poaDate = poaDate.concat(this.processBlockDates(data.halfDates, true, data.subjectId));\n    }\n    return poaDate;\n  }\n  processBlockDates(date, halfday, subjectId) {\n    const unixArr = date.split(\",\");\n    return unixArr.map(x => {\n      const dateArr = x.split(\" - \");\n      let chip = \"\";\n      let status = \"\";\n      if (!halfday) {\n        status = \"B\";\n        if (dateArr[0].trim() === dateArr[1].trim()) {\n          chip = dateArr[0];\n        } else {\n          chip = dateArr[0].concat(\" - \").concat(dateArr[1]);\n        }\n      } else {\n        status = \"H\";\n        if (dateArr[0].trim() === dateArr[1].trim()) {\n          chip = dateArr[0].concat(\"(H)\");\n        } else {\n          chip = dateArr[0].concat(\" - \").concat(dateArr[1]).concat(\"(H)\");\n        }\n      }\n      return {\n        subjectId,\n        chip,\n        status\n      };\n    });\n  }\n  onRemoveChip(chip, index) {\n    console.log(\"chip is\", chip);\n    const fa = this.personalAvailForm.get('personalAvailArray');\n    const poaList = fa.at(index).get('periodOfAbsence').value.filter(x => x !== chip);\n    const amendList = fa.at(index).get('amendment').value;\n    chip['type'] = \"deduct\";\n    console.log(\"new chip,\", chip);\n    amendList.push(chip);\n    fa.controls[index].get('amendment')?.setValue(amendList);\n    fa.controls[index].get('periodOfAbsence')?.setValue(poaList);\n    console.log(\"amendment\", fa.controls[index].get('amendment')?.value);\n    console.log(\"periodOfAbsence\", fa.controls[index].get('periodOfAbsence')?.value);\n  }\n  onRemoveAmendmentChip(chip, index) {\n    const fa = this.personalAvailForm.get('personalAvailArray');\n    const poaList = fa.at(index).get('periodOfAbsence').value;\n    const amendList = fa.at(index).get('amendment').value.filter(x => x !== chip);\n    if (chip.type === \"deduct\") {\n      poaList.push(chip);\n    }\n    fa.controls[index].get('periodOfAbsence')?.setValue(poaList);\n    fa.controls[index].get('amendment')?.setValue(amendList);\n    console.log(\"amendment\", fa.controls[index].get('amendment')?.value);\n    console.log(\"periodOfAbsence\", fa.controls[index].get('periodOfAbsence')?.value);\n  }\n  onOpen(dialog, rowIndex, subjectId) {\n    dialog.display = true;\n    dialog.rowIndex = rowIndex;\n    dialog.subjectId = subjectId;\n  }\n  transformObjArrToChip(objArr) {\n    return objArr.map(x => {\n      return String(x.chip);\n    });\n  }\n  onSubmit(key, dialog) {\n    const fa = this.personalAvailForm.get('personalAvailArray');\n    const amendList = fa.at(dialog.rowIndex).get('amendment').value;\n    console.log(\"dialog index\", dialog.rowIndex);\n    let date = \"\";\n    let status = \"\";\n    const dates = [];\n    switch (this.poaForm.get('selectedCategory')?.value) {\n      case 'range':\n        {\n          status = \"B\";\n          const momentRange = this.poaForm.get('selectedDateRange')?.value?.map(x => (0, moment_1.default)(x).format(this.momentDateFormat).toString());\n          if (momentRange[0] !== momentRange[1]) {\n            date = momentRange.join(' - ');\n          } else date = momentRange[0];\n          dates.push(date);\n        }\n        break;\n      case 'md':\n        status = \"B\";\n        if (this.poaForm.get('selectedMdDate')?.value) {\n          this.poaForm.get('selectedMdDate')?.value.forEach(x => {\n            dates.push((0, moment_1.default)(x).format(this.momentDateFormat).toString());\n          });\n        }\n        break;\n      case 'hd':\n        status = \"H\";\n        date = (0, moment_1.default)(this.poaForm.get('selectedHdDate')?.value).format(this.momentDateFormat).toString();\n        dates.push(date);\n        break;\n      default:\n        break;\n    }\n    dialog.display = false;\n    dates.forEach(chip => {\n      amendList.push({\n        chip,\n        type: \"add\",\n        status,\n        subjectId: dialog.subjectId\n      });\n    });\n    fa.controls[dialog.rowIndex].get('amendment')?.setValue(amendList);\n  }\n  onConfirmAmendment(event, key, rowIndex) {\n    this.nspConfirmService.onConfirmPopup(event, key, null, () => {\n      this.editPOA(rowIndex);\n    });\n  }\n  editPOA(rowIndex) {\n    const fa = this.personalAvailForm.get('personalAvailArray');\n    const requestData = fa.at(rowIndex).get('amendment').value.map(x => {\n      return {\n        subjectId: x.subjectId,\n        status: x.status,\n        type: x.type,\n        date: x.chip.replace(\" - \", \"|\").replace(\"(H)\", \"\").trim()\n      };\n    });\n    this.workloadService.editPOA(requestData).subscribe(resp => {\n      if (resp && resp.ok) {\n        this.toastService.success(resp.body.success_message);\n        this.refreshVerifierAvail();\n      }\n    }, error => {\n      console.log(\"error is\" + String(error?.error?.error_desc));\n      this.toastService.error(String(error?.error?.error_desc));\n    });\n  }\n}\nexports.PersonalAvailabilityComponent = PersonalAvailabilityComponent;\nPersonalAvailabilityComponent.ɵfac = function PersonalAvailabilityComponent_Factory(t) {\n  return new (t || PersonalAvailabilityComponent)(i0.ɵɵdirectiveInject(i1.WorkloadInboxService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.NspConfirmationService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i5.CustomToastService), i0.ɵɵdirectiveInject(i6.Ns2HttpService), i0.ɵɵdirectiveInject(i7.DateUtilsService));\n};\nPersonalAvailabilityComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PersonalAvailabilityComponent,\n  selectors: [[\"n2-personal-availability\"]],\n  viewQuery: function PersonalAvailabilityComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n    }\n  },\n  decls: 88,\n  vars: 43,\n  consts: [[3, \"formGroup\"], [\"formArrayName\", \"personalAvailArray\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", \"responsiveLayout\", \"scroll\", 3, \"value\", \"showCurrentPageReport\", \"filterDelay\", \"loading\"], [\"dataTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"emptyRecords\", \"\"], [\"header\", \"Add Period of Absence\", 3, \"visible\", \"breakpoints\", \"autoZIndex\", \"baseZIndex\", \"draggable\", \"modal\", \"visibleChange\", \"onHide\"], [\"poaFormRef\", \"ngForm\"], [1, \"field\", \"grid\"], [1, \"p-field-radiobutton\", \"col-3\"], [\"name\", \"selectedCategory\", \"value\", \"range\", \"formControlName\", \"selectedCategory\", \"inputId\", \"range\"], [\"for\", \"range\"], [1, \"col-9\", \"input\"], [\"appendTo\", \"body\", \"inputId\", \"rangeDateId\", \"selectionMode\", \"range\", \"formControlName\", \"selectedDateRange\", 3, \"readonlyInput\", \"showOtherMonths\", \"selectOtherMonths\", \"dateFormat\", \"disabled\"], [\"name\", \"selectedCategory\", \"value\", \"md\", \"formControlName\", \"selectedCategory\", \"inputId\", \"md\"], [\"for\", \"md\"], [\"appendTo\", \"body\", \"inputId\", \"mdDateId\", \"formControlName\", \"selectedMdDate\", \"selectionMode\", \"multiple\", 3, \"readonlyInput\", \"showOtherMonths\", \"selectOtherMonths\", \"dateFormat\", \"disabled\"], [\"name\", \"selectedCategory\", \"value\", \"hd\", \"formControlName\", \"selectedCategory\", \"inputId\", \"hd\"], [\"for\", \"hd\"], [\"appendTo\", \"body\", \"inputId\", \"hdDateId\", \"formControlName\", \"selectedHdDate\", 3, \"readonlyInput\", \"showOtherMonths\", \"selectOtherMonths\", \"dateFormat\", \"disabled\"], [\"pTemplate\", \"footer\"], [\"key\", \"confirmAddPOA\", \"header\", \"Confirmation\", \"icon\", \"fa fa-question-circle\", \"width\", \"425\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\"], [\"icon\", \"pi pi-file-o\"], [1, \"col-6\", \"nsp-align-right\"], [\"scope\", \"col\", \"rowspan\", \"2\"], [1, \"p-d-flex\", \"p-jc-between\", \"nsp-align-center\"], [4, \"ngIf\"], [\"scope\", \"colgroup\", \"colspan\", \"4\", 4, \"ngIf\"], [\"scope\", \"colgroup\", \"colspan\", \"4\"], [\"scope\", \"col\"], [3, \"formGroupName\"], [4, \"ngIf\", \"ngIfElse\"], [\"poaLocked\", \"\"], [\"class\", \"p-d-flex p-jc-between nsp-align-center\", 4, \"ngIf\"], [\"formControlName\", \"ecNew\", 3, \"disabled\", \"value\", \"binary\"], [\"formControlName\", \"ecSD\", 3, \"disabled\", \"value\", \"binary\"], [\"formControlName\", \"seNew\", 3, \"disabled\", \"value\", \"binary\"], [\"formControlName\", \"seSD\", 3, \"disabled\", \"value\", \"binary\"], [\"styleClass\", \"p-mr-2\", \"removeIcon\", \"pi pi-times\", 3, \"removable\", \"onRemove\", 4, \"ngFor\", \"ngForOf\"], [\"styleClass\", \"p-mr-2\", \"removeIcon\", \"pi pi-times\", 3, \"removable\", \"onRemove\"], [\"removeIcon\", \"pi pi-times\", 3, \"styleClass\", \"removable\", \"onRemove\", 4, \"ngFor\", \"ngForOf\"], [\"removeIcon\", \"pi pi-times\", 3, \"styleClass\", \"removable\", \"onRemove\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-plus\", 1, \"p-button-rounded\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-save\", 1, \"p-button-rounded\", \"p-button-warning\", 3, \"click\"], [\"key\", \"amendment\", \"header\", \"Confirmation\", \"icon\", \"fa fa-question-circle\", \"width\", \"425\"], [\"colspan\", \"8\"], [\"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Add\", 3, \"click\"]],\n  template: function PersonalAvailabilityComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"\\n\");\n      i0.ɵɵtext(1, \"\\n\\n\");\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵtext(5, \"\\n        \");\n      i0.ɵɵelementStart(6, \"p-table\", 2, 3);\n      i0.ɵɵtext(8, \"\\n\\n                \");\n      i0.ɵɵtemplate(9, PersonalAvailabilityComponent_ng_template_9_Template, 12, 3, \"ng-template\", 4);\n      i0.ɵɵtext(10, \"\\n\\n                \");\n      i0.ɵɵtemplate(11, PersonalAvailabilityComponent_ng_template_11_Template, 35, 10, \"ng-template\", 5);\n      i0.ɵɵtext(12, \"\\n            \");\n      i0.ɵɵtemplate(13, PersonalAvailabilityComponent_ng_template_13_Template, 34, 10, \"ng-template\", 6);\n      i0.ɵɵtext(14, \"\\n            \");\n      i0.ɵɵtemplate(15, PersonalAvailabilityComponent_ng_template_15_Template, 7, 0, \"ng-template\", 7, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtext(17, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\\n\");\n      i0.ɵɵelementStart(21, \"p-dialog\", 9);\n      i0.ɵɵlistener(\"visibleChange\", function PersonalAvailabilityComponent_Template_p_dialog_visibleChange_21_listener($event) {\n        return ctx.displayAddPOADialog.display = $event;\n      })(\"onHide\", function PersonalAvailabilityComponent_Template_p_dialog_onHide_21_listener() {\n        return ctx.initPOA();\n      });\n      i0.ɵɵtext(22, \"\\n\\n\");\n      i0.ɵɵtext(23, \"\\n\\n    \");\n      i0.ɵɵelementStart(24, \"h6\");\n      i0.ɵɵtext(25, \"Please select period of absence to add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n\\n\\n    \");\n      i0.ɵɵtext(27, \"\\n    \");\n      i0.ɵɵelementStart(28, \"form\", 0, 10);\n      i0.ɵɵtext(30, \"\\n\\n        \");\n      i0.ɵɵelementStart(31, \"div\", 11);\n      i0.ɵɵtext(32, \"\\n            \");\n      i0.ɵɵelementStart(33, \"div\", 12);\n      i0.ɵɵtext(34, \"\\n                \");\n      i0.ɵɵelement(35, \"p-radioButton\", 13);\n      i0.ɵɵtext(36, \"\\n                \");\n      i0.ɵɵelementStart(37, \"label\", 14);\n      i0.ɵɵtext(38, \"Range\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n            \");\n      i0.ɵɵelementStart(41, \"div\", 15);\n      i0.ɵɵtext(42, \"\\n                \");\n      i0.ɵɵelementStart(43, \"p-calendar\", 16);\n      i0.ɵɵtext(44, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n\\n        \");\n      i0.ɵɵelementStart(48, \"div\", 11);\n      i0.ɵɵtext(49, \"\\n            \");\n      i0.ɵɵelementStart(50, \"div\", 12);\n      i0.ɵɵtext(51, \"\\n                \");\n      i0.ɵɵelement(52, \"p-radioButton\", 17);\n      i0.ɵɵtext(53, \"\\n                \");\n      i0.ɵɵelementStart(54, \"label\", 18);\n      i0.ɵɵtext(55, \"Multiple Dates\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(57, \"\\n            \");\n      i0.ɵɵelementStart(58, \"div\", 15);\n      i0.ɵɵtext(59, \"\\n                \");\n      i0.ɵɵelementStart(60, \"p-calendar\", 19);\n      i0.ɵɵtext(61, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(64, \"\\n\\n        \");\n      i0.ɵɵelementStart(65, \"div\", 11);\n      i0.ɵɵtext(66, \"\\n            \");\n      i0.ɵɵelementStart(67, \"div\", 12);\n      i0.ɵɵtext(68, \"\\n                \");\n      i0.ɵɵelement(69, \"p-radioButton\", 20);\n      i0.ɵɵtext(70, \"\\n                \");\n      i0.ɵɵelementStart(71, \"label\", 21);\n      i0.ɵɵtext(72, \"Half-Day\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \"\\n            \");\n      i0.ɵɵelementStart(75, \"div\", 15);\n      i0.ɵɵtext(76, \"\\n                \");\n      i0.ɵɵelementStart(77, \"p-calendar\", 22);\n      i0.ɵɵtext(78, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(79, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(82, \"\\n\\n    \");\n      i0.ɵɵtemplate(83, PersonalAvailabilityComponent_ng_template_83_Template, 6, 6, \"ng-template\", 23);\n      i0.ɵɵtext(84, \"\\n    \");\n      i0.ɵɵelement(85, \"p-confirmPopup\", 24);\n      i0.ɵɵtext(86, \"\\n\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(87, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.personalAvailForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.personalAvailArray.controls)(\"showCurrentPageReport\", true)(\"filterDelay\", 0)(\"loading\", ctx.loading);\n      i0.ɵɵadvance(15);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(38, _c4));\n      i0.ɵɵproperty(\"visible\", ctx.displayAddPOADialog.display)(\"breakpoints\", i0.ɵɵpureFunction0(39, _c5))(\"autoZIndex\", false)(\"baseZIndex\", 99999)(\"draggable\", false)(\"modal\", true);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.poaForm);\n      i0.ɵɵadvance(15);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(40, _c6));\n      i0.ɵɵproperty(\"readonlyInput\", true)(\"showOtherMonths\", true)(\"selectOtherMonths\", true)(\"dateFormat\", ctx.dateFormat)(\"readonlyInput\", true)(\"disabled\", ctx.poaForm.controls[\"selectedCategory\"].value !== \"range\");\n      i0.ɵɵadvance(17);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(41, _c6));\n      i0.ɵɵproperty(\"readonlyInput\", true)(\"showOtherMonths\", true)(\"selectOtherMonths\", true)(\"dateFormat\", ctx.dateFormat)(\"readonlyInput\", true)(\"disabled\", ctx.poaForm.controls[\"selectedCategory\"].value !== \"md\");\n      i0.ɵɵadvance(17);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(42, _c6));\n      i0.ɵɵproperty(\"readonlyInput\", true)(\"showOtherMonths\", true)(\"selectOtherMonths\", true)(\"dateFormat\", ctx.hdDateFormat)(\"readonlyInput\", true)(\"disabled\", ctx.poaForm.controls[\"selectedCategory\"].value !== \"hd\");\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatus, i3.NgControlStatusGroup, i8.NgForOf, i8.NgIf, i3.FormGroupDirective, i3.FormControlName, i3.FormGroupName, i3.FormArrayName, i9.PrimeTemplate, i10.ButtonDirective, i10.Button, i11.Checkbox, i12.Table, i13.Dialog, i14.ConfirmPopup, i15.RadioButton, i16.Calendar, i17.Chip],\n  styles: [\"[_nghost-%COMP%]     .deduct-chip {\\n  background-color: red;\\n  color: white;\\n  border-radius: 4px;\\n}\\n\\n[_nghost-%COMP%]     .add-chip {\\n  background-color: green;\\n  color: white;\\n  border-radius: 4px;\\n}\\n\\n  .p-chip {\\n  border-radius: 4px;\\n  background: #14B8A6;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlcnNvbmFsLWF2YWlsYWJpbGl0eS5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFx3b3JrbG9hZFxccGVyc29uYWwtYXZhaWxhYmlsaXR5XFxwZXJzb25hbC1hdmFpbGFiaWxpdHkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREdBO0VBQ0ksdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNBSjs7QURHQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDQUoiLCJmaWxlIjoicGVyc29uYWwtYXZhaWxhYmlsaXR5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwICAuZGVkdWN0LWNoaXB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgfVxyXG5cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuYWRkLWNoaXB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICB9XHJcblxyXG46Om5nLWRlZXAgLnAtY2hpcHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJhY2tncm91bmQ6ICMxNEI4QTY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcblxyXG59XHJcbiIsIjpob3N0IDo6bmctZGVlcCAuZGVkdWN0LWNoaXAge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmFkZC1jaGlwIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG46Om5nLWRlZXAgLnAtY2hpcCB7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYmFja2dyb3VuZDogIzE0QjhBNjtcbiAgY29sb3I6IHdoaXRlO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvd29ya2xvYWQvcGVyc29uYWwtYXZhaWxhYmlsaXR5L3BlcnNvbmFsLWF2YWlsYWJpbGl0eS5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL3Byb2plY3RzJTIwMi9uc3BheWlpYXBwL3NyYy9tYWluL3dlYmFwcC9hcHAvd29ya2xvYWQvcGVyc29uYWwtYXZhaWxhYmlsaXR5L3BlcnNvbmFsLWF2YWlsYWJpbGl0eS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FER0E7RUFDSSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0FKOztBREdBO0VBQ0ksa0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUNBSjtBRENBLGcrQ0FBZytDIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwICAuZGVkdWN0LWNoaXB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgfVxyXG5cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuYWRkLWNoaXB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICB9XHJcblxyXG46Om5nLWRlZXAgLnAtY2hpcHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJhY2tncm91bmQ6ICMxNEI4QTY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcblxyXG59XHJcbiIsIjpob3N0IDo6bmctZGVlcCAuZGVkdWN0LWNoaXAge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmFkZC1jaGlwIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuXG46Om5nLWRlZXAgLnAtY2hpcCB7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYmFja2dyb3VuZDogIzE0QjhBNjtcbiAgY29sb3I6IHdoaXRlO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","PersonalAvailabilityComponent","constructor","workloadService","account","fb","nspConfirmService","formBuilder","toastService","ns2Http","dateUtilsService","display","rowIndex","subjectId","group","personalAvailArray","array","identity","subscribe","accountToCopy","currentAccount","copyAccount","subscription","rxjs_1","personalAvailForm","get","ngOnInit","console","log","String","login","roleList","reqRoles","some","r","includes","refreshVerifierAvail","initPOA","loading","ngOnDestroy","unsubscribe","poaForm","selectedDateRange","forms_1","Date","selectedMdDate","selectedHdDate","selectedCategory","unsortedList","setTimeout","params","http_1","forEach","role","append","getVerifierAvailability","resp","body","data","verifierAvailList","sort","sortVerifiers","constructForm","email","firstName","lastName","username","authorities","groups","currentLogin","a","b","loginName","fullName","arr","clear","index","push","verifierName","ecNew","ecNewInd","ecSD","ecSDInd","seNew","seNewInd","seSD","seSDInd","periodOfAbsence","consolidatePOA","required","amendment","poaDate","blockedDates","concat","processBlockDates","halfDates","date","halfday","unixArr","split","map","x","dateArr","chip","status","trim","onRemoveChip","fa","poaList","at","value","filter","amendList","controls","setValue","onRemoveAmendmentChip","type","onOpen","dialog","transformObjArrToChip","objArr","onSubmit","key","dates","momentRange","format","momentDateFormat","toString","join","onConfirmAmendment","event","onConfirmPopup","editPOA","requestData","replace","ok","success","success_message","error","error_desc","exports","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\workload\\personal-availability\\personal-availability.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\workload\\personal-availability\\personal-availability.component.html"],"sourcesContent":["import { HttpParams } from '@angular/common/http';\r\nimport {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\r\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport {AccountService} from 'app/core/auth/account.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport {CustomToastService} from 'app/layouts/service/customtoast.service';\r\nimport {NspConfirmationService} from 'app/shared/confirm/nsp-confirm.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport moment from 'moment';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\nimport {Subscription} from 'rxjs';\r\nimport {WorkloadInboxService} from '../service/workload-inbox.service';\r\nimport {VerifierAvailDto} from './verifier-avail.model';\r\n\r\n@Component({\r\n  selector: 'n2-personal-availability',\r\n  templateUrl: './personal-availability.component.html',\r\n  styleUrls: ['./personal-availability.component.scss']\r\n})\r\nexport class PersonalAvailabilityComponent implements OnInit, OnDestroy {\r\n\r\n  public verifierAvailList: any[] = [];\r\n\r\n  loading!: boolean;\r\n  currentAccount: any;\r\n  roleList!: string[];\r\n  triga = false;\r\n  dateFormat = \"dd-mm-yy\"\r\n  hdDateFormat = \"dd-mm-yy (H)\"\r\n  momentDateFormat = \"DD-MM-YYYY\"\r\n\r\n  rangeDate!: Date[];\r\n  mdDate!: Date;\r\n  hdDate!: Date;\r\n  poaForm!: FormGroup;\r\n  displayAddPOADialog: any =\r\n    {\r\n      display: false,\r\n      rowIndex: 0,\r\n      subjectId: \"\"\r\n    };\r\n  personalAvailForm: FormGroup = this.fb.group({\r\n    personalAvailArray: this.fb.array([]),\r\n  })\r\n  // radioCategories: any[] = [\r\n  //   {name: 'Range', key: 'range'},\r\n  //   {name: 'Multiple Dates', key: 'md'},\r\n  //   {name: 'Half-Day', key: 'hd'}\r\n  // ];\r\n  // selectedCategory: any = null;\r\n  @ViewChild('dataTable') table: Table;\r\n\r\n  private subscription: Subscription;\r\n\r\n\r\n\r\n  constructor(\r\n    private workloadService: WorkloadInboxService,\r\n    private account: AccountService,\r\n    private fb: FormBuilder,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private formBuilder: FormBuilder,\r\n    private toastService: CustomToastService,\r\n    private ns2Http: Ns2HttpService,\r\n    public dateUtilsService: DateUtilsService,\r\n  ) {\r\n    this.account.identity().subscribe((accountToCopy: any) => {\r\n      this.currentAccount = this.copyAccount(accountToCopy);\r\n    });\r\n    this.subscription = new Subscription();\r\n  }\r\n\r\n  get personalAvailArray(): FormArray {\r\n    return this.personalAvailForm?.get('personalAvailArray') as FormArray\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    console.log(\"this curr\" + String(this.currentAccount.login));\r\n    // tempo\r\n    // will be getting from user auth\r\n    // this.role = [\"DEF-func-vw-claim-approver-inbox\"];\r\n    // this.roleList = [\"DEF-func-vw-claim-verifier-inbox\"];\r\n    this.roleList = [\"role-ca\"];\r\n\r\n\r\n    // const reqRoles = [\"DEF-func-vw-claim-approver-inbox\", \"DEF-func-vw-claim-verifier-inbox\"];\r\n    const reqRoles = [\"role-ca\", \"role-cv\"];\r\n\r\n\r\n    if (this.roleList.some(r => reqRoles.includes(r))) {\r\n      this.refreshVerifierAvail();\r\n    }\r\n    // this.role = [\"DEF-func-vw-claim-approver-inbox\"];\r\n    // this.poaForm = this.formBuilder.group({\r\n    //   selectedDateRange: new FormControl([new Date(), new Date()]),\r\n    //   selectedMdDate: new FormControl(new Date()),\r\n    //   selectedHdDate: new FormControl(new Date()),\r\n    //   selectedCategory: ['range',[]],\r\n    // });\r\n    this.initPOA();\r\n    this.loading = true;\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  initPOA(): void {\r\n    this.poaForm = this.formBuilder.group({\r\n      selectedDateRange: new FormControl([new Date(), new Date()]),\r\n      selectedMdDate: new FormControl([new Date()]),\r\n      selectedHdDate: new FormControl(new Date()),\r\n      selectedCategory: ['range', []],\r\n    });\r\n\r\n  }\r\n\r\n  refreshVerifierAvail(): void {\r\n    this.loading = true;\r\n    let unsortedList;\r\n\r\n    setTimeout(() => {\r\n      let params = new HttpParams();\r\n      this.roleList.forEach(role=>{\r\n        params = params.append(\"roleList\", role);\r\n      })\r\n\r\n      this.workloadService.getVerifierAvailability({params}).subscribe((resp: any) => {\r\n        if (resp.body.data) {\r\n          unsortedList = resp.body.data;\r\n          this.verifierAvailList = unsortedList.sort(this.sortVerifiers());\r\n          this.constructForm();\r\n        }\r\n        this.loading = false;\r\n      });\r\n    }, 0);\r\n  }\r\n\r\n  copyAccount(account: any): any {\r\n    return {\r\n      email: account.email,\r\n      firstName: account.firstName,\r\n      lastName: account.lastName,\r\n      login: account.username,\r\n      authorities: account.authorities,\r\n      groups: account.groups,\r\n    };\r\n  }\r\n\r\n  sortVerifiers(): (a: VerifierAvailDto, b: VerifierAvailDto) => (0 | -1 | 1) {\r\n    const currentLogin = this.currentAccount.login;\r\n    return function (a: VerifierAvailDto, b: VerifierAvailDto) {\r\n\r\n      if (a.loginName === b.loginName) {\r\n        return 0;\r\n      } else if (a.loginName === currentLogin) {\r\n        return -1;\r\n      } else if (b.loginName === currentLogin) {\r\n        return 1;\r\n      } else {\r\n        return a.fullName < b.fullName ? -1 : 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  constructForm(): void {\r\n    const arr = this.personalAvailForm.get('personalAvailArray') as FormArray;\r\n    arr.clear();\r\n    this.verifierAvailList.forEach((data, index) => {\r\n \r\n        arr.push(\r\n          this.fb.group({\r\n            subjectId: data.subjectId,\r\n            loginName: data.loginName,\r\n            verifierName: data.fullName,\r\n            ecNew: new FormControl(data.ecNewInd===1? true: false),\r\n            ecSD: new FormControl(data.ecSDInd===1? true: false),\r\n            seNew: new FormControl(data.seNewInd===1? true: false),\r\n            seSD: new FormControl(data.seSDInd===1? true: false),\r\n            periodOfAbsence: new FormControl(this.consolidatePOA(data), Validators.required),\r\n            amendment: new FormControl([]),\r\n\r\n          }),\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  consolidatePOA(data: any): any[]{\r\n    let poaDate: any[] = [];\r\n    if(data.blockedDates){\r\n      poaDate = poaDate.concat(this.processBlockDates(data.blockedDates, false, data.subjectId))\r\n    }\r\n    if(data.halfDates){\r\n      poaDate = poaDate.concat(this.processBlockDates(data.halfDates, true, data.subjectId))\r\n    }\r\n    return poaDate;\r\n  }\r\n\r\n  processBlockDates(date: string, halfday: boolean, subjectId: string): any[] {\r\n    const unixArr: string[] = date.split(\",\");\r\n    return unixArr.map(x=>{\r\n      const dateArr = x.split(\" - \");\r\n      let chip = \"\";\r\n      let status = \"\";\r\n      if(!halfday){\r\n        status = \"B\";\r\n        if(dateArr[0].trim()===dateArr[1].trim()){\r\n          chip = dateArr[0];\r\n        }else {\r\n          chip = dateArr[0].concat(\" - \").concat(dateArr[1]);\r\n        }\r\n      }\r\n      else {\r\n        status = \"H\";\r\n        if(dateArr[0].trim()===dateArr[1].trim()){\r\n          chip = dateArr[0].concat(\"(H)\");\r\n        }\r\n        else{\r\n          chip = dateArr[0]\r\n          .concat(\" - \").concat(dateArr[1]).concat(\"(H)\");\r\n        }\r\n      }\r\n      return {\r\n        subjectId,\r\n        chip,\r\n        status\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  onRemoveChip(chip: any, index: number): void {\r\n    console.log(\"chip is\", chip);\r\n    const fa = this.personalAvailForm.get('personalAvailArray') as FormArray;\r\n    const poaList = fa.at(index).get('periodOfAbsence').value.filter((x: any) => x !== chip);\r\n    const amendList = fa.at(index).get('amendment').value;\r\n    chip['type'] = \"deduct\";\r\n    console.log(\"new chip,\", chip); \r\n    amendList.push(chip);\r\n    fa.controls[index].get('amendment')?.setValue(amendList);\r\n    fa.controls[index].get('periodOfAbsence')?.setValue(poaList);\r\n\r\n    console.log(\"amendment\", fa.controls[index].get('amendment')?.value);\r\n    console.log(\"periodOfAbsence\", fa.controls[index].get('periodOfAbsence')?.value);\r\n\r\n  }\r\n\r\n  onRemoveAmendmentChip(chip: any, index: number): void {\r\n\r\n    const fa = this.personalAvailForm.get('personalAvailArray') as FormArray;\r\n    const poaList = fa.at(index).get('periodOfAbsence').value;\r\n    const amendList = fa.at(index).get('amendment').value.filter((x: any) => x !== chip);\r\n\r\n    if (chip.type === \"deduct\") {\r\n      poaList.push(chip);\r\n    }\r\n    fa.controls[index].get('periodOfAbsence')?.setValue(poaList);\r\n    fa.controls[index].get('amendment')?.setValue(amendList);\r\n\r\n    console.log(\"amendment\", fa.controls[index].get('amendment')?.value);\r\n    console.log(\"periodOfAbsence\", fa.controls[index].get('periodOfAbsence')?.value);\r\n\r\n  }\r\n\r\n  onOpen(dialog: any, rowIndex: number, subjectId: string): void {\r\n    dialog.display = true;\r\n    dialog.rowIndex = rowIndex;\r\n    dialog.subjectId = subjectId;\r\n  }\r\n\r\n  transformObjArrToChip(objArr: any[]): string[]{\r\n    return objArr.map((x:any)=>{\r\n      return String(x.chip);\r\n    })\r\n  }\r\n\r\n\r\n  onSubmit(key: string, dialog: any): void {\r\n    const fa = this.personalAvailForm.get('personalAvailArray') as FormArray;\r\n    const amendList = fa.at(dialog.rowIndex).get('amendment').value;\r\n\r\n    console.log(\"dialog index\", dialog.rowIndex);\r\n    let date = \"\";\r\n    let status = \"\";\r\n    const dates: string[] = [];\r\n    switch (this.poaForm.get('selectedCategory')?.value) {\r\n      case 'range': {\r\n        status = \"B\";\r\n        const momentRange: string[] = this.poaForm.get('selectedDateRange')?.value?.map((x: Date) =>\r\n          moment(x).format(this.momentDateFormat).toString()\r\n        )\r\n        if(momentRange[0]!==momentRange[1]){\r\n          date = momentRange.join(' - ');\r\n        }else date = momentRange[0];\r\n        dates.push(date);\r\n      }\r\n        break;\r\n      case 'md':\r\n        status = \"B\";\r\n        if(this.poaForm.get('selectedMdDate')?.value){\r\n          this.poaForm.get('selectedMdDate')?.value.forEach((x:any)=>{\r\n            dates.push(moment(x).format(this.momentDateFormat).toString())\r\n          })\r\n        }\r\n        break;\r\n      case 'hd':\r\n        status = \"H\";\r\n    \r\n        date = moment(this.poaForm.get('selectedHdDate')?.value).format(this.momentDateFormat).toString();\r\n        dates.push(date);\r\n\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n    dialog.display = false;\r\n    dates.forEach(chip=>{\r\n      amendList.push({chip, type: \"add\", status, subjectId: dialog.subjectId});\r\n    })\r\n    fa.controls[dialog.rowIndex].get('amendment')?.setValue(amendList);\r\n  }\r\n\r\n  onConfirmAmendment(event: Event, key: any, rowIndex: number): void {\r\n\r\n    this.nspConfirmService.onConfirmPopup(event, key, null,\r\n      () => {\r\n        this.editPOA(rowIndex);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  editPOA(rowIndex: number): void {\r\n    const fa = this.personalAvailForm.get('personalAvailArray') as FormArray;    \r\n    const requestData = fa.at(rowIndex).get('amendment').value.map((x:any)=>{\r\n      return {\r\n        subjectId: x.subjectId,\r\n        status:x.status,\r\n        type: x.type,\r\n        date: x.chip.replace( \" - \", \"|\").replace(\"(H)\",\"\").trim()\r\n      }\r\n    });\r\n    this.workloadService.editPOA(requestData).subscribe((resp: any) => {\r\n      if (resp && resp.ok) {\r\n        this.toastService.success(resp.body.success_message);\r\n        this.refreshVerifierAvail();\r\n      }\r\n    },\r\n    (error: any) => {\r\n      console.log(\"error is\" + String(error?.error?.error_desc));\r\n      this.toastService.error(String(error?.error?.error_desc));\r\n    }\r\n  ); \r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","<!-- *ngIf=\"!role.includes('DEF-func-vw-claim-approver-inbox')\" -->\r\n<!-- dataKey = \"verifierId\" -->\r\n\r\n<form [formGroup]=\"personalAvailForm\">\r\n    <div formArrayName=\"personalAvailArray\">\r\n        <p-table\r\n        [value]=\"personalAvailArray.controls\"\r\n                    [showCurrentPageReport]=\"true\"\r\n                    [filterDelay]=\"0\"\r\n                    [loading] = \"loading\"\r\n                    styleClass=\"p-datatable-gridlines p-datatable-striped\"\r\n                    responsiveLayout=\"scroll\"\r\n                    #dataTable\r\n                    >\r\n\r\n                <ng-template pTemplate=\"caption\">\r\n                    <div class=\"grid\">\r\n                        <div class = \"col-6 nsp-align-left\">\r\n                            <p-button icon=\"pi pi-file-o\" [style]=\"{'margin-left': '.5em', 'margin-right': '.5em'}\"></p-button>\r\n                        </div>\r\n                        <div class = \"col-6 nsp-align-right\">\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n\r\n                <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr>\r\n                        <th scope=\"col\" rowspan=\"2\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                <!-- <div *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\">Verifier</div>\r\n                                <div *ngIf=\"roleList.includes('DEF-func-vw-claim-approver-inbox')\">Approver</div> -->\r\n                                <div *ngIf=\"!roleList.includes('role-cv')\">Verifier</div>\r\n                                <div *ngIf=\"roleList.includes('role-ca')\">Approver</div>\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"colgroup\" colspan=\"4\" *ngIf=\"!roleList.includes('role-ca')\">\r\n                        <!-- <th colspan=\"4\" *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"> -->\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                Auto Routing\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\" rowspan=\"2\" [style] = \"{'width': '25%'}\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                Period of Absence\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\" rowspan=\"2\" [style] = \"{'width': '25%'}\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                Amendment\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\" rowspan=\"2\">\r\n\r\n                        </th>\r\n                    </tr>\r\n                    <!-- <tr *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"> -->\r\n                    <tr *ngIf=\"!roleList.includes('role-ca')\">\r\n\r\n                        <th scope=\"col\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                EC New\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                EC SD\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                SE New\r\n                            </div>\r\n                        </th>\r\n                        <th scope=\"col\">\r\n                            <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                                EC SD\r\n                            </div>\r\n                        </th>\r\n\r\n                    </tr>\r\n                </ng-template>\r\n            <ng-template pTemplate=\"body\" let-verifierAvail let-rowIndex = \"rowIndex\" let-columns=\"columns\">\r\n\r\n                <tr [formGroupName]=\"rowIndex\">\r\n\r\n                    <td>{{verifierAvail.value.verifierName}}</td>\r\n                    <!-- <td *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"><p-checkbox formControlName = \"ecNew\" [disabled] = \"roleList.includes('DEF-func-vw-claim-verifier-inbox')\"\r\n                          [value]=\"verifierAvail.value.ecNew\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"><p-checkbox formControlName = \"ecSD\" [disabled] = \"roleList.includes('DEF-func-vw-claim-verifier-inbox')\"\r\n                         [value]=\"verifierAvail.value.ecSD\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"><p-checkbox formControlName = \"seNew\" [disabled] = \"roleList.includes('DEF-func-vw-claim-verifier-inbox')\"\r\n                         [value]=\"verifierAvail.value.seNew\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('DEF-func-vw-claim-approver-inbox')\"><p-checkbox formControlName = \"seSD\" [disabled] = \"roleList.includes('DEF-func-vw-claim-verifier-inbox')\"\r\n                         [value]=\"verifierAvail.value.seSD\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td> -->\r\n                    <td *ngIf=\"!roleList.includes('role-ca')\"><p-checkbox formControlName = \"ecNew\" [disabled] = \"roleList.includes('role-cv')\"\r\n                        [value]=\"verifierAvail.value.ecNew\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('role-ca')\"><p-checkbox formControlName = \"ecSD\" [disabled] = \"roleList.includes('role-cv')\"\r\n                        [value]=\"verifierAvail.value.ecSD\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('role-ca')\"><p-checkbox formControlName = \"seNew\" [disabled] = \"roleList.includes('role-cv')\"\r\n                        [value]=\"verifierAvail.value.seNew\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td *ngIf=\"!roleList.includes('role-ca')\"><p-checkbox formControlName = \"seSD\" [disabled] = \"roleList.includes('role-cv')\"\r\n                        [value]=\"verifierAvail.value.seSD\" [binary]=\"true\"></p-checkbox></td>\r\n                    <td>\r\n                        <div *ngIf=\"verifierAvail.value.loginName === currentAccount.login; else poaLocked\">\r\n                            <p-chip *ngFor = \"let chip of verifierAvail.value.periodOfAbsence\"\r\n                            styleClass=\"p-mr-2\" [removable]=\"true\" removeIcon = \"pi pi-times\" (onRemove)=\"onRemoveChip(chip, rowIndex)\"\r\n                            >\r\n                                <label>{{chip.chip}}</label>\r\n                            </p-chip>\r\n                        </div>\r\n                        <ng-template #poaLocked>{{ transformObjArrToChip(verifierAvail.value.periodOfAbsence).join(\", \") }}</ng-template>\r\n                    </td>\r\n                    <td>\r\n                        <div *ngIf=\"verifierAvail.value.loginName === currentAccount.login\">\r\n                            <p-chip [styleClass] = \"chip.type=='deduct'? 'deduct-chip':'add-chip'\"\r\n                            *ngFor = \"let chip of verifierAvail.value.amendment\"\r\n                            [removable]=\"true\" removeIcon = \"pi pi-times\" (onRemove)=\"onRemoveAmendmentChip(chip, rowIndex)\">\r\n                                    <label>{{chip.chip}}</label>\r\n                            </p-chip>\r\n                        </div>\r\n                    </td>\r\n\r\n                    <td>\r\n                        <div *ngIf=\"verifierAvail.value.loginName === currentAccount.login\" class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                            <button pButton pRipple type=\"button\" icon=\"pi pi-plus\" class=\"p-button-rounded\" (click) = \"onOpen(displayAddPOADialog, rowIndex, verifierAvail.value.subjectId)\"\r\n                            ></button>\r\n                            <button pButton pRipple type=\"button\" icon=\"pi pi-save\" class=\"p-button-rounded p-button-warning\" (click) = \"onConfirmAmendment($event, 'amendment', rowIndex)\"\r\n                            ></button>\r\n                            <p-confirmPopup key = \"amendment\" header=\"Confirmation\" icon=\"fa fa-question-circle\" width=\"425\"></p-confirmPopup>\r\n\r\n                        </div>\r\n                    </td>\r\n\r\n                </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"emptymessage\" #emptyRecords>\r\n                <tr>\r\n                    <td colspan=\"8\">No records found.</td>\r\n                </tr>\r\n            </ng-template>\r\n        </p-table>\r\n    </div>\r\n</form>\r\n\r\n<p-dialog header=\"Add Period of Absence\"\r\n[(visible)]=\"displayAddPOADialog.display\"\r\n[breakpoints]=\"{'960px': '75vw'}\"\r\n[autoZIndex] = \"false\"\r\n[baseZIndex] = 99999\r\n[draggable]=\"false\"\r\n[style]=\"{width: '40vw'}\"\r\n[modal]=\"true\"\r\n(onHide) = \"initPOA()\"\r\n>\r\n\r\n<!-- (onHide) = \"poaForm.resetForm()\" -->\r\n\r\n    <h6>Please select period of absence to add</h6>\r\n\r\n\r\n    <!-- <form  #poaForm=\"ngForm\"> -->\r\n    <form  #poaFormRef=\"ngForm\" [formGroup]=\"poaForm\">\r\n\r\n        <div class=\"field grid\">\r\n            <div class=\"p-field-radiobutton col-3\">\r\n                <p-radioButton name=\"selectedCategory\" value=\"range\" formControlName=\"selectedCategory\" inputId=\"range\"></p-radioButton>\r\n                <label for=\"range\">Range</label>\r\n            </div>\r\n            <div class=\"col-9 input\">\r\n                <p-calendar\r\n                appendTo=\"body\"\r\n                inputId=\"rangeDateId\"\r\n                [readonlyInput]=\"true\"\r\n                [showOtherMonths] = \"true\"\r\n                [selectOtherMonths] = \"true\"\r\n                [style]=\"{width: '80%'}\"\r\n                [dateFormat]=\"dateFormat\"\r\n                selectionMode=\"range\"\r\n                [readonlyInput]=\"true\"\r\n                formControlName = \"selectedDateRange\"\r\n                [disabled] = \"poaForm.controls['selectedCategory'].value !== 'range'\"\r\n\r\n                >\r\n                </p-calendar>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"field grid\">\r\n            <div class=\"p-field-radiobutton col-3\">\r\n                <p-radioButton name=\"selectedCategory\" value=\"md\" formControlName=\"selectedCategory\" inputId=\"md\"></p-radioButton>\r\n                <label for=\"md\">Multiple Dates</label>\r\n            </div>\r\n            <div class=\"col-9 input\">\r\n                <p-calendar\r\n                appendTo=\"body\"\r\n                inputId=\"mdDateId\"\r\n                [readonlyInput]=\"true\"\r\n                [showOtherMonths] = \"true\"\r\n                [selectOtherMonths] = \"true\"\r\n                [style]=\"{width: '80%'}\"\r\n                [dateFormat]=\"dateFormat\"\r\n                [readonlyInput]=\"true\"\r\n                formControlName = \"selectedMdDate\"\r\n                selectionMode=\"multiple\"\r\n                [disabled] = \"poaForm.controls['selectedCategory'].value!== 'md'\"\r\n\r\n                >\r\n                </p-calendar>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"field grid\">\r\n            <div class=\"p-field-radiobutton col-3\">\r\n                <p-radioButton name=\"selectedCategory\" value=\"hd\" formControlName=\"selectedCategory\" inputId=\"hd\"></p-radioButton>\r\n                <label for=\"hd\">Half-Day</label>\r\n            </div>\r\n            <div class=\"col-9 input\">\r\n                <p-calendar\r\n                appendTo=\"body\"\r\n                inputId=\"hdDateId\"\r\n                [readonlyInput]=\"true\"\r\n                [showOtherMonths] = \"true\"\r\n                [selectOtherMonths] = \"true\"\r\n                [style]=\"{width: '80%'}\"\r\n                [dateFormat]=\"hdDateFormat\"\r\n                [readonlyInput]=\"true\"\r\n                formControlName = \"selectedHdDate\"\r\n                [disabled] = \"poaForm.controls['selectedCategory'].value!== 'hd'\"\r\n\r\n                >\r\n                </p-calendar>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <ng-template pTemplate=\"footer\">\r\n        <button pButton class =\"p-button-danger\" label=\"Cancel\"  (click)=\"displayAddPOADialog.display=false\" [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\">\r\n        </button>\r\n        <button pButton  label=\"Add\"  (click)=\"onSubmit('confirmAddPOA', displayAddPOADialog)\"\r\n        [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"\r\n        ></button>\r\n\r\n    </ng-template>\r\n    <p-confirmPopup key = \"confirmAddPOA\" header=\"Confirmation\" icon=\"fa fa-question-circle\" width=\"425\"></p-confirmPopup>\r\n\r\n</p-dialog>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}