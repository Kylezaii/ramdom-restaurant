{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GroupEditComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst group_model_1 = require(\"./group.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"./group.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/alert.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/event-manager.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i8 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/alert/alert.component\"));\nfunction GroupEditComponent_div_0_option_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const parentGroupOption_r9 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngValue\", parentGroupOption_r9.groupId === ctx_r2.group.groupParentId ? ctx_r2.group.groupParentId : parentGroupOption_r9.groupId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                    \", parentGroupOption_r9.groupName, \"\\n                  \");\n  }\n}\nfunction GroupEditComponent_div_0_tbody_141_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 40);\n    i0.ɵɵlistener(\"click\", function GroupEditComponent_div_0_tbody_141_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const user_r11 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.selectOneUser($event, user_r11));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                  \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                  \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                  \");\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r11 = ctx.$implicit;\n    const idx_r12 = ctx.index;\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r10.selectedAllUsers);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r12 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r11.firstName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r11.lastName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r11.email);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r11.status);\n  }\n}\nfunction GroupEditComponent_div_0_tbody_141_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, GroupEditComponent_div_0_tbody_141_tr_2_Template, 20, 6, \"tr\", 39);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.assignedUsers);\n  }\n}\nfunction GroupEditComponent_div_0_tbody_143_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 41);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GroupEditComponent_div_0_button_149_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function GroupEditComponent_div_0_button_149_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.unAssignUsers());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 25);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r5.selectedUsers || ctx_r5.selectedUsers.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nfunction GroupEditComponent_div_0_tbody_193_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 40);\n    i0.ɵɵlistener(\"click\", function GroupEditComponent_div_0_tbody_193_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const role_r18 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r20.selectOneRole($event, role_r18));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                  \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r18 = ctx.$implicit;\n    const idx_r19 = ctx.index;\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r17.selectedAllRoles);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r19 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(role_r18.application.appName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(role_r18.resourceName);\n  }\n}\nfunction GroupEditComponent_div_0_tbody_193_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, GroupEditComponent_div_0_tbody_193_tr_2_Template, 14, 4, \"tr\", 39);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.assignedRoles);\n  }\n}\nfunction GroupEditComponent_div_0_tbody_195_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 43);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GroupEditComponent_div_0_button_201_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function GroupEditComponent_div_0_button_201_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.unAssignRoles());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 25);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r8.selectedRoles || ctx_r8.selectedRoles.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nconst _c0 = function () {\n  return [\"../../../../admin/acm/ic-group\"];\n};\nconst _c1 = function (a2) {\n  return [\"../assign\", \"users\", a2];\n};\nconst _c2 = function (a2) {\n  return [\"../assign\", \"roles\", a2];\n};\nfunction GroupEditComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"span\", 1);\n    i0.ɵɵtext(5, \"Edit Group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n\\n  \");\n    i0.ɵɵelement(8, \"p\", 2);\n    i0.ɵɵtext(9, \"\\n  \");\n    i0.ɵɵelement(10, \"ic-alert\");\n    i0.ɵɵtext(11, \"\\n  \");\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \"\\n  \");\n    i0.ɵɵelementStart(14, \"div\", 3);\n    i0.ɵɵtext(15, \"\\n    \");\n    i0.ɵɵelementStart(16, \"div\", 4);\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵelementStart(18, \"form\", 5, 6);\n    i0.ɵɵlistener(\"ngSubmit\", function GroupEditComponent_div_0_Template_form_ngSubmit_18_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.save());\n    });\n    i0.ɵɵtext(20, \"\\n        \");\n    i0.ɵɵelementStart(21, \"div\", 7);\n    i0.ɵɵtext(22, \"\\n          \");\n    i0.ɵɵelementStart(23, \"div\", 8);\n    i0.ɵɵtext(24, \"Group Detail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementStart(26, \"div\", 9);\n    i0.ɵɵtext(27, \"\\n            \");\n    i0.ɵɵelementStart(28, \"div\", 10);\n    i0.ɵɵtext(29, \"\\n              \");\n    i0.ɵɵelementStart(30, \"label\", 11);\n    i0.ɵɵtext(31, \"Group Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n\");\n    i0.ɵɵtext(33, \"\\n\");\n    i0.ɵɵtext(34, \"\\n\");\n    i0.ɵɵtext(35, \"\\n              \");\n    i0.ɵɵelementStart(36, \"label\", 12);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n\\n              \");\n    i0.ɵɵelementStart(39, \"label\", 13);\n    i0.ɵɵtext(40, \"Group Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n              \");\n    i0.ɵɵelementStart(42, \"div\", 14);\n    i0.ɵɵtext(43, \"\\n                \");\n    i0.ɵɵelementStart(44, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function GroupEditComponent_div_0_Template_input_ngModelChange_44_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.group.groupName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                \");\n    i0.ɵɵelementStart(46, \"div\", 16);\n    i0.ɵɵtext(47, \"\\n                  \");\n    i0.ɵɵelementStart(48, \"small\", 17);\n    i0.ɵɵtext(49, \"\\n                    This field is required.\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n\\n            \");\n    i0.ɵɵelementStart(54, \"div\", 10);\n    i0.ɵɵtext(55, \"\\n              \");\n    i0.ɵɵelementStart(56, \"label\", 18);\n    i0.ɵɵtext(57, \"Group Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n              \");\n    i0.ɵɵelementStart(59, \"div\", 14);\n    i0.ɵɵtext(60, \"\\n                \");\n    i0.ɵɵelementStart(61, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function GroupEditComponent_div_0_Template_input_ngModelChange_61_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.group.groupDesc = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \"\\n              \");\n    i0.ɵɵelementStart(64, \"label\", 20);\n    i0.ɵɵtext(65, \"Parent Group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n              \");\n    i0.ɵɵelementStart(67, \"div\", 14);\n    i0.ɵɵtext(68, \"\\n                \");\n    i0.ɵɵelementStart(69, \"select\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function GroupEditComponent_div_0_Template_select_ngModelChange_69_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.group.groupParentId = $event);\n    });\n    i0.ɵɵtext(70, \"\\n                  \");\n    i0.ɵɵelement(71, \"option\", 22);\n    i0.ɵɵtext(72, \"\\n                  \");\n    i0.ɵɵtemplate(73, GroupEditComponent_div_0_option_73_Template, 2, 2, \"option\", 23);\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(75, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(76, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77, \"\\n\\n            \");\n    i0.ɵɵelementStart(78, \"div\", 10);\n    i0.ɵɵtext(79, \"\\n              \");\n    i0.ɵɵelementStart(80, \"div\", 4);\n    i0.ɵɵtext(81, \"\\n                \");\n    i0.ɵɵelementStart(82, \"button\", 24);\n    i0.ɵɵtext(83, \"\\n                  \");\n    i0.ɵɵelement(84, \"fa-icon\", 25);\n    i0.ɵɵtext(85, \"\\u00A0\");\n    i0.ɵɵelementStart(86, \"span\", 26);\n    i0.ɵɵtext(87, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n                \");\n    i0.ɵɵelementStart(90, \"button\", 27);\n    i0.ɵɵtext(91, \"\\n                  \");\n    i0.ɵɵelement(92, \"fa-icon\", 25);\n    i0.ɵɵtext(93, \"\\u00A0\");\n    i0.ɵɵelementStart(94, \"span\", 28);\n    i0.ɵɵtext(95, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(96, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(97, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(98, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(99, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(100, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(101, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(102, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(103, \"\\n\\n    \");\n    i0.ɵɵelementStart(104, \"div\", 29);\n    i0.ɵɵtext(105, \"\\n      \");\n    i0.ɵɵelementStart(106, \"div\", 7);\n    i0.ɵɵtext(107, \"\\n        \");\n    i0.ɵɵelementStart(108, \"div\", 8);\n    i0.ɵɵtext(109, \"Users Assigned to Group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(110, \"\\n        \");\n    i0.ɵɵelementStart(111, \"div\", 9);\n    i0.ɵɵtext(112, \"\\n          \");\n    i0.ɵɵelementStart(113, \"div\", 30);\n    i0.ɵɵtext(114, \"\\n            \");\n    i0.ɵɵelementStart(115, \"table\", 31);\n    i0.ɵɵtext(116, \"\\n              \");\n    i0.ɵɵelementStart(117, \"thead\");\n    i0.ɵɵtext(118, \"\\n                \");\n    i0.ɵɵelementStart(119, \"tr\");\n    i0.ɵɵtext(120, \"\\n                  \");\n    i0.ɵɵelementStart(121, \"th\", 32)(122, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function GroupEditComponent_div_0_Template_input_ngModelChange_122_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.selectedAllUsers = $event);\n    })(\"click\", function GroupEditComponent_div_0_Template_input_click_122_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.selectAllUsers($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(123, \"\\n                  \");\n    i0.ɵɵelementStart(124, \"th\", 34);\n    i0.ɵɵtext(125, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(126, \"\\n                  \");\n    i0.ɵɵelementStart(127, \"th\", 35);\n    i0.ɵɵtext(128, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(129, \"\\n                  \");\n    i0.ɵɵelementStart(130, \"th\", 35);\n    i0.ɵɵtext(131, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(132, \"\\n                  \");\n    i0.ɵɵelementStart(133, \"th\", 35);\n    i0.ɵɵtext(134, \"Email Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(135, \"\\n                  \");\n    i0.ɵɵelementStart(136, \"th\", 35);\n    i0.ɵɵtext(137, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(138, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(139, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(140, \"\\n              \");\n    i0.ɵɵtemplate(141, GroupEditComponent_div_0_tbody_141_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(142, \"\\n              \");\n    i0.ɵɵtemplate(143, GroupEditComponent_div_0_tbody_143_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(144, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(145, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(146, \"\\n\\n          \");\n    i0.ɵɵelementStart(147, \"div\", 36);\n    i0.ɵɵtext(148, \"\\n            \");\n    i0.ɵɵtemplate(149, GroupEditComponent_div_0_button_149_Template, 6, 2, \"button\", 37);\n    i0.ɵɵtext(150, \"\\n            \");\n    i0.ɵɵelementStart(151, \"button\", 38);\n    i0.ɵɵtext(152, \"\\n              \");\n    i0.ɵɵelement(153, \"fa-icon\", 25);\n    i0.ɵɵelementStart(154, \"span\");\n    i0.ɵɵtext(155, \"\\u00A0Assign Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(156, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(157, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(158, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(159, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(160, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(161, \"\\n\\n    \");\n    i0.ɵɵelementStart(162, \"div\", 29);\n    i0.ɵɵtext(163, \"\\n      \");\n    i0.ɵɵelementStart(164, \"div\", 7);\n    i0.ɵɵtext(165, \"\\n        \");\n    i0.ɵɵelementStart(166, \"div\", 8);\n    i0.ɵɵtext(167, \"Roles Assigned to Group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(168, \"\\n        \");\n    i0.ɵɵelementStart(169, \"div\", 9);\n    i0.ɵɵtext(170, \"\\n          \");\n    i0.ɵɵelementStart(171, \"div\", 30);\n    i0.ɵɵtext(172, \"\\n            \");\n    i0.ɵɵelementStart(173, \"table\", 31);\n    i0.ɵɵtext(174, \"\\n              \");\n    i0.ɵɵelementStart(175, \"thead\");\n    i0.ɵɵtext(176, \"\\n                \");\n    i0.ɵɵelementStart(177, \"tr\");\n    i0.ɵɵtext(178, \"\\n                  \");\n    i0.ɵɵelementStart(179, \"th\", 32)(180, \"input\", 33);\n    i0.ɵɵlistener(\"ngModelChange\", function GroupEditComponent_div_0_Template_input_ngModelChange_180_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.selectedAllRoles = $event);\n    })(\"click\", function GroupEditComponent_div_0_Template_input_click_180_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.selectAllRoles($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(181, \"\\n                  \");\n    i0.ɵɵelementStart(182, \"th\", 34);\n    i0.ɵɵtext(183, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(184, \"\\n                  \");\n    i0.ɵɵelementStart(185, \"th\", 35);\n    i0.ɵɵtext(186, \"Application Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(187, \"\\n                  \");\n    i0.ɵɵelementStart(188, \"th\", 35);\n    i0.ɵɵtext(189, \"Role Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(190, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(191, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(192, \"\\n              \");\n    i0.ɵɵtemplate(193, GroupEditComponent_div_0_tbody_193_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(194, \"\\n              \");\n    i0.ɵɵtemplate(195, GroupEditComponent_div_0_tbody_195_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(196, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(197, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(198, \"\\n\\n          \");\n    i0.ɵɵelementStart(199, \"div\", 36);\n    i0.ɵɵtext(200, \"\\n            \");\n    i0.ɵɵtemplate(201, GroupEditComponent_div_0_button_201_Template, 6, 2, \"button\", 37);\n    i0.ɵɵtext(202, \"\\n            \");\n    i0.ɵɵelementStart(203, \"button\", 38);\n    i0.ɵɵtext(204, \"\\n              \");\n    i0.ɵɵelement(205, \"fa-icon\", 25);\n    i0.ɵɵelementStart(206, \"span\");\n    i0.ɵɵtext(207, \"\\u00A0Assign Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(208, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(209, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(210, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(211, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(212, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(213, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(214, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(19);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(37);\n    i0.ɵɵtextInterpolate(ctx_r0.group.groupId);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.group.groupName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !((_r1.controls.groupName == null ? null : _r1.controls.groupName.dirty) && (_r1.controls.groupName == null ? null : _r1.controls.groupName.invalid)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(_r1.controls.groupName == null ? null : _r1.controls.groupName.errors == null ? null : _r1.controls.groupName.errors.required));\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.group.groupDesc);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.group.groupParentId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngValue\", null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.parentGroups);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"disabled\", _r1.form.invalid || ctx_r0.isSaving);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"save\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(26, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"ban\");\n    i0.ɵɵadvance(30);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllUsers);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedUsersLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(27, _c1, ctx_r0.group.groupId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n    i0.ɵɵadvance(27);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllRoles);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedRolesLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedRolesLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedRolesLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(29, _c2, ctx_r0.group.groupId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n  }\n}\nclass GroupEditComponent {\n  constructor(groupService, alertService, route, eventManager) {\n    this.groupService = groupService;\n    this.alertService = alertService;\n    this.route = route;\n    this.eventManager = eventManager;\n    this.group = new group_model_1.Group();\n    this.parentGroups = [];\n    this.assignedUsers = [];\n    this.assignedRoles = [];\n    this.selectedUsers = [];\n    this.selectedRoles = [];\n  }\n  ngOnInit() {\n    this.isSaving = false;\n    this.subscription = this.route.params.subscribe(params => {\n      this.groupId = params['id'];\n    });\n    // get group\n    this.load(this.groupId);\n    // get parent groups\n    this.getParentGroups();\n    // get all assigned users\n    this.getAllAssignedUsers(this.groupId);\n    // get all assigned roles\n    this.getAllAssignedRoles(this.groupId);\n    this.registerChangeInAssignedUsers();\n    this.registerChangeInAssignedRoles();\n  }\n  ngOnDestroy() {\n    if (this.eventSubscriber) {\n      this.eventManager.destroy(this.eventSubscriber);\n    }\n  }\n  load(id) {\n    this.groupService.find(id).subscribe(group => {\n      this.group = group;\n    });\n  }\n  getParentGroups() {\n    this.groupService.findAll({\n      page: 0,\n      size: 1000,\n      sort: null\n    }).subscribe(res => {\n      this.parentGroups = res.body;\n    }, res => this.onError(res.body));\n  }\n  getAllAssignedUsers(groupId) {\n    this.groupService.findAllAssignedUsers(groupId).subscribe(res => {\n      this.assignedUsers = res.body;\n      this.selectedAllUsers = false;\n      this.selectedUsers = [];\n    }, res => this.onError(res.body));\n  }\n  getAllAssignedRoles(groupId) {\n    this.groupService.findAllAssignedRoles(groupId).subscribe(res => {\n      this.assignedRoles = res.body;\n      this.selectedAllRoles = false;\n      this.selectedRoles = [];\n    }, res => this.onError(res.body));\n  }\n  save() {\n    this.isSaving = true;\n    this.subscribeToSaveResponse(this.groupService.update(this.group));\n  }\n  selectAllUsers(event) {\n    this.selectedUsers = [];\n    this.selectedAllUsers = event.target.checked;\n    if (this.selectedAllUsers) {\n      for (let i = 0; i < this.assignedUsers.length; i++) {\n        this.selectedUsers.push(this.assignedUsers[i]);\n      }\n    }\n  }\n  selectOneUser(event, subject) {\n    if (event.target.checked) {\n      if (this.selectedUsers.length === 0) {\n        this.selectedUsers = [];\n      }\n      this.selectedUsers.push(subject);\n    } else {\n      const index = this.selectedUsers.indexOf(subject);\n      if (index >= 0) {\n        this.selectedUsers.splice(index, 1);\n      }\n      if (this.selectedUsers.length === 0) {\n        this.selectedAllUsers = false;\n      }\n    }\n  }\n  selectAllRoles(event) {\n    this.selectedRoles = [];\n    this.selectedAllRoles = event.target.checked;\n    if (this.selectedAllRoles) {\n      for (let i = 0; i < this.assignedRoles.length; i++) {\n        this.selectedRoles.push(this.assignedRoles[i]);\n      }\n    }\n  }\n  selectOneRole(event, resource) {\n    if (event.target.checked) {\n      if (this.selectedRoles.length === 0) {\n        this.selectedRoles = [];\n      }\n      this.selectedRoles.push(resource);\n    } else {\n      const index = this.selectedRoles.indexOf(resource);\n      if (index >= 0) {\n        this.selectedRoles.splice(index, 1);\n      }\n      if (this.selectedRoles.length === 0) {\n        this.selectedAllRoles = false;\n      }\n    }\n  }\n  assignedUsersLength() {\n    return this.assignedUsers.length;\n  }\n  assignedRolesLength() {\n    return this.assignedRoles.length;\n  }\n  unAssignUsers() {\n    if (this.selectedUsers.length > 0) {\n      this.groupService.unAssignUsers(this.groupId, this.selectedUsers).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedUserListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  unAssignRoles() {\n    if (this.selectedRoles.length > 0) {\n      this.groupService.unAssignRoles(this.groupId, this.selectedRoles).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedRoleListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  registerChangeInAssignedUsers() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedUserListModification', () => this.getAllAssignedUsers(this.group.groupId));\n  }\n  registerChangeInAssignedRoles() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedRoleListModification', () => this.getAllAssignedRoles(this.group.groupId));\n  }\n  subscribeToSaveResponse(result) {\n    result.subscribe(() => this.onSaveSuccess(), res => this.onSaveError(res));\n  }\n  onSaveSuccess() {\n    this.isSaving = false;\n  }\n  onSaveError(error) {\n    this.isSaving = false;\n    const appDialogErrorMsg = error.headers.get('X-nspay2AppApp--alert');\n    document.getElementById('appDialogErrorMsg').innerHTML = appDialogErrorMsg;\n    document.getElementById('appDialogErrorMsg').style.display = 'block';\n  }\n  onError(error) {\n    this.alertService.addAlert({\n      type: 'danger',\n      translationKey: error.message\n    });\n  }\n}\nexports.GroupEditComponent = GroupEditComponent;\nGroupEditComponent.ɵfac = function GroupEditComponent_Factory(t) {\n  return new (t || GroupEditComponent)(i0.ɵɵdirectiveInject(i1.GroupService), i0.ɵɵdirectiveInject(i2.AlertService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.EventManager));\n};\nGroupEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GroupEditComponent,\n  selectors: [[\"ic-group\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"icTranslate\", \"acmAdmin.group.home.editLabel\"], [\"id\", \"appDialogErrorMsg\", 1, \"alert-dismissible\", \"alert-danger\", \"alert\", 2, \"display\", \"none\"], [1, \"row\"], [1, \"col-sm-12\"], [\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-block\", 2, \"padding\", \"1.5% 1.5% 1% 1.5%\"], [1, \"rounded-pill\", \"row\"], [\"icTranslate\", \"acmAdmin.group.groupId\", \"for\", \"field_groupId\", 1, \"col-sm-2\", \"form-control-label\"], [\"id\", \"field_groupId\", 1, \"col-sm-4\", \"form-control-label\"], [\"icTranslate\", \"acmAdmin.group.groupName\", \"for\", \"field_groupName\", 1, \"col-sm-2\", \"form-control-label\"], [1, \"col-sm-4\"], [\"type\", \"text\", \"name\", \"groupName\", \"id\", \"field_groupName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"hidden\"], [\"icTranslate\", \"entity.validation.required\", 1, \"form-text\", \"text-danger\", 3, \"hidden\"], [\"icTranslate\", \"acmAdmin.group.groupDesc\", \"for\", \"field_groupDesc\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"groupDesc\", \"id\", \"field_groupDesc\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"acmAdmin.group.parentGroup\", \"for\", \"field_parentGroup\", 1, \"col-sm-2\", \"form-control-label\"], [\"id\", \"field_parentGroup\", \"name\", \"parentGroup\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\"], [3, \"icon\"], [\"icTranslate\", \"entity.action.save\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"routerLink\"], [\"icTranslate\", \"entity.action.cancel\"], [1, \"col-sm-12\", 2, \"margin-top\", \"20px\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\", 2, \"width\", \"60px\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"scope\", \"col\", 2, \"width\", \"100px\"], [\"scope\", \"col\"], [2, \"margin-top\", \"20px\"], [\"type\", \"button\", \"class\", \"btn btn-danger btn-sm\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\", \"replaceUrl\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"checked\", \"click\"], [\"colspan\", \"6\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"colspan\", \"4\"]],\n  template: function GroupEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GroupEditComponent_div_0_Template, 215, 31, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.group);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.NgForOf, i6.NgIf, i7.FaIconComponent, i3.RouterLink, i8.TranslateDirective, i9.AlertComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","GroupEditComponent","constructor","groupService","alertService","route","eventManager","group_model_1","ngOnInit","isSaving","subscription","params","subscribe","groupId","load","getParentGroups","getAllAssignedUsers","getAllAssignedRoles","registerChangeInAssignedUsers","registerChangeInAssignedRoles","ngOnDestroy","eventSubscriber","destroy","id","find","group","findAll","page","size","sort","res","parentGroups","body","onError","findAllAssignedUsers","assignedUsers","selectedAllUsers","selectedUsers","findAllAssignedRoles","assignedRoles","selectedAllRoles","selectedRoles","save","subscribeToSaveResponse","update","selectAllUsers","event","target","checked","i","length","push","selectOneUser","subject","index","indexOf","splice","selectAllRoles","selectOneRole","resource","assignedUsersLength","assignedRolesLength","unAssignUsers","broadcast","name","content","unAssignRoles","result","onSaveSuccess","onSaveError","error","appDialogErrorMsg","headers","get","document","getElementById","innerHTML","style","display","addAlert","type","translationKey","message","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\group\\group-edit.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\group\\group-edit.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { EventManager } from 'app/core/util/event-manager.service';\r\nimport { Group } from './group.model';\r\nimport { GroupService } from './group.service';\r\nimport { Subject } from '../user/user.model';\r\nimport { Resource } from 'app/admin/access-control';\r\n\r\n@Component({\r\n  selector: 'ic-group',\r\n  templateUrl: './group-edit.component.html',\r\n})\r\nexport class GroupEditComponent implements OnInit, OnDestroy {\r\n  currentAccount: any;\r\n  error: any;\r\n  success: any;\r\n  eventSubscriber?: Subscription;\r\n  links: any;\r\n  totalItems: any;\r\n  queryCount: any;\r\n  itemsPerPage: any;\r\n  page: any;\r\n  predicate!: string;\r\n  reverse: any;\r\n\r\n  isSaving?: boolean;\r\n  groupId?: string;\r\n  group: Group = new Group();\r\n  parentGroups: Group[] = [];\r\n  assignedUsers: Subject[] = [];\r\n  assignedRoles: Resource[] = [];\r\n  selectedAllUsers?: boolean;\r\n  selectedUsers: Subject[] = [];\r\n  selectedAllRoles?: boolean;\r\n  selectedRoles: Resource[] = [];\r\n  subscription?: Subscription;\r\n\r\n  constructor(\r\n    private groupService: GroupService,\r\n    private alertService: AlertService,\r\n    private route: ActivatedRoute,\r\n    private eventManager: EventManager\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isSaving = false;\r\n    this.subscription = this.route.params.subscribe(params => {\r\n      this.groupId = params['id'];\r\n    });\r\n\r\n    // get group\r\n    this.load(this.groupId);\r\n\r\n    // get parent groups\r\n    this.getParentGroups();\r\n\r\n    // get all assigned users\r\n    this.getAllAssignedUsers(this.groupId);\r\n\r\n    // get all assigned roles\r\n    this.getAllAssignedRoles(this.groupId);\r\n\r\n    this.registerChangeInAssignedUsers();\r\n    this.registerChangeInAssignedRoles();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.eventSubscriber) {\r\n      this.eventManager.destroy(this.eventSubscriber);\r\n    }\r\n  }\r\n\r\n  load(id: any): void {\r\n    this.groupService.find(id).subscribe(group => {\r\n      this.group = group;\r\n    });\r\n  }\r\n\r\n  getParentGroups(): void {\r\n    this.groupService\r\n      .findAll({\r\n        page: 0,\r\n        size: 1000,\r\n        sort: null,\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          this.parentGroups = res.body;\r\n        },\r\n        (res: HttpResponse<any>) => this.onError(res.body)\r\n      );\r\n  }\r\n\r\n  getAllAssignedUsers(groupId: any): void {\r\n    this.groupService.findAllAssignedUsers(groupId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.assignedUsers = res.body;\r\n        this.selectedAllUsers = false;\r\n        this.selectedUsers = [];\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n  }\r\n\r\n  getAllAssignedRoles(groupId: any): void {\r\n    this.groupService.findAllAssignedRoles(groupId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.assignedRoles = res.body;\r\n        this.selectedAllRoles = false;\r\n        this.selectedRoles = [];\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n  }\r\n\r\n  save(): void {\r\n    this.isSaving = true;\r\n    this.subscribeToSaveResponse(this.groupService.update(this.group));\r\n  }\r\n\r\n  selectAllUsers(event: MouseEvent): void {\r\n    this.selectedUsers = [];\r\n    this.selectedAllUsers = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllUsers) {\r\n      for (let i = 0; i < this.assignedUsers.length; i++) {\r\n        this.selectedUsers.push(this.assignedUsers[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneUser(event: MouseEvent, subject: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedUsers.length === 0) {\r\n        this.selectedUsers = [];\r\n      }\r\n      this.selectedUsers.push(subject);\r\n    } else {\r\n      const index = this.selectedUsers.indexOf(subject);\r\n      if (index >= 0) {\r\n        this.selectedUsers.splice(index, 1);\r\n      }\r\n      if (this.selectedUsers.length === 0) {\r\n        this.selectedAllUsers = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  selectAllRoles(event: MouseEvent): void {\r\n    this.selectedRoles = [];\r\n    this.selectedAllRoles = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllRoles) {\r\n      for (let i = 0; i < this.assignedRoles.length; i++) {\r\n        this.selectedRoles.push(this.assignedRoles[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneRole(event: MouseEvent, resource: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedRoles.length === 0) {\r\n        this.selectedRoles = [];\r\n      }\r\n      this.selectedRoles.push(resource);\r\n    } else {\r\n      const index = this.selectedRoles.indexOf(resource);\r\n      if (index >= 0) {\r\n        this.selectedRoles.splice(index, 1);\r\n      }\r\n      if (this.selectedRoles.length === 0) {\r\n        this.selectedAllRoles = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  assignedUsersLength(): number {\r\n    return this.assignedUsers.length;\r\n  }\r\n\r\n  assignedRolesLength(): number {\r\n    return this.assignedRoles.length;\r\n  }\r\n\r\n  unAssignUsers(): void {\r\n    if (this.selectedUsers.length > 0) {\r\n      this.groupService.unAssignUsers(this.groupId, this.selectedUsers).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedUserListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  unAssignRoles(): void {\r\n    if (this.selectedRoles.length > 0) {\r\n      this.groupService.unAssignRoles(this.groupId, this.selectedRoles).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedRoleListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  registerChangeInAssignedUsers(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedUserListModification', () => this.getAllAssignedUsers(this.group.groupId));\r\n  }\r\n\r\n  registerChangeInAssignedRoles(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedRoleListModification', () => this.getAllAssignedRoles(this.group.groupId));\r\n  }\r\n\r\n  private subscribeToSaveResponse(result: Observable<Group>): void {\r\n    result.subscribe(\r\n      () => this.onSaveSuccess(),\r\n      (res: HttpResponse<any>) => this.onSaveError(res)\r\n    );\r\n  }\r\n\r\n  private onSaveSuccess(): void {\r\n    this.isSaving = false;\r\n  }\r\n\r\n  private onSaveError(error: any): void {\r\n    this.isSaving = false;\r\n    const appDialogErrorMsg = error.headers.get('X-nspay2AppApp--alert');\r\n    document.getElementById('appDialogErrorMsg')!.innerHTML = appDialogErrorMsg;\r\n    document.getElementById('appDialogErrorMsg')!.style.display = 'block';\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    this.alertService.addAlert({ type: 'danger', translationKey: error.message });\r\n  }\r\n}\r\n","<div *ngIf=\"group\">\r\n  <h2>\r\n    <span icTranslate=\"acmAdmin.group.home.editLabel\">Edit Group</span>\r\n  </h2>\r\n\r\n  <p style=\"display: none\" id=\"appDialogErrorMsg\" class=\"alert-dismissible alert-danger alert\"></p>\r\n  <ic-alert></ic-alert>\r\n  <br />\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <form name=\"editForm\" role=\"form\"  (ngSubmit)=\"save()\" #editForm=\"ngForm\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">Group Detail</div>\r\n          <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n            <div class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.group.groupId\" for=\"field_groupId\">Group Id</label>\r\n<!--              <div class=\"col-sm-4\">-->\r\n<!--                <input type=\"text\" class=\"form-control\" name=\"groupId\" id=\"field_groupId\" [(ngModel)]=\"group.groupId\" readonly />-->\r\n<!--              </div>-->\r\n              <label class=\"col-sm-4 form-control-label\" id=\"field_groupId\">{{group.groupId}}</label>\r\n\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.group.groupName\" for=\"field_groupName\">Group Name</label>\r\n              <div class=\"col-sm-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"groupName\" id=\"field_groupName\" [(ngModel)]=\"group.groupName\" required />\r\n                <div [hidden]=\"!(editForm.controls.groupName?.dirty && editForm.controls.groupName?.invalid)\">\r\n                  <small\r\n                    class=\"form-text text-danger\"\r\n                    [hidden]=\"!editForm.controls.groupName?.errors?.required\"\r\n                    icTranslate=\"entity.validation.required\"\r\n                  >\r\n                    This field is required.\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.group.groupDesc\" for=\"field_groupDesc\"\r\n                >Group Description</label\r\n              >\r\n              <div class=\"col-sm-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"groupDesc\" id=\"field_groupDesc\" [(ngModel)]=\"group.groupDesc\" />\r\n              </div>\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.group.parentGroup\" for=\"field_parentGroup\"\r\n                >Parent Group</label\r\n              >\r\n              <div class=\"col-sm-4\">\r\n                <select class=\"form-control\" id=\"field_parentGroup\" name=\"parentGroup\" [(ngModel)]=\"group.groupParentId\">\r\n                  <option [ngValue]=\"null\"></option>\r\n                  <option\r\n                    [ngValue]=\"parentGroupOption.groupId === group.groupParentId ? group.groupParentId : parentGroupOption.groupId\"\r\n                    *ngFor=\"let parentGroupOption of parentGroups\"\r\n                  >\r\n                    {{ parentGroupOption.groupName }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <div class=\"col-sm-12\">\r\n                <button type=\"submit\" [disabled]=\"editForm.form.invalid || isSaving\" class=\"btn btn-primary btn-sm\">\r\n                  <fa-icon [icon]=\"'save'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.save\">Save</span>\r\n                </button>\r\n                <button type=\"button\" [routerLink]=\"['../../../../admin/acm/ic-group']\" class=\"btn btn-secondary btn-sm\">\r\n                  <fa-icon [icon]=\"'ban'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.cancel\">Cancel</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Users Assigned to Group</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\"><input type=\"checkbox\" [(ngModel)]=\"selectedAllUsers\" (click)=\"selectAllUsers($event)\" /></th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">First Name</th>\r\n                  <th scope=\"col\">Last Name</th>\r\n                  <th scope=\"col\">Email Address</th>\r\n                  <th scope=\"col\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedUsersLength() > 0\">\r\n                <tr *ngFor=\"let user of assignedUsers; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllUsers\" (click)=\"selectOneUser($event, user)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ user.firstName }}</td>\r\n                  <td>{{ user.lastName }}</td>\r\n                  <td>{{ user.email }}</td>\r\n                  <td>{{ user.status }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedUsersLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"6\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignUsers()\"\r\n              *ngIf=\"assignedUsersLength() > 0\"\r\n              [disabled]=\"!selectedUsers || selectedUsers.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Users</span>\r\n            </button>\r\n            <button type=\"button\" [routerLink]=\"['../assign', 'users', group.groupId]\" [replaceUrl]=\"true\" class=\"btn btn-primary btn-sm\">\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Users</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Roles Assigned to Group</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\"><input type=\"checkbox\" [(ngModel)]=\"selectedAllRoles\" (click)=\"selectAllRoles($event)\" /></th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">Application Name</th>\r\n                  <th scope=\"col\">Role Name</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedRolesLength() > 0\">\r\n                <tr *ngFor=\"let role of assignedRoles; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllRoles\" (click)=\"selectOneRole($event, role)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ role.application!.appName }}</td>\r\n                  <td>{{ role.resourceName }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedRolesLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"4\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignRoles()\"\r\n              *ngIf=\"assignedRolesLength() > 0\"\r\n              [disabled]=\"!selectedRoles || selectedRoles.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Roles</span>\r\n            </button>\r\n            <button type=\"button\" [routerLink]=\"['../assign', 'roles', group.groupId]\" [replaceUrl]=\"true\" class=\"btn btn-primary btn-sm\">\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Roles</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}