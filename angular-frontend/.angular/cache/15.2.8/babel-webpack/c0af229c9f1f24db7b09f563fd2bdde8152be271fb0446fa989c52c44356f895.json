{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IrasDldDetailsSectionComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst core_1 = require(\"@angular/core\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../../service/se-claim.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i4 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/accordion\"));\nfunction IrasDldDetailsSectionComponent_div_2_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"th\", 8);\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementStart(12, \"th\", 8);\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"div\", 9);\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵelementStart(16, \"div\");\n    i0.ɵɵtext(17, \"Retrieval Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelementStart(21, \"th\", 8);\n    i0.ɵɵtext(22, \"\\n\\n                        \");\n    i0.ɵɵelementStart(23, \"div\", 9);\n    i0.ɵɵtext(24, \"\\n                            \");\n    i0.ɵɵelementStart(25, \"div\");\n    i0.ɵɵtext(26, \"Basis\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelementStart(30, \"th\", 8);\n    i0.ɵɵtext(31, \"\\n                        \");\n    i0.ɵɵelementStart(32, \"div\", 9);\n    i0.ɵɵtext(33, \"\\n                            \");\n    i0.ɵɵelementStart(34, \"div\");\n    i0.ɵɵtext(35, \"NOA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n                    \");\n    i0.ɵɵelementStart(39, \"th\", 8);\n    i0.ɵɵtext(40, \"\\n                        \");\n    i0.ɵɵelementStart(41, \"div\", 9);\n    i0.ɵɵtext(42, \"\\n                            \");\n    i0.ɵɵelementStart(43, \"div\");\n    i0.ɵɵtext(44, \"Income Year\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n                    \");\n    i0.ɵɵelementStart(48, \"th\", 8);\n    i0.ɵɵtext(49, \"\\n                        \");\n    i0.ɵɵelementStart(50, \"div\", 9);\n    i0.ɵɵtext(51, \"\\n                            \");\n    i0.ɵɵelementStart(52, \"div\");\n    i0.ɵɵtext(53, \"Trade Income\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n                    \");\n    i0.ɵɵelementStart(57, \"th\", 8);\n    i0.ɵɵtext(58, \"\\n                        \");\n    i0.ɵɵelementStart(59, \"div\", 9);\n    i0.ɵɵtext(60, \"\\n                            \");\n    i0.ɵɵelementStart(61, \"div\");\n    i0.ɵɵtext(62, \"Emp. Income\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(64, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                    \");\n    i0.ɵɵelementStart(66, \"th\", 8);\n    i0.ɵɵtext(67, \"\\n                        \");\n    i0.ɵɵelementStart(68, \"div\", 9);\n    i0.ɵɵtext(69, \"\\n                            \");\n    i0.ɵɵelementStart(70, \"div\");\n    i0.ɵɵtext(71, \"Net Emp. Income\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(72, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n                    \");\n    i0.ɵɵelementStart(75, \"th\", 8);\n    i0.ɵɵtext(76, \"\\n                        \");\n    i0.ɵɵelementStart(77, \"div\", 9);\n    i0.ɵɵtext(78, \"\\n                            \");\n    i0.ɵɵelementStart(79, \"div\");\n    i0.ɵɵtext(80, \"Occupation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(82, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(83, \"\\n                    \");\n    i0.ɵɵelementStart(84, \"th\", 10);\n    i0.ɵɵtext(85, \"\\n                        \");\n    i0.ɵɵelementStart(86, \"div\", 11);\n    i0.ɵɵtext(87, \"\\n                            Form B\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(90, \"\\n                \");\n    i0.ɵɵelementStart(91, \"tr\");\n    i0.ɵɵtext(92, \"\\n                    \");\n    i0.ɵɵelementStart(93, \"th\", 12);\n    i0.ɵɵtext(94, \"Revenue\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(95, \"\\n                    \");\n    i0.ɵɵelementStart(96, \"th\", 12);\n    i0.ɵɵtext(97, \"Net Trade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(98, \"\\n                    \");\n    i0.ɵɵelementStart(99, \"th\", 12);\n    i0.ɵɵtext(100, \"Occupation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(101, \"\\n                    \");\n    i0.ɵɵelementStart(102, \"th\", 12);\n    i0.ɵɵtext(103, \"Acc. Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(104, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(105, \"\\n            \");\n  }\n}\nfunction IrasDldDetailsSectionComponent_div_2_ng_template_9_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const elem_r13 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"pTooltip\", ctx_r10.getOccupDesc(elem_r13));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(elem_r13);\n  }\n}\nfunction IrasDldDetailsSectionComponent_div_2_ng_template_9_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const elem_r14 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"pTooltip\", ctx_r11.getOccupDesc(elem_r14));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(elem_r14);\n  }\n}\nfunction IrasDldDetailsSectionComponent_div_2_ng_template_9_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const elem_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(elem_r15);\n  }\n}\nfunction IrasDldDetailsSectionComponent_div_2_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                    \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n                    \");\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelementStart(30, \"td\");\n    i0.ɵɵtemplate(31, IrasDldDetailsSectionComponent_div_2_ng_template_9_div_31_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelementStart(37, \"td\");\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n                    \");\n    i0.ɵɵelementStart(41, \"td\");\n    i0.ɵɵtemplate(42, IrasDldDetailsSectionComponent_div_2_ng_template_9_div_42_Template, 3, 2, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵelementStart(44, \"td\");\n    i0.ɵɵtemplate(45, IrasDldDetailsSectionComponent_div_2_ng_template_9_div_45_Template, 3, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n\\n            \");\n  }\n  if (rf & 2) {\n    const data_r7 = ctx.$implicit;\n    const rowIndex_r8 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(rowIndex_r8 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r7.retrievalDate);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r7.basisDesc);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r7.noa);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r7.incomeYr);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 13, data_r7.tradeIncome, \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(24, 16, data_r7.empIncome, \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(28, 19, data_r7.netEmpIncome, \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", data_r7.occupationNoa.split(\"|\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(35, 22, data_r7.revenue, \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(39, 25, data_r7.netTrade, \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", data_r7.occupationFormB.split(\"|\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", data_r7.acctgPeriod.split(\"|\"));\n  }\n}\nfunction IrasDldDetailsSectionComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementStart(4, \"p-table\", 4, 5);\n    i0.ɵɵtext(6, \"\\n            \");\n    i0.ɵɵtemplate(7, IrasDldDetailsSectionComponent_div_2_ng_template_7_Template, 106, 0, \"ng-template\", 6);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵtemplate(9, IrasDldDetailsSectionComponent_div_2_ng_template_9_Template, 48, 28, \"ng-template\", 7);\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.irasDetailData)(\"filterDelay\", 0)(\"loading\", ctx_r0.loading)(\"value\", ctx_r0.irasDetailData);\n  }\n}\nfunction IrasDldDetailsSectionComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelement(2, \"i\", 16);\n    i0.ɵɵtext(3, \"\\n            No records found.\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n  }\n}\nclass IrasDldDetailsSectionComponent {\n  constructor(seClaimService, ns2Http, codeService) {\n    this.seClaimService = seClaimService;\n    this.ns2Http = ns2Http;\n    this.codeService = codeService;\n    this.irasDetailData = [];\n    this.caseId = \"\";\n    this.natureOfTradeList = new Map();\n    this.irasDetailsEvent = new core_1.EventEmitter();\n    this.selectedChange = new core_1.EventEmitter();\n  }\n  ngOnInit() {\n    this.loadCodes();\n  }\n  ngOnChanges(changes) {\n    if (changes.seHardCopyDetails?.currentValue) {\n      this.currHardCopyDetails = changes.seHardCopyDetails.currentValue;\n      this.getIrasDownloadDetails();\n    }\n  }\n  getIrasDownloadDetails() {\n    setTimeout(() => {\n      let params = new http_1.HttpParams();\n      params = params.append('claimId', this.currHardCopyDetails.claimId);\n      this.seClaimService.retrieveIrasDownloadDetails({\n        params\n      }).subscribe(resp => {\n        if (resp.body.data) {\n          this.irasDetailData = resp.body.data;\n          this.irasDetailsEvent.emit(this.irasDetailData);\n        }\n      });\n    });\n    this.loading = false;\n  }\n  loadCodes() {\n    this.codeService.gets('nature_trade').subscribe(codes => {\n      codes[0].forEach(x => this.natureOfTradeList.set(x.codeId, x.label['en-US']));\n    });\n  }\n  getOccupDesc(code) {\n    return this.natureOfTradeList?.get(code);\n  }\n  accordionClick() {\n    this.selectedChange.emit(this.selected);\n  }\n}\nexports.IrasDldDetailsSectionComponent = IrasDldDetailsSectionComponent;\nIrasDldDetailsSectionComponent.ɵfac = function IrasDldDetailsSectionComponent_Factory(t) {\n  return new (t || IrasDldDetailsSectionComponent)(i0.ɵɵdirectiveInject(i1.SEClaimService), i0.ɵɵdirectiveInject(i2.Ns2HttpService), i0.ɵɵdirectiveInject(i3.IcCodeService));\n};\nIrasDldDetailsSectionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: IrasDldDetailsSectionComponent,\n  selectors: [[\"n2-iras-dld-details-section\"]],\n  inputs: {\n    seHardCopyDetails: \"seHardCopyDetails\",\n    selected: \"selected\"\n  },\n  outputs: {\n    irasDetailsEvent: \"irasDetailsEvent\",\n    selectedChange: \"selectedChange\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 8,\n  vars: 3,\n  consts: [[\"header\", \"IRAS Download Details\", 3, \"selected\", \"selectedChange\", \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptymessage\", \"\"], [1, \"row\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", \"responsiveLayout\", \"scroll\", 3, \"value\", \"filterDelay\", \"loading\"], [\"irasDldDetailsTable\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"scope\", \"col\", \"rowspan\", \"2\"], [1, \"p-d-flex\", \"p-jc-between\"], [\"scope\", \"colgroup\", \"colspan\", \"4\"], [1, \"p-d-flex\", \"p-jc-between\", \"nsp-align-center\"], [\"scope\", \"col\"], [3, \"pTooltip\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"pTooltip\"], [1, \"pi\", \"pi-info-circle\"]],\n  template: function IrasDldDetailsSectionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-accordionTab\", 0);\n      i0.ɵɵlistener(\"selectedChange\", function IrasDldDetailsSectionComponent_Template_p_accordionTab_selectedChange_0_listener($event) {\n        return ctx.selected = $event;\n      })(\"click\", function IrasDldDetailsSectionComponent_Template_p_accordionTab_click_0_listener() {\n        return ctx.accordionClick();\n      });\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵtemplate(2, IrasDldDetailsSectionComponent_div_2_Template, 13, 4, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵtemplate(4, IrasDldDetailsSectionComponent_ng_template_4_Template, 5, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtext(6, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\");\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n      i0.ɵɵproperty(\"selected\", ctx.selected);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.irasDetailData.length !== 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.PrimeTemplate, i6.Tooltip, i7.Table, i8.AccordionTab, i4.DecimalPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpcmFzLWRsZC1kZXRhaWxzLXNlY3Rpb24uY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vc2UtY2xhaW0vc2UtY2xhaW0tdmVyaWZpY2F0aW9uL2lyYXMtZGxkLWRldGFpbHMtc2VjdGlvbi9pcmFzLWRsZC1kZXRhaWxzLXNlY3Rpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLDRMQUE0TCIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","IrasDldDetailsSectionComponent","constructor","seClaimService","ns2Http","codeService","Map","core_1","ngOnInit","loadCodes","ngOnChanges","changes","seHardCopyDetails","currentValue","currHardCopyDetails","getIrasDownloadDetails","setTimeout","params","http_1","append","claimId","retrieveIrasDownloadDetails","subscribe","resp","body","data","irasDetailData","irasDetailsEvent","emit","loading","gets","codes","forEach","x","natureOfTradeList","set","codeId","label","getOccupDesc","code","get","accordionClick","selectedChange","selected","exports","selectors","inputs","outputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\se-claim\\se-claim-verification\\iras-dld-details-section\\iras-dld-details-section.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\se-claim\\se-claim-verification\\iras-dld-details-section\\iras-dld-details-section.component.html"],"sourcesContent":["import { HttpParams } from '@angular/common/http';\r\nimport {Component, EventEmitter, Input, OnInit, Output, SimpleChanges} from '@angular/core';\r\nimport { CodeView, IcCodeService } from 'app/ng-connect';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { SEClaimService } from '../../service/se-claim.service';\r\n\r\n@Component({\r\n  selector: 'n2-iras-dld-details-section',\r\n  templateUrl: './iras-dld-details-section.component.html',\r\n  styleUrls: ['./iras-dld-details-section.component.scss']\r\n})\r\nexport class IrasDldDetailsSectionComponent implements OnInit {\r\n\r\n  irasDetailData:any[] = [];\r\n  loading!: boolean;\r\n  caseId=\"\";\r\n  natureOfTradeList:Map<string, any>= new Map<string, any>();\r\n\r\n  // basisRanking = [{basisDesc: 'Actual', basisNo: '2', ranking: 1},\r\n  // {basisDesc: 'provisional', basisNo: '1', ranking: 2}]\r\n\r\n\r\n  currHardCopyDetails: any;\r\n  @Input() seHardCopyDetails:any;\r\n  @Output()  irasDetailsEvent: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input() selected:boolean;\r\n  @Output() selectedChange = new EventEmitter<boolean>();\r\n\r\n  constructor(\r\n    private seClaimService: SEClaimService,\r\n    private ns2Http: Ns2HttpService,\r\n    private codeService: IcCodeService) {\r\n}\r\n\r\n  ngOnInit(): void {          \r\n    this.loadCodes();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void{\r\n    if(changes.seHardCopyDetails?.currentValue){\r\n\r\n      this.currHardCopyDetails=changes.seHardCopyDetails.currentValue;\r\n      this.getIrasDownloadDetails();\r\n    }\r\n\r\n  }\r\n\r\n\r\n  getIrasDownloadDetails():void{\r\n\r\n      setTimeout(() => {\r\n        let params = new HttpParams();\r\n        params = params.append('claimId', this.currHardCopyDetails.claimId);\r\n        this.seClaimService.retrieveIrasDownloadDetails({params}).subscribe(resp => {\r\n        if (resp.body.data) {\r\n          this.irasDetailData = resp.body.data;\r\n          this.irasDetailsEvent.emit(this.irasDetailData);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.loading = false;\r\n  }\r\n\r\n  loadCodes(): void {\r\n\r\n    this.codeService.gets('nature_trade')\r\n      .subscribe((codes: any[]) => {\r\n        codes[0].forEach((x:any)=>\r\n          this.natureOfTradeList.set(x.codeId, x.label['en-US'])\r\n        )\r\n      });\r\n  }\r\n\r\n  getOccupDesc(code: string): string{\r\n    return this.natureOfTradeList?.get(code) as string;\r\n  }\r\n\r\n  accordionClick(): void{\r\n    this.selectedChange.emit(this.selected);\r\n  }\r\n\r\n\r\n}\r\n","<p-accordionTab header=\"IRAS Download Details\" [(selected)]=\"selected\" (click) = \"accordionClick()\">\r\n    <div *ngIf=\"irasDetailData.length!==0; else emptymessage\">\r\n        <div class=\"row\">\r\n            <p-table [value]=\"irasDetailData\"\r\n            [filterDelay]=\"0\"\r\n            [loading] = \"loading\"\r\n            styleClass=\"p-datatable-gridlines p-datatable-striped\"\r\n            responsiveLayout=\"scroll\"\r\n            [value]=\"irasDetailData\"\r\n            #irasDldDetailsTable>\r\n            <ng-template pTemplate=\"header\" let-columns>\r\n                <tr>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>SN</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Retrieval Date</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Basis</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>NOA</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Income Year</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Trade Income</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Emp. Income</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Net Emp. Income</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"col\" rowspan=\"2\">\r\n                        <div class=\"p-d-flex p-jc-between\">\r\n                            <div>Occupation</div>\r\n                        </div>\r\n                    </th>\r\n                    <th scope=\"colgroup\" colspan=\"4\">\r\n                        <div class=\"p-d-flex p-jc-between nsp-align-center\">\r\n                            Form B\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n                <tr>\r\n                    <th scope=\"col\">Revenue</th>\r\n                    <th scope=\"col\">Net Trade</th>\r\n                    <th scope=\"col\">Occupation</th>\r\n                    <th scope=\"col\">Acc. Period</th>\r\n                </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-data let-rowIndex = \"rowIndex\" let-columns=\"columns\">\r\n                <tr>\r\n                    <td>{{ rowIndex + 1}}</td>\r\n                    <td>{{ data.retrievalDate }}</td>\r\n                    <td>{{ data.basisDesc }}</td>\r\n                    <td>{{ data.noa }}</td>\r\n                    <td>{{ data.incomeYr }}</td>\r\n                    <td>{{ data.tradeIncome  | number : '1.2-2'}}</td>\r\n                    <td>{{ data.empIncome  | number : '1.2-2'}}</td>\r\n                    <td>{{ data.netEmpIncome  | number : '1.2-2'}}</td>\r\n                    <td><div *ngFor = 'let elem of data.occupationNoa.split(\"|\")' [pTooltip]=getOccupDesc(elem)>{{ elem }}<br></div></td>\r\n                    <td>{{ data.revenue  | number : '1.2-2'}}</td>\r\n                    <td>{{ data.netTrade  | number : '1.2-2'}}</td>\r\n                    <td><div *ngFor = 'let elem of data.occupationFormB.split(\"|\")' [pTooltip]=getOccupDesc(elem)>{{ elem }}<br></div></td>\r\n                    <td><div *ngFor = 'let elem of data.acctgPeriod.split(\"|\")'>{{ elem }}<br></div></td>\r\n                </tr>\r\n\r\n            </ng-template>\r\n            </p-table>\r\n        </div>\r\n    </div>\r\n    <ng-template #emptymessage>\r\n        <span><i class=\"pi pi-info-circle\"></i>\r\n            No records found.\r\n        </span>\r\n    </ng-template>\r\n</p-accordionTab>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}