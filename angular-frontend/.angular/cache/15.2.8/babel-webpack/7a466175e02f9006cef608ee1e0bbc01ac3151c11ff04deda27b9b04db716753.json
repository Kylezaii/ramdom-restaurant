{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActualTrgDetailSectionComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst core_1 = require(\"@angular/core\");\nconst forms_1 = require(\"@angular/forms\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/claim/service/claim.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/shared/service/formula.service\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/card\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/inputnumber\"));\nconst i13 = tslib_1.__importStar(require(\"../../../../shared/language/translate.directive\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/accordion\"));\nconst i15 = tslib_1.__importStar(require(\"../../../../shared/pipe/default-string.pipe\"));\nfunction ActualTrgDetailSectionComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵtext(4, \"\\n                Actual Training Details\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"div\")(3, \"b\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"div\")(7, \"b\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate3(\"\", ctx_r7.convertDateStr(item_r5.get(\"trgStartDt\").value, ctx_r7.dateFormat), \"\\n                                (\", ctx_r7.convertDateStr(item_r5.get(\"trgStartDt\").value, ctx_r7.timeFormat), \"\\u00A0to\\u00A0\\n                                \", ctx_r7.convertDateStr(item_r5.get(\"trgEndDt\").value, ctx_r7.timeFormat), \")\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"(\", item_r5.get(\"trainingDesc\").value, \")\");\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵtext(2, \"\\n                                \");\n    i0.ɵɵelementStart(3, \"div\")(4, \"b\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\n                                \");\n    i0.ɵɵelementStart(7, \"div\")(8, \"b\");\n    i0.ɵɵtext(9, \"to\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(10, \"\\n                                \");\n    i0.ɵɵelementStart(11, \"div\")(12, \"b\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(14, \"\\n                                \");\n    i0.ɵɵelementStart(15, \"div\")(16, \"b\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(18, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                        \");\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r9.convertDateStr(item_r5.get(\"trgStartDt\").value, ctx_r9.dateFormat), \"\\n                                    (\", ctx_r9.convertDateStr(item_r5.get(\"trgStartDt\").value, ctx_r9.timeFormat), \")\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r9.convertDateStr(item_r5.get(\"trgEndDt\").value, ctx_r9.dateFormat), \"\\n                                    (\", ctx_r9.convertDateStr(item_r5.get(\"trgEndDt\").value, ctx_r9.timeFormat), \")\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"(\", item_r5.get(\"trainingDesc\").value, \")\");\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵtext(3, \"\\n                                \");\n    i0.ɵɵelementStart(4, \"span\")(5, \"b\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sub_r16 = ctx.$implicit;\n    const i_r17 = ctx.index;\n    const ctx_r15 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Sub \", i_r17 + 1, \": \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r15.convertDateStr(sub_r16.get(\"trgStartDt\").value, ctx_r15.timeFormat), \"\\u00A0to\\u00A0\\n                                    \", ctx_r15.convertDateStr(sub_r16.get(\"trgEndDt\").value, ctx_r15.timeFormat), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", sub_r16.get(\"trainingDesc\").value, \")\");\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵtemplate(2, ActualTrgDetailSectionComponent_div_8_p_card_2_div_10_div_2_Template, 13, 4, \"div\", 21);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.getSubAttd(item_r5));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"th\", 22);\n    i0.ɵɵtext(4, \"Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                    \");\n    i0.ɵɵelementStart(6, \"th\", 22);\n    i0.ɵɵtext(7, \"Formula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵelementStart(9, \"th\", 22);\n    i0.ɵɵtext(10, \"Computation String\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                                    \");\n    i0.ɵɵelementStart(12, \"th\", 22);\n    i0.ɵɵtext(13, \"Computed Amt\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                                    \");\n    i0.ɵɵelementStart(15, \"th\", 22);\n    i0.ɵɵtext(16, \"Payroll Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                            \");\n  }\n}\nconst _c0 = function () {\n  return {\n    field: \"Computation formula\"\n  };\n};\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_10_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 28);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nconst _c1 = function () {\n  return {\n    \"max-width\": \"14em\",\n    \"width\": \"100%\"\n  };\n};\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1, \"\\n                                        \");\n    i0.ɵɵelement(2, \"input\", 26);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵtext(5, \"\\n                                            \");\n    i0.ɵɵtemplate(6, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_10_span_6_Template, 1, 2, \"span\", 27);\n    i0.ɵɵtext(7, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const innerItem_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(3, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.showErrorMsg(innerItem_r20, \"computedFormula\", \"required\"));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                        \");\n    i0.ɵɵelementStart(1, \"td\")(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                                    \");\n  }\n  if (rf & 2) {\n    const innerItem_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(innerItem_r20.value.computedFormula);\n  }\n}\nconst _c2 = function () {\n  return {\n    field: \"Computed amount\"\n  };\n};\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 28);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 31);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1, \"\\n                                        \");\n    i0.ɵɵelementStart(2, \"p-inputNumber\", 29);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                                        \");\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6, \"\\n                                            \");\n    i0.ɵɵtemplate(7, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_span_7_Template, 1, 2, \"span\", 27);\n    i0.ɵɵtext(8, \"\\n                                            \");\n    i0.ɵɵtemplate(9, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_span_9_Template, 1, 2, \"span\", 30);\n    i0.ɵɵtext(10, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const innerItem_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c1));\n    i0.ɵɵproperty(\"minFractionDigits\", 2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.showErrorMsg(innerItem_r20, \"computedAmt\", \"required\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.showErrorMsg(innerItem_r20, \"computedAmt\", \"invalidNumbers\"));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                        \");\n    i0.ɵɵelementStart(1, \"td\")(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                                    \");\n  }\n  if (rf & 2) {\n    const innerItem_r20 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 1, innerItem_r20.value.computedAmt, \"1.2-2\"));\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\", 23);\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                    \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵtext(9, \"\\n                                    \");\n    i0.ɵɵtemplate(10, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_10_Template, 9, 4, \"td\", 4);\n    i0.ɵɵtext(11, \"\\n                                    \");\n    i0.ɵɵtemplate(12, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_ng_template_12_Template, 5, 1, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(14, \"\\n                                    \");\n    i0.ɵɵtemplate(15, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_td_15_Template, 12, 6, \"td\", 4);\n    i0.ɵɵtext(16, \"\\n                                    \");\n    i0.ɵɵtemplate(17, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_ng_template_17_Template, 6, 4, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(19, \"\\n                                    \");\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const innerItem_r20 = ctx.$implicit;\n    const rowIndex_r21 = ctx.rowIndex;\n    const _r23 = i0.ɵɵreference(13);\n    const _r26 = i0.ɵɵreference(18);\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(12, _c3, ctx_r12.is13xWarning(innerItem_r20) ? \"yellow\" : null))(\"formGroupName\", rowIndex_r21);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(innerItem_r20.value.itemName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", innerItem_r20.value.formulaCode, \"\\u00A0\", innerItem_r20.value.formulaDesc, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.is13xWarning(innerItem_r20))(\"ngIfElse\", _r23);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.is13xWarning(innerItem_r20))(\"ngIfElse\", _r26);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 10, ctx_r12.convertDateStr(innerItem_r20.payrollDate, \"DD-MM-YYYY (HHmm)\")));\n  }\n}\nconst _c4 = function () {\n  return {\n    \"margin-bottom\": \"1rem\",\n    \"width\": \"70vw\"\n  };\n};\nfunction ActualTrgDetailSectionComponent_div_8_p_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-card\", 11);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementStart(2, \"div\", 12);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵtemplate(4, ActualTrgDetailSectionComponent_div_8_p_card_2_div_4_Template, 10, 4, \"div\", 13);\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵtemplate(6, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_6_Template, 20, 5, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵtemplate(10, ActualTrgDetailSectionComponent_div_8_p_card_2_div_10_Template, 4, 1, \"div\", 15);\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementStart(12, \"div\", 16);\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"p-table\", 17);\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵtemplate(16, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_16_Template, 19, 0, \"ng-template\", 1);\n    i0.ɵɵtext(17, \"\\n                            \");\n    i0.ɵɵtemplate(18, ActualTrgDetailSectionComponent_div_8_p_card_2_ng_template_18_Template, 25, 14, \"ng-template\", 18);\n    i0.ɵɵtext(19, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const _r8 = i0.ɵɵreference(7);\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(7, _c4));\n    i0.ɵɵproperty(\"formGroupName\", i_r6);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.convertDateStr(item_r5.get(\"trgStartDt\").value, ctx_r4.dateFormat) === ctx_r4.convertDateStr(item_r5.get(\"trgEndDt\").value, ctx_r4.dateFormat))(\"ngIfElse\", _r8);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", item_r5.get(\"trainingCode\").value === \"X3\" || item_r5.get(\"trainingCode\").value === \"X4\" || item_r5.get(\"trainingCode\").value === \"X5\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r4.getTable(item_r5));\n  }\n}\nfunction ActualTrgDetailSectionComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, ActualTrgDetailSectionComponent_div_8_p_card_2_Template, 22, 8, \"p-card\", 10);\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.actualTrainingForm.controls[\"actualTrainingDetailArr\"][\"controls\"]);\n  }\n}\nfunction ActualTrgDetailSectionComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelement(2, \"i\", 32);\n    i0.ɵɵtext(3, \"\\n                    No records found.\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n  }\n}\nconst _c5 = function () {\n  return {\n    \"margin-bottom\": \".5em\",\n    \"margin-left\": \".5em\"\n  };\n};\nclass ActualTrgDetailSectionComponent {\n  constructor(formBuilder, dateUtilsService, claimService, toastService, formulaService) {\n    this.formBuilder = formBuilder;\n    this.dateUtilsService = dateUtilsService;\n    this.claimService = claimService;\n    this.toastService = toastService;\n    this.formulaService = formulaService;\n    this.actualTrgDetail = {};\n    this.selectedChange = new core_1.EventEmitter();\n    this.dateFormat = \"DD-MM-YYYY\";\n    this.timeFormat = \"hhmm\";\n    this.formulaList = [];\n    this.actualTrainingForm = this.formBuilder.group({\n      actualTrainingDetailArr: this.formBuilder.array([])\n    });\n  }\n  ngOnInit() {\n    console.log('actualTrgDetail component checked');\n    console.log('actualTrgDetail from child', this.actualTrgDetail);\n    this.setActualTrainingDetails();\n    this.retrieveFormulaList();\n  }\n  ngOnChanges(changes) {\n    console.log('ngOnChanges - actual trg detail section', changes);\n    if (changes['actualTrgItem']?.currentValue) {\n      this.recomputeMatchedAttd();\n    }\n    // if (changes['disableInput'].currentValue === false) {\n    //   this.reopenClaimEnableInput();  \n    // }\n  }\n\n  recomputeMatchedAttd() {\n    const claimItemId = this.actualTrgItem.claimItemId;\n    this.actualTrainingDetailArr.controls.forEach(fc => {\n      const matchedItemArr = fc.controls['claimItemTableArr'].controls.filter(x => x.value.claimItemId === claimItemId);\n      console.log('matchedItemArr', matchedItemArr);\n      if (matchedItemArr.length > 0) {\n        matchedItemArr.forEach(x => {\n          x.get('claimItemStatus').setValue(this.actualTrgItem.itemStatus);\n          x.get('formulaCode').setValue(this.actualTrgItem.formulaCode);\n          x.get('formulaDesc').setValue(this.getCodeDesc(this.actualTrgItem.formulaCode));\n          //recompute\n          if (this.actualTrgItem.formulaCode !== '13x') {\n            this.recompute(this.actualTrgItem, x, fc);\n          }\n        });\n      }\n    });\n  }\n  recompute(actualTrgItem, x, fc) {\n    console.log(\"the asds\", fc.get('trgStartDt').value);\n    console.log(\"the actual trainign start date is \", fc.get('trgStartDt').value);\n    console.log(\"the actual trainign end date is \", fc.get('trgEndDt').value);\n    const formulaReq = {\n      dateFrom: this.convertDateStr(fc.get('trgStartDt').value, 'DD-MM-YYYY'),\n      dateTo: this.convertDateStr(fc.get('trgEndDt').value, 'DD-MM-YYYY'),\n      halfDayIndicator: \"N\",\n      approvedAmt: actualTrgItem.apprAmt,\n      formulaCode: actualTrgItem.formulaCode,\n      restDays: [],\n      payPeriodStart: 0\n    };\n    this.formulaService.computeFormula(formulaReq, null).subscribe(resp => {\n      if (resp.status === 200 && resp.body.data) {\n        x.get('computedFormula').setValue(resp.body.data.computationString);\n        x.get('computedAmt').setValue(resp.body.data.amtPayable);\n      }\n    }, error => {\n      console.log(\"error is\" + String(error?.error?.error_desc));\n      this.toastService.error(String(error?.error?.error_desc));\n    });\n  }\n  reopenClaimEnableInput() {\n    this.actualTrainingDetailArr.controls.forEach(trgDtlFg => {\n      this.getTable(trgDtlFg).forEach(fg => {\n        if (fg.get('formulaCode').value === '13x') {\n          fg.get('computedFormula').enable();\n          fg.get('computedAmt').enable();\n        }\n      });\n    });\n  }\n  getCodeDesc(formulaCode) {\n    const rslt = this.formulaList.find(x => x.key.trim() === formulaCode.trim());\n    return rslt.name;\n  }\n  retrieveFormulaList() {\n    let params = new http_1.HttpParams();\n    params = params.append(\"claimType\", \"E\");\n    this.claimService.retrieveFormulaList({\n      params\n    }).subscribe(resp => {\n      if (resp.status === 200 && resp.body.data) {\n        resp.body.data.forEach(x => {\n          this.formulaList.push({\n            name: x.formulaDesc,\n            key: x.formulaCode\n          });\n        });\n      }\n    }, error => {\n      console.log(\"error is\" + String(error?.error?.error_desc));\n      this.toastService.error(String(error?.error?.error_desc));\n    });\n  }\n  get actualTrainingDetailArr() {\n    return this.actualTrainingForm.get('actualTrainingDetailArr');\n  }\n  setActualTrainingDetails() {\n    this.actualTrgDetail.sort((a, b) => a.trgStartDt - b.trgStartDt);\n    const actualTrainingDetailArr = this.actualTrainingForm.get('actualTrainingDetailArr');\n    actualTrainingDetailArr.clear();\n    this.actualTrgDetail.forEach(x => {\n      actualTrainingDetailArr.push(this.formBuilder.group({\n        trgStartDt: x.trgStartDt,\n        trgEndDt: x.trgEndDt,\n        trainingDesc: x.trainingDesc,\n        trainingCode: x.trainingCode,\n        subAttdArr: this.addSubAttd(x),\n        claimItemTableArr: this.addTableGroup(x)\n      }));\n    });\n    this.valueChangeSub();\n  }\n  valueChangeSub() {\n    this.actualTrainingForm.valueChanges.subscribe(() => {\n      console.log(\"valuechange actual trainign details\");\n      this.empClaim.saveEmpClaimRequestDto.saveActualTrainingSectionInd = 'Y';\n    });\n  }\n  addSubAttd(data) {\n    const fa = this.formBuilder.array([]);\n    if (data.subAttendanceList) {\n      data.subAttendanceList.forEach(x => {\n        fa.push(this.formBuilder.group({\n          trgStartDt: x.trgStartDt,\n          trgEndDt: x.trgEndDt,\n          trainingDesc: x.trainingDesc\n        }));\n      });\n    }\n    return fa;\n  }\n  addTableGroup(data) {\n    const fa = this.formBuilder.array([]);\n    const itemsFa = this.formBuilder.array([]);\n    let owFg = null;\n    let awFg = null;\n    if (data.claimItemList) {\n      // Sort by OW and AW first then alphabetical for each item in Actual Training\n      data.claimItemList.sort((a, b) => a.itemName > b.itemName);\n      data.claimItemList.forEach(x => {\n        if (x.itemName === 'OW') {\n          owFg = this.formBuilder.group({\n            attendanceItemId: [x.attendanceItemId],\n            claimItemId: [x.claimItemId],\n            claimItemStatus: [x.claimItemStatus],\n            itemName: [x.itemName],\n            formulaCode: [x.formulaCode],\n            formulaDesc: [x.formulaDesc],\n            computedFormula: [x.computedFormula, [forms_1.Validators.required]],\n            computedAmt: [x.computedAmt, [forms_1.Validators.required]],\n            payrollDate: [x.payrollDate]\n          });\n        } else if (x.itemName === 'AW') {\n          awFg = this.formBuilder.group({\n            attendanceItemId: [x.attendanceItemId],\n            claimItemId: [x.claimItemId],\n            claimItemStatus: [x.claimItemStatus],\n            itemName: [x.itemName],\n            formulaCode: [x.formulaCode],\n            formulaDesc: [x.formulaDesc],\n            computedFormula: [x.computedFormula, [forms_1.Validators.required]],\n            computedAmt: [x.computedAmt, [forms_1.Validators.required]],\n            payrollDate: [x.payrollDate]\n          });\n        } else {\n          fa.push(this.formBuilder.group({\n            attendanceItemId: [x.attendanceItemId],\n            claimItemId: [x.claimItemId],\n            claimItemStatus: [x.claimItemStatus],\n            itemName: [x.itemName],\n            formulaCode: [x.formulaCode],\n            formulaDesc: [x.formulaDesc],\n            computedFormula: [x.computedFormula, [forms_1.Validators.required]],\n            computedAmt: [x.computedAmt, [forms_1.Validators.required]],\n            payrollDate: [x.payrollDate]\n          }));\n        }\n      });\n      if (owFg !== null) {\n        itemsFa.push(owFg);\n      }\n      if (awFg !== null) {\n        itemsFa.push(awFg);\n      }\n      if (fa.length > 0) {\n        fa.controls.forEach(control => {\n          itemsFa.push(control);\n        });\n      }\n      // if (this.disableInput === true) {\n      //   fa.controls.forEach((fg: FormGroup) => {\n      //     if (fg.get('formulaCode').value === '13x') {\n      //       fg.get('computedFormula').disable();\n      //       fg.get('computedAmt').disable();\n      //     }\n      //   });\n      // }\n    }\n\n    return itemsFa;\n  }\n  getSubAttd(fa) {\n    return fa.controls['subAttdArr'].controls;\n  }\n  getTable(fa) {\n    return fa.controls['claimItemTableArr'].controls;\n  }\n  is13xWarning(innerItem) {\n    return innerItem.value.formulaCode === '13x' && (innerItem.value.claimItemStatus === 'PRE' || innerItem.value.claimItemStatus === 'RRA' || innerItem.value.claimItemStatus === 'PVE' || innerItem.value.claimItemStatus === 'PAC' || innerItem.value.claimItemStatus === 'RAP' || innerItem.value.claimItemStatus === 'RCE');\n  }\n  convertDateStr(value, format) {\n    return this.dateUtilsService.convertUnixToDateString(value, format);\n  }\n  saveActTrgDetailsSectionChanges() {\n    if (this.actualTrainingDetailArr.valid) {\n      this.actualTrainingDetailArr.controls.forEach(fc => {\n        const actTrgDto = this.mapActTrgDetailToDto(fc);\n        if (this.empClaim.actualTrainingDetailsList === undefined || this.empClaim.actualTrainingDetailsList === null) {\n          this.empClaim.actualTrainingDetailsList = [actTrgDto];\n        } else {\n          this.empClaim.actualTrainingDetailsList.push(actTrgDto);\n        }\n      });\n    }\n  }\n  mapActTrgDetailToDto(actTrgDetail) {\n    const claimItemList = [];\n    actTrgDetail.get('claimItemTableArr').controls.forEach(x => {\n      claimItemList.push(this.mapAttdItemToDto(x));\n    });\n    const actTrgDto = {\n      trgStartDt: null,\n      trgEndDt: null,\n      trainingCode: null,\n      trainingDesc: null,\n      subAttendanceList: [],\n      claimItemList\n    };\n    console.log(\"actTrgDto\", actTrgDto);\n    return actTrgDto;\n  }\n  mapAttdItemToDto(attdItem) {\n    const attdItemDto = {\n      attendanceItemId: attdItem.get('attendanceItemId').value,\n      claimItemId: attdItem.get('claimItemId').value,\n      claimItemStatus: attdItem.get('claimItemStatus').value,\n      itemName: attdItem.get('itemName').value,\n      formulaCode: attdItem.get('formulaCode').value,\n      formulaDesc: attdItem.get('formulaDesc').value,\n      computedFormula: attdItem.get('computedFormula').value,\n      computedAmt: attdItem.get('computedAmt').value,\n      payrollDate: attdItem.get('payrollDate').value\n    };\n    return attdItemDto;\n  }\n  accordionClick() {\n    this.selectedChange.emit(this.selected);\n  }\n  showErrorMsg(fg, controlName, errorName) {\n    return fg.get(controlName)?.hasError(errorName) && fg.get(controlName)?.touched;\n  }\n  consoleLog() {\n    console.log('actualTrainingForm', this.actualTrainingForm);\n    console.log('ArrayFormControls', this.actualTrainingForm.controls['actualTrainingDetailArr']['controls']);\n    console.log('actualTrgItem', this.actualTrgItem);\n  }\n}\nexports.ActualTrgDetailSectionComponent = ActualTrgDetailSectionComponent;\nActualTrgDetailSectionComponent.ɵfac = function ActualTrgDetailSectionComponent_Factory(t) {\n  return new (t || ActualTrgDetailSectionComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DateUtilsService), i0.ɵɵdirectiveInject(i3.ClaimService), i0.ɵɵdirectiveInject(i4.CustomToastService), i0.ɵɵdirectiveInject(i5.FormulaService));\n};\nActualTrgDetailSectionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ActualTrgDetailSectionComponent,\n  selectors: [[\"n2-actual-training-detail-section\"]],\n  inputs: {\n    actualTrgDetail: \"actualTrgDetail\",\n    actualTrgItem: \"actualTrgItem\",\n    empClaim: \"empClaim\",\n    selected: \"selected\",\n    disableInput: \"disableInput\"\n  },\n  outputs: {\n    selectedChange: \"selectedChange\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 22,\n  vars: 7,\n  consts: [[3, \"selected\", \"selectedChange\", \"click\"], [\"pTemplate\", \"header\"], [3, \"formGroup\"], [\"formArrayName\", \"actualTrainingDetailArr\"], [4, \"ngIf\", \"ngIfElse\"], [\"emptymessage\", \"\"], [1, \"grid\", \"col\", \"flex\", \"justify-content-end\"], [\"pButton\", \"\", \"label\", \"ATD LOG\", 3, \"click\"], [1, \"grid\", \"col-6\", \"align-items-center\", 2, \"margin\", \"0 0\", \"padding\", \"0 0\"], [1, \"col-12\"], [3, \"formGroupName\", \"style\", 4, \"ngFor\", \"ngForOf\"], [3, \"formGroupName\"], [1, \"grid\"], [\"class\", \"col flex align-items-center gap-4\", 4, \"ngIf\", \"ngIfElse\"], [\"diffDate\", \"\"], [\"formArrayName\", \"subAttdArr\", 4, \"ngIf\"], [\"formArrayName\", \"claimItemTableArr\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", 3, \"value\"], [\"pTemplate\", \"body\"], [1, \"col\", \"flex\", \"align-items-center\", \"gap-4\"], [\"formArrayName\", \"subAttdArr\"], [\"class\", \"grid\", 4, \"ngFor\", \"ngForOf\"], [\"scope\", \"col\"], [3, \"ngStyle\", \"formGroupName\"], [\"labelComputedFormula\", \"\"], [\"labelComputedAmt\", \"\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"computedFormula\", \"id\", \"computedFormula\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.claim.validation.CLM-V001\", 3, \"translateValues\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.claim.validation.CLM-V001\", 1, \"p-error\", 3, \"translateValues\"], [\"type\", \"text\", \"formControlName\", \"computedAmt\", \"id\", \"computedAmt\", 3, \"minFractionDigits\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.claim.validation.CLM-V002\", 3, \"translateValues\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.claim.validation.CLM-V002\", 1, \"p-error\", 3, \"translateValues\"], [1, \"pi\", \"pi-info-circle\"]],\n  template: function ActualTrgDetailSectionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-accordionTab\", 0);\n      i0.ɵɵlistener(\"selectedChange\", function ActualTrgDetailSectionComponent_Template_p_accordionTab_selectedChange_0_listener($event) {\n        return ctx.selected = $event;\n      })(\"click\", function ActualTrgDetailSectionComponent_Template_p_accordionTab_click_0_listener() {\n        return ctx.accordionClick();\n      });\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵtemplate(2, ActualTrgDetailSectionComponent_ng_template_2_Template, 7, 0, \"ng-template\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵtext(5, \"\\n        \");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵtext(7, \"\\n            \");\n      i0.ɵɵtemplate(8, ActualTrgDetailSectionComponent_div_8_Template, 4, 1, \"div\", 4);\n      i0.ɵɵtext(9, \"\\n            \");\n      i0.ɵɵtemplate(10, ActualTrgDetailSectionComponent_ng_template_10_Template, 5, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtext(12, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n    \");\n      i0.ɵɵelementStart(15, \"div\", 6);\n      i0.ɵɵtext(16, \"\\n        \");\n      i0.ɵɵelementStart(17, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ActualTrgDetailSectionComponent_Template_button_click_17_listener() {\n        return ctx.consoleLog();\n      })(\"click\", function ActualTrgDetailSectionComponent_Template_button_click_17_listener($event) {\n        return $event.stopPropagation();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \" \");\n      i0.ɵɵtext(19, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\n\\n\");\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(11);\n      i0.ɵɵproperty(\"selected\", ctx.selected);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.actualTrainingForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.actualTrainingDetailArr.controls.length !== 0)(\"ngIfElse\", _r2);\n      i0.ɵɵadvance(9);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(6, _c5));\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i6.NgStyle, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i7.Card, i8.PrimeTemplate, i9.ButtonDirective, i10.Table, i11.InputText, i12.InputNumber, i13.TranslateDirective, i14.AccordionTab, i6.DecimalPipe, i15.DefaultStringPipe],\n  styles: [\".custom-accordian .p-accordion .p-accordion-header .p-accordion-header-link {\\n  padding: 0rem;\\n  border: 1px solid #dee2e6;\\n  color: #6c757d;\\n  background: #f8f9fa;\\n  font-weight: 600; \\n  border-radius: 6px;\\n  transition: box-shadow 0.2s;\\n}\\n\\n[_nghost-%COMP%]     .warning-date {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjdHVhbC10cmFpbmluZy1kZXRhaWwtc2VjdGlvbi5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxwcm9qZWN0cyUyMDJcXG5zcGF5aWlhcHBcXHNyY1xcbWFpblxcd2ViYXBwXFxhcHBcXGNsYWltXFxlYy1jbGFpbVxcZWMtY2xhaW0tdmVyaWZpY2F0aW9uXFxhY3R1YWwtdHJhaW5pbmctZGV0YWlsLXNlY3Rpb25cXGFjdHVhbC10cmFpbmluZy1kZXRhaWwtc2VjdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGFBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBLEVBQUEsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLDJCQUFBO0FDQVI7O0FES0E7RUFDRSxVQUFBO0FDRkYiLCJmaWxlIjoiYWN0dWFsLXRyYWluaW5nLWRldGFpbC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOjpuZy1kZWVwIC5jdXN0b20tYWNjb3JkaWFuIC5wLWFjY29yZGlvbiAucC1hY2NvcmRpb24taGVhZGVyIHtcclxuICAgIC5wLWFjY29yZGlvbi1oZWFkZXItbGluayB7XHJcbiAgICAgICAgcGFkZGluZzogMHJlbTtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gICAgICAgIGNvbG9yOiAjNmM3NTdkO1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsgLyogQ1VTVE9NICBPcmlnaW5hbCA9IDcwMCAqL1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7XHJcbiAgICBcclxuICB9XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAgLndhcm5pbmctZGF0ZXtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG5cclxuIiwiOjpuZy1kZWVwIC5jdXN0b20tYWNjb3JkaWFuIC5wLWFjY29yZGlvbiAucC1hY2NvcmRpb24taGVhZGVyIC5wLWFjY29yZGlvbi1oZWFkZXItbGluayB7XG4gIHBhZGRpbmc6IDByZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gIGNvbG9yOiAjNmM3NTdkO1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBmb250LXdlaWdodDogNjAwOyAvKiBDVVNUT00gIE9yaWdpbmFsID0gNzAwICovXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLndhcm5pbmctZGF0ZSB7XG4gIGNvbG9yOiByZWQ7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vZWMtY2xhaW0vZWMtY2xhaW0tdmVyaWZpY2F0aW9uL2FjdHVhbC10cmFpbmluZy1kZXRhaWwtc2VjdGlvbi9hY3R1YWwtdHJhaW5pbmctZGV0YWlsLXNlY3Rpb24uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi9wcm9qZWN0cyUyMDIvbnNwYXlpaWFwcC9zcmMvbWFpbi93ZWJhcHAvYXBwL2NsYWltL2VjLWNsYWltL2VjLWNsYWltLXZlcmlmaWNhdGlvbi9hY3R1YWwtdHJhaW5pbmctZGV0YWlsLXNlY3Rpb24vYWN0dWFsLXRyYWluaW5nLWRldGFpbC1zZWN0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksYUFBQTtFQUNBLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUEsRUFBQSwyQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMkJBQUE7QUNBUjs7QURLQTtFQUNFLFVBQUE7QUNGRjtBRENBLG91REFBb3VEIiwic291cmNlc0NvbnRlbnQiOlsiOjpuZy1kZWVwIC5jdXN0b20tYWNjb3JkaWFuIC5wLWFjY29yZGlvbiAucC1hY2NvcmRpb24taGVhZGVyIHtcclxuICAgIC5wLWFjY29yZGlvbi1oZWFkZXItbGluayB7XHJcbiAgICAgICAgcGFkZGluZzogMHJlbTtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gICAgICAgIGNvbG9yOiAjNmM3NTdkO1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsgLyogQ1VTVE9NICBPcmlnaW5hbCA9IDcwMCAqL1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7XHJcbiAgICBcclxuICB9XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAgLndhcm5pbmctZGF0ZXtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG5cclxuIiwiOjpuZy1kZWVwIC5jdXN0b20tYWNjb3JkaWFuIC5wLWFjY29yZGlvbiAucC1hY2NvcmRpb24taGVhZGVyIC5wLWFjY29yZGlvbi1oZWFkZXItbGluayB7XG4gIHBhZGRpbmc6IDByZW07XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gIGNvbG9yOiAjNmM3NTdkO1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBmb250LXdlaWdodDogNjAwOyAvKiBDVVNUT00gIE9yaWdpbmFsID0gNzAwICovXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLndhcm5pbmctZGF0ZSB7XG4gIGNvbG9yOiByZWQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ActualTrgDetailSectionComponent","constructor","formBuilder","dateUtilsService","claimService","toastService","formulaService","core_1","group","actualTrainingDetailArr","array","ngOnInit","console","log","actualTrgDetail","setActualTrainingDetails","retrieveFormulaList","ngOnChanges","changes","currentValue","recomputeMatchedAttd","claimItemId","actualTrgItem","controls","forEach","fc","matchedItemArr","filter","x","value","length","get","setValue","itemStatus","formulaCode","getCodeDesc","recompute","formulaReq","dateFrom","convertDateStr","dateTo","halfDayIndicator","approvedAmt","apprAmt","restDays","payPeriodStart","computeFormula","subscribe","resp","status","body","data","computationString","amtPayable","error","String","error_desc","reopenClaimEnableInput","trgDtlFg","getTable","fg","enable","rslt","formulaList","find","key","trim","name","params","http_1","append","push","formulaDesc","actualTrainingForm","sort","a","b","trgStartDt","clear","trgEndDt","trainingDesc","trainingCode","subAttdArr","addSubAttd","claimItemTableArr","addTableGroup","valueChangeSub","valueChanges","empClaim","saveEmpClaimRequestDto","saveActualTrainingSectionInd","fa","subAttendanceList","itemsFa","owFg","awFg","claimItemList","itemName","attendanceItemId","claimItemStatus","computedFormula","forms_1","required","computedAmt","payrollDate","control","getSubAttd","is13xWarning","innerItem","format","convertUnixToDateString","saveActTrgDetailsSectionChanges","valid","actTrgDto","mapActTrgDetailToDto","actualTrainingDetailsList","undefined","actTrgDetail","mapAttdItemToDto","attdItem","attdItemDto","accordionClick","selectedChange","emit","selected","showErrorMsg","controlName","errorName","hasError","touched","consoleLog","exports","selectors","inputs","disableInput","outputs","features","decls","vars","consts","template","ctx","$event"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\ec-claim-verification\\actual-training-detail-section\\actual-training-detail-section.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\ec-claim-verification\\actual-training-detail-section\\actual-training-detail-section.component.html"],"sourcesContent":["import { HttpParams } from '@angular/common/http';\r\nimport { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ClaimService } from 'app/claim/service/claim.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { IComputeFormula } from 'app/shared/model/compute-formula.model';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { FormulaService } from 'app/shared/service/formula.service';\r\nimport { ActualTrainingDetail, AttendanceItem } from 'app/claim/model/actual-training-detail.model';\r\nimport { EmpClaimRequest } from '../../model/EmpClaimRequest.model';\r\n\r\n\r\n@Component({\r\n    selector: 'n2-actual-training-detail-section',\r\n    templateUrl: './actual-training-detail-section.component.html',\r\n    styleUrls: ['./actual-training-detail-section.component.scss']\r\n  })\r\nexport class ActualTrgDetailSectionComponent implements OnInit {\r\n    @Input() actualTrgDetail:any = {};\r\n    @Input() actualTrgItem:any;\r\n    @Input() empClaim: EmpClaimRequest;\r\n    @Input() selected:boolean;\r\n    @Input() disableInput:boolean;\r\n    @Output() selectedChange = new EventEmitter<boolean>();\r\n\r\n    readonly dateFormat = \"DD-MM-YYYY\";\r\n    readonly timeFormat = \"hhmm\";\r\n    formulaList:any[] = [];\r\n\r\n    actualTrainingForm = this.formBuilder.group({\r\n        actualTrainingDetailArr: this.formBuilder.array([]),\r\n    })\r\n    \r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        public dateUtilsService: DateUtilsService,\r\n        private claimService: ClaimService,\r\n        private toastService: CustomToastService,\r\n        private formulaService: FormulaService,\r\n\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n      console.log('actualTrgDetail component checked');\r\n      console.log('actualTrgDetail from child', this.actualTrgDetail);\r\n      this.setActualTrainingDetails();\r\n      this.retrieveFormulaList();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void{\r\n      console.log('ngOnChanges - actual trg detail section', changes);\r\n      if(changes['actualTrgItem']?.currentValue){\r\n        this.recomputeMatchedAttd();\r\n      }\r\n\r\n      // if (changes['disableInput'].currentValue === false) {\r\n      //   this.reopenClaimEnableInput();  \r\n      // }\r\n    }\r\n\r\n    recomputeMatchedAttd(): void{\r\n      const claimItemId = this.actualTrgItem.claimItemId;\r\n      this.actualTrainingDetailArr.controls.forEach((fc:any) => {\r\n        const matchedItemArr = fc.controls['claimItemTableArr'].controls.filter((x:any)=>x.value.claimItemId === claimItemId);\r\n        console.log('matchedItemArr', matchedItemArr);\r\n        if(matchedItemArr.length>0){\r\n          matchedItemArr.forEach((x:any)=>{\r\n            x.get('claimItemStatus').setValue(this.actualTrgItem.itemStatus);\r\n            x.get('formulaCode').setValue(this.actualTrgItem.formulaCode);\r\n            x.get('formulaDesc').setValue(this.getCodeDesc(this.actualTrgItem.formulaCode));\r\n            //recompute\r\n            if (this.actualTrgItem.formulaCode !== '13x') {\r\n              this.recompute(this.actualTrgItem, x, fc);\r\n            } \r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    recompute(actualTrgItem: any, x: any, fc: any): void{\r\n      console.log(\"the asds\", fc.get('trgStartDt').value)\r\n      console.log(\"the actual trainign start date is \", fc.get('trgStartDt').value);\r\n      console.log(\"the actual trainign end date is \", fc.get('trgEndDt').value);\r\n  \r\n      const formulaReq:IComputeFormula = {\r\n        dateFrom:  this.convertDateStr(fc.get('trgStartDt').value, 'DD-MM-YYYY'),\r\n        dateTo: this.convertDateStr(fc.get('trgEndDt').value, 'DD-MM-YYYY'),\r\n        halfDayIndicator: \"N\",\r\n        approvedAmt: actualTrgItem.apprAmt,\r\n        formulaCode: actualTrgItem.formulaCode,\r\n        restDays: [],\r\n        payPeriodStart: 0\r\n      }\r\n      this.formulaService.computeFormula(formulaReq, null).subscribe((resp:any) => {\r\n        if(resp.status === 200 && resp.body.data){\r\n          x.get('computedFormula').setValue(resp.body.data.computationString);\r\n          x.get('computedAmt').setValue(resp.body.data.amtPayable);\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.log(\"error is\" + String(error?.error?.error_desc));\r\n        this.toastService.error(String(error?.error?.error_desc));\r\n      });\r\n    }\r\n\r\n    reopenClaimEnableInput() {\r\n      this.actualTrainingDetailArr.controls.forEach((trgDtlFg: FormGroup) => {\r\n        this.getTable(trgDtlFg).forEach((fg: FormGroup) => {\r\n          if (fg.get('formulaCode').value === '13x') {\r\n            fg.get('computedFormula').enable();\r\n            fg.get('computedAmt').enable();\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    getCodeDesc(formulaCode: string): string{\r\n      const rslt = this.formulaList.find(x=>\r\n        x.key.trim() === formulaCode.trim()\r\n      );\r\n      return rslt.name as string;\r\n    }\r\n\r\n    retrieveFormulaList():void{\r\n      let params = new HttpParams();\r\n      params = params.append(\"claimType\", \"E\");\r\n      this.claimService.retrieveFormulaList({params}).subscribe((resp:any) => {\r\n        if(resp.status === 200 && resp.body.data){\r\n          resp.body.data.forEach((x:any)=>{\r\n            this.formulaList.push({\r\n              name:x.formulaDesc,\r\n              key: x.formulaCode\r\n            })\r\n          })\r\n      }},\r\n      (error: any) => {\r\n        console.log(\"error is\" + String(error?.error?.error_desc));\r\n        this.toastService.error(String(error?.error?.error_desc));\r\n      });\r\n    }\r\n\r\n    get actualTrainingDetailArr(): FormArray{\r\n        return this.actualTrainingForm.get('actualTrainingDetailArr') as FormArray;\r\n    }\r\n\r\n    setActualTrainingDetails(): void{\r\n      this.actualTrgDetail.sort((a:any, b:any)=> a.trgStartDt - b.trgStartDt)\r\n      const actualTrainingDetailArr = this.actualTrainingForm.get('actualTrainingDetailArr') as FormArray;\r\n      actualTrainingDetailArr.clear();\r\n      this.actualTrgDetail.forEach((x:any)=>{\r\n        actualTrainingDetailArr.push(this.formBuilder.group({\r\n          trgStartDt: x.trgStartDt,\r\n          trgEndDt: x.trgEndDt,\r\n          trainingDesc: x.trainingDesc,\r\n          trainingCode: x.trainingCode,\r\n          subAttdArr: this.addSubAttd(x),\r\n          claimItemTableArr:  this.addTableGroup(x)\r\n        }))\r\n      });\r\n      this.valueChangeSub();\r\n    }\r\n\r\n    valueChangeSub(): void{\r\n      this.actualTrainingForm.valueChanges.subscribe(() => {\r\n        console.log(\"valuechange actual trainign details\");\r\n        this.empClaim.saveEmpClaimRequestDto.saveActualTrainingSectionInd = 'Y';\r\n      });\r\n    }\r\n\r\n    addSubAttd(data: any): FormArray{\r\n        const fa:FormArray = this.formBuilder.array([]);\r\n        if(data.subAttendanceList){\r\n          data.subAttendanceList.forEach((x:any)=>{\r\n            fa.push(this.formBuilder.group({\r\n              trgStartDt:  x.trgStartDt,\r\n              trgEndDt: x.trgEndDt,\r\n              trainingDesc:  x.trainingDesc,\r\n            }))\r\n          })\r\n        }\r\n        return fa;\r\n    }\r\n\r\n    addTableGroup(data: any): FormArray{\r\n        const fa:FormArray = this.formBuilder.array([]);\r\n        const itemsFa:FormArray = this.formBuilder.array([]);\r\n        let owFg:FormGroup = null;\r\n        let awFg:FormGroup = null;\r\n        if(data.claimItemList){\r\n          // Sort by OW and AW first then alphabetical for each item in Actual Training\r\n          data.claimItemList.sort((a: any, b: any) => a.itemName > b.itemName);\r\n          data.claimItemList.forEach((x:any)=>{\r\n            if (x.itemName === 'OW') {\r\n              owFg = this.formBuilder.group({\r\n                attendanceItemId: [x.attendanceItemId],\r\n                claimItemId: [x.claimItemId],\r\n                claimItemStatus: [x.claimItemStatus],\r\n                itemName:  [x.itemName],\r\n                formulaCode:  [x.formulaCode],\r\n                formulaDesc: [x.formulaDesc],\r\n                computedFormula:  [x.computedFormula, [Validators.required]],\r\n                computedAmt:  [x.computedAmt, [Validators.required]],\r\n                payrollDate:  [x.payrollDate]\r\n              })\r\n            } else if (x.itemName === 'AW') {\r\n              awFg = this.formBuilder.group({\r\n                attendanceItemId: [x.attendanceItemId],\r\n                claimItemId: [x.claimItemId],\r\n                claimItemStatus: [x.claimItemStatus],\r\n                itemName:  [x.itemName],\r\n                formulaCode:  [x.formulaCode],\r\n                formulaDesc: [x.formulaDesc],\r\n                computedFormula:  [x.computedFormula, [Validators.required]],\r\n                computedAmt:  [x.computedAmt, [Validators.required]],\r\n                payrollDate:  [x.payrollDate]\r\n              })\r\n            } else {\r\n              fa.push(this.formBuilder.group({\r\n                attendanceItemId: [x.attendanceItemId],\r\n                claimItemId: [x.claimItemId],\r\n                claimItemStatus: [x.claimItemStatus],\r\n                itemName:  [x.itemName],\r\n                formulaCode:  [x.formulaCode],\r\n                formulaDesc: [x.formulaDesc],\r\n                computedFormula:  [x.computedFormula, [Validators.required]],\r\n                computedAmt:  [x.computedAmt, [Validators.required]],\r\n                payrollDate:  [x.payrollDate]\r\n              }));\r\n            }\r\n          });\r\n          if (owFg !== null) {\r\n            itemsFa.push(owFg);\r\n          }\r\n          if (awFg !== null) {\r\n            itemsFa.push(awFg);\r\n          }\r\n          if (fa.length > 0) {\r\n            fa.controls.forEach(control => {\r\n              itemsFa.push(control);\r\n            });\r\n          }\r\n          // if (this.disableInput === true) {\r\n          //   fa.controls.forEach((fg: FormGroup) => {\r\n          //     if (fg.get('formulaCode').value === '13x') {\r\n          //       fg.get('computedFormula').disable();\r\n          //       fg.get('computedAmt').disable();\r\n          //     }\r\n          //   });\r\n          // }\r\n        }\r\n        return itemsFa;\r\n    }\r\n\r\n    getSubAttd(fa:any): any{\r\n      return fa.controls['subAttdArr'].controls;\r\n    }\r\n\r\n    getTable(fa:any): any{\r\n        return fa.controls['claimItemTableArr'].controls;\r\n    }\r\n\r\n    is13xWarning(innerItem:any): boolean {\r\n      return innerItem.value.formulaCode === '13x' && (innerItem.value.claimItemStatus ==='PRE' ||\r\n      innerItem.value.claimItemStatus ==='RRA' || innerItem.value.claimItemStatus ==='PVE' ||\r\n      innerItem.value.claimItemStatus ==='PAC' || innerItem.value.claimItemStatus ==='RAP'\r\n      || innerItem.value.claimItemStatus ==='RCE');\r\n    }\r\n\r\n    convertDateStr(value: any, format:string):string {\r\n        return this.dateUtilsService.convertUnixToDateString(value, format);\r\n    }\r\n\r\n    saveActTrgDetailsSectionChanges(): void{\r\n      if (this.actualTrainingDetailArr.valid) {\r\n        this.actualTrainingDetailArr.controls.forEach((fc:any) => {\r\n          const actTrgDto: ActualTrainingDetail = this.mapActTrgDetailToDto(fc);\r\n          if (this.empClaim.actualTrainingDetailsList === undefined || this.empClaim.actualTrainingDetailsList === null) {\r\n            this.empClaim.actualTrainingDetailsList = [actTrgDto];\r\n          } else {\r\n            this.empClaim.actualTrainingDetailsList.push(actTrgDto);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  \r\n    mapActTrgDetailToDto(actTrgDetail: any): ActualTrainingDetail {\r\n      const claimItemList: AttendanceItem[] = [];\r\n      (actTrgDetail.get('claimItemTableArr') as FormArray).controls.forEach((x: any)=>{\r\n        claimItemList.push(this.mapAttdItemToDto(x))\r\n      })\r\n      const actTrgDto: ActualTrainingDetail = {\r\n        trgStartDt: null,\r\n        trgEndDt: null,\r\n        trainingCode: null,\r\n        trainingDesc: null,\r\n        subAttendanceList: [],\r\n        claimItemList\r\n      }\r\n      console.log(\"actTrgDto\", actTrgDto)\r\n      return actTrgDto;\r\n    }\r\n\r\n    mapAttdItemToDto(attdItem:any): AttendanceItem {\r\n      const attdItemDto: AttendanceItem = {\r\n        attendanceItemId: attdItem.get('attendanceItemId').value,\r\n        claimItemId: attdItem.get('claimItemId').value,\r\n        claimItemStatus: attdItem.get('claimItemStatus').value,\r\n        itemName: attdItem.get('itemName').value,\r\n        formulaCode: attdItem.get('formulaCode').value,\r\n        formulaDesc: attdItem.get('formulaDesc').value,\r\n        computedFormula: attdItem.get('computedFormula').value,\r\n        computedAmt: attdItem.get('computedAmt').value,\r\n        payrollDate: attdItem.get('payrollDate').value,\r\n      }\r\n      return attdItemDto;\r\n    }\r\n\r\n    accordionClick(): void{\r\n      this.selectedChange.emit(this.selected);\r\n    }\r\n\r\n    showErrorMsg(fg: FormGroup, controlName: string, errorName: string): boolean {\r\n      return fg.get(controlName)?.hasError(errorName) && fg.get(controlName)?.touched;\r\n    }\r\n\r\n    consoleLog() {\r\n      console.log('actualTrainingForm', this.actualTrainingForm);\r\n      console.log('ArrayFormControls', this.actualTrainingForm.controls['actualTrainingDetailArr']['controls']);\r\n      console.log('actualTrgItem', this.actualTrgItem);\r\n    }\r\n}","<p-accordionTab [(selected)]=\"selected\" (click)=\"accordionClick()\">\r\n    <ng-template pTemplate=\"header\" >\r\n        <div class = \"grid col-6 align-items-center\" style = \"margin: 0 0; padding:0 0\">\r\n            <div class=\"col-12\">\r\n                Actual Training Details\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <form [formGroup] = \"actualTrainingForm\">\r\n        <div formArrayName=\"actualTrainingDetailArr\">\r\n            <div *ngIf=\"actualTrainingDetailArr.controls.length!==0; else emptymessage\">\r\n                <p-card *ngFor=\"let item of actualTrainingForm.controls['actualTrainingDetailArr']['controls']; let i = index\" [formGroupName]=\"i\"   [style]=\"{'margin-bottom': '1rem', 'width':'70vw'}\" >\r\n                    <div class = \"grid\" >\r\n                        <div class = \"col flex align-items-center gap-4\" *ngIf = \"this.convertDateStr(item.get('trgStartDt').value, this.dateFormat)\r\n                        ===this.convertDateStr(item.get('trgEndDt').value, this.dateFormat); else diffDate\">\r\n                            <div><b>{{ this.convertDateStr(item.get('trgStartDt').value, this.dateFormat) }}\r\n                                ({{ this.convertDateStr(item.get('trgStartDt').value, this.timeFormat)}}&nbsp;to&nbsp;\r\n                                {{ this.convertDateStr(item.get('trgEndDt').value, this.timeFormat)}})</b></div>\r\n                            <div><b>({{item.get('trainingDesc').value}})</b></div>\r\n                        </div>\r\n                        <ng-template #diffDate>\r\n                            <div class = \"col flex align-items-center gap-4\" >\r\n                                <div><b>{{ this.convertDateStr(item.get('trgStartDt').value, this.dateFormat) }}\r\n                                    ({{  this.convertDateStr(item.get('trgStartDt').value, this.timeFormat)}})</b></div>\r\n                                <div><b>to</b></div>\r\n                                <div><b>{{  this.convertDateStr(item.get('trgEndDt').value, this.dateFormat)}}\r\n                                    ({{ this.convertDateStr(item.get('trgEndDt').value, this.timeFormat)}})</b></div>\r\n                                <div><b>({{item.get('trainingDesc').value}})</b></div>\r\n                            </div>\r\n                        </ng-template>\r\n                    </div>\r\n                    <div formArrayName=\"subAttdArr\" *ngIf = \"item.get('trainingCode').value === 'X3' || item.get('trainingCode').value === 'X4' || item.get('trainingCode').value === 'X5'\">\r\n                        <div *ngFor=\"let sub of getSubAttd(item); let i = index\" class = \"grid\">\r\n                            <div class = \"col flex align-items-center gap-4\">\r\n                                <span><b>Sub {{ i + 1 }}: </b>{{ this.convertDateStr(sub.get('trgStartDt').value, this.timeFormat) }}&nbsp;to&nbsp;\r\n                                    {{ this.convertDateStr(sub.get('trgEndDt').value, this.timeFormat) }}</span>\r\n                                <div>({{sub.get('trainingDesc').value}})</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div formArrayName=\"claimItemTableArr\">\r\n                        <p-table [value]=\"getTable(item)\" styleClass=\"p-datatable-gridlines p-datatable-striped\">\r\n                            <ng-template pTemplate=\"header\" let-columns>\r\n                                <tr>\r\n                                    <th scope=\"col\">Item</th>\r\n                                    <th scope=\"col\">Formula</th>\r\n                                    <th scope=\"col\">Computation String</th>\r\n                                    <th scope=\"col\">Computed Amt</th>\r\n                                    <th scope=\"col\">Payroll Date</th>\r\n                                </tr>\r\n                            </ng-template>\r\n                            <ng-template pTemplate=\"body\" let-innerItem let-rowIndex = \"rowIndex\">\r\n                                <tr [ngStyle]= \"{'background-color': is13xWarning(innerItem)? 'yellow' :null}\" [formGroupName] = rowIndex>\r\n                                    <td>{{ innerItem.value.itemName }}</td>\r\n                                    <td>{{ innerItem.value.formulaCode }}&nbsp;{{ innerItem.value.formulaDesc }}</td>\r\n                                    <!-- <td>{{ innerItem.value.formulaCode }}&nbsp;{{ innerItem.value.formulaDesc }}</td> -->\r\n                                    <td *ngIf = \"is13xWarning(innerItem); else labelComputedFormula\">\r\n                                        <input  type=\"text\"  pInputText\r\n                                        formControlName=\"computedFormula\" id=\"computedFormula\" [style]=\"{'max-width': '14em', 'width':'100%'}\"/>\r\n                                        <div>\r\n                                            <span class=\"p-error\" *ngIf=\"showErrorMsg(innerItem, 'computedFormula', 'required')\" icTranslate=\"nspay2App.claim.validation.CLM-V001\"\r\n                                            [translateValues]=\"{ field: 'Computation formula' }\"></span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <ng-template #labelComputedFormula>\r\n                                        <td><span>{{ innerItem.value.computedFormula }}</span></td>\r\n                                    </ng-template>\r\n                                    <td *ngIf = \"is13xWarning(innerItem); else labelComputedAmt\">\r\n                                        <p-inputNumber type=\"text\"\r\n                                        formControlName=\"computedAmt\" id=\"computedAmt\" [minFractionDigits]=\"2\" [style]=\"{'max-width': '14em', 'width':'100%'}\">\r\n                                        </p-inputNumber>\r\n                                        <div>\r\n                                            <span class=\"p-error\" *ngIf=\"showErrorMsg(innerItem, 'computedAmt', 'required')\" icTranslate=\"nspay2App.claim.validation.CLM-V001\"\r\n                                            [translateValues]=\"{ field: 'Computed amount' }\"></span>\r\n                                            <span class=\"p-error\" *ngIf=\"showErrorMsg(innerItem, 'computedAmt', 'invalidNumbers')\" icTranslate=\"nspay2App.claim.validation.CLM-V002\"\r\n                                            [translateValues]=\"{ field: 'Computed amount' }\"></span>\r\n                                        </div>\r\n                                    </td>\r\n                                    <ng-template #labelComputedAmt>\r\n                                        <td><span>{{ innerItem.value.computedAmt  | number : '1.2-2'}}</span></td>\r\n                                    </ng-template>\r\n                                    <td>{{ this.convertDateStr(innerItem.payrollDate, 'DD-MM-YYYY (HHmm)') | defaultString}}</td>\r\n                                </tr>\r\n                            </ng-template>\r\n                        </p-table>\r\n                    </div>\r\n                </p-card>\r\n            </div>\r\n            <ng-template #emptymessage>\r\n                <span><i class=\"pi pi-info-circle\"></i>\r\n                    No records found.\r\n                </span>\r\n            </ng-template>\r\n        </div>\r\n    </form>\r\n    <div class = \"grid col flex justify-content-end\">\r\n        <button pButton label=\"ATD LOG\" [style]=\"{'margin-bottom': '.5em', 'margin-left': '.5em'}\" (click)=\"consoleLog()\" (click)=\"$event.stopPropagation()\"></button> <!-- TODO: remove -->\r\n    </div>\r\n</p-accordionTab>\r\n\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}