{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GroupPopupComponent = exports.GroupCreateDialogComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst group_model_1 = require(\"./group.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@ng-bootstrap/ng-bootstrap\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/alert.service\"));\nconst i3 = tslib_1.__importStar(require(\"./group.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/event-manager.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i7 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i8 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i10 = tslib_1.__importStar(require(\"./group-popup.service\"));\nfunction GroupCreateDialogComponent_option_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const parentGroupOption_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", parentGroupOption_r2.groupId === ctx_r1.group.groupParentId ? ctx_r1.group.groupParentId : parentGroupOption_r2.groupId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n            \", parentGroupOption_r2.groupName, \"\\n          \");\n  }\n}\nclass GroupCreateDialogComponent {\n  constructor(activeModal, alertService, groupService, eventManager, router) {\n    this.activeModal = activeModal;\n    this.alertService = alertService;\n    this.groupService = groupService;\n    this.eventManager = eventManager;\n    this.router = router;\n    this.group = new group_model_1.Group();\n    this.parentGroups = [];\n  }\n  ngOnInit() {\n    this.isSaving = false;\n    this.groupService.findAll({\n      page: 0,\n      size: 1000,\n      sort: null\n    }).subscribe(res => {\n      this.parentGroups = res.body;\n    }, res => this.onError(res.body));\n  }\n  clear() {\n    this.activeModal.dismiss('cancel');\n    this.backToPrevious();\n  }\n  trackParentGroupById(index, item) {\n    return item.groupId;\n  }\n  backToPrevious() {\n    window.history.back();\n  }\n  save() {\n    this.isSaving = true;\n    this.subscribeToSaveResponse(this.groupService.create(this.group));\n  }\n  subscribeToSaveResponse(result) {\n    result.subscribe(res => this.onSaveSuccess(res), res => this.onSaveError(res));\n  }\n  onSaveSuccess(result) {\n    this.isSaving = false;\n    this.eventManager.broadcast({\n      name: 'groupListModification',\n      content: 'OK'\n    });\n    this.activeModal.dismiss(result);\n    this.backToPrevious();\n  }\n  onSaveError(error) {\n    this.isSaving = false;\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\n    document.getElementById('appDialogErrorMsg').innerHTML = appDialogErrorMsg;\n    document.getElementById('appDialogErrorMsg').style.display = 'block';\n  }\n  onError(error) {\n    this.alertService.addAlert({\n      type: 'danger',\n      translationKey: error.message\n    });\n  }\n}\nexports.GroupCreateDialogComponent = GroupCreateDialogComponent;\nGroupCreateDialogComponent.ɵfac = function GroupCreateDialogComponent_Factory(t) {\n  return new (t || GroupCreateDialogComponent)(i0.ɵɵdirectiveInject(i1.NgbActiveModal), i0.ɵɵdirectiveInject(i2.AlertService), i0.ɵɵdirectiveInject(i3.GroupService), i0.ɵɵdirectiveInject(i4.EventManager), i0.ɵɵdirectiveInject(i5.Router));\n};\nGroupCreateDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GroupCreateDialogComponent,\n  selectors: [[\"ic-group-create-dialog\"]],\n  decls: 92,\n  vars: 15,\n  consts: [[\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [1, \"modal-header\"], [\"id\", \"myGroupLabel\", \"icTranslate\", \"acmAdmin.group.home.createLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-hidden\", \"true\", 1, \"close\", 3, \"click\"], [\"id\", \"appDialogErrorMsg\", 1, \"alert-dismissible\", \"alert-danger\", \"alert\", 2, \"display\", \"none\"], [1, \"modal-body\"], [1, \"row\"], [1, \"rounded-pill\", \"col-md-6\"], [\"icTranslate\", \"acmAdmin.group.groupId\", \"for\", \"field_groupId\", 1, \"form-control-label\"], [\"type\", \"text\", \"name\", \"groupId\", \"id\", \"field_groupId\", \"required\", \"\", \"pattern\", \"^[^ ]+$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"hidden\"], [\"icTranslate\", \"entity.validation.required\", 1, \"form-text\", \"text-danger\", 3, \"hidden\"], [1, \"form-text\", \"text-danger\", 3, \"hidden\"], [\"icTranslate\", \"acmAdmin.group.groupName\", \"for\", \"field_groupName\", 1, \"form-control-label\"], [\"type\", \"text\", \"name\", \"groupName\", \"id\", \"field_groupName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"acmAdmin.group.groupDesc\", \"for\", \"field_groupDesc\", 1, \"form-control-label\"], [\"type\", \"text\", \"name\", \"groupDesc\", \"id\", \"field_groupDesc\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"acmAdmin.group.parentGroup\", \"for\", \"field_parentGroup\", 1, \"form-control-label\"], [\"id\", \"field_parentGroup\", \"name\", \"parentGroup\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"modal-footer\"], [\"id\", \"saveNewGroup\", \"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\"], [3, \"icon\"], [\"icTranslate\", \"entity.action.save\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"click\"], [\"icTranslate\", \"entity.action.cancel\"]],\n  template: function GroupCreateDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function GroupCreateDialogComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(2, \"\\n  \");\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtext(4, \"\\n    \");\n      i0.ɵɵelementStart(5, \"h4\", 3);\n      i0.ɵɵtext(6, \"Create a new Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n    \");\n      i0.ɵɵelementStart(8, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function GroupCreateDialogComponent_Template_button_click_8_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵtext(9, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\\n  \");\n      i0.ɵɵelement(12, \"p\", 5);\n      i0.ɵɵtext(13, \"\\n\\n  \");\n      i0.ɵɵelementStart(14, \"div\", 6);\n      i0.ɵɵtext(15, \"\\n    \");\n      i0.ɵɵelementStart(16, \"div\", 7);\n      i0.ɵɵtext(17, \"\\n      \");\n      i0.ɵɵelementStart(18, \"div\", 8);\n      i0.ɵɵtext(19, \"\\n        \");\n      i0.ɵɵelementStart(20, \"label\", 9);\n      i0.ɵɵtext(21, \"Group Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \"\\n        \");\n      i0.ɵɵelementStart(23, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function GroupCreateDialogComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.group.groupId = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n        \");\n      i0.ɵɵelementStart(25, \"div\", 11);\n      i0.ɵɵtext(26, \"\\n          \");\n      i0.ɵɵelementStart(27, \"small\", 12);\n      i0.ɵɵtext(28, \"\\n            This field is required.\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n          \");\n      i0.ɵɵelementStart(30, \"small\", 13);\n      i0.ɵɵtext(31, \"\\n            This field can not contain space.\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n\\n      \");\n      i0.ɵɵelementStart(35, \"div\", 8);\n      i0.ɵɵtext(36, \"\\n        \");\n      i0.ɵɵelementStart(37, \"label\", 14);\n      i0.ɵɵtext(38, \"Group Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n        \");\n      i0.ɵɵelementStart(40, \"input\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function GroupCreateDialogComponent_Template_input_ngModelChange_40_listener($event) {\n        return ctx.group.groupName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n        \");\n      i0.ɵɵelementStart(42, \"div\", 11);\n      i0.ɵɵtext(43, \"\\n          \");\n      i0.ɵɵelementStart(44, \"small\", 12);\n      i0.ɵɵtext(45, \"\\n            This field is required.\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(48, \"\\n\\n      \");\n      i0.ɵɵelementStart(49, \"div\", 8);\n      i0.ɵɵtext(50, \"\\n        \");\n      i0.ɵɵelementStart(51, \"label\", 16);\n      i0.ɵɵtext(52, \"Group Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n        \");\n      i0.ɵɵelementStart(54, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function GroupCreateDialogComponent_Template_input_ngModelChange_54_listener($event) {\n        return ctx.group.groupDesc = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \"\\n\\n      \");\n      i0.ɵɵelementStart(57, \"div\", 8);\n      i0.ɵɵtext(58, \"\\n        \");\n      i0.ɵɵelementStart(59, \"label\", 18);\n      i0.ɵɵtext(60, \"Parent Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(61, \"\\n        \");\n      i0.ɵɵelementStart(62, \"select\", 19);\n      i0.ɵɵlistener(\"ngModelChange\", function GroupCreateDialogComponent_Template_select_ngModelChange_62_listener($event) {\n        return ctx.group.groupParentId = $event;\n      });\n      i0.ɵɵtext(63, \"\\n          \");\n      i0.ɵɵelement(64, \"option\", 20);\n      i0.ɵɵtext(65, \"\\n          \");\n      i0.ɵɵtemplate(66, GroupCreateDialogComponent_option_66_Template, 2, 2, \"option\", 21);\n      i0.ɵɵtext(67, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(68, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(69, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(70, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(71, \"\\n  \");\n      i0.ɵɵelementStart(72, \"div\", 22);\n      i0.ɵɵtext(73, \"\\n    \");\n      i0.ɵɵelementStart(74, \"button\", 23);\n      i0.ɵɵtext(75, \"\\n      \");\n      i0.ɵɵelement(76, \"fa-icon\", 24);\n      i0.ɵɵtext(77, \"\\u00A0\");\n      i0.ɵɵelementStart(78, \"span\", 25);\n      i0.ɵɵtext(79, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n    \");\n      i0.ɵɵelementStart(82, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function GroupCreateDialogComponent_Template_button_click_82_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵtext(83, \"\\n      \");\n      i0.ɵɵelement(84, \"fa-icon\", 24);\n      i0.ɵɵtext(85, \"\\u00A0\");\n      i0.ɵɵelementStart(86, \"span\", 27);\n      i0.ɵɵtext(87, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(88, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(89, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(90, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(91, \"\\n\");\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngModel\", ctx.group.groupId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !((_r0.controls.groupId == null ? null : _r0.controls.groupId.dirty) && (_r0.controls.groupId == null ? null : _r0.controls.groupId.invalid)));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !(_r0.controls.groupId == null ? null : _r0.controls.groupId.errors == null ? null : _r0.controls.groupId.errors.required));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"hidden\", !(_r0.controls.groupId == null ? null : _r0.controls.groupId.errors == null ? null : _r0.controls.groupId.errors.pattern));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.group.groupName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !((_r0.controls.groupName == null ? null : _r0.controls.groupName.dirty) && (_r0.controls.groupName == null ? null : _r0.controls.groupName.invalid)));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !(_r0.controls.groupName == null ? null : _r0.controls.groupName.errors == null ? null : _r0.controls.groupName.errors.required));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.group.groupDesc);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.group.groupParentId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngValue\", null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.parentGroups)(\"ngForTrackBy\", ctx.trackParentGroupById);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"disabled\", _r0.form.invalid || ctx.isSaving);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"icon\", \"save\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"ban\");\n    }\n  },\n  dependencies: [i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.PatternValidator, i6.NgModel, i6.NgForm, i7.NgForOf, i8.FaIconComponent, i9.TranslateDirective],\n  encapsulation: 2\n});\nclass GroupPopupComponent {\n  constructor(route, groupPopupService) {\n    this.route = route;\n    this.groupPopupService = groupPopupService;\n  }\n  ngOnInit() {\n    this.routeSub = this.route.params.subscribe(() => {\n      this.groupPopupService.open(GroupCreateDialogComponent);\n    });\n  }\n  ngOnDestroy() {\n    this.routeSub.unsubscribe();\n  }\n}\nexports.GroupPopupComponent = GroupPopupComponent;\nGroupPopupComponent.ɵfac = function GroupPopupComponent_Factory(t) {\n  return new (t || GroupPopupComponent)(i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i10.GroupPopupService));\n};\nGroupPopupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GroupPopupComponent,\n  selectors: [[\"ic-group-popup\"]],\n  decls: 0,\n  vars: 0,\n  template: function GroupPopupComponent_Template(rf, ctx) {},\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","GroupCreateDialogComponent","constructor","activeModal","alertService","groupService","eventManager","router","group_model_1","ngOnInit","isSaving","findAll","page","size","sort","subscribe","res","parentGroups","body","onError","clear","dismiss","backToPrevious","trackParentGroupById","index","item","groupId","window","history","back","save","subscribeToSaveResponse","create","group","result","onSaveSuccess","onSaveError","broadcast","name","content","error","appDialogErrorMsg","headers","get","document","getElementById","innerHTML","style","display","addAlert","type","translationKey","message","exports","selectors","decls","vars","consts","template","ctx","GroupPopupComponent","route","groupPopupService","routeSub","params","open","ngOnDestroy","unsubscribe","encapsulation"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\group\\group-create-dialog.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\group\\group-create-dialog.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { EventManager } from 'app/core/util/event-manager.service';\r\nimport { Group } from './group.model';\r\nimport { GroupPopupService } from './group-popup.service';\r\nimport { GroupService } from './group.service';\r\n\r\n@Component({\r\n  selector: 'ic-group-create-dialog',\r\n  templateUrl: './group-create-dialog.component.html',\r\n})\r\nexport class GroupCreateDialogComponent implements OnInit {\r\n  group: Group = new Group();\r\n  isSaving?: boolean;\r\n  parentGroups: Group[] = [];\r\n\r\n  constructor(\r\n    public activeModal: NgbActiveModal,\r\n    private alertService: AlertService,\r\n    private groupService: GroupService,\r\n    private eventManager: EventManager,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isSaving = false;\r\n    this.groupService\r\n      .findAll({\r\n        page: 0,\r\n        size: 1000,\r\n        sort: null,\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          this.parentGroups = res.body;\r\n        },\r\n        (res: HttpResponse<any>) => this.onError(res.body)\r\n      );\r\n  }\r\n\r\n  clear(): void {\r\n    this.activeModal.dismiss('cancel');\r\n    this.backToPrevious();\r\n  }\r\n\r\n  trackParentGroupById(index: number, item: Group): any {\r\n    return item.groupId;\r\n  }\r\n\r\n  backToPrevious(): void {\r\n    window.history.back();\r\n  }\r\n\r\n  save(): void {\r\n    this.isSaving = true;\r\n    this.subscribeToSaveResponse(this.groupService.create(this.group));\r\n  }\r\n\r\n  private subscribeToSaveResponse(result: Observable<Group>): void {\r\n    result.subscribe(\r\n      (res: Group) => this.onSaveSuccess(res),\r\n      (res: HttpResponse<any>) => this.onSaveError(res)\r\n    );\r\n  }\r\n\r\n  private onSaveSuccess(result: Group): void {\r\n    this.isSaving = false;\r\n    this.eventManager.broadcast({ name: 'groupListModification', content: 'OK' });\r\n    this.activeModal.dismiss(result);\r\n    this.backToPrevious();\r\n  }\r\n\r\n  private onSaveError(error: any): void {\r\n    this.isSaving = false;\r\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\r\n    document.getElementById('appDialogErrorMsg')!.innerHTML = appDialogErrorMsg;\r\n    document.getElementById('appDialogErrorMsg')!.style.display = 'block';\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    this.alertService.addAlert({ type: 'danger', translationKey: error.message });\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'ic-group-popup',\r\n  template: '',\r\n})\r\nexport class GroupPopupComponent implements OnInit, OnDestroy {\r\n  routeSub: any;\r\n\r\n  constructor(private route: ActivatedRoute, private groupPopupService: GroupPopupService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.routeSub = this.route.params.subscribe(() => {\r\n      this.groupPopupService.open(GroupCreateDialogComponent as Component);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.routeSub.unsubscribe();\r\n  }\r\n}\r\n","<form name=\"editForm\" role=\"form\"  (ngSubmit)=\"save()\" #editForm=\"ngForm\">\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"myGroupLabel\" icTranslate=\"acmAdmin.group.home.createLabel\">Create a new Group</h4>\r\n    <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-hidden=\"true\" (click)=\"clear()\">&times;</button>\r\n  </div>\r\n\r\n  <p style=\"display: none\" id=\"appDialogErrorMsg\" class=\"alert-dismissible alert-danger alert\"></p>\r\n\r\n  <div class=\"modal-body\">\r\n    <div class=\"row\">\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.group.groupId\" for=\"field_groupId\">Group Id</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"groupId\" id=\"field_groupId\" [(ngModel)]=\"group.groupId\" required pattern=\"^[^ ]+$\" />\r\n        <div [hidden]=\"!(editForm.controls.groupId?.dirty && editForm.controls.groupId?.invalid)\">\r\n          <small\r\n            class=\"form-text text-danger\"\r\n            [hidden]=\"!editForm.controls.groupId?.errors?.required\"\r\n            icTranslate=\"entity.validation.required\"\r\n          >\r\n            This field is required.\r\n          </small>\r\n          <small class=\"form-text text-danger\" [hidden]=\"!editForm.controls.groupId?.errors?.pattern\">\r\n            This field can not contain space.\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.group.groupName\" for=\"field_groupName\">Group Name</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"groupName\" id=\"field_groupName\" [(ngModel)]=\"group.groupName\" required />\r\n        <div [hidden]=\"!(editForm.controls.groupName?.dirty && editForm.controls.groupName?.invalid)\">\r\n          <small\r\n            class=\"form-text text-danger\"\r\n            [hidden]=\"!editForm.controls.groupName?.errors?.required\"\r\n            icTranslate=\"entity.validation.required\"\r\n          >\r\n            This field is required.\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.group.groupDesc\" for=\"field_groupDesc\">Group Description</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"groupDesc\" id=\"field_groupDesc\" [(ngModel)]=\"group.groupDesc\" />\r\n      </div>\r\n\r\n      <div class=\"rounded-pill col-md-6\">\r\n        <label class=\"form-control-label\" icTranslate=\"acmAdmin.group.parentGroup\" for=\"field_parentGroup\">Parent Group</label>\r\n        <select class=\"form-control\" id=\"field_parentGroup\" name=\"parentGroup\" [(ngModel)]=\"group.groupParentId\">\r\n          <option [ngValue]=\"null\"></option>\r\n          <option\r\n            [ngValue]=\"parentGroupOption.groupId === group.groupParentId ? group.groupParentId : parentGroupOption.groupId\"\r\n            *ngFor=\"let parentGroupOption of parentGroups; trackBy: trackParentGroupById\"\r\n          >\r\n            {{ parentGroupOption.groupName }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button id=\"saveNewGroup\" type=\"submit\" [disabled]=\"editForm.form.invalid || isSaving\" class=\"btn btn-primary btn-sm\">\r\n      <fa-icon [icon]=\"'save'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.save\">Save</span>\r\n    </button>\r\n    <button type=\"button\" class=\"btn btn-secondary btn-sm\" data-bs-dismiss=\"modal\" (click)=\"clear()\">\r\n      <fa-icon [icon]=\"'ban'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.cancel\">Cancel</span>\r\n    </button>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}