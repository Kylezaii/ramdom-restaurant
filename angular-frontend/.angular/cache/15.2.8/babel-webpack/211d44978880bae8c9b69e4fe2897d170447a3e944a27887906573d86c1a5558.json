{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MipsUploadHistoryComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst nspapp_constants_1 = require(\"app/shared/constants/nspapp.constants\");\nconst common_1 = require(\"@angular/common\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i3 = tslib_1.__importStar(require(\"../service/mips-upload.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i9 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i17 = tslib_1.__importStar(require(\"app/shared/component/edit-remark/edit-remark.component\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/ripple\"));\nconst i19 = tslib_1.__importStar(require(\"../../../shared/pipe/default-string.pipe\"));\nconst _c0 = [\"editMipsUploadHistoryRemark\"];\nfunction MipsUploadHistoryComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 10);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r7.exportCSV(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n  \");\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_5_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 35);\n    i0.ɵɵlistener(\"onSelect\", function MipsUploadHistoryComponent_ng_template_5_ng_template_12_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const filter_r11 = restoredCtx.filterCallback;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r12.dateCallbackFilter($event, filter_r11, \"submittedDt\", _r0));\n    });\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n  if (rf & 2) {\n    const value_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r10);\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"th\", 13);\n    i0.ɵɵtext(7, \"Uploaded By\\n        \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 14);\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementStart(10, \"p-columnFilter\", 15);\n    i0.ɵɵtext(11, \"\\n          \");\n    i0.ɵɵtemplate(12, MipsUploadHistoryComponent_ng_template_5_ng_template_12_Template, 4, 1, \"ng-template\", 16);\n    i0.ɵɵtext(13, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n      \");\n    i0.ɵɵelementStart(16, \"th\", 17);\n    i0.ɵɵtext(17, \"Name\\n        \");\n    i0.ɵɵelement(18, \"p-sortIcon\", 18);\n    i0.ɵɵtext(19, \"\\n        \");\n    i0.ɵɵelement(20, \"p-columnFilter\", 19);\n    i0.ɵɵtext(21, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n      \");\n    i0.ɵɵelementStart(23, \"th\", 20);\n    i0.ɵɵtext(24, \"MIPS ID\\n        \");\n    i0.ɵɵelement(25, \"p-sortIcon\", 21);\n    i0.ɵɵtext(26, \"\\n        \");\n    i0.ɵɵelement(27, \"p-columnFilter\", 22);\n    i0.ɵɵtext(28, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n      \");\n    i0.ɵɵelementStart(30, \"th\", 23);\n    i0.ɵɵtext(31, \"Refund Amount\\n        \");\n    i0.ɵɵelement(32, \"p-sortIcon\", 24);\n    i0.ɵɵtext(33, \"\\n        \");\n    i0.ɵɵelement(34, \"p-columnFilter\", 25);\n    i0.ɵɵtext(35, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n      \");\n    i0.ɵɵelementStart(37, \"th\", 26);\n    i0.ɵɵtext(38, \"Status\\n        \");\n    i0.ɵɵelement(39, \"p-sortIcon\", 27);\n    i0.ɵɵtext(40, \"\\n        \");\n    i0.ɵɵelement(41, \"p-columnFilter\", 28);\n    i0.ɵɵtext(42, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n      \");\n    i0.ɵɵelementStart(44, \"th\", 29);\n    i0.ɵɵtext(45, \"Excess Refund\\n        \");\n    i0.ɵɵelement(46, \"p-sortIcon\", 30);\n    i0.ɵɵtext(47, \"\\n        \");\n    i0.ɵɵelement(48, \"p-columnFilter\", 31);\n    i0.ɵɵtext(49, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n      \");\n    i0.ɵɵelementStart(51, \"th\", 32);\n    i0.ɵɵtext(52, \"Remark\\n        \");\n    i0.ɵɵelement(53, \"p-sortIcon\", 33);\n    i0.ɵɵtext(54, \"\\n        \");\n    i0.ɵɵelement(55, \"p-columnFilter\", 34);\n    i0.ɵɵtext(56, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n  \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"showApplyButton\", false);\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_7_br_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_7_br_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_7_br_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\nconst _c1 = function () {\n  return {\n    \"margin-left\": \".5em\"\n  };\n};\nfunction MipsUploadHistoryComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"a\", 36);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_7_Template_a_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const mipsUploadHistoryRecord_r14 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.download(mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.id));\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n      \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"defaultString\");\n    i0.ɵɵtemplate(12, MipsUploadHistoryComponent_ng_template_7_br_12_Template, 1, 0, \"br\", 37);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n      \");\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"defaultString\");\n    i0.ɵɵtemplate(19, MipsUploadHistoryComponent_ng_template_7_br_19_Template, 1, 0, \"br\", 37);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n      \");\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23, \"\\n        \");\n    i0.ɵɵelementStart(24, \"a\", 36);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_7_Template_a_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const mipsUploadHistoryRecord_r14 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.routeToRefundHistory(mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.id, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.nric));\n    });\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n      \");\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"defaultString\");\n    i0.ɵɵpipe(32, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n      \");\n    i0.ɵɵelementStart(34, \"td\");\n    i0.ɵɵtext(35);\n    i0.ɵɵpipe(36, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n      \");\n    i0.ɵɵelementStart(38, \"td\");\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"defaultString\");\n    i0.ɵɵpipe(41, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \"\\n      \");\n    i0.ɵɵelementStart(43, \"td\");\n    i0.ɵɵtext(44, \"\\n        \");\n    i0.ɵɵelementStart(45, \"div\", 38);\n    i0.ɵɵtext(46);\n    i0.ɵɵpipe(47, \"defaultString\");\n    i0.ɵɵpipe(48, \"date\");\n    i0.ɵɵtemplate(49, MipsUploadHistoryComponent_ng_template_7_br_49_Template, 1, 0, \"br\", 37);\n    i0.ɵɵtext(50);\n    i0.ɵɵpipe(51, \"defaultString\");\n    i0.ɵɵelementStart(52, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_7_Template_button_click_52_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const mipsUploadHistoryRecord_r14 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.onOpenEditRemark(ctx_r22.displayMipsUploadHistoryEditRemarkDialog, mipsUploadHistoryRecord_r14));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n  \");\n  }\n  if (rf & 2) {\n    const mipsUploadHistoryRecord_r14 = ctx.$implicit;\n    const i_r15 = ctx.rowIndex;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n        \", i_r15 + 1, \"\\n        \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 17, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.submittedBy));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.submittedBy);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 19, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.submittedDt, \"dd-MM-yyyy '('HHmm')'\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 22, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.nric));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.nric);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\n          \", i0.ɵɵpipeBind1(26, 24, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.mipsId), \"\\n        \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 26, i0.ɵɵpipeBind3(32, 28, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.amount, \"SGD\", \"symbol-narrow\")));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(36, 32, ctx_r3.Ns2Status[mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.status]));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(40, 34, i0.ɵɵpipeBind3(41, 36, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.refundExcessAmt, \"SGD\", \"symbol-narrow\")));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate2(\"\\n          \", i0.ɵɵpipeBind1(47, 40, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.remarksBy), \" \", i0.ɵɵpipeBind2(48, 42, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.remarksDt, \"dd-MM-yyyy '('HHmm')'\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.remarksBy);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(51, 45, mipsUploadHistoryRecord_r14 == null ? null : mipsUploadHistoryRecord_r14.remarks), \"\\n          \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(47, _c1));\n  }\n}\nfunction MipsUploadHistoryComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\", 40);\n    i0.ɵɵtext(4, \"No MIPS File Upload History records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n  }\n}\nconst _c2 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction MipsUploadHistoryComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_17_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.displayMipsUploadHistoryEditRemarkDialog.display = false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n    \");\n    i0.ɵɵelement(3, \"p-confirmPopup\", 42);\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function MipsUploadHistoryComponent_ng_template_17_Template_button_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.onEditRemarkSubmit($event, \"confirmEditRemark\", ctx_r25.displayMipsUploadHistoryEditRemarkDialog));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c2));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c2));\n  }\n}\nconst _c3 = function () {\n  return [10, 25, 50];\n};\nconst _c4 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\nconst _c5 = function () {\n  return {\n    \"960px\": \"75vw\"\n  };\n};\nclass MipsUploadHistoryComponent {\n  constructor(toastService, nspConfirmService, mipsUploadService, ns2HttpService, router, dateUtilsService, exportUtilsService, localeId) {\n    this.toastService = toastService;\n    this.nspConfirmService = nspConfirmService;\n    this.mipsUploadService = mipsUploadService;\n    this.ns2HttpService = ns2HttpService;\n    this.router = router;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.localeId = localeId;\n    this.displayMipsUploadHistoryEditRemarkDialog = {\n      display: false\n    };\n    //Lazy Loading\n    this.loading = false;\n    this.totalRecords = 0;\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n    this.Ns2Status = nspapp_constants_1.Ns2Status;\n  }\n  ngOnInit() {\n    //\n  }\n  load(event) {\n    this.loading = true;\n    this.lazyLoadEvent = event;\n    const options = this.ns2HttpService.convertLazyEvent(event, this.pageData, this.pageSize);\n    this.mipsUploadService.getAllHistory(options).subscribe(res => {\n      this.mipsUploadHistory = res.body?.data?.content;\n      this.loading = false;\n      this.totalRecords = res.body.data.totalElements;\n    }, error => {\n      console.log(error.error?.error_desc);\n      this.loading = false;\n    });\n  }\n  onPage(event) {\n    this.pageSize = event.rows;\n    this.pageData.currentPage = event.first / event.rows;\n  }\n  exportCSV(dataTable) {\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\n    this.mipsUploadService.getAllHistory(options).subscribe(resp => {\n      if (resp.body?.data?.content) {\n        const data = resp.body?.data?.content;\n        const columns = [{\n          field: 'sn',\n          header: 'SN',\n          index: 0\n        }, {\n          field: 'uploadedBy',\n          header: 'Uploaded By',\n          index: 1\n        }, {\n          field: 'name',\n          header: 'Name',\n          index: 2\n        }, {\n          field: 'mipsId',\n          header: 'MIPS ID',\n          index: 3\n        }, {\n          field: 'amount',\n          header: 'Refund Amount',\n          index: 4\n        }, {\n          field: 'status',\n          header: 'Status',\n          index: 5\n        }, {\n          field: 'excessRefund',\n          header: 'ExcesssRefund',\n          index: 6\n        }, {\n          field: 'remarks',\n          header: 'Remarks',\n          index: 7\n        }];\n        const dtoList = [];\n        console.log(\"data\", data);\n        data.forEach((d, index) => {\n          const dto = {\n            sn: index + 1,\n            uploadedBy: `${String(this.dateUtilsService.formatStrDate(d.submittedDt, \"DD-MM-YYYY (HHmm)\"))} ${String(d.submittedBy ? d.submittedBy : \"\")}`,\n            name: `${d.nric} ${d.name}`,\n            mipsId: d.mipsId,\n            amount: d.amount,\n            status: this.Ns2Status[d.status],\n            excessRefund: d.refundExcessAmt,\n            remarks: `${String(this.dateUtilsService.formatStrDate(d.remarksDt, \"DD-MM-YYYY (HHmm)\"))} ${String(d.remarksBy ? d.remarksBy : \"\")} ${String(d.remarks ? d.remarks : \"\")}`\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, resp.body.data.total_no_of_elems, columns, \"data_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n      }\n    }, error => {\n      console.log(error.error?.error_desc);\n      this.loading = false;\n    });\n  }\n  onOpenEditRemark(dialog, mipsUploadHistoryRecord) {\n    dialog.display = true;\n    this.selectedRecord = mipsUploadHistoryRecord;\n    this.editMipsUploadHistoryRemark.remarksValue = mipsUploadHistoryRecord.remarks;\n  }\n  onEditRemarkSubmit(event, key, dialog) {\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\n      const fields = {\n        \"remarks\": this.editMipsUploadHistoryRemark.remarksValue\n      };\n      this.mipsUploadService.patch(this.selectedRecord.id, fields).subscribe(res => {\n        this.toastService.success(res.body?.success_message);\n      }, error => {\n        this.toastService.error(error.error?.error_desc);\n      });\n    });\n  }\n  download(id) {\n    //TODO download orginal file\n    console.log(\"Download clicked\", id);\n    this.toastService.success(\"Download file\");\n    this.router.navigate(['payment/overpayment/mips/approval'], {\n      queryParams: {\n        id: '402881ca828baac001828bad50770001'\n      }\n    });\n  }\n  routeToRefundHistory(id, nric) {\n    //TO-DO route to refund history tab\n    console.log(\"route clicked\", id);\n  }\n  dateCallbackFilter(input, filter, id, table) {\n    filter(new Date(input).toISOString());\n    //Patch back\n    const filterMetadata = table.filters[id];\n    filterMetadata[0].value = input;\n  }\n  refresh() {\n    this.load(this.lazyLoadEvent);\n    console.log(\"refresh\");\n  }\n}\nexports.MipsUploadHistoryComponent = MipsUploadHistoryComponent;\nMipsUploadHistoryComponent.ɵfac = function MipsUploadHistoryComponent_Factory(t) {\n  return new (t || MipsUploadHistoryComponent)(i0.ɵɵdirectiveInject(i1.CustomToastService), i0.ɵɵdirectiveInject(i2.NspConfirmationService), i0.ɵɵdirectiveInject(i3.MipsUploadService), i0.ɵɵdirectiveInject(i4.Ns2HttpService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.DateUtilsService), i0.ɵɵdirectiveInject(i7.ExportUtilsService), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nMipsUploadHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MipsUploadHistoryComponent,\n  selectors: [[\"n2-mips-upload-history\"]],\n  viewQuery: function MipsUploadHistoryComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editMipsUploadHistoryRemark = _t.first);\n    }\n  },\n  decls: 20,\n  vars: 18,\n  consts: [[\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\", \"lazy\", \"totalRecords\", \"loading\", \"onLazyLoad\", \"onPage\"], [\"mipsHistoryTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"header\", \"Edit Remark\", 3, \"visible\", \"breakpoints\", \"draggable\", \"resizable\", \"modal\", \"visibleChange\"], [\"editMipsUploadHistoryRemark\", \"\"], [\"pTemplate\", \"footer\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", 2, \"width\", \"4%\"], [\"scope\", \"col\", \"pSortableColumn\", \"submittedDt\", 2, \"width\", \"12%\"], [\"field\", \"submittedDt\"], [\"field\", \"submittedDt\", \"display\", \"menu\", \"matchMode\", \"contains\", 3, \"showApplyButton\"], [\"pTemplate\", \"filter\"], [\"scope\", \"col\", \"pSortableColumn\", \"nric\", 2, \"width\", \"10%\"], [\"field\", \"name\"], [\"type\", \"text\", \"field\", \"name\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"mipsId\", 2, \"width\", \"10%\"], [\"field\", \"mipsId\"], [\"type\", \"text\", \"field\", \"mipsId\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"amount\", 2, \"width\", \"10%\"], [\"field\", \"amount\"], [\"type\", \"numric\", \"field\", \"amount\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"status\", 2, \"width\", \"20%\"], [\"field\", \"status\"], [\"type\", \"text\", \"field\", \"status\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"refundExcessAmt\", 2, \"width\", \"12%\"], [\"field\", \"refundExcessAmt\"], [\"type\", \"text\", \"field\", \"refundExcessAmt\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"remarks\", 2, \"width\", \"22%\"], [\"field\", \"remarks\"], [\"type\", \"text\", \"field\", \"remarks\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"dataType\", \"string\", \"dateFormat\", \"dd-mm-yy\", 3, \"ngModel\", \"onSelect\"], [3, \"routerLink\", \"click\"], [4, \"ngIf\"], [1, \"flex\", \"justify-content-between\"], [\"pButton\", \"\", \"pRipple\", \"\", \"pTooltip\", \"Edit remark\", \"tooltipPosition\", \"bottom\", \"icon\", \"pi pi-pencil\", 3, \"click\"], [\"colspan\", \"8\"], [\"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"key\", \"confirmEditRemark\"], [\"pButton\", \"\", \"label\", \"Submit\", 3, \"click\"]],\n  template: function MipsUploadHistoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0, 1);\n      i0.ɵɵlistener(\"onLazyLoad\", function MipsUploadHistoryComponent_Template_p_table_onLazyLoad_0_listener($event) {\n        return ctx.load($event);\n      })(\"onPage\", function MipsUploadHistoryComponent_Template_p_table_onPage_0_listener($event) {\n        return ctx.onPage($event);\n      });\n      i0.ɵɵtext(2, \"\\n  \");\n      i0.ɵɵtemplate(3, MipsUploadHistoryComponent_ng_template_3_Template, 9, 0, \"ng-template\", 2);\n      i0.ɵɵtext(4, \"\\n  \");\n      i0.ɵɵtemplate(5, MipsUploadHistoryComponent_ng_template_5_Template, 59, 1, \"ng-template\", 3);\n      i0.ɵɵtext(6, \"\\n\\n  \");\n      i0.ɵɵtemplate(7, MipsUploadHistoryComponent_ng_template_7_Template, 57, 48, \"ng-template\", 4);\n      i0.ɵɵtext(8, \"\\n\\n  \");\n      i0.ɵɵtemplate(9, MipsUploadHistoryComponent_ng_template_9_Template, 7, 0, \"ng-template\", 5);\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\\n\\n\\n\");\n      i0.ɵɵelementStart(12, \"p-dialog\", 6);\n      i0.ɵɵlistener(\"visibleChange\", function MipsUploadHistoryComponent_Template_p_dialog_visibleChange_12_listener($event) {\n        return ctx.displayMipsUploadHistoryEditRemarkDialog.display = $event;\n      });\n      i0.ɵɵtext(13, \"\\n\\n  \");\n      i0.ɵɵelement(14, \"n2-edit-remark\", null, 7);\n      i0.ɵɵtext(16, \"\\n\\n  \");\n      i0.ɵɵtemplate(17, MipsUploadHistoryComponent_ng_template_17_Template, 7, 6, \"ng-template\", 8);\n      i0.ɵɵtext(18, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.mipsUploadHistory)(\"paginator\", true)(\"rows\", 5)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(15, _c3))(\"showCurrentPageReport\", true)(\"lazy\", true)(\"totalRecords\", ctx.totalRecords)(\"loading\", ctx.loading);\n      i0.ɵɵadvance(12);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(16, _c4));\n      i0.ɵɵproperty(\"visible\", ctx.displayMipsUploadHistoryEditRemarkDialog.display)(\"breakpoints\", i0.ɵɵpureFunction0(17, _c5))(\"draggable\", false)(\"resizable\", false)(\"modal\", true);\n    }\n  },\n  dependencies: [i8.NgControlStatus, i8.NgModel, i9.NgIf, i10.PrimeTemplate, i11.ButtonDirective, i5.RouterLink, i12.Tooltip, i13.Table, i13.SortableColumn, i13.SortIcon, i13.ColumnFilter, i14.Dialog, i15.ConfirmPopup, i16.Calendar, i17.EditRemarkComponent, i18.Ripple, i9.CurrencyPipe, i9.DatePipe, i19.DefaultStringPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtaXBzLXVwbG9hZC1oaXN0b3J5LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9vdmVycGF5bWVudC9taXBzLXVwbG9hZC1oaXN0b3J5L21pcHMtdXBsb2FkLWhpc3RvcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9MQUFvTCIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MipsUploadHistoryComponent","constructor","toastService","nspConfirmService","mipsUploadService","ns2HttpService","router","dateUtilsService","exportUtilsService","localeId","display","currentPage","nspapp_constants_1","ngOnInit","load","event","loading","lazyLoadEvent","options","convertLazyEvent","pageData","pageSize","getAllHistory","subscribe","res","mipsUploadHistory","body","data","content","totalRecords","totalElements","error","console","log","error_desc","onPage","rows","first","exportCSV","dataTable","resp","columns","field","header","index","dtoList","forEach","d","dto","sn","uploadedBy","String","formatStrDate","submittedDt","submittedBy","name","nric","mipsId","amount","status","Ns2Status","excessRefund","refundExcessAmt","remarks","remarksDt","remarksBy","push","total_no_of_elems","concat","Date","onOpenEditRemark","dialog","mipsUploadHistoryRecord","selectedRecord","editMipsUploadHistoryRemark","remarksValue","onEditRemarkSubmit","key","onConfirmPopup","fields","patch","id","success","success_message","download","navigate","queryParams","routeToRefundHistory","dateCallbackFilter","input","filter","table","toISOString","filterMetadata","filters","value","refresh","exports","core_1","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\overpayment\\mips-upload-history\\mips-upload-history.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\overpayment\\mips-upload-history\\mips-upload-history.component.html"],"sourcesContent":["import { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { HttpErrorResponse, HttpResponse, HttpStatusCode } from '@angular/common/http';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport { IMipsUploadHistory } from 'app/payment/overpayment/mips-upload-history/model/mips-upload-history.model';\r\nimport { EditRemarkComponent } from 'app/shared/component/edit-remark/edit-remark.component';\r\nimport { MipsUploadService } from '../service/mips-upload.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { FilterMetadata, LazyLoadEvent } from 'primeng/api';\r\nimport { Ns2Status } from 'app/shared/constants/nspapp.constants';\r\nimport { Router } from '@angular/router';\r\nimport { Table } from 'primeng/table';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { formatDate } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'n2-mips-upload-history',\r\n  templateUrl: './mips-upload-history.component.html',\r\n  styleUrls: ['./mips-upload-history.component.scss']\r\n})\r\nexport class MipsUploadHistoryComponent implements OnInit {\r\n  mipsUploadHistory: IMipsUploadHistory[];\r\n  displayMipsUploadHistoryEditRemarkDialog: any = { display: false };\r\n  selectedRecord: IMipsUploadHistory;\r\n\r\n  //Lazy Loading\r\n  loading = false;\r\n  totalRecords = 0;\r\n  pageData: { currentPage: number } = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  lazyLoadEvent: LazyLoadEvent;\r\n\r\n  Ns2Status: { [key: string]: Ns2Status } = Ns2Status;\r\n\r\n  @ViewChild('editMipsUploadHistoryRemark', { static: true })\r\n  private editMipsUploadHistoryRemark!: EditRemarkComponent;\r\n\r\n  constructor(\r\n    private toastService: CustomToastService,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private mipsUploadService: MipsUploadService,\r\n    private ns2HttpService: Ns2HttpService,\r\n    private router: Router,\r\n    private dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    @Inject(LOCALE_ID) protected localeId: string\r\n    ) {}\r\n\r\n  ngOnInit(): void {\r\n    //\r\n  }\r\n\r\n  load(event: LazyLoadEvent): void {\r\n    this.loading = true;\r\n    this.lazyLoadEvent = event;\r\n\r\n    const options = this.ns2HttpService.convertLazyEvent(event, this.pageData, this.pageSize);\r\n      \r\n    this.mipsUploadService.getAllHistory(options).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.mipsUploadHistory = res.body?.data?.content;\r\n        this.loading = false;\r\n        this.totalRecords = res.body.data.totalElements;\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error.error?.error_desc);\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  onPage(event: any): void {\r\n    this.pageSize = event.rows;\r\n    this.pageData.currentPage = event.first / event.rows;\r\n  }\r\n  \r\n  exportCSV(dataTable: Table): void {\r\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\r\n\r\n    this.mipsUploadService.getAllHistory(options).subscribe(\r\n      resp => {\r\n        if(resp.body?.data?.content) {\r\n\r\n          const data = resp.body?.data?.content;\r\n\r\n          const columns = \r\n          [\r\n            {field: 'sn', header: 'SN', index: 0},\r\n            {field: 'uploadedBy', header: 'Uploaded By', index: 1},\r\n            {field: 'name', header: 'Name', index: 2},\r\n            {field: 'mipsId', header: 'MIPS ID', index: 3},\r\n            {field: 'amount', header: 'Refund Amount', index: 4},\r\n            {field: 'status', header: 'Status', index: 5},\r\n            {field: 'excessRefund', header: 'ExcesssRefund', index: 6},\r\n            {field: 'remarks', header: 'Remarks', index: 7}\r\n          ];\r\n\r\n          const dtoList:any[] = [];\r\n          console.log(\"data\", data);\r\n          data.forEach((d:IMipsUploadHistory, index: number) => {\r\n            const dto = {\r\n              sn: index + 1,\r\n              uploadedBy: `${String(this.dateUtilsService.formatStrDate(d.submittedDt, \"DD-MM-YYYY (HHmm)\"))} ${String(d.submittedBy ? d.submittedBy : \"\")}`,\r\n              name: `${d.nric} ${d.name}`,\r\n              mipsId: d.mipsId,\r\n              amount: d.amount,\r\n              status: this.Ns2Status[d.status],\r\n              excessRefund: d.refundExcessAmt,\r\n              remarks: `${String(this.dateUtilsService.formatStrDate(d.remarksDt, \"DD-MM-YYYY (HHmm)\"))} ${String(d.remarksBy ? d.remarksBy : \"\")} ${String(d.remarks ? d.remarks : \"\")}`,\r\n            }\r\n            dtoList.push(dto);\r\n          });\r\n          this.exportUtilsService.exportCSV(dataTable, dtoList,resp.body.data.total_no_of_elems, columns, \r\n            \"data_\".concat(formatDate(new Date(),\"dd-MM-YYYY\", this.localeId)));\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error.error?.error_desc);\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  onOpenEditRemark(dialog: any, mipsUploadHistoryRecord: IMipsUploadHistory): void {\r\n    dialog.display = true;\r\n    this.selectedRecord = mipsUploadHistoryRecord;\r\n    this.editMipsUploadHistoryRemark.remarksValue = mipsUploadHistoryRecord.remarks;\r\n  }\r\n\r\n  onEditRemarkSubmit(event: Event, key: string, dialog: any): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\r\n      const fields = {\"remarks\": this.editMipsUploadHistoryRemark.remarksValue};\r\n\r\n      this.mipsUploadService.patch(this.selectedRecord.id, fields).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          this.toastService.success(res.body?.success_message);\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          this.toastService.error(error.error?.error_desc);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  download(id: string):void {\r\n    //TODO download orginal file\r\n    console.log(\"Download clicked\", id);\r\n    this.toastService.success(\"Download file\");\r\n    \r\n\r\n    this.router.navigate(['payment/overpayment/mips/approval'] , { queryParams : {id:'402881ca828baac001828bad50770001'}});\r\n  }\r\n  \r\n  routeToRefundHistory(id: string, nric: string): void {\r\n    //TO-DO route to refund history tab\r\n    console.log(\"route clicked\", id)\r\n  }\r\n\r\n  dateCallbackFilter(input: any, filter: (a: any) => void, id: string, table: Table): void {\r\n    filter(new Date(input).toISOString());\r\n\r\n    //Patch back\r\n    const filterMetadata = table.filters[id] as FilterMetadata[];\r\n    filterMetadata[0].value = input;\r\n  }\r\n\r\n  refresh(): void {\r\n    this.load(this.lazyLoadEvent);\r\n    console.log(\"refresh\");\r\n  }\r\n}\r\n","<p-table #mipsHistoryTable [value]='mipsUploadHistory' styleClass='p-datatable-gridlines' [paginator]='true' [rows]='5'\r\n         [rowsPerPageOptions]='[10,25,50]'\r\n         [showCurrentPageReport]='true'\r\n         currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'\r\n         [lazy]='true'\r\n        [totalRecords]='totalRecords'\r\n        [loading]='loading'\r\n        (onLazyLoad)='load($event)'\r\n        (onPage) = \"onPage($event)\">\r\n  <ng-template pTemplate='caption'>\r\n    <div class='grid'>\r\n      <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>\r\n        <button type='button' pButton pRipple icon='pi pi-file-o' (click)='exportCSV(mipsHistoryTable)' pTooltip='Export as CSV'\r\n                tooltipPosition='bottom'></button>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template pTemplate='header'>\r\n    <tr>\r\n      <th scope=\"col\" style='width: 4%'>SN</th>\r\n      <th scope=\"col\" style='width: 12%' pSortableColumn='submittedDt'>Uploaded By\r\n        <p-sortIcon field='submittedDt'></p-sortIcon>\r\n        <p-columnFilter field=\"submittedDt\" display=\"menu\" matchMode=\"contains\" [showApplyButton]=\"false\">\r\n          <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n            <p-calendar dataType=\"string\" [ngModel]=\"value\" (onSelect)=\"dateCallbackFilter($event, filter, 'submittedDt', mipsHistoryTable)\" dateFormat=\"dd-mm-yy\">\r\n            </p-calendar>\r\n          </ng-template>\r\n        </p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 10%' pSortableColumn='nric'>Name\r\n        <p-sortIcon field='name'></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"name\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 10%' pSortableColumn='mipsId'>MIPS ID\r\n        <p-sortIcon field='mipsId'></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"mipsId\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 10%' pSortableColumn='amount'>Refund Amount\r\n        <p-sortIcon field='amount'></p-sortIcon>\r\n        <p-columnFilter type=\"numric\" field=\"amount\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 20%' pSortableColumn='status'>Status\r\n        <p-sortIcon field='status'></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"status\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 12%' pSortableColumn='refundExcessAmt'>Excess Refund\r\n        <p-sortIcon field='refundExcessAmt'></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"refundExcessAmt\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" style='width: 22%' pSortableColumn='remarks'>Remark\r\n        <p-sortIcon field='remarks'></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"remarks\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate='body' let-mipsUploadHistoryRecord let-i='rowIndex'>\r\n    <tr>\r\n      <td>\r\n        <a [routerLink]=\"\" (click)=\"download(mipsUploadHistoryRecord?.id)\">\r\n        {{i + 1}}\r\n        </a>\r\n      </td>\r\n      <td>{{mipsUploadHistoryRecord?.submittedBy | defaultString}}<br\r\n        *ngIf='mipsUploadHistoryRecord?.submittedBy'>{{mipsUploadHistoryRecord?.submittedDt | date:'dd-MM-yyyy \\'(\\'HHmm\\')\\'' }}</td>\r\n      <td>{{mipsUploadHistoryRecord?.nric | defaultString}}<br\r\n        *ngIf='mipsUploadHistoryRecord?.nric'>{{mipsUploadHistoryRecord?.name}}</td>\r\n      <td>\r\n        <a [routerLink]=\"\" (click)=\"routeToRefundHistory(mipsUploadHistoryRecord?.id, mipsUploadHistoryRecord?.nric)\">\r\n          {{mipsUploadHistoryRecord?.mipsId  | defaultString}}\r\n        </a>\r\n      </td>\r\n      <td>{{mipsUploadHistoryRecord?.amount | currency:'SGD':'symbol-narrow' | defaultString}}</td>\r\n      <td>{{Ns2Status[mipsUploadHistoryRecord?.status] | defaultString}}</td>\r\n      <td>{{mipsUploadHistoryRecord?.refundExcessAmt | currency:'SGD':'symbol-narrow' | defaultString}}</td>\r\n      <td>\r\n        <div class='flex justify-content-between'>\r\n          {{mipsUploadHistoryRecord?.remarksBy | defaultString}} {{mipsUploadHistoryRecord?.remarksDt | date:'dd-MM-yyyy \\'(\\'HHmm\\')\\''}}<br\r\n          *ngIf='mipsUploadHistoryRecord?.remarksBy'>{{mipsUploadHistoryRecord?.remarks | defaultString}}\r\n          <button pButton pRipple (click)='onOpenEditRemark(displayMipsUploadHistoryEditRemarkDialog, mipsUploadHistoryRecord)'\r\n                  pTooltip='Edit remark'\r\n                  tooltipPosition='bottom'\r\n                  icon='pi pi-pencil'\r\n                  [style]=\"{'margin-left': '.5em'}\"></button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate='emptymessage'>\r\n    <tr>\r\n      <td colspan='8'>No MIPS File Upload History records found.</td>\r\n    </tr>\r\n  </ng-template>\r\n</p-table>\r\n\r\n\r\n\r\n<p-dialog header='Edit Remark' [(visible)]='displayMipsUploadHistoryEditRemarkDialog.display'\r\n          [breakpoints]=\"{'960px': '75vw'}\"\r\n          [style]=\"{width: '50vw'}\" [draggable]='false' [resizable]='false' [modal]='true'>\r\n\r\n  <n2-edit-remark #editMipsUploadHistoryRemark></n2-edit-remark>\r\n\r\n  <ng-template pTemplate='footer'>\r\n    <button pButton class='p-button-danger' label='Cancel' (click)='displayMipsUploadHistoryEditRemarkDialog.display=false'\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n    <p-confirmPopup key='confirmEditRemark'></p-confirmPopup>\r\n            <button pButton label='Submit' (click)=\"onEditRemarkSubmit($event, 'confirmEditRemark', displayMipsUploadHistoryEditRemarkDialog)\"\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n  </ng-template>\r\n</p-dialog>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}