{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TaxiComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst forms_1 = require(\"@angular/forms\");\nconst moment_1 = tslib_1.__importDefault(require(\"moment/moment\"));\nconst time_directive_1 = require(\"app/shared/validator/time.directive\");\nconst claim_json_1 = tslib_1.__importDefault(require(\"../../../../../../i18n/en/claim.json\"));\nconst nspay2_constants_1 = require(\"app/nspay2.constants\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/claim/se-claim/service/se-claim.service\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/auth/account.service\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/messages\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputnumber\"));\nconst i12 = tslib_1.__importStar(require(\"../../../../../shared/language/translate.directive\"));\nfunction TaxiComponent_p_messages_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n  \");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.claimJson.nspay2App.claim.warning[\"CLM-W007\"]);\n  }\n}\nfunction TaxiComponent_p_messages_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-messages\", 2);\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵtemplate(2, TaxiComponent_p_messages_0_ng_template_2_Template, 4, 1, \"ng-template\", 3);\n    i0.ɵɵtext(3, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaxiComponent_div_2_input_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 34);\n    i0.ɵɵlistener(\"beforeinput\", function TaxiComponent_div_2_input_18_Template_input_beforeinput_0_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.onBeforeInput($event));\n    })(\"blur\", function TaxiComponent_div_2_input_18_Template_input_blur_0_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.onBlur($event, \"drivingShiftStart\"));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaxiComponent_div_2_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n            \");\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.taxiFormGroup.get(\"drivingShiftStart\").value);\n  }\n}\nfunction TaxiComponent_div_2_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r6.formatTime(ctx_r6.taxiFormGroup.get(\"drivingShiftStart\").value), \")\");\n  }\n}\nfunction TaxiComponent_div_2_input_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 35);\n    i0.ɵɵlistener(\"beforeinput\", function TaxiComponent_div_2_input_34_Template_input_beforeinput_0_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.onBeforeInput($event));\n    })(\"blur\", function TaxiComponent_div_2_input_34_Template_input_blur_0_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.onBlur($event, \"drivingShiftEnd\"));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaxiComponent_div_2_ng_template_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n            \");\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r9.taxiFormGroup.get(\"drivingShiftEnd\").value);\n  }\n}\nfunction TaxiComponent_div_2_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r10.formatTime(ctx_r10.taxiFormGroup.get(\"drivingShiftEnd\").value), \")\");\n  }\n}\nconst _c0 = function () {\n  return {\n    \"margin-left\": \"1em\"\n  };\n};\nfunction TaxiComponent_div_2_p_dropdown_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-dropdown\", 36);\n    i0.ɵɵlistener(\"onChange\", function TaxiComponent_div_2_p_dropdown_47_Template_p_dropdown_onChange_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.reCalculateTaxiFormGroup());\n    });\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵproperty(\"options\", ctx_r11.replacementCodeType)(\"autoDisplayFirst\", false);\n  }\n}\nfunction TaxiComponent_div_2_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n              \");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n            \");\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                \", ctx_r13.getDescFromCode(ctx_r13.replacementCodeType, ctx_r13.taxiFormGroup.get(\"replacementInd\").value), \"\\n              \");\n  }\n}\nconst _c1 = function () {\n  return {\n    field: \"Driving Shift Start Time\"\n  };\n};\nfunction TaxiComponent_div_2_small_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 37);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nconst _c2 = function () {\n  return {\n    startField: \"Driving Shift Start Time\",\n    endField: \"Driving Shift End Time\"\n  };\n};\nfunction TaxiComponent_div_2_small_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"small\", 38);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nconst _c3 = function () {\n  return {\n    field: \"Driving Shift End Time\"\n  };\n};\nfunction TaxiComponent_div_2_small_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 37);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction0(1, _c3));\n  }\n}\nfunction TaxiComponent_div_2_p_inputNumber_90_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-inputNumber\", 39);\n    i0.ɵɵlistener(\"onBlur\", function TaxiComponent_div_2_p_inputNumber_90_Template_p_inputNumber_onBlur_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r35.reCalculateTaxiFormGroup());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"minFractionDigits\", 2);\n  }\n}\nfunction TaxiComponent_div_2_ng_template_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n          \");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\n            \", i0.ɵɵpipeBind2(3, 1, ctx_r19.taxiFormGroup.get(\"dailyRentalToCoy\").value, \"1.2-2\"), \"\\n          \");\n  }\n}\nfunction TaxiComponent_div_2_p_inputNumber_107_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-inputNumber\", 40);\n    i0.ɵɵlistener(\"onBlur\", function TaxiComponent_div_2_p_inputNumber_107_Template_p_inputNumber_onBlur_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.reCalculateTaxiFormGroup());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaxiComponent_div_2_label_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r21.taxiFormGroup.get(\"noReliefDriver\").value);\n  }\n}\nfunction TaxiComponent_div_2_input_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 41);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"disabled\", true)(\"value\", \"Not Applicable\");\n  }\n}\nfunction TaxiComponent_div_2_label_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵtext(1, \"Not Applicable\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaxiComponent_div_2_p_inputNumber_143_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-inputNumber\", 42);\n    i0.ɵɵlistener(\"onBlur\", function TaxiComponent_div_2_p_inputNumber_143_Template_p_inputNumber_onBlur_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.reCalculateTaxiFormGroup());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"minFractionDigits\", 2);\n  }\n}\nfunction TaxiComponent_div_2_ng_template_145_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n          \");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, ctx_r26.taxiFormGroup.get(\"dailyClaimableNetIncome\").value, \"1.2-2\"));\n  }\n}\nconst _c4 = function () {\n  return {\n    \"margin-left\": \"2em\",\n    \"margin-right\": \"2em\"\n  };\n};\nconst _c5 = function () {\n  return {\n    \"padding-top\": \"0.75em\",\n    \"padding-bottom\": \"0.75em\"\n  };\n};\nfunction TaxiComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"form\", 5);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"div\", 6);\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtext(9, \"\\n          \");\n    i0.ɵɵelementStart(10, \"div\", 9);\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementStart(12, \"label\", 10);\n    i0.ɵɵtext(13, \"Driving Shift: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n          \");\n    i0.ɵɵelementStart(16, \"div\", 9);\n    i0.ɵɵtext(17, \"\\n             \");\n    i0.ɵɵtemplate(18, TaxiComponent_div_2_input_18_Template, 1, 0, \"input\", 11);\n    i0.ɵɵtext(19, \"\\n            \");\n    i0.ɵɵtemplate(20, TaxiComponent_div_2_ng_template_20_Template, 4, 1, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(22, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n          \");\n    i0.ɵɵtemplate(24, TaxiComponent_div_2_div_24_Template, 5, 1, \"div\", 13);\n    i0.ɵɵtext(25, \"\\n          \");\n    i0.ɵɵelementStart(26, \"div\", 9);\n    i0.ɵɵtext(27, \"\\n            \");\n    i0.ɵɵelementStart(28, \"label\");\n    i0.ɵɵtext(29, \"to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n          \");\n    i0.ɵɵelementStart(32, \"div\", 9);\n    i0.ɵɵtext(33, \"\\n            \");\n    i0.ɵɵtemplate(34, TaxiComponent_div_2_input_34_Template, 1, 0, \"input\", 14);\n    i0.ɵɵtext(35, \"\\n            \");\n    i0.ɵɵtemplate(36, TaxiComponent_div_2_ng_template_36_Template, 4, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(38, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n          \");\n    i0.ɵɵtemplate(40, TaxiComponent_div_2_div_40_Template, 5, 1, \"div\", 13);\n    i0.ɵɵtext(41, \"\\n          \");\n    i0.ɵɵelementStart(42, \"div\", 16);\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementStart(44, \"label\");\n    i0.ɵɵtext(45, \"Replacement Driver: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n            \");\n    i0.ɵɵtemplate(47, TaxiComponent_div_2_p_dropdown_47_Template, 2, 5, \"p-dropdown\", 17);\n    i0.ɵɵtext(48, \"\\n            \");\n    i0.ɵɵtemplate(49, TaxiComponent_div_2_ng_template_49_Template, 4, 4, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(51, \"\\n         \\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n        \");\n    i0.ɵɵelementStart(54, \"div\", 19);\n    i0.ɵɵtext(55, \"\\n          \");\n    i0.ɵɵelementStart(56, \"div\", 20);\n    i0.ɵɵtext(57, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n          \");\n    i0.ɵɵelementStart(59, \"div\", 21);\n    i0.ɵɵtext(60, \"\\n            \");\n    i0.ɵɵelementStart(61, \"div\");\n    i0.ɵɵtext(62, \"\\n              \");\n    i0.ɵɵtemplate(63, TaxiComponent_div_2_small_63_Template, 2, 2, \"small\", 22);\n    i0.ɵɵtext(64, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n            \");\n    i0.ɵɵelementStart(66, \"div\");\n    i0.ɵɵtext(67, \"\\n            \");\n    i0.ɵɵtemplate(68, TaxiComponent_div_2_small_68_Template, 1, 2, \"small\", 23);\n    i0.ɵɵtext(69, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(71, \"\\n          \");\n    i0.ɵɵelementStart(72, \"div\", 24);\n    i0.ɵɵtext(73, \"\\n            \");\n    i0.ɵɵtemplate(74, TaxiComponent_div_2_small_74_Template, 2, 2, \"small\", 22);\n    i0.ɵɵtext(75, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(76, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(79, \"\\n    \");\n    i0.ɵɵelementStart(80, \"div\", 25);\n    i0.ɵɵtext(81, \"\\n      \");\n    i0.ɵɵelementStart(82, \"div\", 26);\n    i0.ɵɵtext(83, \"\\n        \");\n    i0.ɵɵelementStart(84, \"label\");\n    i0.ɵɵtext(85, \"Daily Rental to Company: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(86, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(87, \"\\n      \");\n    i0.ɵɵelementStart(88, \"div\", 9);\n    i0.ɵɵtext(89, \"\\n        \");\n    i0.ɵɵtemplate(90, TaxiComponent_div_2_p_inputNumber_90_Template, 1, 1, \"p-inputNumber\", 27);\n    i0.ɵɵtext(91, \"\\n        \");\n    i0.ɵɵtemplate(92, TaxiComponent_div_2_ng_template_92_Template, 5, 4, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(94, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(95, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(96, \"\\n    \");\n    i0.ɵɵelementStart(97, \"div\", 29);\n    i0.ɵɵtext(98, \"\\n      \");\n    i0.ɵɵelementStart(99, \"div\", 26);\n    i0.ɵɵtext(100, \"\\n       \");\n    i0.ɵɵelementStart(101, \"label\");\n    i0.ɵɵtext(102, \"Number of Relief Driver: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(103, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(104, \"\\n      \");\n    i0.ɵɵelementStart(105, \"div\", 9);\n    i0.ɵɵtext(106, \"\\n        \");\n    i0.ɵɵtemplate(107, TaxiComponent_div_2_p_inputNumber_107_Template, 1, 0, \"p-inputNumber\", 30);\n    i0.ɵɵtext(108, \"\\n        \");\n    i0.ɵɵtemplate(109, TaxiComponent_div_2_label_109_Template, 2, 1, \"label\", 1);\n    i0.ɵɵtext(110, \"\\n        \");\n    i0.ɵɵtemplate(111, TaxiComponent_div_2_input_111_Template, 1, 2, \"input\", 31);\n    i0.ɵɵtext(112, \"\\n        \");\n    i0.ɵɵtemplate(113, TaxiComponent_div_2_label_113_Template, 2, 0, \"label\", 1);\n    i0.ɵɵtext(114, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(115, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(116, \"\\n    \");\n    i0.ɵɵelementStart(117, \"div\", 29);\n    i0.ɵɵtext(118, \"\\n      \");\n    i0.ɵɵelementStart(119, \"div\", 26);\n    i0.ɵɵtext(120, \"\\n        \");\n    i0.ɵɵelementStart(121, \"label\");\n    i0.ɵɵtext(122, \"Daily Claimable Rental: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(123, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(124, \"\\n      \");\n    i0.ɵɵelementStart(125, \"div\", 9);\n    i0.ɵɵtext(126, \"\\n        \");\n    i0.ɵɵelementStart(127, \"label\");\n    i0.ɵɵtext(128);\n    i0.ɵɵpipe(129, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(130, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(131, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(132, \"\\n    \");\n    i0.ɵɵelementStart(133, \"div\", 29);\n    i0.ɵɵtext(134, \"\\n      \");\n    i0.ɵɵelementStart(135, \"div\", 26);\n    i0.ɵɵtext(136, \"\\n       \");\n    i0.ɵɵelementStart(137, \"label\");\n    i0.ɵɵtext(138, \"Daily Claimable Net Income: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(139, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(140, \"\\n      \");\n    i0.ɵɵelementStart(141, \"div\", 16);\n    i0.ɵɵtext(142, \"\\n        \");\n    i0.ɵɵtemplate(143, TaxiComponent_div_2_p_inputNumber_143_Template, 1, 1, \"p-inputNumber\", 32);\n    i0.ɵɵtext(144, \"\\n        \");\n    i0.ɵɵtemplate(145, TaxiComponent_div_2_ng_template_145_Template, 5, 4, \"ng-template\", null, 33, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(147, \"\\n        \");\n    i0.ɵɵelementStart(148, \"label\");\n    i0.ɵɵtext(149);\n    i0.ɵɵpipe(150, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(151, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(152, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(153, \"\\n    \");\n    i0.ɵɵelementStart(154, \"div\", 29);\n    i0.ɵɵtext(155, \"\\n      \");\n    i0.ɵɵelementStart(156, \"div\", 26);\n    i0.ɵɵtext(157, \"\\n        \");\n    i0.ɵɵelementStart(158, \"label\");\n    i0.ɵɵtext(159, \"Total Daily Claimable Income: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(160, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(161, \"\\n      \");\n    i0.ɵɵelementStart(162, \"div\", 9);\n    i0.ɵɵtext(163, \"\\n        \");\n    i0.ɵɵelementStart(164, \"label\");\n    i0.ɵɵtext(165);\n    i0.ɵɵpipe(166, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(167, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(168, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(169, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(170, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(21);\n    const _r8 = i0.ɵɵreference(37);\n    const _r12 = i0.ɵɵreference(50);\n    const _r18 = i0.ɵɵreference(93);\n    const _r25 = i0.ɵɵreference(146);\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_11_0;\n    let tmp_13_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.taxiFormGroup);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation())(\"ngIfElse\", _r4);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.taxiFormGroup.get(\"drivingShiftStart\").value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(40, _c4));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation())(\"ngIfElse\", _r8);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.taxiFormGroup.get(\"drivingShiftEnd\").value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(41, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation())(\"ngIfElse\", _r12);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx_r1.taxiFormGroup.get(\"drivingShiftStart\")) == null ? null : tmp_11_0.dirty) && ((tmp_11_0 = ctx_r1.taxiFormGroup.get(\"drivingShiftStart\")) == null ? null : tmp_11_0.hasError(\"invalidTime\")));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.taxiFormGroup.dirty && ctx_r1.taxiFormGroup.hasError(\"isBeforeWrkHrStart\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_13_0 = ctx_r1.taxiFormGroup.get(\"drivingShiftEnd\")) == null ? null : tmp_13_0.dirty) && ((tmp_13_0 = ctx_r1.taxiFormGroup.get(\"drivingShiftEnd\")) == null ? null : tmp_13_0.hasError(\"invalidTime\")));\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation())(\"ngIfElse\", _r18);\n    i0.ɵɵadvance(15);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(42, _c5));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isTaxiDriverWithRelief() && ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isTaxiDriverWithRelief() && (!ctx_r1.isActive() || ctx_r1.readOnly || !ctx_r1.hasValidAuthorityAndStation()));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isTaxiDriverWithRelief() && ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isTaxiDriverWithRelief() && (!ctx_r1.isActive() || ctx_r1.readOnly || !ctx_r1.hasValidAuthorityAndStation()));\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(ctx_r1.taxiFormGroup.get(\"replacementInd\").value === \"N\" ? i0.ɵɵpipeBind2(129, 31, ctx_r1.taxiFormGroup.get(\"dailyClaimableRental\").value, \"1.2-2\") : \"Not Applicable\");\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isActive() && !ctx_r1.readOnly && ctx_r1.hasValidAuthorityAndStation())(\"ngIfElse\", _r25);\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(43, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(Proposed: \", i0.ɵɵpipeBind2(150, 34, ctx_r1.proposeAmount(), \"1.2-2\"), \") \");\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(166, 37, ctx_r1.taxiFormGroup.get(\"totalDailyClaimableIncome\").value, \"1.2-2\"));\n  }\n}\nclass TaxiComponent {\n  constructor(seClaimService, formBuilder, dateUtilsService, codeService, accountService) {\n    this.seClaimService = seClaimService;\n    this.formBuilder = formBuilder;\n    this.dateUtilsService = dateUtilsService;\n    this.codeService = codeService;\n    this.accountService = accountService;\n    this.selectedWDOption = {};\n    this.seHardCopyDetails = {};\n    this.currHardCopyDetails = {};\n    this.replacementCodeType = [];\n    this.claimJson = claim_json_1.default;\n  }\n  static padLeft(text, padChar, size) {\n    return (String(padChar).repeat(size) + text).substr(size * -1, size);\n  }\n  static mapTaxiWDToFormGroup(taxiWD, formBuilder, currHardCopyDetails) {\n    const taxiFormGroup = formBuilder.group({\n      id: new forms_1.FormControl(taxiWD.id, null),\n      workingDataId: new forms_1.FormControl(taxiWD.workingDataId, null),\n      drivingShiftStart: new forms_1.FormControl(taxiWD.drivingShiftStart !== null ? TaxiComponent.padLeft(taxiWD.drivingShiftStart.toString(), '0', 4) : null, [time_directive_1.TimeValidator.wrkHourValidator()]),\n      drivingShiftEnd: new forms_1.FormControl(taxiWD.drivingShiftEnd !== null ? TaxiComponent.padLeft(taxiWD.drivingShiftEnd.toString(), '0', 4) : null, [time_directive_1.TimeValidator.wrkHourValidator()]),\n      replacementInd: new forms_1.FormControl(taxiWD.replacementInd, null),\n      dailyRentalToCoy: new forms_1.FormControl(taxiWD.dailyRentalToCoy, null),\n      noReliefDriver: new forms_1.FormControl(taxiWD.noReliefDriver, null),\n      dailyClaimableRental: new forms_1.FormControl(taxiWD.dailyClaimableRental, null),\n      dailyClaimableNetIncome: new forms_1.FormControl(taxiWD.dailyClaimableNetIncome, null),\n      totalDailyClaimableIncome: new forms_1.FormControl(null, null)\n    }, {\n      validators: [time_directive_1.TimeValidator.isBeforeWorkHourStart('drivingShiftStart', 'drivingShiftEnd'), time_directive_1.TimeValidator.isClaimAndDrivingWrkHourNotEqual('drivingShiftStart', 'drivingShiftEnd', currHardCopyDetails)]\n    });\n    return taxiFormGroup;\n  }\n  static mapTaxiFormGroupToWD(fg, obj) {\n    const taxiWD = {\n      id: fg.get('id').value,\n      workingDataId: fg.get('workingDataId').value,\n      drivingShiftStart: parseInt(fg.get('drivingShiftStart').value, 10),\n      drivingShiftEnd: parseInt(fg.get('drivingShiftEnd').value, 10),\n      replacementInd: fg.get('replacementInd').value,\n      dailyRentalToCoy: fg.get('dailyRentalToCoy').value,\n      noReliefDriver: fg.get('noReliefDriver').value,\n      dailyClaimableRental: fg.get('dailyClaimableRental').value,\n      dailyClaimableNetIncome: fg.get('dailyClaimableNetIncome').value,\n      archiveDt: obj.archiveDt\n    };\n    return taxiWD;\n  }\n  static createNewTaxiFormGroup(formBuilder, currHardCopyDetails) {\n    const taxiFormGroup = formBuilder.group({\n      id: new forms_1.FormControl(null, null),\n      workingDataId: new forms_1.FormControl(null, null),\n      drivingShiftStart: new forms_1.FormControl(null, [time_directive_1.TimeValidator.wrkHourValidator()]),\n      drivingShiftEnd: new forms_1.FormControl(null, [time_directive_1.TimeValidator.wrkHourValidator()]),\n      replacementInd: new forms_1.FormControl(null, null),\n      dailyRentalToCoy: new forms_1.FormControl(null, null),\n      noReliefDriver: new forms_1.FormControl(null, null),\n      dailyClaimableRental: new forms_1.FormControl(null, null),\n      dailyClaimableNetIncome: new forms_1.FormControl(null, null),\n      totalDailyClaimableIncome: new forms_1.FormControl(null, null)\n    }, {\n      validators: [time_directive_1.TimeValidator.isBeforeWorkHourStart('drivingShiftStart', 'drivingShiftEnd'), time_directive_1.TimeValidator.isClaimAndDrivingWrkHourNotEqual('drivingShiftStart', 'drivingShiftEnd', currHardCopyDetails)]\n    });\n    return taxiFormGroup;\n  }\n  ngOnInit() {\n    console.log(\"test\");\n  }\n  ngOnChanges(changes) {\n    console.log(\"taxi found changes\");\n    if (changes.seHardCopyDetails?.currentValue) {\n      this.currHardCopyDetails = changes.seHardCopyDetails.currentValue;\n      console.log(\"taxi found hardcopy changes\");\n    }\n    if (changes.selectedWDOption?.currentValue) {\n      this.currSelectedOption = changes.selectedWDOption?.currentValue;\n      if (changes.selectedWDOption?.isFirstChange()) {\n        this.loadCodes();\n      }\n      this.retrieveTaxiWD();\n    }\n  }\n  retrieveTaxiWD() {\n    this.taxiFormGroup = undefined;\n    if (!this.currSelectedOption.changes && !this.currSelectedOption.newWD) {\n      let params = new http_1.HttpParams();\n      params = params.append(\"workingDataId\", this.currSelectedOption?.obj?.workingDataId);\n      this.seClaimService.retrieveTaxiWD(params).subscribe(res => {\n        if (res.data) {\n          this.taxiFormGroup = TaxiComponent.mapTaxiWDToFormGroup(res.data, this.formBuilder, this.currHardCopyDetails);\n          this.reCalculateTaxiFormGroup();\n          this.valueChangeSubcriptions();\n        }\n      });\n    } else if (this.currSelectedOption.changes && !this.currSelectedOption.newWD) {\n      console.log(\"get from changes WD Map\");\n      this.taxiFormGroup = this.workingDataWithChanges.get(this.currSelectedOption?.obj?.workingDataId).formGroup;\n      this.reCalculateTaxiFormGroup();\n      console.log(this.taxiFormGroup);\n    } else if (this.currSelectedOption.newWD) {\n      console.log(\"get from new WD Map\");\n      this.taxiFormGroup = this.newUnsavedWorkingData.get(this.currSelectedOption?.key.toString()).formGroup;\n      this.reCalculateTaxiFormGroup();\n      console.log(this.taxiFormGroup);\n    }\n  }\n  valueChangeSubcriptions() {\n    this.taxiFormGroup.valueChanges.subscribe(() => {\n      this.currSelectedOption.changes = true;\n      this.saveSEClaimRequest.workingDataSectionInd = true;\n      if (!this.workingDataWithChanges.has(this.currSelectedOption?.obj?.workingDataId)) {\n        this.workingDataWithChanges.set(this.currSelectedOption?.obj?.workingDataId, {\n          obj: this.currSelectedOption.obj,\n          formGroup: this.taxiFormGroup\n        });\n      }\n    });\n  }\n  onBeforeInput(event) {\n    if (event.inputType === \"insertText\" || event.inputType === \"insertFromPaste\") {\n      return /^\\d+$/.test(event.data);\n    }\n    return true;\n  }\n  onBlur(event, controlName) {\n    console.log(event.target.value);\n    if (event.target.value) {\n      this.taxiFormGroup.get(controlName).setValue(TaxiComponent.padLeft(event.target.value, \"0\", 4));\n    }\n  }\n  reCalculateTaxiFormGroup() {\n    //dailyClaimableRental\n    console.log(\"got come here\");\n    if (this.taxiFormGroup.get('replacementInd').value === \"Y\") {\n      this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\n    } else if (this.taxiFormGroup.get('replacementInd').value === \"N\") {\n      if (this.isTaxiDriverWithRelief()) {\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(this.taxiFormGroup.get('dailyRentalToCoy').value / (this.taxiFormGroup.get('noReliefDriver').value + 1));\n      } else if (this.isTaxiDriverWithoutReliefOrTaxiReliefDriver()) {\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(this.taxiFormGroup.get('dailyRentalToCoy').value);\n      } else {\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\n      }\n    } else {\n      this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\n    }\n    //totalDailyClaimableIncome\n    this.taxiFormGroup.get('totalDailyClaimableIncome').setValue(this.taxiFormGroup.get('dailyClaimableRental').value + this.taxiFormGroup.get('dailyClaimableNetIncome').value);\n    // this.taxiFormGroup.get('totalDailyClaimableIncome').setValue(100.21 );\n  }\n\n  loadCodes() {\n    this.codeService.gets('taxi_replacement').subscribe(codes => {\n      this.replacementCodeType = codes[0]?.map(x => {\n        return {\n          name: x.label['en-US'],\n          code: x.codeId\n        };\n      });\n    });\n  }\n  formatTime(time) {\n    let rslt = \"\";\n    if ((0, moment_1.default)(time, ['HH:mm']).isValid()) {\n      rslt = (0, moment_1.default)(time, ['HH:mm']).format('hh:mm A');\n    }\n    return rslt;\n  }\n  proposeAmount() {\n    const occupationCode = this.currHardCopyDetails.occupationCode;\n    if (occupationCode === \"120\" || occupationCode === \"130\") {\n      return 80.00;\n    } else if (occupationCode === \"110\") {\n      return 100.00;\n    } else {\n      return 0.00;\n    }\n  }\n  isTaxiDriverWithRelief() {\n    const occupationCode = this.currHardCopyDetails.occupationCode;\n    if (occupationCode === \"120\") {\n      return true;\n    }\n    return false;\n  }\n  isTaxiDriverWithoutReliefOrTaxiReliefDriver() {\n    const occupationCode = this.currHardCopyDetails.occupationCode;\n    if (occupationCode === \"110\" || occupationCode === \"130\") {\n      return true;\n    }\n    return false;\n  }\n  isActive() {\n    return this.currSelectedOption?.obj?.archiveDt === 0;\n  }\n  getDescFromCode(codeTypeArray, codeTypeId) {\n    return codeTypeArray.find(x => x.code === codeTypeId)?.name;\n  }\n  isValidNumber(obj) {\n    return !isNaN(obj);\n  }\n  //allows input on need basis\n  hasValidAuthorityAndStation() {\n    if (this.accountService.hasAnyAuthority(nspay2_constants_1.NSPAY2_ROLES.CLAIMS_VERIFIER) && this.station === nspay2_constants_1.NSPAY2_STATION.STATION_VERIFICATION) {\n      return true;\n    }\n    if (this.accountService.hasAnyAuthority(nspay2_constants_1.NSPAY2_ROLES.CLAIMS_APPROVER) && this.station === nspay2_constants_1.NSPAY2_STATION.STATION_CERTIFICATION) {\n      return false;\n    }\n    if (this.accountService.hasAnyAuthority(nspay2_constants_1.NSPAY2_ROLES.CLAIMS_APPROVER) && this.station === nspay2_constants_1.NSPAY2_STATION.STATION_APPROVAL) {\n      return false;\n    }\n    return false;\n  }\n}\nexports.TaxiComponent = TaxiComponent;\nTaxiComponent.ɵfac = function TaxiComponent_Factory(t) {\n  return new (t || TaxiComponent)(i0.ɵɵdirectiveInject(i1.SEClaimService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.DateUtilsService), i0.ɵɵdirectiveInject(i4.IcCodeService), i0.ɵɵdirectiveInject(i5.AccountService));\n};\nTaxiComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TaxiComponent,\n  selectors: [[\"n2-taxi\"]],\n  inputs: {\n    selectedWDOption: \"selectedWDOption\",\n    seHardCopyDetails: \"seHardCopyDetails\",\n    workingDataWithChanges: \"workingDataWithChanges\",\n    newUnsavedWorkingData: \"newUnsavedWorkingData\",\n    saveSEClaimRequest: \"saveSEClaimRequest\",\n    readOnly: \"readOnly\",\n    station: \"station\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 4,\n  vars: 2,\n  consts: [[\"severity\", \"warn\", 4, \"ngIf\"], [4, \"ngIf\"], [\"severity\", \"warn\"], [\"key\", \"CLM-W007\", \"pTemplate\", \"\"], [1, \"ml-2\"], [3, \"formGroup\"], [1, \"grid\"], [1, \"col-9\"], [1, \"field\", \"grid\", \"mb-0\"], [1, \"col-1\", \"flex\", \"align-items-center\"], [\"for\", \"drivingShiftStart\"], [\"type\", \"input\", \"pInputText\", \"\", \"id\", \"drivingShiftStart\", \"formControlName\", \"drivingShiftStart\", \"maxlength\", \"4\", \"size\", \"4\", 3, \"beforeinput\", \"blur\", 4, \"ngIf\", \"ngIfElse\"], [\"labelDrivingShiftStart\", \"\"], [\"class\", \"col-1 flex align-items-center\", 4, \"ngIf\"], [\"type\", \"input\", \"pInputText\", \"\", \"formControlName\", \"drivingShiftEnd\", \"maxlength\", \"4\", \"size\", \"4\", 3, \"beforeinput\", \"blur\", 4, \"ngIf\", \"ngIfElse\"], [\"labelDrivingShiftEnd\", \"\"], [1, \"col-3\", \"flex\", \"align-items-center\"], [\"formControlName\", \"replacementInd\", \"optionLabel\", \"name\", \"optionValue\", \"code\", 3, \"style\", \"options\", \"autoDisplayFirst\", \"onChange\", 4, \"ngIf\", \"ngIfElse\"], [\"labelReplacementInd\", \"\"], [1, \"field\", \"grid\", \"my-0\"], [1, \"col-1\"], [1, \"col-3\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.claim.validation.CLM-V002\", 3, \"translateValues\", 4, \"ngIf\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.claim.validation.CLM-V004\", 3, \"translateValues\", 4, \"ngIf\"], [1, \"col-2\"], [1, \"grid\", \"gap-4\", \"pt-2\"], [1, \"col-2\", \"flex\", \"align-items-center\"], [\"formControlName\", \"dailyRentalToCoy\", \"mode\", \"decimal\", 3, \"minFractionDigits\", \"onBlur\", 4, \"ngIf\", \"ngIfElse\"], [\"labelDailyRentalToCoy\", \"\"], [1, \"grid\", \"gap-4\", \"py-1\"], [\"formControlName\", \"noReliefDriver\", 3, \"onBlur\", 4, \"ngIf\"], [\"type\", \"input\", \"pInputText\", \"\", 3, \"disabled\", \"value\", 4, \"ngIf\"], [\"formControlName\", \"dailyClaimableNetIncome\", \"mode\", \"decimal\", 3, \"minFractionDigits\", \"onBlur\", 4, \"ngIf\", \"ngIfElse\"], [\"labelClaimableNetIncome\", \"\"], [\"type\", \"input\", \"pInputText\", \"\", \"id\", \"drivingShiftStart\", \"formControlName\", \"drivingShiftStart\", \"maxlength\", \"4\", \"size\", \"4\", 3, \"beforeinput\", \"blur\"], [\"type\", \"input\", \"pInputText\", \"\", \"formControlName\", \"drivingShiftEnd\", \"maxlength\", \"4\", \"size\", \"4\", 3, \"beforeinput\", \"blur\"], [\"formControlName\", \"replacementInd\", \"optionLabel\", \"name\", \"optionValue\", \"code\", 3, \"options\", \"autoDisplayFirst\", \"onChange\"], [\"icTranslate\", \"nspay2App.claim.validation.CLM-V002\", 1, \"p-error\", 3, \"translateValues\"], [\"icTranslate\", \"nspay2App.claim.validation.CLM-V004\", 1, \"p-error\", 3, \"translateValues\"], [\"formControlName\", \"dailyRentalToCoy\", \"mode\", \"decimal\", 3, \"minFractionDigits\", \"onBlur\"], [\"formControlName\", \"noReliefDriver\", 3, \"onBlur\"], [\"type\", \"input\", \"pInputText\", \"\", 3, \"disabled\", \"value\"], [\"formControlName\", \"dailyClaimableNetIncome\", \"mode\", \"decimal\", 3, \"minFractionDigits\", \"onBlur\"]],\n  template: function TaxiComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TaxiComponent_p_messages_0_Template, 4, 0, \"p-messages\", 0);\n      i0.ɵɵtext(1, \"\\n\\n\");\n      i0.ɵɵtemplate(2, TaxiComponent_div_2_Template, 171, 44, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.taxiFormGroup.dirty && ctx.taxiFormGroup.hasError(\"isClaimAndDrivingWrkHrNotEqual\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.taxiFormGroup !== undefined);\n    }\n  },\n  dependencies: [i6.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.MaxLengthValidator, i2.FormGroupDirective, i2.FormControlName, i7.PrimeTemplate, i8.Dropdown, i9.InputText, i10.Messages, i11.InputNumber, i12.TranslateDirective, i6.DecimalPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YXhpLmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vc2UtY2xhaW0vc2UtY2xhaW0tdmVyaWZpY2F0aW9uL3dvcmtpbmctZGF0YS1zZWN0aW9uL3RheGkvdGF4aS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0tBQWdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","TaxiComponent","constructor","seClaimService","formBuilder","dateUtilsService","codeService","accountService","claimJson","claim_json_1","padLeft","text","padChar","size","String","repeat","substr","mapTaxiWDToFormGroup","taxiWD","currHardCopyDetails","taxiFormGroup","group","id","forms_1","workingDataId","drivingShiftStart","toString","time_directive_1","wrkHourValidator","drivingShiftEnd","replacementInd","dailyRentalToCoy","noReliefDriver","dailyClaimableRental","dailyClaimableNetIncome","totalDailyClaimableIncome","validators","isBeforeWorkHourStart","isClaimAndDrivingWrkHourNotEqual","mapTaxiFormGroupToWD","fg","obj","get","value","parseInt","archiveDt","createNewTaxiFormGroup","ngOnInit","console","log","ngOnChanges","changes","seHardCopyDetails","currentValue","selectedWDOption","currSelectedOption","isFirstChange","loadCodes","retrieveTaxiWD","undefined","newWD","params","http_1","append","subscribe","res","data","reCalculateTaxiFormGroup","valueChangeSubcriptions","workingDataWithChanges","formGroup","newUnsavedWorkingData","key","valueChanges","saveSEClaimRequest","workingDataSectionInd","has","set","onBeforeInput","event","inputType","test","onBlur","controlName","target","setValue","isTaxiDriverWithRelief","isTaxiDriverWithoutReliefOrTaxiReliefDriver","gets","codes","replacementCodeType","map","x","name","label","code","codeId","formatTime","time","rslt","isValid","format","proposeAmount","occupationCode","isActive","getDescFromCode","codeTypeArray","codeTypeId","find","isValidNumber","isNaN","hasValidAuthorityAndStation","hasAnyAuthority","nspay2_constants_1","CLAIMS_VERIFIER","station","STATION_VERIFICATION","CLAIMS_APPROVER","STATION_CERTIFICATION","STATION_APPROVAL","exports","selectors","inputs","readOnly","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\se-claim\\se-claim-verification\\working-data-section\\taxi\\taxi.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\se-claim\\se-claim-verification\\working-data-section\\taxi\\taxi.component.html"],"sourcesContent":["import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\r\nimport {HttpParams} from \"@angular/common/http\";\r\nimport {Ns2Response} from \"app/shared/model/ns2-response.model\";\r\nimport {PhdDeliveryWD} from \"app/claim/se-claim/model/phd-delivery.model\";\r\nimport {SEClaimService} from \"app/claim/se-claim/service/se-claim.service\";\r\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {TaxiWD} from \"app/claim/se-claim/model/taxi-model\";\r\nimport {SaveSEClaimRequest} from \"app/claim/se-claim/model/save-se-claim-request.model\";\r\nimport {DateUtilsService} from \"app/core/util/date-utils.service\";\r\nimport moment from \"moment/moment\";\r\nimport {TimeValidator} from \"app/shared/validator/time.directive\";\r\nimport {DateValidator} from \"app/shared/validator/date-validator.directive\";\r\nimport {CodeView, IcCodeService} from \"app/ng-connect\";\r\nimport claim from '../../../../../../i18n/en/claim.json';\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { NSPAY2_ROLES, NSPAY2_STATION } from 'app/nspay2.constants';\r\n\r\n@Component({\r\n  selector: 'n2-taxi',\r\n  templateUrl: './taxi.component.html',\r\n  styleUrls: ['./taxi.component.scss']\r\n})\r\nexport class TaxiComponent implements OnInit, OnChanges {\r\n\r\n  @Input() selectedWDOption:any = {};\r\n  @Input() seHardCopyDetails: any = {};\r\n  @Input() workingDataWithChanges: Map<string, any>;\r\n  @Input() newUnsavedWorkingData: Map<string, any>;\r\n  @Input() saveSEClaimRequest: SaveSEClaimRequest;\r\n  //meant for routing from enquiry\r\n  @Input() readOnly: boolean;\r\n  @Input() station: string;\r\n\r\n  currHardCopyDetails: any = {};\r\n  claimJson: any;\r\n\r\n  taxiFormGroup: FormGroup;\r\n\r\n  currSelectedOption: any;\r\n  replacementCodeType: any[] = [];\r\n\r\n  constructor(private seClaimService: SEClaimService,\r\n              private formBuilder: FormBuilder,\r\n              public dateUtilsService: DateUtilsService,\r\n              private codeService: IcCodeService,\r\n              public accountService: AccountService\r\n              ) {\r\n    this.claimJson = claim;\r\n  }\r\n\r\n  static padLeft(text: string, padChar: string, size: number): string {\r\n    return (String(padChar).repeat(size) + text).substr(size * -1, size);\r\n  }\r\n\r\n  static mapTaxiWDToFormGroup(taxiWD: TaxiWD, formBuilder: FormBuilder, currHardCopyDetails: any): FormGroup{\r\n    const taxiFormGroup: FormGroup = formBuilder.group({\r\n      id: new FormControl(taxiWD.id,null),\r\n      workingDataId: new FormControl(taxiWD.workingDataId,null),\r\n      drivingShiftStart: new FormControl(taxiWD.drivingShiftStart !== null ? TaxiComponent.padLeft(taxiWD.drivingShiftStart.toString(),'0',4) : null,[TimeValidator.wrkHourValidator()]),\r\n      drivingShiftEnd: new FormControl(taxiWD.drivingShiftEnd !== null ? TaxiComponent.padLeft(taxiWD.drivingShiftEnd.toString(),'0',4) : null,[TimeValidator.wrkHourValidator()]),\r\n      replacementInd: new FormControl(taxiWD.replacementInd,null),\r\n      dailyRentalToCoy: new FormControl(taxiWD.dailyRentalToCoy,null),\r\n      noReliefDriver: new FormControl(taxiWD.noReliefDriver,null),\r\n      dailyClaimableRental: new FormControl(taxiWD.dailyClaimableRental,null),\r\n      dailyClaimableNetIncome: new FormControl(taxiWD.dailyClaimableNetIncome,null),\r\n      totalDailyClaimableIncome: new FormControl(null,null)\r\n    },{ validators:\r\n        [TimeValidator.isBeforeWorkHourStart('drivingShiftStart', 'drivingShiftEnd')\r\n        ,TimeValidator.isClaimAndDrivingWrkHourNotEqual('drivingShiftStart', 'drivingShiftEnd', currHardCopyDetails)]});\r\n    return taxiFormGroup;\r\n  }\r\n\r\n  static mapTaxiFormGroupToWD(fg: FormGroup, obj: any): TaxiWD {\r\n    const taxiWD: TaxiWD = {\r\n      id: fg.get('id').value,\r\n      workingDataId: fg.get('workingDataId').value,\r\n      drivingShiftStart: parseInt(fg.get('drivingShiftStart').value,10),\r\n      drivingShiftEnd: parseInt(fg.get('drivingShiftEnd').value,10),\r\n      replacementInd: fg.get('replacementInd').value,\r\n      dailyRentalToCoy: fg.get('dailyRentalToCoy').value,\r\n      noReliefDriver: fg.get('noReliefDriver').value,\r\n      dailyClaimableRental: fg.get('dailyClaimableRental').value,\r\n      dailyClaimableNetIncome: fg.get('dailyClaimableNetIncome').value,\r\n      archiveDt: obj.archiveDt\r\n    };\r\n    return taxiWD\r\n  }\r\n\r\n  static createNewTaxiFormGroup(formBuilder: FormBuilder, currHardCopyDetails: any): FormGroup{\r\n    const taxiFormGroup: FormGroup = formBuilder.group({\r\n      id: new FormControl(null,null),\r\n      workingDataId: new FormControl(null,null),\r\n      drivingShiftStart: new FormControl(null,[TimeValidator.wrkHourValidator()]),\r\n      drivingShiftEnd: new FormControl(null,[TimeValidator.wrkHourValidator()]),\r\n      replacementInd: new FormControl(null,null),\r\n      dailyRentalToCoy: new FormControl(null,null),\r\n      noReliefDriver: new FormControl(null,null),\r\n      dailyClaimableRental: new FormControl(null,null),\r\n      dailyClaimableNetIncome: new FormControl(null,null),\r\n      totalDailyClaimableIncome: new FormControl(null,null)\r\n    },{ validators:\r\n        [TimeValidator.isBeforeWorkHourStart('drivingShiftStart', 'drivingShiftEnd')\r\n          ,TimeValidator.isClaimAndDrivingWrkHourNotEqual('drivingShiftStart', 'drivingShiftEnd', currHardCopyDetails)]});\r\n    return taxiFormGroup;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"test\");\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void{\r\n    console.log(\"taxi found changes\");\r\n    if(changes.seHardCopyDetails?.currentValue){\r\n      this.currHardCopyDetails = changes.seHardCopyDetails.currentValue;\r\n      console.log(\"taxi found hardcopy changes\");\r\n    }\r\n    if(changes.selectedWDOption?.currentValue){\r\n      this.currSelectedOption = changes.selectedWDOption?.currentValue;\r\n      if(changes.selectedWDOption?.isFirstChange()) {\r\n        this.loadCodes();\r\n      }\r\n      this.retrieveTaxiWD();\r\n\r\n    }\r\n\r\n  }\r\n\r\n  retrieveTaxiWD() {\r\n    this.taxiFormGroup = undefined;\r\n    if(!this.currSelectedOption.changes && !this.currSelectedOption.newWD) {\r\n      let params = new HttpParams();\r\n      params = params.append(\"workingDataId\", this.currSelectedOption?.obj?.workingDataId);\r\n      this.seClaimService.retrieveTaxiWD(params)\r\n        .subscribe((res: Ns2Response<TaxiWD>) => {\r\n          if (res.data) {\r\n            this.taxiFormGroup = TaxiComponent.mapTaxiWDToFormGroup(res.data, this.formBuilder, this.currHardCopyDetails);\r\n            this.reCalculateTaxiFormGroup();\r\n            this.valueChangeSubcriptions();\r\n          }\r\n        });\r\n    } else if(this.currSelectedOption.changes && !this.currSelectedOption.newWD) {\r\n      console.log(\"get from changes WD Map\")\r\n      this.taxiFormGroup = this.workingDataWithChanges.get(this.currSelectedOption?.obj?.workingDataId).formGroup as FormGroup;\r\n      this.reCalculateTaxiFormGroup();\r\n      console.log(this.taxiFormGroup);\r\n\r\n    } else if(this.currSelectedOption.newWD) {\r\n      console.log(\"get from new WD Map\");\r\n      this.taxiFormGroup = this.newUnsavedWorkingData.get(this.currSelectedOption?.key.toString()).formGroup as FormGroup;\r\n      this.reCalculateTaxiFormGroup();\r\n      console.log(this.taxiFormGroup);\r\n    }\r\n  }\r\n\r\n  valueChangeSubcriptions() {\r\n    this.taxiFormGroup.valueChanges.subscribe(() => {\r\n      this.currSelectedOption.changes = true;\r\n      this.saveSEClaimRequest.workingDataSectionInd = true;\r\n      if (!this.workingDataWithChanges.has(this.currSelectedOption?.obj?.workingDataId)) {\r\n        this.workingDataWithChanges.set(this.currSelectedOption?.obj?.workingDataId,\r\n          {\r\n            obj: this.currSelectedOption.obj,\r\n            formGroup: this.taxiFormGroup\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  onBeforeInput(event: InputEvent): boolean{\r\n    if(event.inputType === \"insertText\" || event.inputType === \"insertFromPaste\") {\r\n      return /^\\d+$/.test(event.data);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  onBlur(event: any, controlName: string): void{\r\n    console.log(event.target.value);\r\n    if(event.target.value) {\r\n      this.taxiFormGroup.get(controlName).setValue(TaxiComponent.padLeft(event.target.value, \"0\", 4));\r\n    }\r\n  }\r\n\r\n  reCalculateTaxiFormGroup(): void{\r\n    //dailyClaimableRental\r\n    console.log(\"got come here\");\r\n    if(this.taxiFormGroup.get('replacementInd').value === \"Y\") {\r\n      this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\r\n    } else if(this.taxiFormGroup.get('replacementInd').value === \"N\") {\r\n      if(this.isTaxiDriverWithRelief()) {\r\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(this.taxiFormGroup.get('dailyRentalToCoy').value / (this.taxiFormGroup.get('noReliefDriver').value as number + 1));\r\n      } else if(this.isTaxiDriverWithoutReliefOrTaxiReliefDriver()) {\r\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(this.taxiFormGroup.get('dailyRentalToCoy').value);\r\n      } else {\r\n        this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\r\n      }\r\n    } else{\r\n      this.taxiFormGroup.get('dailyClaimableRental').setValue(null);\r\n    }\r\n\r\n    //totalDailyClaimableIncome\r\n    this.taxiFormGroup.get('totalDailyClaimableIncome').setValue((this.taxiFormGroup.get('dailyClaimableRental').value as number) + (this.taxiFormGroup.get('dailyClaimableNetIncome').value as number));\r\n    // this.taxiFormGroup.get('totalDailyClaimableIncome').setValue(100.21 );\r\n\r\n  }\r\n\r\n  loadCodes() {\r\n       this.codeService.gets('taxi_replacement')\r\n      .subscribe((codes: any[]) => {\r\n        this.replacementCodeType = codes[0]?.map((x:CodeView)=> {\r\n          return {name:x.label['en-US'], code: x.codeId}\r\n        });\r\n      });\r\n  }\r\n\r\n  formatTime(time: any): string {\r\n    let rslt = \"\";\r\n    if(moment(time,['HH:mm']).isValid()){\r\n      rslt =moment(time,['HH:mm']).format('hh:mm A');\r\n    }\r\n    return rslt;\r\n  }\r\n\r\n  proposeAmount(): number{\r\n    const occupationCode = this.currHardCopyDetails.occupationCode;\r\n    if(occupationCode === \"120\" || occupationCode === \"130\"){\r\n      return 80.00;\r\n    } else if(occupationCode === \"110\") {\r\n      return 100.00;\r\n    } else {\r\n      return 0.00;\r\n    }\r\n  }\r\n\r\n  isTaxiDriverWithRelief(): boolean{\r\n    const occupationCode = this.currHardCopyDetails.occupationCode;\r\n    if(occupationCode === \"120\"){\r\n      return true;\r\n    }\r\n    return false\r\n  }\r\n\r\n  isTaxiDriverWithoutReliefOrTaxiReliefDriver(): boolean{\r\n    const occupationCode = this.currHardCopyDetails.occupationCode;\r\n    if(occupationCode === \"110\" ||occupationCode === \"130\" ){\r\n      return true;\r\n    }\r\n    return false\r\n  }\r\n\r\n  isActive(): boolean{\r\n    return this.currSelectedOption?.obj?.archiveDt===0;\r\n  }\r\n\r\n  getDescFromCode(codeTypeArray:any[], codeTypeId:string) : string {\r\n    return codeTypeArray.find(x => x.code === codeTypeId)?.name as string;\r\n  }\r\n\r\n  isValidNumber(obj: any): boolean{\r\n    return !isNaN(obj);\r\n  }\r\n\r\n  //allows input on need basis\r\n  hasValidAuthorityAndStation(): boolean{\r\n    if(this.accountService.hasAnyAuthority(NSPAY2_ROLES.CLAIMS_VERIFIER) && \r\n      this.station === NSPAY2_STATION.STATION_VERIFICATION){\r\n        return true;\r\n      }\r\n    if(this.accountService.hasAnyAuthority(NSPAY2_ROLES.CLAIMS_APPROVER) && \r\n    this.station === NSPAY2_STATION.STATION_CERTIFICATION) {\r\n      return false;\r\n    }\r\n    if(this.accountService.hasAnyAuthority(NSPAY2_ROLES.CLAIMS_APPROVER) && \r\n    this.station === NSPAY2_STATION.STATION_APPROVAL) {\r\n      return false;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","<p-messages severity=\"warn\" *ngIf=\"this.taxiFormGroup.dirty && this.taxiFormGroup.hasError('isClaimAndDrivingWrkHrNotEqual')\">\r\n  <ng-template key=\"CLM-W007\" pTemplate >\r\n      <div class=\"ml-2\">{{ claimJson.nspay2App.claim.warning['CLM-W007'] }}</div>\r\n  </ng-template>\r\n</p-messages>\r\n\r\n<div *ngIf=\"taxiFormGroup !== undefined\">\r\n  <form [formGroup] = \"taxiFormGroup\">\r\n    <div class = \"grid\">\r\n      <div class = \"col-9\">\r\n        <div class = \"field grid mb-0\">\r\n          <div class= \"col-1 flex align-items-center\">\r\n            <label for=\"drivingShiftStart\">Driving Shift: </label>\r\n          </div>\r\n          <div class= \"col-1 flex align-items-center\">\r\n             <input *ngIf =\"isActive() && !readOnly && hasValidAuthorityAndStation(); else labelDrivingShiftStart\" type=\"input\" pInputText\r\n                   id=\"drivingShiftStart\" formControlName = \"drivingShiftStart\"\r\n                   maxlength=\"4\" size = \"4\" (beforeinput)=\"onBeforeInput($event)\"\r\n                   (blur) = \"onBlur($event,'drivingShiftStart')\">\r\n            <ng-template #labelDrivingShiftStart>\r\n              <label>{{this.taxiFormGroup.get('drivingShiftStart').value}}</label>\r\n            </ng-template>\r\n          </div>\r\n          <div class= \"col-1 flex align-items-center\" *ngIf = \"this.taxiFormGroup.get('drivingShiftStart').value\">\r\n            <label>({{this.formatTime(this.taxiFormGroup.get('drivingShiftStart').value)}})</label>\r\n          </div>\r\n          <div class= \"col-1 flex align-items-center\">\r\n            <label [style] = \"{'margin-left':'2em','margin-right':'2em'}\">to</label>\r\n          </div>\r\n          <div class= \"col-1 flex align-items-center\">\r\n            <input *ngIf =\"isActive() && !readOnly && hasValidAuthorityAndStation(); else labelDrivingShiftEnd\" type=\"input\" pInputText formControlName = \"drivingShiftEnd\"\r\n                   maxlength=\"4\" size = \"4\" (beforeinput)=\"onBeforeInput($event)\"\r\n                   (blur) = \"onBlur($event,'drivingShiftEnd')\">\r\n            <ng-template #labelDrivingShiftEnd>\r\n              <label>{{this.taxiFormGroup.get('drivingShiftEnd').value}}</label>\r\n            </ng-template>\r\n          </div>\r\n          <div class= \"col-1 flex align-items-center\" *ngIf = \"this.taxiFormGroup.get('drivingShiftEnd').value\">\r\n            <label>({{this.formatTime(this.taxiFormGroup.get('drivingShiftEnd').value)}})</label>\r\n          </div>\r\n          <div class= \"col-3 flex align-items-center\">\r\n            <label [style] = \"{'margin-left':'1em'}\">Replacement Driver: </label>\r\n            <p-dropdown *ngIf =\"isActive() && !readOnly && hasValidAuthorityAndStation(); else labelReplacementInd\"\r\n              [style] = \"{'margin-left':'1em'}\"\r\n              [options] = \"replacementCodeType\" formControlName = \"replacementInd\" [autoDisplayFirst] = false\r\n              optionLabel=\"name\" optionValue=\"code\" (onChange)= \"reCalculateTaxiFormGroup()\">\r\n            </p-dropdown>\r\n            <ng-template #labelReplacementInd>\r\n              <label [style] = \"{'margin-left':'1em'}\">\r\n                {{this.getDescFromCode(this.replacementCodeType, this.taxiFormGroup.get('replacementInd').value)}}\r\n              </label>\r\n            </ng-template>\r\n         \r\n          </div>\r\n        </div>\r\n        <div class = \"field grid my-0\">\r\n          <div class= \"col-1\">\r\n          </div>\r\n          <div class= \"col-3\">\r\n            <div>\r\n              <small *ngIf=\"this.taxiFormGroup.get('drivingShiftStart')?.dirty && this.taxiFormGroup.get('drivingShiftStart')?.hasError('invalidTime')\"\r\n                     class=\"p-error\" icTranslate=\"nspay2App.claim.validation.CLM-V002\"\r\n                     [translateValues]=\"{ field: 'Driving Shift Start Time' }\">\r\n              </small>\r\n            </div>\r\n            <div>\r\n            <small *ngIf=\"this.taxiFormGroup.dirty && this.taxiFormGroup.hasError('isBeforeWrkHrStart')\" class=\"p-error\" icTranslate=\"nspay2App.claim.validation.CLM-V004\"\r\n                   [translateValues]=\"{ startField: 'Driving Shift Start Time', endField:'Driving Shift End Time' }\"></small>\r\n            </div>\r\n          </div>\r\n          <div class= \"col-2\">\r\n            <small *ngIf=\"this.taxiFormGroup.get('drivingShiftEnd')?.dirty && this.taxiFormGroup.get('drivingShiftEnd')?.hasError('invalidTime')\"\r\n                   class=\"p-error\" icTranslate=\"nspay2App.claim.validation.CLM-V002\"\r\n                   [translateValues]=\"{ field: 'Driving Shift End Time' }\">\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class = \"grid gap-4 pt-2\">\r\n      <div class= \"col-2 flex align-items-center \">\r\n        <label>Daily Rental to Company: </label>\r\n      </div>\r\n      <div class= \"col-1 flex align-items-center \">\r\n        <p-inputNumber *ngIf =\"isActive() && !readOnly && hasValidAuthorityAndStation(); else labelDailyRentalToCoy\" formControlName = \"dailyRentalToCoy\" mode=\"decimal\" [minFractionDigits]=\"2\" (onBlur)=\"reCalculateTaxiFormGroup()\"></p-inputNumber>\r\n        <ng-template #labelDailyRentalToCoy>\r\n          <label>\r\n            {{this.taxiFormGroup.get('dailyRentalToCoy').value | number: '1.2-2'}}\r\n          </label>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n    <div class = \"grid gap-4 py-1\">\r\n      <div class= \"col-2 flex align-items-center \">\r\n       <label>Number of Relief Driver: </label>\r\n      </div>\r\n      <div [style] = \"{'padding-top':'0.75em','padding-bottom':'0.75em'}\"  class= \"col-1 flex align-items-center\">\r\n        <p-inputNumber *ngIf =\"isTaxiDriverWithRelief() && isActive() && !readOnly && hasValidAuthorityAndStation()\" formControlName = \"noReliefDriver\" (onBlur) = \"reCalculateTaxiFormGroup()\"></p-inputNumber>\r\n        <label *ngIf =\"isTaxiDriverWithRelief() && (!isActive() || readOnly || !hasValidAuthorityAndStation())\">{{this.taxiFormGroup.get('noReliefDriver').value}}</label>\r\n        <input *ngIf =\"!isTaxiDriverWithRelief() && isActive() && !readOnly && hasValidAuthorityAndStation()\" type=\"input\" pInputText [disabled] = \"true\" [value] = \"'Not Applicable'\">\r\n        <label *ngIf =\"!isTaxiDriverWithRelief() && (!isActive() || readOnly || !hasValidAuthorityAndStation())\">Not Applicable</label>\r\n      </div>\r\n    </div>\r\n    <div class = \"grid gap-4 py-1\">\r\n      <div class= \"col-2 flex align-items-center\">\r\n        <label>Daily Claimable Rental: </label>\r\n      </div>\r\n      <div class= \"col-1 flex align-items-center\">\r\n        <label>{{this.taxiFormGroup.get('replacementInd').value === \"N\" ? (this.taxiFormGroup.get(\"dailyClaimableRental\").value | number: '1.2-2') : \"Not Applicable\"}}</label>\r\n      </div>\r\n    </div>\r\n    <div class = \"grid gap-4 py-1\">\r\n      <div class= \"col-2 flex align-items-center\">\r\n       <label>Daily Claimable Net Income: </label>\r\n      </div>\r\n      <div class= \"col-3 flex align-items-center\">\r\n        <p-inputNumber *ngIf =\"isActive() && !readOnly && hasValidAuthorityAndStation(); else labelClaimableNetIncome\" formControlName = \"dailyClaimableNetIncome\" mode=\"decimal\" [minFractionDigits]=\"2\" (onBlur) = \"reCalculateTaxiFormGroup()\"></p-inputNumber>\r\n        <ng-template #labelClaimableNetIncome>\r\n          <label >{{this.taxiFormGroup.get('dailyClaimableNetIncome').value | number: '1.2-2'}}</label>\r\n        </ng-template>\r\n        <label [style] = \"{'margin-left':'1em'}\">(Proposed: {{proposeAmount() | number: '1.2-2'}}) </label>\r\n      </div>\r\n    </div>\r\n    <div class = \"grid gap-4 py-1\">\r\n      <div class= \"col-2 flex align-items-center\">\r\n        <label>Total Daily Claimable Income: </label>\r\n      </div>\r\n      <div class= \"col-1 flex align-items-center\">\r\n        <label>{{this.taxiFormGroup.get(\"totalDailyClaimableIncome\").value | number: '1.2-2'}}</label>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}