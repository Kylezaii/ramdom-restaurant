{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewAnnualWriteOffComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst view_annual_write_off_data_model_1 = require(\"app/payment/annual-write-off/model/view-annual-write-off-data.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/payment/annual-write-off/service/annual-write-off.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/payment/annual-write-off/service/write-off.service\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/ripple\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i11 = tslib_1.__importStar(require(\"../../../shared/pipe/default-string.pipe\"));\nconst i12 = tslib_1.__importStar(require(\"app/shared/pipe/default-number.pipe\"));\nfunction ViewAnnualWriteOffComponent_ng_template_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 0);\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ViewAnnualWriteOffComponent_ng_template_43_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.exportCSV());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementStart(8, \"div\", 11);\n    i0.ɵɵtext(9, \"Successful Write-Off\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"th\", 13);\n    i0.ɵɵtext(7, \"OP ID \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n          \");\n    i0.ɵɵelementStart(10, \"th\", 15);\n    i0.ɵɵtext(11, \"NRIC \");\n    i0.ɵɵelement(12, \"p-sortIcon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementStart(14, \"th\", 17);\n    i0.ɵɵtext(15, \"Amount to Write-Off \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n          \");\n    i0.ɵɵelementStart(18, \"th\", 19);\n    i0.ɵɵtext(19, \"Amount Written Off \");\n    i0.ɵɵelement(20, \"p-sortIcon\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n          \");\n    i0.ɵɵelementStart(22, \"th\", 21);\n    i0.ɵɵtext(23, \"Flag \");\n    i0.ɵɵelement(24, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n      \");\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"td\", 23);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n          \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n          \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n          \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n      \");\n  }\n  if (rf & 2) {\n    const writeOffRecord_r10 = ctx.$implicit;\n    const i_r11 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r11 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r10 == null ? null : writeOffRecord_r10.overpayment == null ? null : writeOffRecord_r10.overpayment.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r10 == null ? null : writeOffRecord_r10.nric);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r10 == null ? null : writeOffRecord_r10.amountToWriteoff);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r10 == null ? null : writeOffRecord_r10.amountWrittenoff);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r10 == null ? null : writeOffRecord_r10.flag);\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"td\", 24);\n    i0.ɵɵtext(4, \"No Successful Annual Writeoff records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 0);\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ViewAnnualWriteOffComponent_ng_template_57_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.exportCSV());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementStart(8, \"div\", 11);\n    i0.ɵɵtext(9, \"Failed Write-Off\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"th\", 12);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"th\", 13);\n    i0.ɵɵtext(7, \"OP ID \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n          \");\n    i0.ɵɵelementStart(10, \"th\", 15);\n    i0.ɵɵtext(11, \"NRIC \");\n    i0.ɵɵelement(12, \"p-sortIcon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementStart(14, \"th\", 17);\n    i0.ɵɵtext(15, \"Amount to Write-Off \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n          \");\n    i0.ɵɵelementStart(18, \"th\", 19);\n    i0.ɵɵtext(19, \"Amount Written Off \");\n    i0.ɵɵelement(20, \"p-sortIcon\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n          \");\n    i0.ɵɵelementStart(22, \"th\", 21);\n    i0.ɵɵtext(23, \"Flag \");\n    i0.ɵɵelement(24, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n      \");\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n          \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n          \");\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n          \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n      \");\n  }\n  if (rf & 2) {\n    const writeOffRecord_r14 = ctx.$implicit;\n    const i_r15 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r15 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r14 == null ? null : writeOffRecord_r14.overpaymentId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r14 == null ? null : writeOffRecord_r14.nric);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r14 == null ? null : writeOffRecord_r14.amountToWriteoff);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(writeOffRecord_r14 == null ? null : writeOffRecord_r14.amountWrittenoff);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 6, writeOffRecord_r14 == null ? null : writeOffRecord_r14.flag));\n  }\n}\nfunction ViewAnnualWriteOffComponent_ng_template_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n          \");\n    i0.ɵɵelementStart(3, \"td\", 24);\n    i0.ɵɵtext(4, \"No Failed Annual Writeoff records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n  }\n}\nconst _c0 = function () {\n  return [10, 25, 50];\n};\nclass ViewAnnualWriteOffComponent {\n  constructor(route, toastService, annualWriteOffService, writeOffService) {\n    this.route = route;\n    this.toastService = toastService;\n    this.annualWriteOffService = annualWriteOffService;\n    this.writeOffService = writeOffService;\n    this.cols = [];\n  }\n  ngOnInit() {\n    // First get the product id from the current route.\n    const routeParams = this.route.snapshot.paramMap;\n    this.annualWriteOffRecordId = routeParams.get('annualWriteOffId');\n    this.viewAnnualWriteOffData = new view_annual_write_off_data_model_1.ViewAnnualWriteOffData();\n    this.cols = [{\n      field: 'rejectedDte',\n      header: 'Rej Date',\n      index: 1\n    }, {\n      field: 'type',\n      header: 'Type',\n      index: 2\n    }, {\n      field: 'name',\n      header: 'Name',\n      index: 3\n    }, {\n      field: 'startDte',\n      header: 'Start Date',\n      index: 4\n    }, {\n      field: 'endDte',\n      header: 'End Date',\n      index: 5\n    }, {\n      field: 'paymentDesc',\n      header: 'Payment Description',\n      index: 6\n    }, {\n      field: 'status',\n      header: 'Payment Description',\n      index: 7\n    }, {\n      field: 'remarks',\n      header: 'Remarks',\n      index: 8\n    }, {\n      field: 'userUpdate',\n      header: 'User Update',\n      index: 9\n    }];\n  }\n  exportCSV() {\n    // TODO: Implement export CSV function or call it from a utility class\n  }\n  fetchData(annualWriteOffRecordId) {\n    this.annualWriteOffRecordId = annualWriteOffRecordId;\n    this.annualWriteOffService.getById(annualWriteOffRecordId).subscribe(res => {\n      // Pipe response to an array of Interface model\n      this.viewAnnualWriteOffData.annualWriteoff = res.body?.data;\n      // eslint-disable-next-line no-console\n      console.log(\"Inside getById: \", this.viewAnnualWriteOffData);\n    }, error => {\n      // console.log(error.message);\n      if (error.status === 404 /* HttpStatusCode.NotFound */) {\n        this.toastService.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'No such Annual Writeoff record'\n        });\n      }\n    });\n    this.writeOffService.getSuccessWriteoffRecords(annualWriteOffRecordId).subscribe(res => {\n      // Pipe response to an array of Interface model\n      this.viewAnnualWriteOffData.successfulWriteOffs = res.body?.data?.content;\n      // eslint-disable-next-line no-console\n      console.log(\"Inside getSuccessWriteoffRecords: \", this.viewAnnualWriteOffData);\n    }, error => {\n      // console.log(error.message);\n      if (error.status === 404 /* HttpStatusCode.NotFound */) {\n        this.toastService.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'No Success write-off records'\n        });\n      }\n    });\n    this.writeOffService.getFailedWriteoffRecords(annualWriteOffRecordId).subscribe(res => {\n      // Pipe response to an array of Interface model\n      this.viewAnnualWriteOffData.failedWriteOffs = res.body?.data?.content;\n      // eslint-disable-next-line no-console\n      console.log(\"Inside getFailedWriteoffRecords: \", this.viewAnnualWriteOffData);\n    }, error => {\n      // console.log(error.message);\n      if (error.status === 404 /* HttpStatusCode.NotFound */) {\n        this.toastService.add({\n          severity: 'error',\n          summary: 'Error',\n          detail: 'No Failed write-off records'\n        });\n      }\n    });\n  }\n}\nexports.ViewAnnualWriteOffComponent = ViewAnnualWriteOffComponent;\nViewAnnualWriteOffComponent.ɵfac = function ViewAnnualWriteOffComponent_Factory(t) {\n  return new (t || ViewAnnualWriteOffComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.AnnualWriteOffService), i0.ɵɵdirectiveInject(i4.WriteOffService));\n};\nViewAnnualWriteOffComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewAnnualWriteOffComponent,\n  selectors: [[\"n2-view-annual-write-off\"]],\n  decls: 68,\n  vars: 41,\n  consts: [[1, \"grid\"], [1, \"col-3\"], [1, \"col-6\", \"nsp-align-right\", \"justify-content-start\", \"align-items-center\"], [1, \"col-6\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"col-1\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"scope\", \"col\", 1, \"snHeader\"], [\"scope\", \"col\", \"pSortableColumn\", \"overpaymentId\", 1, \"overpaymentIdHeader\"], [\"field\", \"overpaymentId\"], [\"scope\", \"col\", \"pSortableColumn\", \"nric\", 1, \"nricHeader\"], [\"field\", \"nric\"], [\"scope\", \"col\", \"pSortableColumn\", \"amountToWriteOff\"], [\"field\", \"amountToWriteOff\"], [\"scope\", \"col\", \"pSortableColumn\", \"amountWrittenOff\"], [\"field\", \"amountWrittenOff\"], [\"scope\", \"col\", \"pSortableColumn\", \"flag\", 1, \"flagHeader\"], [\"field\", \"flag\"], [2, \"width\", \"10%\"], [\"colspan\", \"6\"]],\n  template: function ViewAnnualWriteOffComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtext(5);\n      i0.ɵɵpipe(6, \"defaultNumber\");\n      i0.ɵɵpipe(7, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵelementStart(9, \"div\");\n      i0.ɵɵtext(10);\n      i0.ɵɵpipe(11, \"defaultNumber\");\n      i0.ɵɵpipe(12, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n  \");\n      i0.ɵɵelementStart(15, \"div\", 1);\n      i0.ɵɵtext(16, \"\\n    \");\n      i0.ɵɵelementStart(17, \"div\");\n      i0.ɵɵtext(18);\n      i0.ɵɵpipe(19, \"defaultNumber\");\n      i0.ɵɵpipe(20, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\n    \");\n      i0.ɵɵelementStart(22, \"div\");\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"defaultNumber\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n  \");\n      i0.ɵɵelementStart(27, \"div\", 2);\n      i0.ɵɵtext(28, \"\\n    \");\n      i0.ɵɵelementStart(29, \"div\");\n      i0.ɵɵtext(30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n    \");\n      i0.ɵɵelementStart(32, \"div\");\n      i0.ɵɵtext(33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n\\n\");\n      i0.ɵɵelementStart(37, \"div\", 0);\n      i0.ɵɵtext(38, \"\\n  \");\n      i0.ɵɵelementStart(39, \"div\", 3);\n      i0.ɵɵtext(40, \"\\n    \");\n      i0.ɵɵelementStart(41, \"p-table\", 4);\n      i0.ɵɵtext(42, \"\\n      \");\n      i0.ɵɵtemplate(43, ViewAnnualWriteOffComponent_ng_template_43_Template, 12, 0, \"ng-template\", 5);\n      i0.ɵɵtext(44, \"\\n      \");\n      i0.ɵɵtemplate(45, ViewAnnualWriteOffComponent_ng_template_45_Template, 27, 0, \"ng-template\", 6);\n      i0.ɵɵtext(46, \"\\n\\n      \");\n      i0.ɵɵtemplate(47, ViewAnnualWriteOffComponent_ng_template_47_Template, 22, 6, \"ng-template\", 7);\n      i0.ɵɵtext(48, \"\\n\\n      \");\n      i0.ɵɵtemplate(49, ViewAnnualWriteOffComponent_ng_template_49_Template, 7, 0, \"ng-template\", 8);\n      i0.ɵɵtext(50, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n  \");\n      i0.ɵɵelementStart(53, \"div\", 3);\n      i0.ɵɵtext(54, \"\\n    \");\n      i0.ɵɵelementStart(55, \"p-table\", 4);\n      i0.ɵɵtext(56, \"\\n      \");\n      i0.ɵɵtemplate(57, ViewAnnualWriteOffComponent_ng_template_57_Template, 12, 0, \"ng-template\", 5);\n      i0.ɵɵtext(58, \"\\n      \");\n      i0.ɵɵtemplate(59, ViewAnnualWriteOffComponent_ng_template_59_Template, 27, 0, \"ng-template\", 6);\n      i0.ɵɵtext(60, \"\\n\\n      \");\n      i0.ɵɵtemplate(61, ViewAnnualWriteOffComponent_ng_template_61_Template, 23, 8, \"ng-template\", 7);\n      i0.ɵɵtext(62, \"\\n\\n      \");\n      i0.ɵɵtemplate(63, ViewAnnualWriteOffComponent_ng_template_63_Template, 7, 0, \"ng-template\", 8);\n      i0.ɵɵtext(64, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(65, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(66, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(67, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"Submitted: \", i0.ɵɵpipeBind1(6, 19, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.totalCount), \" record\\n      (\", i0.ɵɵpipeBind3(7, 21, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.totalAmountToWriteoff, \"SGD\", \"symbol-narrow\"), \")\\n    \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"Discrepancy Write-Off: \", i0.ɵɵpipeBind1(11, 25, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.discrepancyCount), \" record\\n      (\", i0.ɵɵpipeBind3(12, 27, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.discrepancyAmountWrittenoff, \"SGD\", \"symbol-narrow\"), \")\\n    \");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate2(\"Perfect Write-Off: \", i0.ɵɵpipeBind1(19, 31, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.perfectCount), \" record\\n      (\", i0.ɵɵpipeBind3(20, 33, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.perfectAmountWrittenoff, \"SGD\", \"symbol-narrow\"), \")\\n    \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"Failed no. of record: \", i0.ɵɵpipeBind1(24, 37, ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff == null ? null : ctx.viewAnnualWriteOffData.annualWriteoff.failedCount), \" record\\n    \");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.discrepancyWriteOffLegend);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.perfectWriteOffLegend);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"value\", ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.successfulWriteOffs)(\"paginator\", true)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(39, _c0))(\"showCurrentPageReport\", true);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"value\", ctx.viewAnnualWriteOffData == null ? null : ctx.viewAnnualWriteOffData.failedWriteOffs)(\"paginator\", true)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(40, _c0))(\"showCurrentPageReport\", true);\n    }\n  },\n  dependencies: [i5.PrimeTemplate, i6.ButtonDirective, i7.Tooltip, i8.Table, i8.SortableColumn, i8.SortIcon, i9.Ripple, i10.CurrencyPipe, i11.DefaultStringPipe, i12.DefaultNumberPipe],\n  styles: [\".snHeader[_ngcontent-%COMP%] {\\n  width: 4rem;\\n}\\n\\n.overpaymentIdHeader[_ngcontent-%COMP%] {\\n  width: 8rem;\\n}\\n\\n.nricHeader[_ngcontent-%COMP%] {\\n  width: 8rem;\\n}\\n\\n.flagHeader[_ngcontent-%COMP%] {\\n  width: 6rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctYW5udWFsLXdyaXRlLW9mZi5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxccGF5bWVudFxcYW5udWFsLXdyaXRlLW9mZlxcdmlldy1hbm51YWwtd3JpdGUtb2ZmXFx2aWV3LWFubnVhbC13cml0ZS1vZmYuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoidmlldy1hbm51YWwtd3JpdGUtb2ZmLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNuSGVhZGVyIHtcclxuICB3aWR0aDogNHJlbTtcclxufVxyXG5cclxuLm92ZXJwYXltZW50SWRIZWFkZXIge1xyXG4gIHdpZHRoOiA4cmVtO1xyXG59XHJcblxyXG4ubnJpY0hlYWRlciB7XHJcbiAgd2lkdGg6IDhyZW07XHJcbn1cclxuXHJcbi5mbGFnSGVhZGVyIHtcclxuICB3aWR0aDogNnJlbTtcclxufVxyXG4iLCIuc25IZWFkZXIge1xuICB3aWR0aDogNHJlbTtcbn1cblxuLm92ZXJwYXltZW50SWRIZWFkZXIge1xuICB3aWR0aDogOHJlbTtcbn1cblxuLm5yaWNIZWFkZXIge1xuICB3aWR0aDogOHJlbTtcbn1cblxuLmZsYWdIZWFkZXIge1xuICB3aWR0aDogNnJlbTtcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9hbm51YWwtd3JpdGUtb2ZmL3ZpZXctYW5udWFsLXdyaXRlLW9mZi92aWV3LWFubnVhbC13cml0ZS1vZmYuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi9wcm9qZWN0cyUyMDIvbnNwYXlpaWFwcC9zcmMvbWFpbi93ZWJhcHAvYXBwL3BheW1lbnQvYW5udWFsLXdyaXRlLW9mZi92aWV3LWFubnVhbC13cml0ZS1vZmYvdmlldy1hbm51YWwtd3JpdGUtb2ZmLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGO0FEQ0Esb2hDQUFvaEMiLCJzb3VyY2VzQ29udGVudCI6WyIuc25IZWFkZXIge1xyXG4gIHdpZHRoOiA0cmVtO1xyXG59XHJcblxyXG4ub3ZlcnBheW1lbnRJZEhlYWRlciB7XHJcbiAgd2lkdGg6IDhyZW07XHJcbn1cclxuXHJcbi5ucmljSGVhZGVyIHtcclxuICB3aWR0aDogOHJlbTtcclxufVxyXG5cclxuLmZsYWdIZWFkZXIge1xyXG4gIHdpZHRoOiA2cmVtO1xyXG59XHJcbiIsIi5zbkhlYWRlciB7XG4gIHdpZHRoOiA0cmVtO1xufVxuXG4ub3ZlcnBheW1lbnRJZEhlYWRlciB7XG4gIHdpZHRoOiA4cmVtO1xufVxuXG4ubnJpY0hlYWRlciB7XG4gIHdpZHRoOiA4cmVtO1xufVxuXG4uZmxhZ0hlYWRlciB7XG4gIHdpZHRoOiA2cmVtO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ViewAnnualWriteOffComponent","constructor","route","toastService","annualWriteOffService","writeOffService","ngOnInit","routeParams","snapshot","paramMap","annualWriteOffRecordId","get","viewAnnualWriteOffData","view_annual_write_off_data_model_1","cols","field","header","index","exportCSV","fetchData","getById","subscribe","res","annualWriteoff","body","data","console","log","error","status","add","severity","summary","detail","getSuccessWriteoffRecords","successfulWriteOffs","content","getFailedWriteoffRecords","failedWriteOffs","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\annual-write-off\\view-annual-write-off\\view-annual-write-off.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\annual-write-off\\view-annual-write-off\\view-annual-write-off.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpErrorResponse, HttpResponse, HttpStatusCode } from '@angular/common/http';\r\nimport {\r\n  IViewAnnualWriteOffData,\r\n  ViewAnnualWriteOffData\r\n} from 'app/payment/annual-write-off/model/view-annual-write-off-data.model';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { WriteOffService } from 'app/payment/annual-write-off/service/write-off.service';\r\nimport { AnnualWriteOffService } from 'app/payment/annual-write-off/service/annual-write-off.service';\r\n\r\n@Component({\r\n  selector: 'n2-view-annual-write-off',\r\n  templateUrl: './view-annual-write-off.component.html',\r\n  styleUrls: ['./view-annual-write-off.component.scss']\r\n})\r\nexport class ViewAnnualWriteOffComponent implements OnInit {\r\n  annualWriteOffRecordId: string | null;\r\n  viewAnnualWriteOffData: IViewAnnualWriteOffData;\r\n\r\n  discrepancyWriteOffLegend: \"D: Discrepancy Write-Off\";\r\n  perfectWriteOffLegend: \"P: Perfect Write-Off\";\r\n  public cols: any [] = [];\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private toastService: CustomToastService,\r\n    private annualWriteOffService: AnnualWriteOffService,\r\n    private writeOffService: WriteOffService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // First get the product id from the current route.\r\n    const routeParams = this.route.snapshot.paramMap;\r\n    this.annualWriteOffRecordId = routeParams.get('annualWriteOffId');\r\n    this.viewAnnualWriteOffData = new ViewAnnualWriteOffData();\r\n\r\n    this.cols = [\r\n      { field: 'rejectedDte', header: 'Rej Date', index: 1 },\r\n      { field: 'type', header: 'Type', index: 2 },\r\n      { field: 'name', header: 'Name', index: 3 },\r\n      { field: 'startDte', header: 'Start Date', index: 4 },\r\n      { field: 'endDte', header: 'End Date', index: 5 },\r\n      { field: 'paymentDesc', header: 'Payment Description', index: 6 },\r\n      { field: 'status', header: 'Payment Description', index: 7 },\r\n      { field: 'remarks', header: 'Remarks', index: 8 },\r\n      { field: 'userUpdate', header: 'User Update', index: 9 }\r\n    ];\r\n  }\r\n\r\n  exportCSV(): void {\r\n    // TODO: Implement export CSV function or call it from a utility class\r\n  }\r\n\r\n  fetchData(annualWriteOffRecordId: string): void{\r\n    this.annualWriteOffRecordId = annualWriteOffRecordId;\r\n    this.annualWriteOffService.getById(annualWriteOffRecordId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        // Pipe response to an array of Interface model\r\n        this.viewAnnualWriteOffData.annualWriteoff = res.body?.data;\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Inside getById: \", this.viewAnnualWriteOffData);\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        // console.log(error.message);\r\n        if (error.status === HttpStatusCode.NotFound) {\r\n          this.toastService.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: 'No such Annual Writeoff record'\r\n          });\r\n        }\r\n      }\r\n    );\r\n\r\n    this.writeOffService.getSuccessWriteoffRecords(annualWriteOffRecordId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        // Pipe response to an array of Interface model\r\n        this.viewAnnualWriteOffData.successfulWriteOffs = res.body?.data?.content;\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Inside getSuccessWriteoffRecords: \", this.viewAnnualWriteOffData);\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        // console.log(error.message);\r\n        if (error.status === HttpStatusCode.NotFound) {\r\n          this.toastService.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: 'No Success write-off records'\r\n          });\r\n        }\r\n      }\r\n    );\r\n\r\n    this.writeOffService.getFailedWriteoffRecords(annualWriteOffRecordId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        // Pipe response to an array of Interface model\r\n        this.viewAnnualWriteOffData.failedWriteOffs = res.body?.data?.content;\r\n        // eslint-disable-next-line no-console\r\n        console.log(\"Inside getFailedWriteoffRecords: \", this.viewAnnualWriteOffData);\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        // console.log(error.message);\r\n        if (error.status === HttpStatusCode.NotFound) {\r\n          this.toastService.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: 'No Failed write-off records'\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class='grid'>\r\n  <div class='col-3'>\r\n    <div>Submitted: {{viewAnnualWriteOffData?.annualWriteoff?.totalCount | defaultNumber}} record\r\n      ({{viewAnnualWriteOffData?.annualWriteoff?.totalAmountToWriteoff | currency:'SGD':'symbol-narrow'}})\r\n    </div>\r\n    <div>Discrepancy Write-Off: {{viewAnnualWriteOffData?.annualWriteoff?.discrepancyCount | defaultNumber}} record\r\n      ({{viewAnnualWriteOffData?.annualWriteoff?.discrepancyAmountWrittenoff | currency:'SGD':'symbol-narrow'}})\r\n    </div>\r\n  </div>\r\n  <div class='col-3'>\r\n    <div>Perfect Write-Off: {{viewAnnualWriteOffData?.annualWriteoff?.perfectCount | defaultNumber}} record\r\n      ({{viewAnnualWriteOffData?.annualWriteoff?.perfectAmountWrittenoff | currency:'SGD':'symbol-narrow'}})\r\n    </div>\r\n    <div>Failed no. of record: {{viewAnnualWriteOffData?.annualWriteoff?.failedCount | defaultNumber}} record\r\n    </div>\r\n  </div>\r\n  <div class='col-6 nsp-align-right justify-content-start align-items-center' >\r\n    <div>{{discrepancyWriteOffLegend}}</div>\r\n    <div>{{perfectWriteOffLegend}}</div>\r\n  </div>\r\n</div>\r\n\r\n<div class='grid'>\r\n  <div class='col-6'>\r\n    <p-table [value]='viewAnnualWriteOffData?.successfulWriteOffs' styleClass='p-datatable-gridlines'\r\n             [paginator]='true'\r\n             [rows]='10'\r\n             [rowsPerPageOptions]='[10,25,50]'\r\n             [showCurrentPageReport]=\"true\"\r\n             currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'\r\n    >\r\n      <ng-template pTemplate='caption'>\r\n        <div class='grid'>\r\n          <div class='col-1 nsp-align-left flex justify-content-start align-items-center'>\r\n            <button type='button' pButton pRipple icon='pi pi-file-o' (click)='exportCSV()' pTooltip='Export as CSV'\r\n                    tooltipPosition='bottom'></button>\r\n          </div>\r\n          <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>Successful Write-Off</div>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template pTemplate='header'>\r\n        <tr>\r\n          <th scope=\"col\" class='snHeader'>SN</th>\r\n          <th scope=\"col\" class='overpaymentIdHeader' pSortableColumn=\"overpaymentId\">OP ID <p-sortIcon field=\"overpaymentId\"></p-sortIcon></th>\r\n          <th scope=\"col\" class='nricHeader' pSortableColumn=\"nric\">NRIC <p-sortIcon field=\"nric\"></p-sortIcon></th>\r\n          <th scope=\"col\" pSortableColumn=\"amountToWriteOff\">Amount to Write-Off <p-sortIcon field=\"amountToWriteOff\"></p-sortIcon></th>\r\n          <th scope=\"col\" pSortableColumn=\"amountWrittenOff\">Amount Written Off <p-sortIcon field=\"amountWrittenOff\"></p-sortIcon></th>\r\n          <th scope=\"col\" class='flagHeader' pSortableColumn=\"flag\">Flag <p-sortIcon field=\"flag\"></p-sortIcon></th>\r\n        </tr>\r\n      </ng-template>\r\n\r\n      <ng-template pTemplate='body' let-writeOffRecord let-i='rowIndex'>\r\n        <tr>\r\n          <td style='width: 10%'>{{ i + 1 }}</td>\r\n          <td>{{ writeOffRecord?.overpayment?.id}}</td>\r\n          <td>{{ writeOffRecord?.nric}}</td>\r\n          <td>{{ writeOffRecord?.amountToWriteoff}}</td>\r\n          <td>{{ writeOffRecord?.amountWrittenoff}}</td>\r\n          <td>{{ writeOffRecord?.flag }}</td>\r\n        </tr>\r\n      </ng-template>\r\n\r\n      <ng-template pTemplate='emptymessage'>\r\n        <tr>\r\n          <td colspan='6'>No Successful Annual Writeoff records found.</td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n  <div class='col-6'>\r\n    <p-table [value]='viewAnnualWriteOffData?.failedWriteOffs' styleClass='p-datatable-gridlines'\r\n             [paginator]='true'\r\n             [rows]='10'\r\n             [rowsPerPageOptions]='[10,25,50]'\r\n             [showCurrentPageReport]=\"true\"\r\n             currentPageReportTemplate='Showing {first} to {last} of {totalRecords} entries'>\r\n      <ng-template pTemplate='caption'>\r\n        <div class='grid'>\r\n          <div class='col-1 nsp-align-left flex justify-content-start align-items-center'>\r\n            <button type='button' pButton pRipple icon='pi pi-file-o' (click)='exportCSV()' pTooltip='Export as CSV'\r\n                    tooltipPosition='bottom'></button>\r\n          </div>\r\n          <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>Failed Write-Off</div>\r\n        </div>\r\n      </ng-template>\r\n      <ng-template pTemplate='header'>\r\n        <tr>\r\n          <th scope=\"col\" class='snHeader'>SN</th>\r\n          <th scope=\"col\" class='overpaymentIdHeader' pSortableColumn=\"overpaymentId\">OP ID <p-sortIcon field=\"overpaymentId\"></p-sortIcon></th>\r\n          <th scope=\"col\" class='nricHeader' pSortableColumn=\"nric\">NRIC <p-sortIcon field=\"nric\"></p-sortIcon></th>\r\n          <th scope=\"col\" pSortableColumn=\"amountToWriteOff\">Amount to Write-Off <p-sortIcon field=\"amountToWriteOff\"></p-sortIcon></th>\r\n          <th scope=\"col\" pSortableColumn=\"amountWrittenOff\">Amount Written Off <p-sortIcon field=\"amountWrittenOff\"></p-sortIcon></th>\r\n          <th scope=\"col\" class='flagHeader' pSortableColumn=\"flag\">Flag <p-sortIcon field=\"flag\"></p-sortIcon></th>\r\n        </tr>\r\n      </ng-template>\r\n\r\n      <ng-template pTemplate='body' let-writeOffRecord let-i='rowIndex'>\r\n        <tr>\r\n          <td>{{ i + 1 }}</td>\r\n          <td>{{ writeOffRecord?.overpaymentId}}</td>\r\n          <td>{{ writeOffRecord?.nric}}</td>\r\n          <td>{{ writeOffRecord?.amountToWriteoff}}</td>\r\n          <td>{{ writeOffRecord?.amountWrittenoff}}</td>\r\n          <td>{{ writeOffRecord?.flag | defaultString}}</td>\r\n\r\n        </tr>\r\n      </ng-template>\r\n\r\n      <ng-template pTemplate='emptymessage'>\r\n        <tr>\r\n          <td colspan='6'>No Failed Annual Writeoff records found.</td>\r\n        </tr>\r\n      </ng-template>\r\n    </p-table>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}