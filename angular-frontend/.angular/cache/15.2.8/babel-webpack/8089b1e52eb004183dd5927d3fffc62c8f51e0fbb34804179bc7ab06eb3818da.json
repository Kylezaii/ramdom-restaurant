{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuditLogComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst rxjs_1 = require(\"rxjs\");\nconst pagination_constants_1 = require(\"app/config/pagination.constants\");\nconst file_saver_1 = require(\"file-saver\");\nconst dayjs_1 = tslib_1.__importDefault(require(\"dayjs\"));\nconst input_constants_1 = require(\"app/config/input.constants\");\nconst audit_log_model_1 = require(\"./audit-log.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"./audit-log.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/parse-links.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/alert.service\"));\nconst i4 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"@ng-bootstrap/ng-bootstrap\"));\nconst i8 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i10 = tslib_1.__importStar(require(\"../../../shared/sort/sort-by.directive\"));\nconst i11 = tslib_1.__importStar(require(\"../../../shared/sort/sort.directive\"));\nconst i12 = tslib_1.__importStar(require(\"../../../shared/pagination/item-count.component\"));\nfunction AuditLogComponent_option_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const revisionType_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", revisionType_r6.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(revisionType_r6.label);\n  }\n}\nfunction AuditLogComponent_tr_234_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n            \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n            \");\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n            \");\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n            \");\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const auditLog_r7 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.revision);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.functionName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.updatedDate);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.updatedBy);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.revisionTypeDesc);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.businessKey);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.tableName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.beforeImage);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(auditLog_r7.afterImage);\n  }\n}\nfunction AuditLogComponent_tr_236_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"span\", 60);\n    i0.ɵɵtext(3, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AuditLogComponent_div_241_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function AuditLogComponent_div_241_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.exportToCSV());\n    });\n    i0.ɵɵtext(1, \"\\n          \");\n    i0.ɵɵelement(2, \"fa-icon\", 15);\n    i0.ɵɵtext(3, \" \");\n    i0.ɵɵelementStart(4, \"span\", 66);\n    i0.ɵɵtext(5, \"Export to CSV\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"sign-in-alt\");\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    page: a0,\n    totalItems: a1,\n    itemsPerPage: a2\n  };\n};\nfunction AuditLogComponent_div_241_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"div\", 61);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelement(4, \"ic-item-count\", 62);\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementStart(7, \"div\", 61);\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"ngb-pagination\", 63);\n    i0.ɵɵlistener(\"pageChange\", function AuditLogComponent_div_241_Template_ngb_pagination_pageChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.page = $event);\n    })(\"pageChange\", function AuditLogComponent_div_241_Template_ngb_pagination_pageChange_9_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.loadPage(ctx_r13.page));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n    i0.ɵɵelementStart(12, \"div\", 33);\n    i0.ɵɵtext(13, \"\\n        \");\n    i0.ɵɵtemplate(14, AuditLogComponent_div_241_button_14_Template, 7, 1, \"button\", 64);\n    i0.ɵɵtext(15, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"params\", i0.ɵɵpureFunction3(7, _c0, ctx_r5.page, ctx_r5.totalItems, ctx_r5.itemsPerPage));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"collectionSize\", ctx_r5.totalItems)(\"pageSize\", ctx_r5.itemsPerPage)(\"page\", ctx_r5.page)(\"maxSize\", 5)(\"rotate\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.auditLogs == null ? null : ctx_r5.auditLogs.length) > 0);\n  }\n}\nclass AuditLogComponent {\n  constructor(auditLogService, parseLinks, alertService, activatedRoute, router) {\n    this.auditLogService = auditLogService;\n    this.parseLinks = parseLinks;\n    this.alertService = alertService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.searchAuditLogCriteria = new audit_log_model_1.SearchLogModel();\n    this.auditLogs = [];\n    this.itemsPerPage = pagination_constants_1.ITEMS_PER_PAGE;\n    this.revisionTypeList = [{\n      label: 'Add',\n      value: 'ADD'\n    }, {\n      label: 'Modify',\n      value: 'MOD'\n    }, {\n      label: 'Delete',\n      value: 'DEL'\n    }];\n  }\n  ngOnInit() {\n    this.handleNavigation();\n  }\n  load() {\n    this.setNull(this.searchAuditLogCriteria);\n    this.auditLogService.query({\n      fromDateAsStr: this.convertDate(this.searchAuditLogCriteria.fromDateAsStr),\n      toDateAsStr: this.convertDate(this.searchAuditLogCriteria.toDateAsStr),\n      revision: this.searchAuditLogCriteria.revision,\n      userId: this.searchAuditLogCriteria.userId,\n      revisionType: this.searchAuditLogCriteria.revisionType,\n      funcName: this.searchAuditLogCriteria.funcName,\n      tableName: this.searchAuditLogCriteria.tableName,\n      businessKey: this.searchAuditLogCriteria.businessKey,\n      page: this.page - 1,\n      size: this.itemsPerPage,\n      sort: this.sort()\n    }).subscribe(res => this.onSuccess(res.body, res.headers), res => this.onError(res.body));\n  }\n  sort() {\n    const result = [this.predicate + ',' + (this.reverse ? 'desc' : 'asc')];\n    return result;\n  }\n  loadPage(page) {\n    if (page !== this.previousPage) {\n      this.previousPage = page;\n      this.transition();\n    }\n  }\n  transition() {\n    this.router.navigate(['admin/ic-entityaudit'], {\n      queryParams: {\n        page: this.page,\n        size: this.itemsPerPage,\n        sort: this.predicate + ',' + (this.reverse ? 'desc' : 'asc')\n      }\n    });\n  }\n  search() {\n    this.load();\n  }\n  reset() {\n    this.searchAuditLogCriteria = {};\n  }\n  exportToCSV() {\n    this.auditLogService.exportToCSV({\n      fromDateAsStr: this.convertDate(this.searchAuditLogCriteria.fromDateAsStr),\n      toDateAsStr: this.convertDate(this.searchAuditLogCriteria.toDateAsStr),\n      revision: this.searchAuditLogCriteria.revision,\n      userId: this.searchAuditLogCriteria.userId,\n      revisionType: this.searchAuditLogCriteria.revisionType,\n      funcName: this.searchAuditLogCriteria.funcName,\n      tableName: this.searchAuditLogCriteria.tableName,\n      businessKey: this.searchAuditLogCriteria.businessKey\n    }).subscribe(res => {\n      (0, file_saver_1.saveAs)(new Blob([res.body], {\n        type: 'text/csv;charset=utf-8'\n      }), decodeURI(res.headers.get('content-disposition').substring(22) || 'download'));\n    });\n  }\n  convertDate(searchParam) {\n    if (searchParam) {\n      return (0, dayjs_1.default)(searchParam).format(input_constants_1.DATE_FORMAT);\n    }\n    return '';\n  }\n  handleNavigation() {\n    (0, rxjs_1.combineLatest)([this.activatedRoute.data, this.activatedRoute.queryParamMap]).subscribe(([data, params]) => {\n      const page = params.get('page');\n      this.page = page !== null ? +page : 1;\n      const sort = (params.get('sort') ?? data['defaultSort']).split(',');\n      this.predicate = sort[0];\n      this.ascending = sort[1] === 'asc';\n      this.load();\n    });\n  }\n  onSuccess(data, headers) {\n    this.links = this.parseLinks.parse(headers.get('link'));\n    this.totalItems = headers.get('X-Total-Count');\n    this.queryCount = this.totalItems;\n    data.forEach(auditLog => {\n      this.revisionTypeList.forEach(revisionType => {\n        if (auditLog.revisionType === revisionType.value) {\n          auditLog.revisionTypeDesc = revisionType.label;\n        }\n      });\n    });\n    this.auditLogs = data;\n  }\n  onError(error) {\n    this.alertService.addAlert({\n      type: 'danger',\n      translationKey: error.message\n    });\n  }\n  setNull(entity) {\n    if (!entity.revision) {\n      entity.revision = '';\n    }\n    if (!entity.userId) {\n      entity.userId = '';\n    }\n    if (!entity.revisionType) {\n      entity.revisionType = '';\n    }\n    if (!entity.funcName) {\n      entity.funcName = '';\n    }\n    if (!entity.tableName) {\n      entity.tableName = '';\n    }\n    if (!entity.businessKey) {\n      entity.businessKey = '';\n    }\n  }\n}\nexports.AuditLogComponent = AuditLogComponent;\nAuditLogComponent.ɵfac = function AuditLogComponent_Factory(t) {\n  return new (t || AuditLogComponent)(i0.ɵɵdirectiveInject(i1.AuditLogService), i0.ɵɵdirectiveInject(i2.ParseLinks), i0.ɵɵdirectiveInject(i3.AlertService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router));\n};\nAuditLogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AuditLogComponent,\n  selectors: [[\"ic-auditlog\"]],\n  decls: 245,\n  vars: 25,\n  consts: [[1, \"row\"], [1, \"col-lg-12\"], [\"icTranslate\", \"entityAudit.log.main\", 1, \"h3\"], [1, \"card\", 2, \"margin-bottom\", \"15px\"], [1, \"card-header\"], [\"icTranslate\", \"entityAudit.log.search\"], [1, \"card-body\", 2, \"padding\", \"1.25rem\"], [1, \"rounded-pill\", \"row\"], [\"for\", \"fromDateAsStr\", \"icTranslate\", \"entityAudit.log.fromDate\", 1, \"col-sm-2\", \"form-control-label\"], [1, \"col-sm-3\"], [1, \"input-group\"], [\"placeholder\", \"yyyy-mm-dd\", \"name\", \"fromDateAsStr\", \"id\", \"fromDateAsStr\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"fromDateAsStr\", \"ngbDatepicker\"], [1, \"input-group-btn\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"click\"], [3, \"icon\"], [\"for\", \"toDateAsStr\", \"icTranslate\", \"entityAudit.log.toDate\", 1, \"col-sm-2\", \"form-control-label\"], [\"placeholder\", \"yyyy-mm-dd\", \"name\", \"toDateAsStr\", \"id\", \"toDateAsStr\", \"ngbDatepicker\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"toDateAsStr\", \"ngbDatepicker\"], [\"for\", \"revision\", \"icTranslate\", \"entityAudit.log.revision\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"number\", \"min\", \"0\", \"name\", \"revision\", \"id\", \"revision\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"userId\", \"icTranslate\", \"entityAudit.log.updatedBy\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"userId\", \"id\", \"userId\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"revisionType\", \"icTranslate\", \"entityAudit.log.revisionType\", 1, \"col-sm-2\", \"form-control-label\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"icTranslate\", \"entityAudit.log.selectPlaceHolder\", 3, \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"funcName\", \"icTranslate\", \"entityAudit.log.funcName\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"funcName\", \"id\", \"funcName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"tableName\", \"icTranslate\", \"entityAudit.log.tableName\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"tableName\", \"id\", \"tableName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"businessKey\", \"icTranslate\", \"entityAudit.log.businessKey\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"businessKey\", \"id\", \"businessKey\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"text-start\"], [\"id\", \"search\", 1, \"btn\", \"btn-warning\", \"btn-sm\", 3, \"click\"], [\"icTranslate\", \"entityAudit.log.btn.search\"], [1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"click\"], [\"icTranslate\", \"entityAudit.log.btn.reset\"], [\"icTranslate\", \"entityAudit.log.searchResult\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"icSort\", \"\", 3, \"predicate\", \"ascending\", \"callback\", \"predicateChange\", \"ascendingChange\"], [\"scope\", \"col\", \"icSortBy\", \"id\"], [\"icTranslate\", \"entityAudit.log.revision\"], [\"scope\", \"col\"], [\"icTranslate\", \"entityAudit.log.funcName\"], [\"icTranslate\", \"entityAudit.log.updatedDate\"], [\"scope\", \"col\", \"icSortBy\", \"revId\"], [\"icTranslate\", \"entityAudit.log.updatedBy\"], [\"scope\", \"col\", \"icSortBy\", \"revType\"], [\"icTranslate\", \"entityAudit.log.revisionType\"], [\"scope\", \"col\", \"icSortBy\", \"businessKey\"], [\"icTranslate\", \"entityAudit.log.businessKey\"], [\"scope\", \"col\", \"icSortBy\", \"tableName\"], [\"icTranslate\", \"entityAudit.log.tableName\"], [\"icTranslate\", \"entityAudit.log.beforeImage\"], [\"icTranslate\", \"entityAudit.log.afterImage\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"value\"], [\"icTranslate\", \"entityAudit.log.noMatchingRecords\"], [1, \"row\", \"justify-content-center\"], [3, \"params\"], [3, \"collectionSize\", \"pageSize\", \"page\", \"maxSize\", \"rotate\", \"pageChange\"], [\"class\", \"btn btn-info btn-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"click\"], [\"icTranslate\", \"entityAudit.log.exportToCSV\"]],\n  template: function AuditLogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"span\", 2);\n      i0.ɵɵtext(5, \"Entity Audit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n\");\n      i0.ɵɵelement(9, \"hr\");\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementStart(11, \"div\", 3);\n      i0.ɵɵtext(12, \"\\n  \");\n      i0.ɵɵelementStart(13, \"div\", 4);\n      i0.ɵɵtext(14, \"\\n    \");\n      i0.ɵɵelementStart(15, \"span\", 5);\n      i0.ɵɵtext(16, \" Search Criteria \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(17, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \"\\n  \");\n      i0.ɵɵelementStart(19, \"div\", 6);\n      i0.ɵɵtext(20, \"\\n    \");\n      i0.ɵɵelementStart(21, \"div\", 7);\n      i0.ɵɵtext(22, \"\\n      \");\n      i0.ɵɵelementStart(23, \"label\", 8);\n      i0.ɵɵtext(24, \"From Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n      \");\n      i0.ɵɵelementStart(26, \"div\", 9);\n      i0.ɵɵtext(27, \"\\n        \");\n      i0.ɵɵelementStart(28, \"div\", 10);\n      i0.ɵɵtext(29, \"\\n          \");\n      i0.ɵɵelementStart(30, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.searchAuditLogCriteria.fromDateAsStr = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \"\\n          \");\n      i0.ɵɵelementStart(33, \"span\", 13);\n      i0.ɵɵtext(34, \"\\n            \");\n      i0.ɵɵelementStart(35, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function AuditLogComponent_Template_button_click_35_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r0 = i0.ɵɵreference(31);\n        return i0.ɵɵresetView(_r0.toggle());\n      });\n      i0.ɵɵtext(36, \"\\n              \");\n      i0.ɵɵelement(37, \"fa-icon\", 15);\n      i0.ɵɵtext(38, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n      \");\n      i0.ɵɵelementStart(43, \"label\", 16);\n      i0.ɵɵtext(44, \"To Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n      \");\n      i0.ɵɵelementStart(46, \"div\", 9);\n      i0.ɵɵtext(47, \"\\n        \");\n      i0.ɵɵelementStart(48, \"div\", 10);\n      i0.ɵɵtext(49, \"\\n          \");\n      i0.ɵɵelementStart(50, \"input\", 17, 18);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_50_listener($event) {\n        return ctx.searchAuditLogCriteria.toDateAsStr = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n          \");\n      i0.ɵɵelementStart(53, \"span\", 13);\n      i0.ɵɵtext(54, \"\\n            \");\n      i0.ɵɵelementStart(55, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function AuditLogComponent_Template_button_click_55_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r1 = i0.ɵɵreference(51);\n        return i0.ɵɵresetView(_r1.toggle());\n      });\n      i0.ɵɵtext(56, \"\\n              \");\n      i0.ɵɵelement(57, \"fa-icon\", 15);\n      i0.ɵɵtext(58, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(60, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(61, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n    \");\n      i0.ɵɵelementStart(64, \"div\", 7);\n      i0.ɵɵtext(65, \"\\n      \");\n      i0.ɵɵelementStart(66, \"label\", 19);\n      i0.ɵɵtext(67, \"Revision:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(68, \"\\n      \");\n      i0.ɵɵelementStart(69, \"div\", 9);\n      i0.ɵɵtext(70, \"\\n        \");\n      i0.ɵɵelementStart(71, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_71_listener($event) {\n        return ctx.searchAuditLogCriteria.revision = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(72, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n      \");\n      i0.ɵɵelementStart(74, \"label\", 21);\n      i0.ɵɵtext(75, \"Updated By:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(76, \"\\n      \");\n      i0.ɵɵelementStart(77, \"div\", 9);\n      i0.ɵɵtext(78, \"\\n        \");\n      i0.ɵɵelementStart(79, \"input\", 22);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_79_listener($event) {\n        return ctx.searchAuditLogCriteria.userId = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(82, \"\\n    \");\n      i0.ɵɵelementStart(83, \"div\", 7);\n      i0.ɵɵtext(84, \"\\n      \");\n      i0.ɵɵelementStart(85, \"label\", 23);\n      i0.ɵɵtext(86, \"Revision Type:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(87, \"\\n      \");\n      i0.ɵɵelementStart(88, \"div\", 9);\n      i0.ɵɵtext(89, \"\\n        \");\n      i0.ɵɵelementStart(90, \"select\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_select_ngModelChange_90_listener($event) {\n        return ctx.searchAuditLogCriteria.revisionType = $event;\n      });\n      i0.ɵɵtext(91, \"\\n          \");\n      i0.ɵɵelementStart(92, \"option\", 25);\n      i0.ɵɵtext(93, \"Please select\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(94, \"\\n          \");\n      i0.ɵɵtemplate(95, AuditLogComponent_option_95_Template, 2, 2, \"option\", 26);\n      i0.ɵɵtext(96, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(97, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(98, \"\\n      \");\n      i0.ɵɵelementStart(99, \"label\", 27);\n      i0.ɵɵtext(100, \"Function Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(101, \"\\n      \");\n      i0.ɵɵelementStart(102, \"div\", 9);\n      i0.ɵɵtext(103, \"\\n        \");\n      i0.ɵɵelementStart(104, \"input\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_104_listener($event) {\n        return ctx.searchAuditLogCriteria.funcName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(105, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(106, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(107, \"\\n    \");\n      i0.ɵɵelementStart(108, \"div\", 7);\n      i0.ɵɵtext(109, \"\\n      \");\n      i0.ɵɵelementStart(110, \"label\", 29);\n      i0.ɵɵtext(111, \"Table Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(112, \"\\n      \");\n      i0.ɵɵelementStart(113, \"div\", 9);\n      i0.ɵɵtext(114, \"\\n        \");\n      i0.ɵɵelementStart(115, \"input\", 30);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_115_listener($event) {\n        return ctx.searchAuditLogCriteria.tableName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(116, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(117, \"\\n      \");\n      i0.ɵɵelementStart(118, \"label\", 31);\n      i0.ɵɵtext(119, \"Business Key:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(120, \"\\n      \");\n      i0.ɵɵelementStart(121, \"div\", 9);\n      i0.ɵɵtext(122, \"\\n        \");\n      i0.ɵɵelementStart(123, \"input\", 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AuditLogComponent_Template_input_ngModelChange_123_listener($event) {\n        return ctx.searchAuditLogCriteria.businessKey = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(124, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(125, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(126, \"\\n    \");\n      i0.ɵɵelementStart(127, \"div\", 33);\n      i0.ɵɵtext(128, \"\\n      \");\n      i0.ɵɵelementStart(129, \"button\", 34);\n      i0.ɵɵlistener(\"click\", function AuditLogComponent_Template_button_click_129_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵtext(130, \"\\n        \");\n      i0.ɵɵelement(131, \"fa-icon\", 15);\n      i0.ɵɵtext(132, \"\\n        \");\n      i0.ɵɵelementStart(133, \"span\", 35);\n      i0.ɵɵtext(134, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(135, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(136, \"\\n      \");\n      i0.ɵɵelementStart(137, \"button\", 36);\n      i0.ɵɵlistener(\"click\", function AuditLogComponent_Template_button_click_137_listener() {\n        return ctx.reset();\n      });\n      i0.ɵɵtext(138, \"\\n        \");\n      i0.ɵɵelement(139, \"fa-icon\", 15);\n      i0.ɵɵtext(140, \"\\n        \");\n      i0.ɵɵelementStart(141, \"span\", 37);\n      i0.ɵɵtext(142, \"Reset\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(143, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(144, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(145, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(146, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(147, \"\\n\\n\");\n      i0.ɵɵelementStart(148, \"div\", 3);\n      i0.ɵɵtext(149, \"\\n  \");\n      i0.ɵɵelementStart(150, \"div\", 4);\n      i0.ɵɵtext(151, \"\\n    \");\n      i0.ɵɵelementStart(152, \"span\", 38);\n      i0.ɵɵtext(153, \" Search Result \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(154, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(155, \"\\n  \");\n      i0.ɵɵelementStart(156, \"div\", 6);\n      i0.ɵɵtext(157, \"\\n    \");\n      i0.ɵɵelementStart(158, \"div\", 39);\n      i0.ɵɵtext(159, \"\\n      \");\n      i0.ɵɵelementStart(160, \"table\", 40);\n      i0.ɵɵtext(161, \"\\n        \");\n      i0.ɵɵelementStart(162, \"thead\");\n      i0.ɵɵtext(163, \"\\n          \");\n      i0.ɵɵelementStart(164, \"tr\", 41);\n      i0.ɵɵlistener(\"predicateChange\", function AuditLogComponent_Template_tr_predicateChange_164_listener($event) {\n        return ctx.predicate = $event;\n      })(\"ascendingChange\", function AuditLogComponent_Template_tr_ascendingChange_164_listener($event) {\n        return ctx.reverse = $event;\n      });\n      i0.ɵɵtext(165, \"\\n            \");\n      i0.ɵɵelementStart(166, \"th\", 42);\n      i0.ɵɵtext(167, \"\\n              \");\n      i0.ɵɵelementStart(168, \"span\", 43);\n      i0.ɵɵtext(169, \"Revision\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(170, \"\\n              \");\n      i0.ɵɵelement(171, \"fa-icon\", 15);\n      i0.ɵɵtext(172, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(173, \"\\n            \");\n      i0.ɵɵelementStart(174, \"th\", 44);\n      i0.ɵɵtext(175, \"\\n              \");\n      i0.ɵɵelementStart(176, \"span\", 45);\n      i0.ɵɵtext(177, \"Function Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(178, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(179, \"\\n            \");\n      i0.ɵɵelementStart(180, \"th\", 44);\n      i0.ɵɵtext(181, \"\\n              \");\n      i0.ɵɵelementStart(182, \"span\", 46);\n      i0.ɵɵtext(183, \"Updated Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(184, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(185, \"\\n            \");\n      i0.ɵɵelementStart(186, \"th\", 47);\n      i0.ɵɵtext(187, \"\\n              \");\n      i0.ɵɵelementStart(188, \"span\", 48);\n      i0.ɵɵtext(189, \"Updated By\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(190, \"\\n              \");\n      i0.ɵɵelement(191, \"fa-icon\", 15);\n      i0.ɵɵtext(192, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(193, \"\\n            \");\n      i0.ɵɵelementStart(194, \"th\", 49);\n      i0.ɵɵtext(195, \"\\n              \");\n      i0.ɵɵelementStart(196, \"span\", 50);\n      i0.ɵɵtext(197, \"Revision Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(198, \"\\n              \");\n      i0.ɵɵelement(199, \"fa-icon\", 15);\n      i0.ɵɵtext(200, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(201, \"\\n            \");\n      i0.ɵɵelementStart(202, \"th\", 51);\n      i0.ɵɵtext(203, \"\\n              \");\n      i0.ɵɵelementStart(204, \"span\", 52);\n      i0.ɵɵtext(205, \"Business Key\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(206, \"\\n              \");\n      i0.ɵɵelement(207, \"fa-icon\", 15);\n      i0.ɵɵtext(208, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(209, \"\\n            \");\n      i0.ɵɵelementStart(210, \"th\", 53);\n      i0.ɵɵtext(211, \"\\n              \");\n      i0.ɵɵelementStart(212, \"span\", 54);\n      i0.ɵɵtext(213, \"Table Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(214, \"\\n              \");\n      i0.ɵɵelement(215, \"fa-icon\", 15);\n      i0.ɵɵtext(216, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(217, \"\\n            \");\n      i0.ɵɵelementStart(218, \"th\", 44);\n      i0.ɵɵtext(219, \"\\n              \");\n      i0.ɵɵelementStart(220, \"span\", 55);\n      i0.ɵɵtext(221, \"Before Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(222, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(223, \"\\n            \");\n      i0.ɵɵelementStart(224, \"th\", 44);\n      i0.ɵɵtext(225, \"\\n              \");\n      i0.ɵɵelementStart(226, \"span\", 56);\n      i0.ɵɵtext(227, \" After Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(228, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(229, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(230, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(231, \"\\n        \");\n      i0.ɵɵelementStart(232, \"tbody\");\n      i0.ɵɵtext(233, \"\\n          \");\n      i0.ɵɵtemplate(234, AuditLogComponent_tr_234_Template, 29, 9, \"tr\", 57);\n      i0.ɵɵtext(235, \"\\n          \");\n      i0.ɵɵtemplate(236, AuditLogComponent_tr_236_Template, 5, 0, \"tr\", 58);\n      i0.ɵɵtext(237, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(238, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(239, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(240, \"\\n    \");\n      i0.ɵɵtemplate(241, AuditLogComponent_div_241_Template, 17, 11, \"div\", 58);\n      i0.ɵɵtext(242, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(243, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(244, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(30);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.fromDateAsStr);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"icon\", \"calendar-alt\");\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.toDateAsStr);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"icon\", \"calendar-alt\");\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.revision);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.userId);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.revisionType);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.revisionTypeList);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.funcName);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.tableName);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchAuditLogCriteria.businessKey);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"search\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"trash-alt\");\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"predicate\", ctx.predicate)(\"ascending\", ctx.reverse)(\"callback\", ctx.transition.bind(ctx));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"icon\", \"sort\");\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"icon\", \"sort\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"sort\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"sort\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"icon\", \"sort\");\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.auditLogs);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.auditLogs == null ? null : ctx.auditLogs.length) <= 0);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.auditLogs && (ctx.auditLogs == null ? null : ctx.auditLogs.length));\n    }\n  },\n  dependencies: [i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.MinValidator, i5.NgModel, i6.NgForOf, i6.NgIf, i7.NgbInputDatepicker, i7.NgbPagination, i8.FaIconComponent, i9.TranslateDirective, i10.SortByDirective, i11.SortDirective, i12.ItemCountComponent],\n  styles: [\"th[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\\n        font-size: 12px;\\n      }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1ZGl0LWxvZy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtNQUNNO1FBQ0UsZUFBZTtNQUNqQiIsImZpbGUiOiJhdWRpdC1sb2cuY29tcG9uZW50LnRzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICB0aCA+IHNwYW4ge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW4vZW50aXR5LWF1ZGl0L2F1ZGl0LWxvZy9hdWRpdC1sb2cuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7TUFDTTtRQUNFLGVBQWU7TUFDakI7O0FBRU4sNFVBQTRVIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICB0aCA+IHNwYW4ge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AuditLogComponent","constructor","auditLogService","parseLinks","alertService","activatedRoute","router","audit_log_model_1","pagination_constants_1","label","value","ngOnInit","handleNavigation","load","setNull","searchAuditLogCriteria","query","fromDateAsStr","convertDate","toDateAsStr","revision","userId","revisionType","funcName","tableName","businessKey","page","size","itemsPerPage","sort","subscribe","res","onSuccess","body","headers","onError","result","predicate","reverse","loadPage","previousPage","transition","navigate","queryParams","search","reset","exportToCSV","Blob","type","decodeURI","get","substring","searchParam","format","input_constants_1","data","queryParamMap","params","split","ascending","links","parse","totalItems","queryCount","forEach","auditLog","revisionTypeList","revisionTypeDesc","auditLogs","error","addAlert","translationKey","message","entity","exports","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\entity-audit\\audit-log\\audit-log.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\entity-audit\\audit-log\\audit-log.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Subscription, combineLatest } from 'rxjs';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { ParseLinks } from 'app/core/util/parse-links.service';\r\nimport { ITEMS_PER_PAGE } from 'app/config/pagination.constants';\r\nimport { AuditLogService } from './audit-log.service';\r\nimport { saveAs } from 'file-saver';\r\nimport dayjs from 'dayjs';\r\nimport { DATE_FORMAT } from 'app/config/input.constants';\r\nimport { SearchLogModel } from './audit-log.model';\r\n\r\n@Component({\r\n  selector: 'ic-auditlog',\r\n  templateUrl: './audit-log.component.html',\r\n  styles: [\r\n    `\r\n      th > span {\r\n        font-size: 12px;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AuditLogComponent implements OnInit {\r\n  searchAuditLogCriteria = new SearchLogModel();\r\n  auditLogs: any[] = [];\r\n  error: any;\r\n  success: any;\r\n  eventSubscriber?: Subscription;\r\n  routeData: any;\r\n  links: any;\r\n  totalItems: any;\r\n  queryCount: any;\r\n  itemsPerPage = ITEMS_PER_PAGE;\r\n  page!: number;\r\n  ascending!: boolean;\r\n  predicate!: string;\r\n  previousPage: any;\r\n  reverse: any;\r\n  fromDateAsStr: any;\r\n  toDateAsStr: any;\r\n  revisionTypeList = [\r\n    { label: 'Add', value: 'ADD' },\r\n    { label: 'Modify', value: 'MOD' },\r\n    { label: 'Delete', value: 'DEL' },\r\n  ];\r\n\r\n  constructor(\r\n    private auditLogService: AuditLogService,\r\n    private parseLinks: ParseLinks,\r\n    private alertService: AlertService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.handleNavigation();\r\n  }\r\n\r\n  load(): void {\r\n    this.setNull(this.searchAuditLogCriteria);\r\n    this.auditLogService\r\n      .query({\r\n        fromDateAsStr: this.convertDate(this.searchAuditLogCriteria.fromDateAsStr),\r\n        toDateAsStr: this.convertDate(this.searchAuditLogCriteria.toDateAsStr),\r\n        revision: this.searchAuditLogCriteria.revision,\r\n        userId: this.searchAuditLogCriteria.userId,\r\n        revisionType: this.searchAuditLogCriteria.revisionType,\r\n        funcName: this.searchAuditLogCriteria.funcName,\r\n        tableName: this.searchAuditLogCriteria.tableName,\r\n        businessKey: this.searchAuditLogCriteria.businessKey,\r\n        page: this.page - 1,\r\n        size: this.itemsPerPage,\r\n        sort: this.sort(),\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<any>) => this.onSuccess(res.body, res.headers),\r\n        (res: HttpResponse<any>) => this.onError(res.body)\r\n      );\r\n  }\r\n\r\n  sort(): any {\r\n    const result = [this.predicate + ',' + (this.reverse ? 'desc' : 'asc')];\r\n    return result;\r\n  }\r\n\r\n  loadPage(page: number): void {\r\n    if (page !== this.previousPage) {\r\n      this.previousPage = page;\r\n      this.transition();\r\n    }\r\n  }\r\n\r\n  transition(): void {\r\n    this.router.navigate(['admin/ic-entityaudit'], {\r\n      queryParams: {\r\n        page: this.page,\r\n        size: this.itemsPerPage,\r\n        sort: this.predicate + ',' + (this.reverse ? 'desc' : 'asc'),\r\n      },\r\n    });\r\n  }\r\n\r\n  search(): void {\r\n    this.load();\r\n  }\r\n\r\n  reset(): void {\r\n    this.searchAuditLogCriteria = {};\r\n  }\r\n\r\n  exportToCSV(): void {\r\n    this.auditLogService\r\n      .exportToCSV({\r\n        fromDateAsStr: this.convertDate(this.searchAuditLogCriteria.fromDateAsStr),\r\n        toDateAsStr: this.convertDate(this.searchAuditLogCriteria.toDateAsStr),\r\n        revision: this.searchAuditLogCriteria.revision,\r\n        userId: this.searchAuditLogCriteria.userId,\r\n        revisionType: this.searchAuditLogCriteria.revisionType,\r\n        funcName: this.searchAuditLogCriteria.funcName,\r\n        tableName: this.searchAuditLogCriteria.tableName,\r\n        businessKey: this.searchAuditLogCriteria.businessKey,\r\n      })\r\n      .subscribe((res: HttpResponse<string>) => {\r\n        saveAs(\r\n          new Blob([res.body as any], { type: 'text/csv;charset=utf-8' }),\r\n          decodeURI((res.headers as any).get('content-disposition').substring(22) || 'download')\r\n        );\r\n      });\r\n  }\r\n\r\n  private convertDate(searchParam: string): string {\r\n    if (searchParam) {\r\n      return dayjs(searchParam).format(DATE_FORMAT);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private handleNavigation(): void {\r\n    combineLatest([this.activatedRoute.data, this.activatedRoute.queryParamMap]).subscribe(([data, params]) => {\r\n      const page = params.get('page');\r\n      this.page = page !== null ? +page : 1;\r\n      const sort = (params.get('sort') ?? data['defaultSort']).split(',');\r\n      this.predicate = sort[0];\r\n      this.ascending = sort[1] === 'asc';\r\n      this.load();\r\n    });\r\n  }\r\n\r\n  private onSuccess(data: any, headers: any): void {\r\n    this.links = this.parseLinks.parse(headers.get('link'));\r\n    this.totalItems = headers.get('X-Total-Count');\r\n    this.queryCount = this.totalItems;\r\n    data.forEach((auditLog: any) => {\r\n      this.revisionTypeList.forEach(revisionType => {\r\n        if (auditLog.revisionType === revisionType.value) {\r\n          auditLog.revisionTypeDesc = revisionType.label;\r\n        }\r\n      });\r\n    });\r\n    this.auditLogs = data;\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    this.alertService.addAlert({ type: 'danger', translationKey: error.message });\r\n  }\r\n\r\n  private setNull(entity: SearchLogModel): void {\r\n    if (!entity.revision) {\r\n      entity.revision = '';\r\n    }\r\n    if (!entity.userId) {\r\n      entity.userId = '';\r\n    }\r\n    if (!entity.revisionType) {\r\n      entity.revisionType = '';\r\n    }\r\n    if (!entity.funcName) {\r\n      entity.funcName = '';\r\n    }\r\n    if (!entity.tableName) {\r\n      entity.tableName = '';\r\n    }\r\n    if (!entity.businessKey) {\r\n      entity.businessKey = '';\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-lg-12\">\r\n    <span class=\"h3\" icTranslate=\"entityAudit.log.main\">Entity Audit</span>\r\n  </div>\r\n</div>\r\n<hr />\r\n<div class=\"card\" style=\"margin-bottom: 15px\">\r\n  <div class=\"card-header\">\r\n    <span icTranslate=\"entityAudit.log.search\"> Search Criteria </span>\r\n  </div>\r\n  <div class=\"card-body\" style=\"padding: 1.25rem\">\r\n    <div class=\"rounded-pill row\">\r\n      <label class=\"col-sm-2 form-control-label\" for=\"fromDateAsStr\" icTranslate=\"entityAudit.log.fromDate\">From Date:</label>\r\n      <div class=\"col-sm-3\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            class=\"form-control\"\r\n            placeholder=\"yyyy-mm-dd\"\r\n            name=\"fromDateAsStr\"\r\n            id=\"fromDateAsStr\"\r\n            ngbDatepicker\r\n            #fromDateAsStr=\"ngbDatepicker\"\r\n            [(ngModel)]=\"searchAuditLogCriteria.fromDateAsStr\"\r\n          />\r\n          <span class=\"input-group-btn\">\r\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"fromDateAsStr.toggle()\">\r\n              <fa-icon [icon]=\"'calendar-alt'\"></fa-icon>\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <label class=\"col-sm-2 form-control-label\" for=\"toDateAsStr\" icTranslate=\"entityAudit.log.toDate\">To Date:</label>\r\n      <div class=\"col-sm-3\">\r\n        <div class=\"input-group\">\r\n          <input\r\n            class=\"form-control\"\r\n            placeholder=\"yyyy-mm-dd\"\r\n            name=\"toDateAsStr\"\r\n            id=\"toDateAsStr\"\r\n            ngbDatepicker\r\n            #toDateAsStr=\"ngbDatepicker\"\r\n            [(ngModel)]=\"searchAuditLogCriteria.toDateAsStr\"\r\n          />\r\n          <span class=\"input-group-btn\">\r\n            <button type=\"button\" class=\"btn btn-default\" (click)=\"toDateAsStr.toggle()\">\r\n              <fa-icon [icon]=\"'calendar-alt'\"></fa-icon>\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"rounded-pill row\">\r\n      <label class=\"col-sm-2 form-control-label\" for=\"revision\" icTranslate=\"entityAudit.log.revision\">Revision:</label>\r\n      <div class=\"col-sm-3\">\r\n        <input type=\"number\" min=\"0\" class=\"form-control\" name=\"revision\" id=\"revision\" [(ngModel)]=\"searchAuditLogCriteria.revision\" />\r\n      </div>\r\n      <label class=\"col-sm-2 form-control-label\" for=\"userId\" icTranslate=\"entityAudit.log.updatedBy\">Updated By:</label>\r\n      <div class=\"col-sm-3\">\r\n        <input type=\"text\" class=\"form-control\" name=\"userId\" id=\"userId\" [(ngModel)]=\"searchAuditLogCriteria.userId\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"rounded-pill row\">\r\n      <label class=\"col-sm-2 form-control-label\" for=\"revisionType\" icTranslate=\"entityAudit.log.revisionType\">Revision Type:</label>\r\n      <div class=\"col-sm-3\">\r\n        <select class=\"form-control\" [(ngModel)]=\"searchAuditLogCriteria.revisionType\">\r\n          <option [value]=\"''\" icTranslate=\"entityAudit.log.selectPlaceHolder\">Please select</option>\r\n          <option *ngFor=\"let revisionType of revisionTypeList\" [value]=\"revisionType.value\">{{ revisionType.label }}</option>\r\n        </select>\r\n      </div>\r\n      <label class=\"col-sm-2 form-control-label\" for=\"funcName\" icTranslate=\"entityAudit.log.funcName\">Function Name:</label>\r\n      <div class=\"col-sm-3\">\r\n        <input type=\"text\" class=\"form-control\" name=\"funcName\" id=\"funcName\" [(ngModel)]=\"searchAuditLogCriteria.funcName\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"rounded-pill row\">\r\n      <label class=\"col-sm-2 form-control-label\" for=\"tableName\" icTranslate=\"entityAudit.log.tableName\">Table Name:</label>\r\n      <div class=\"col-sm-3\">\r\n        <input type=\"text\" class=\"form-control\" name=\"tableName\" id=\"tableName\" [(ngModel)]=\"searchAuditLogCriteria.tableName\" />\r\n      </div>\r\n      <label class=\"col-sm-2 form-control-label\" for=\"businessKey\" icTranslate=\"entityAudit.log.businessKey\">Business Key:</label>\r\n      <div class=\"col-sm-3\">\r\n        <input type=\"text\" class=\"form-control\" name=\"businessKey\" id=\"businessKey\" [(ngModel)]=\"searchAuditLogCriteria.businessKey\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"text-start\">\r\n      <button id=\"search\" class=\"btn btn-warning btn-sm\" (click)=\"search()\">\r\n        <fa-icon [icon]=\"'search'\"></fa-icon>\r\n        <span icTranslate=\"entityAudit.log.btn.search\">Search</span>\r\n      </button>\r\n      <button class=\"btn btn-secondary btn-sm\" (click)=\"reset()\">\r\n        <fa-icon [icon]=\"'trash-alt'\"></fa-icon>\r\n        <span icTranslate=\"entityAudit.log.btn.reset\">Reset</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"card\" style=\"margin-bottom: 15px\">\r\n  <div class=\"card-header\">\r\n    <span icTranslate=\"entityAudit.log.searchResult\"> Search Result </span>\r\n  </div>\r\n  <div class=\"card-body\" style=\"padding: 1.25rem\">\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr icSort [(predicate)]=\"predicate\" [(ascending)]=\"reverse\" [callback]=\"transition.bind(this)\">\r\n            <th scope=\"col\" icSortBy=\"id\">\r\n              <span icTranslate=\"entityAudit.log.revision\">Revision</span>\r\n              <fa-icon [icon]=\"'sort'\"></fa-icon>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <span icTranslate=\"entityAudit.log.funcName\">Function Name</span>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <span icTranslate=\"entityAudit.log.updatedDate\">Updated Date</span>\r\n            </th>\r\n            <th scope=\"col\" icSortBy=\"revId\">\r\n              <span icTranslate=\"entityAudit.log.updatedBy\">Updated By</span>\r\n              <fa-icon [icon]=\"'sort'\"></fa-icon>\r\n            </th>\r\n            <th scope=\"col\" icSortBy=\"revType\">\r\n              <span icTranslate=\"entityAudit.log.revisionType\">Revision Type</span>\r\n              <fa-icon [icon]=\"'sort'\"></fa-icon>\r\n            </th>\r\n            <th scope=\"col\" icSortBy=\"businessKey\">\r\n              <span icTranslate=\"entityAudit.log.businessKey\">Business Key</span>\r\n              <fa-icon [icon]=\"'sort'\"></fa-icon>\r\n            </th>\r\n            <th scope=\"col\" icSortBy=\"tableName\">\r\n              <span icTranslate=\"entityAudit.log.tableName\">Table Name</span>\r\n              <fa-icon [icon]=\"'sort'\"></fa-icon>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <span icTranslate=\"entityAudit.log.beforeImage\">Before Image</span>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <span icTranslate=\"entityAudit.log.afterImage\"> After Image</span>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let auditLog of auditLogs\">\r\n            <td>{{ auditLog.revision }}</td>\r\n            <td>{{ auditLog.functionName }}</td>\r\n            <td>{{ auditLog.updatedDate }}</td>\r\n            <td>{{ auditLog.updatedBy }}</td>\r\n            <td>{{ auditLog.revisionTypeDesc }}</td>\r\n            <td>{{ auditLog.businessKey }}</td>\r\n            <td>{{ auditLog.tableName }}</td>\r\n            <td>{{ auditLog.beforeImage }}</td>\r\n            <td>{{ auditLog.afterImage }}</td>\r\n          </tr>\r\n          <tr *ngIf=\"auditLogs?.length! <= 0\">\r\n            <span icTranslate=\"entityAudit.log.noMatchingRecords\">No Matching Records Found.</span>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div *ngIf=\"auditLogs && auditLogs?.length!\">\r\n      <div class=\"row justify-content-center\">\r\n        <ic-item-count [params]=\"{ page: page, totalItems: totalItems, itemsPerPage: itemsPerPage }\"></ic-item-count>\r\n      </div>\r\n      <div class=\"row justify-content-center\">\r\n        <ngb-pagination\r\n          [collectionSize]=\"totalItems\"\r\n          [pageSize]=\"itemsPerPage\"\r\n          [(page)]=\"page\"\r\n          (pageChange)=\"loadPage(page)\"\r\n          [maxSize]=\"5\"\r\n          [rotate]=\"true\"\r\n        ></ngb-pagination>\r\n      </div>\r\n      <div class=\"text-start\">\r\n        <button *ngIf=\"auditLogs?.length! > 0\" class=\"btn btn-info btn-sm\" (click)=\"exportToCSV()\">\r\n          <fa-icon [icon]=\"'sign-in-alt'\"></fa-icon> <span icTranslate=\"entityAudit.log.exportToCSV\">Export to CSV</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}