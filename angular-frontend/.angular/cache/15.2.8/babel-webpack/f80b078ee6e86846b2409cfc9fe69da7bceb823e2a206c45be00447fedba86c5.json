{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PendingVesRequestComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst core_1 = require(\"@angular/core\");\nconst forms_1 = require(\"@angular/forms\");\nconst date_validator_directive_1 = require(\"app/shared/validator/date-validator.directive\");\nconst fileupload2_directive_1 = require(\"app/shared/validator/fileupload2.directive\");\nconst nric_directive_1 = require(\"app/shared/validator/nric.directive\");\nconst email_directive_1 = require(\"app/shared/validator/email.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"../service/create-ves.service\"));\nconst i8 = tslib_1.__importStar(require(\"app/shared/service/file-upload.service\"));\nconst i9 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/messages\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst _c0 = [\"fileTable\"];\nconst _c1 = [\"vesFileUpload\"];\nfunction PendingVesRequestComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"span\", 18);\n    i0.ɵɵtext(2, \"Pending Approval\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n        \");\n  }\n}\nfunction PendingVesRequestComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"textarea\", 19);\n    i0.ɵɵtext(3, \"                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r12.remarks);\n  }\n}\nfunction PendingVesRequestComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelement(1, \"span\", 20);\n    i0.ɵɵtext(2, \"\\n        \");\n  }\n}\nfunction PendingVesRequestComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"th\", 21);\n    i0.ɵɵtext(4, \"NRIC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵelementStart(6, \"th\", 21);\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementStart(9, \"th\", 21);\n    i0.ɵɵtext(10, \" Start of Extension\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementStart(12, \"th\", 21);\n    i0.ɵɵtext(13, \" End of Extension\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n  }\n}\nfunction PendingVesRequestComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n            \");\n  }\n  if (rf & 2) {\n    const record_r13 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(record_r13.nric);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r13.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 4, record_r13.extensionStartDt, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 7, record_r13.extensionEndDt, \"dd-MM-yyyy\"));\n  }\n}\nfunction PendingVesRequestComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelement(1, \"span\", 20);\n    i0.ɵɵtext(2, \"\\n        \");\n  }\n}\nfunction PendingVesRequestComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"\\n                    Please enter a value\\n                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PendingVesRequestComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \"\\n                    Invalid Email format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PendingVesRequestComponent_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"div\", 24);\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementStart(5, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function PendingVesRequestComponent_ng_template_49_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      const _r8 = i0.ɵɵreference(47);\n      return i0.ɵɵresetView(ctx_r15.exportCSV(_r8));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                \");\n  }\n}\nfunction PendingVesRequestComponent_ng_template_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 26);\n    i0.ɵɵtext(4, \"Filename\");\n    i0.ɵɵelementStart(5, \"p-sortIcon\", 27);\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"th\", 28);\n    i0.ɵɵtext(10, \"Uploaded On\");\n    i0.ɵɵelementStart(11, \"p-sortIcon\", 29);\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"th\", 30);\n    i0.ɵɵtext(16, \"Uploaded By\");\n    i0.ɵɵelementStart(17, \"p-sortIcon\", 31);\n    i0.ɵɵtext(18, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                \");\n  }\n}\nfunction PendingVesRequestComponent_ng_template_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 32);\n    i0.ɵɵlistener(\"click\", function PendingVesRequestComponent_ng_template_53_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const record_r17 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.downloadDoc(record_r17.documentId));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n  }\n  if (rf & 2) {\n    const record_r17 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(record_r17.filename);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 3, record_r17.createdDt, \"dd-MM-YYYY (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(record_r17.createdBy);\n  }\n}\nclass PendingVesRequestComponent {\n  constructor(fb, toastService, n2httpService, nspConfirmService, dateUtilsService, exportUtilsService, createVesService, fileUploadService, route, localeId) {\n    this.fb = fb;\n    this.toastService = toastService;\n    this.n2httpService = n2httpService;\n    this.nspConfirmService = nspConfirmService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.createVesService = createVesService;\n    this.fileUploadService = fileUploadService;\n    this.route = route;\n    this.localeId = localeId;\n    this.recordList = [];\n    this.remarksList = [];\n    this.supportingDocsList = [];\n    this.generateForm = this.fb.group({\n      nric: new forms_1.FormControl('', [forms_1.Validators.required, (0, nric_directive_1.NRICValidator)()]),\n      name: new forms_1.FormControl('', forms_1.Validators.required),\n      remarks: new forms_1.FormControl('', forms_1.Validators.required),\n      extensionStartDt: new forms_1.FormControl(null, forms_1.Validators.required),\n      extensionEndDt: new forms_1.FormControl(null, forms_1.Validators.required)\n    }, {\n      validators: date_validator_directive_1.DateValidator.dateLessThanOrEquals(\"extensionStartDt\", \"extensionEndDt\")\n    });\n    this.uploadForm = this.fb.group({\n      adminEmail: new forms_1.FormControl('', [forms_1.Validators.required, (0, email_directive_1.EmailValidator)()]),\n      file: new forms_1.FormControl([], [fileupload2_directive_1.FileUploadValidator2.allowableExtension(\".pdf\")])\n    }, {});\n    this.confirmationDialog = {\n      display: false\n    };\n    this.vesFileUploadForm = this.fb.group({\n      file: new forms_1.FormControl([], [fileupload2_directive_1.FileUploadValidator2.allowableExtension(\".pdf\")])\n    });\n    this.currentDate = new Date();\n  }\n  ngOnInit() {\n    console.log(\"VES Request ID: \", this.route.snapshot.paramMap.get(\"id\"));\n    this.requestId = this.route.snapshot.paramMap.get(\"id\");\n    this.loadData();\n  }\n  onOpen(dialog) {\n    dialog.display = true;\n  }\n  FileSubmit(event, key, dialog) {\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\n      //\n    });\n  }\n  loadData() {\n    setTimeout(() => {\n      this.createVesService.getById(this.requestId).subscribe(res => {\n        this.getrequest = res.body.data;\n        this.recordList = res.body.data.records;\n        this.remarksList = res.body.data.remarks;\n        this.uploadForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\n        this.supportingDocsList = res.body.data.supportingDocs;\n        console.log(this.supportingDocsList[0].documentId);\n        console.log(this.remarksList);\n      }, error => {\n        console.log(error.message);\n        console.log(this.getrequest);\n      });\n    }, 1000);\n  }\n  downloadDoc(docId) {\n    if (docId) {\n      console.log(docId);\n      this.fileUploadService.downloadTxnId(docId).subscribe(res => {\n        if (res) {\n          const data = res;\n          const contentDispositionHeader = data.headers.get('content-disposition');\n          const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n          const blob = new Blob([data.body], {\n            type: data.headers.get('content-type')\n          });\n          const anchor = document.createElement(\"a\");\n          anchor.href = URL.createObjectURL(blob);\n          anchor.download = fileName;\n          anchor.click();\n        }\n      }, error => {\n        console.log(error);\n        this.toastService.error(error.error?.error_desc);\n      });\n    }\n  }\n  exportCSV(dataTable) {\n    this.createVesService.getById(this.requestId).subscribe(res => {\n      if (res.body.data.supportingDocs) {\n        const data = res.body.data.supportingDocs;\n        const columns = [{\n          field: 'filename',\n          header: 'File Name',\n          index: 0\n        }, {\n          field: 'createdDt',\n          header: 'Created Date',\n          index: 1\n        }, {\n          field: 'createdBy',\n          header: 'Created By',\n          index: 2\n        }];\n        const dtoList = [];\n        console.log(\"data\", data);\n        data.forEach((record, index) => {\n          const dto = {\n            filename: `${String(record.filename)}`,\n            createdDt: `${String(this.dateUtilsService.formatStrDate(record.createdDt, \"DD-MM-YYYY\"))}`,\n            createdBy: `${String(record.createdBy)}`\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"data_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n      }\n    }, error => {\n      console.log(error.error?.error_desc);\n    });\n  }\n}\nexports.PendingVesRequestComponent = PendingVesRequestComponent;\nPendingVesRequestComponent.ɵfac = function PendingVesRequestComponent_Factory(t) {\n  return new (t || PendingVesRequestComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.Ns2HttpService), i0.ɵɵdirectiveInject(i4.NspConfirmationService), i0.ɵɵdirectiveInject(i5.DateUtilsService), i0.ɵɵdirectiveInject(i6.ExportUtilsService), i0.ɵɵdirectiveInject(i7.CreateVesService), i0.ɵɵdirectiveInject(i8.FileUploadService), i0.ɵɵdirectiveInject(i9.ActivatedRoute), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nPendingVesRequestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PendingVesRequestComponent,\n  selectors: [[\"n2-pending-ves-request\"]],\n  viewQuery: function PendingVesRequestComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vesFileUpload = _t.first);\n    }\n  },\n  decls: 59,\n  vars: 6,\n  consts: [[\"header\", \"VES Request\"], [\"severity\", \"info\"], [\"pTemplate\", \"\"], [\"header\", \"Request Remarks\"], [4, \"ngFor\", \"ngForOf\"], [\"header\", \"VES Record\"], [\"pTemplate\", \"header\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\"], [\"pTemplate\", \"body\"], [\"header\", \"Unit Administrator\"], [3, \"formGroup\"], [1, \"field\", \"col-12\"], [\"for\", \"adminEmail\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"adminEmail\", \"formControlName\", \"adminEmail\", 1, \"text-base\", \"text-color\", \"surface-overlay\", \"p-2\", \"border-1\", \"border-solid\", \"surface-border\", \"border-round\", \"appearance-none\", \"outline-none\", \"focus:border-primary\", \"w-full\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"fileTable\", \"\"], [\"pTemplate\", \"caption\"], [1, \"custom-message\"], [\"pInputTextarea\", \"\", \"disabled\", \"true\", \"required\", \"\", 1, \"form-control\", 3, \"value\"], [1, \"p-panel-title\"], [\"scope\", \"col\", 2, \"width\", \"20%\"], [1, \"form-text\", \"text-danger\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", \"pSortableColumn\", \"filename\"], [\"field\", \"filename\"], [\"scope\", \"col\", \"pSortableColumn\", \"uploadedon\"], [\"field\", \"uploadedon\"], [\"scope\", \"col\", \"pSortableColumn\", \"uploadedby\"], [\"field\", \"uploadedby\"], [1, \"underline\", \"text-blue-500\", 3, \"click\"]],\n  template: function PendingVesRequestComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-panel\", 0);\n      i0.ɵɵtext(1, \"\\n\\n\\n    \");\n      i0.ɵɵelementStart(2, \"p-messages\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵtemplate(4, PendingVesRequestComponent_ng_template_4_Template, 4, 0, \"ng-template\", 2);\n      i0.ɵɵtext(5, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n\\n    \");\n      i0.ɵɵelementStart(7, \"p-panel\", 3);\n      i0.ɵɵtext(8, \"\\n        \");\n      i0.ɵɵtemplate(9, PendingVesRequestComponent_div_9_Template, 5, 1, \"div\", 4);\n      i0.ɵɵtext(10, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n    \");\n      i0.ɵɵelement(12, \"p\");\n      i0.ɵɵtext(13, \"\\n    \");\n      i0.ɵɵelementStart(14, \"p-panel\", 5);\n      i0.ɵɵtext(15, \"\\n        \");\n      i0.ɵɵtemplate(16, PendingVesRequestComponent_ng_template_16_Template, 3, 0, \"ng-template\", 6);\n      i0.ɵɵtext(17, \"\\n        \");\n      i0.ɵɵelementStart(18, \"p-table\", 7);\n      i0.ɵɵtext(19, \"\\n            \");\n      i0.ɵɵtemplate(20, PendingVesRequestComponent_ng_template_20_Template, 16, 0, \"ng-template\", 6);\n      i0.ɵɵtext(21, \"\\n            \");\n      i0.ɵɵtemplate(22, PendingVesRequestComponent_ng_template_22_Template, 18, 10, \"ng-template\", 8);\n      i0.ɵɵtext(23, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n    \");\n      i0.ɵɵelement(26, \"p\");\n      i0.ɵɵtext(27, \"\\n    \");\n      i0.ɵɵelementStart(28, \"p-panel\", 9);\n      i0.ɵɵtext(29, \"\\n        \");\n      i0.ɵɵtemplate(30, PendingVesRequestComponent_ng_template_30_Template, 3, 0, \"ng-template\", 6);\n      i0.ɵɵtext(31, \"\\n        \");\n      i0.ɵɵelementStart(32, \"form\", 10);\n      i0.ɵɵtext(33, \"\\n            \");\n      i0.ɵɵelementStart(34, \"div\", 11);\n      i0.ɵɵtext(35, \"\\n                \");\n      i0.ɵɵelementStart(36, \"label\", 12);\n      i0.ɵɵtext(37, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n                \");\n      i0.ɵɵelement(39, \"input\", 13);\n      i0.ɵɵtext(40, \"\\n                \");\n      i0.ɵɵtemplate(41, PendingVesRequestComponent_div_41_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(42, \"\\n                \");\n      i0.ɵɵtemplate(43, PendingVesRequestComponent_div_43_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(44, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n            \");\n      i0.ɵɵelementStart(46, \"p-table\", 15, 16);\n      i0.ɵɵtext(48, \"\\n                \");\n      i0.ɵɵtemplate(49, PendingVesRequestComponent_ng_template_49_Template, 9, 0, \"ng-template\", 17);\n      i0.ɵɵtext(50, \"\\n                \");\n      i0.ɵɵtemplate(51, PendingVesRequestComponent_ng_template_51_Template, 22, 0, \"ng-template\", 6);\n      i0.ɵɵtext(52, \"\\n                \");\n      i0.ɵɵtemplate(53, PendingVesRequestComponent_ng_template_53_Template, 15, 6, \"ng-template\", 8);\n      i0.ɵɵtext(54, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(57, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_3_0;\n      let tmp_4_0;\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.remarksList);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"value\", ctx.recordList);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"formGroup\", ctx.uploadForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.uploadForm.get(\"adminEmail\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx.uploadForm.get(\"adminEmail\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.uploadForm.get(\"adminEmail\")) == null ? null : tmp_4_0.hasError(\"pattern\")) && ((tmp_4_0 = ctx.uploadForm.get(\"adminEmail\")) == null ? null : tmp_4_0.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"value\", ctx.supportingDocsList);\n    }\n  },\n  dependencies: [i10.NgForOf, i10.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i11.PrimeTemplate, i12.ButtonDirective, i13.Tooltip, i14.Table, i14.SortableColumn, i14.SortIcon, i15.InputText, i16.InputTextarea, i17.Messages, i18.Panel, i10.DatePipe],\n  styles: [\"[_nghost-%COMP%]     .n2-file-upload {\\n  height: 10%;\\n  width: 10%;\\n}\\n\\n[_nghost-%COMP%]     .fa-circle-xmark {\\n  color: #e24c4c;\\n  font-size: 2em;\\n  border: 0px;\\n}\\n\\n[_nghost-%COMP%]     .fa-0 {\\n  background: var(--blue-300) !important;\\n  color: #ffffff;\\n  font-size: 1.4em;\\n  border-radius: 2em;\\n}\\n\\n[_nghost-%COMP%]     .p-panel .p-dropdown {\\n  width: 75%;\\n}\\n\\n[_nghost-%COMP%]     .p-inputtext.ng-touched.ng-invalid {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     p-dropdown.ng-touched.ng-invalid > .p-dropdown {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     p-calendar.ng-touched.ng-invalid > .p-calendar > .p-inputtext {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     .red-border > .p-calendar > .p-inputtext {\\n  border-color: #e24c4c !important;\\n}\\n\\n.p-scrollpanel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  padding: 0.5rem;\\n  line-height: 1.5;\\n  margin: 0;\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-wrapper[_ngcontent-%COMP%] {\\n  border-right: 9px solid var(--layer-1);\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-bar[_ngcontent-%COMP%] {\\n  background-color: var(--primary-color);\\n  opacity: 1;\\n  transition: background-color 0.2s;\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-bar[_ngcontent-%COMP%]:hover {\\n  background-color: #007ad9;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlbmRpbmctdmVzLXJlcXVlc3QuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxwcm9qZWN0cyUyMDJcXG5zcGF5aWlhcHBcXHNyY1xcbWFpblxcd2ViYXBwXFxhcHBcXHBheXJvbGxcXHZlc1xccGVuZGluZy12ZXMtcmVxdWVzdFxccGVuZGluZy12ZXMtcmVxdWVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxVQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLHNDQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURHQTtFQUNJLGdDQUFBO0FDQUo7O0FESUk7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxTQUFBO0FDRFI7QURLUTtFQUNJLHNDQUFBO0FDSFo7QURNUTtFQUNJLHNDQUFBO0VBQ0EsVUFBQTtFQUNBLGlDQUFBO0FDSlo7QURNWTtFQUNJLHlCQUFBO0FDSmhCIiwiZmlsZSI6InBlbmRpbmctdmVzLXJlcXVlc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAgLm4yLWZpbGUtdXBsb2FkIHtcclxuICAgIGhlaWdodDogMTAlO1xyXG4gICAgd2lkdGg6IDEwJTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUteG1hcmsge1xyXG4gICAgY29sb3I6ICNlMjRjNGM7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxuICAgIGJvcmRlcjogMHB4O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZhLTAge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZS0zMDApICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGZvbnQtc2l6ZTogMS40ZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1wYW5lbCAucC1kcm9wZG93biB7XHJcbiAgICB3aWR0aDogNzUlO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnAtaW5wdXR0ZXh0Lm5nLXRvdWNoZWQubmctaW52YWxpZCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIHAtZHJvcGRvd24ubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtZHJvcGRvd24ge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCBwLWNhbGVuZGFyLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vLyBpZiBSZXBvcnQgRW5kIERhdGUgZ3JlYXRlciB0aGFuIFJlcG9ydCBTdGFydCBEYXRlXHJcbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlciA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucC1zY3JvbGxwYW5lbCB7XHJcbiAgICBwIHtcclxuICAgICAgICBwYWRkaW5nOiAuNXJlbTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgIH1cclxuXHJcbiAgICAmLmN1c3RvbWJhcjEge1xyXG4gICAgICAgIC5wLXNjcm9sbHBhbmVsLXdyYXBwZXIge1xyXG4gICAgICAgICAgICBib3JkZXItcmlnaHQ6IDlweCBzb2xpZCB2YXIoLS1sYXllci0xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5wLXNjcm9sbHBhbmVsLWJhciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycztcclxuXHJcbiAgICAgICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2FkOTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIjpob3N0IDo6bmctZGVlcCAubjItZmlsZS11cGxvYWQge1xuICBoZWlnaHQ6IDEwJTtcbiAgd2lkdGg6IDEwJTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUteG1hcmsge1xuICBjb2xvcjogI2UyNGM0YztcbiAgZm9udC1zaXplOiAyZW07XG4gIGJvcmRlcjogMHB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmZhLTAge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLTMwMCkgIWltcG9ydGFudDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGZvbnQtc2l6ZTogMS40ZW07XG4gIGJvcmRlci1yYWRpdXM6IDJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLXBhbmVsIC5wLWRyb3Bkb3duIHtcbiAgd2lkdGg6IDc1JTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIHAtZHJvcGRvd24ubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtZHJvcGRvd24ge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIHAtY2FsZW5kYXIubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtY2FsZW5kYXIgPiAucC1pbnB1dHRleHQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5yZWQtYm9yZGVyID4gLnAtY2FsZW5kYXIgPiAucC1pbnB1dHRleHQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuLnAtc2Nyb2xscGFuZWwgcCB7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgbWFyZ2luOiAwO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC13cmFwcGVyIHtcbiAgYm9yZGVyLXJpZ2h0OiA5cHggc29saWQgdmFyKC0tbGF5ZXItMSk7XG59XG4ucC1zY3JvbGxwYW5lbC5jdXN0b21iYXIxIC5wLXNjcm9sbHBhbmVsLWJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG59XG4ucC1zY3JvbGxwYW5lbC5jdXN0b21iYXIxIC5wLXNjcm9sbHBhbmVsLWJhcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdhZDk7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5cm9sbC92ZXMvcGVuZGluZy12ZXMtcmVxdWVzdC9wZW5kaW5nLXZlcy1yZXF1ZXN0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9wYXlyb2xsL3Zlcy9wZW5kaW5nLXZlcy1yZXF1ZXN0L3BlbmRpbmctdmVzLXJlcXVlc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxzQ0FBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0FDQ0o7O0FERUE7RUFDSSxnQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0o7O0FER0E7RUFDSSxnQ0FBQTtBQ0FKOztBRElJO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtBQ0RSO0FES1E7RUFDSSxzQ0FBQTtBQ0haO0FETVE7RUFDSSxzQ0FBQTtFQUNBLFVBQUE7RUFDQSxpQ0FBQTtBQ0paO0FETVk7RUFDSSx5QkFBQTtBQ0poQjtBRENBLDQ2SUFBNDZJIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5uMi1maWxlLXVwbG9hZCB7XHJcbiAgICBoZWlnaHQ6IDEwJTtcclxuICAgIHdpZHRoOiAxMCU7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZmEtY2lyY2xlLXhtYXJrIHtcclxuICAgIGNvbG9yOiAjZTI0YzRjO1xyXG4gICAgZm9udC1zaXplOiAyZW07XHJcbiAgICBib3JkZXI6IDBweDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS0wIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJsdWUtMzAwKSAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBmb250LXNpemU6IDEuNGVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnAtcGFuZWwgLnAtZHJvcGRvd24ge1xyXG4gICAgd2lkdGg6IDc1JTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCBwLWRyb3Bkb3duLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWRyb3Bkb3duIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgcC1jYWxlbmRhci5uZy10b3VjaGVkLm5nLWludmFsaWQgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuLy8gaWYgUmVwb3J0IEVuZCBEYXRlIGdyZWF0ZXIgdGhhbiBSZXBvcnQgU3RhcnQgRGF0ZVxyXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXIgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnAtc2Nyb2xscGFuZWwge1xyXG4gICAgcCB7XHJcbiAgICAgICAgcGFkZGluZzogLjVyZW07XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICB9XHJcblxyXG4gICAgJi5jdXN0b21iYXIxIHtcclxuICAgICAgICAucC1zY3JvbGxwYW5lbC13cmFwcGVyIHtcclxuICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiA5cHggc29saWQgdmFyKC0tbGF5ZXItMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucC1zY3JvbGxwYW5lbC1iYXIge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMnM7XHJcblxyXG4gICAgICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdhZDk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCI6aG9zdCA6Om5nLWRlZXAgLm4yLWZpbGUtdXBsb2FkIHtcbiAgaGVpZ2h0OiAxMCU7XG4gIHdpZHRoOiAxMCU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZmEtY2lyY2xlLXhtYXJrIHtcbiAgY29sb3I6ICNlMjRjNGM7XG4gIGZvbnQtc2l6ZTogMmVtO1xuICBib3JkZXI6IDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS0wIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZS0zMDApICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBmb250LXNpemU6IDEuNGVtO1xuICBib3JkZXItcmFkaXVzOiAyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1wYW5lbCAucC1kcm9wZG93biB7XG4gIHdpZHRoOiA3NSU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1pbnB1dHRleHQubmctdG91Y2hlZC5uZy1pbnZhbGlkIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCBwLWRyb3Bkb3duLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWRyb3Bkb3duIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCBwLWNhbGVuZGFyLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlciA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbi5wLXNjcm9sbHBhbmVsIHAge1xuICBwYWRkaW5nOiAwLjVyZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIG1hcmdpbjogMDtcbn1cbi5wLXNjcm9sbHBhbmVsLmN1c3RvbWJhcjEgLnAtc2Nyb2xscGFuZWwtd3JhcHBlciB7XG4gIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHZhcigtLWxheWVyLTEpO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC1iYXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC1iYXI6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWQ5O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;AAAA;AACA;AAGA;AACA;AAEA;AAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ICRYA;IAAAA,gCAA6B;IAAAA,gCAAgB;IAAAA,iBAAO;IACxDA;;;;;IAIAA,2BAAsC;IAClCA;IAAAA,oCAAmG;IACnFA;IAAAA,iBAAW;IAC/BA;IAAAA,iBAAM;;;;IAFwEA,eAAwB;IAAxBA,mDAAwB;;;;;IAOlGA;IAAAA,2BAAmC;IACvCA;;;;;IAIQA;IAAAA,0BAAI;IACAA;IAAAA,8BAAmC;IAAAA,oBAAI;IAAAA,iBAAK;IAC5CA;IAAAA,8BAAmC;IAAAA,oBAAI;IAAAA,iBAAK;IAC5CA;IAAAA,8BAAmC;IAACA,oCAAkB;IAAAA,iBAAK;IAC3DA;IAAAA,+BAAmC;IAACA,kCAAgB;IAAAA,iBAAK;IAC7DA;IAAAA,iBAAK;IACTA;;;;;IAEIA;IAAAA,0BAAI;IACAA;IAAAA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA;IAAAA,0BAAI;IAAAA,YAAiB;IAAAA,iBAAK;IAC1BA;IAAAA,0BAAI;IAAAA,aAAkD;;IAAAA,iBAAK;IAC3DA;IAAAA,2BAAI;IAAAA,aAAgD;;IAAAA,iBAAK;IAC7DA;IAAAA,iBAAK;IACTA;;;;IALYA,eAAiB;IAAjBA,qCAAiB;IACjBA,eAAiB;IAAjBA,qCAAiB;IACjBA,eAAkD;IAAlDA,sFAAkD;IAClDA,eAAgD;IAAhDA,oFAAgD;;;;;IAQ5DA;IAAAA,2BAAmC;IACvCA;;;;;IAMQA,+BACkC;IAC9BA,4EACJ;IAAAA,iBAAM;;;;;IACNA,+BACkC;IAC9BA,0DAAoB;IAAAA,iBAAM;;;;;;IAI1BA;IAAAA,+BAAkB;IACdA;IAAAA,+BAAgF;IAC5EA;IAAAA,kCAC6B;IADsDA;MAAAA;MAAA;MAAA;MAAA,OAASA,qCAAoB;IAAA,EAAC;IACpFA,iBAAS;IAC1CA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACVA;;;;;IAEIA;IAAAA,0BAAI;IACAA;IAAAA,8BAA2C;IAAAA,wBAAQ;IAAAA,sCAA6B;IAC5EA;IAAAA,iBAAa;IACjBA;IAAAA,iBAAK;IACLA;IAAAA,8BAA6C;IAAAA,4BAAW;IAAAA,uCAA+B;IACnFA;IAAAA,iBAAa;IACjBA;IAAAA,iBAAK;IACLA;IAAAA,+BAA6C;IAAAA,4BAAW;IAAAA,uCAA+B;IACnFA;IAAAA,iBAAa;IACjBA;IAAAA,iBAAK;IACTA;IAAAA,iBAAK;IACTA;;;;;;IAEIA;IAAAA,0BAAI;IACAA;IAAAA,0BAAI;IAAmCA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAA8B;IAAA,EAAC;IAACA,YAAmB;IAAAA,iBAAI;IACvGA;IADAA,iBAAI;IACJA,0BAAI;IAAAA,YAAgD;;IAAAA,iBAAK;IACzDA;IAAAA,2BAAI;IAAAA,aAAoB;IAAAA,iBAAK;IACjCA;IAAAA,iBAAK;IACTA;;;;IAJwFA,eAAmB;IAAnBA,yCAAmB;IAC/FA,eAAgD;IAAhDA,qFAAgD;IAChDA,eAAoB;IAApBA,0CAAoB;;;AD9DhD,MAKaC,0BAA0B;EAsCrCC,YACUC,EAAe,EACfC,YAAgC,EAChCC,aAA6B,EAC7BC,iBAAyC,EACzCC,gBAAkC,EAClCC,kBAAsC,EACtCC,gBAAkC,EAClCC,iBAAoC,EACpCC,KAAqB,EACAC,QAAgB;IATrC,OAAE,GAAFT,EAAE;IACF,iBAAY,GAAZC,YAAY;IACZ,kBAAa,GAAbC,aAAa;IACb,sBAAiB,GAAjBC,iBAAiB;IACjB,qBAAgB,GAAhBC,gBAAgB;IAChB,uBAAkB,GAAlBC,kBAAkB;IAClB,qBAAgB,GAAhBC,gBAAgB;IAChB,sBAAiB,GAAjBC,iBAAiB;IACjB,UAAK,GAALC,KAAK;IACgB,aAAQ,GAARC,QAAQ;IA7CvC,eAAU,GAAiB,EAAE;IAC7B,gBAAW,GAAkB,EAAE;IAC/B,uBAAkB,GAAyB,EAAE;IAG7C,iBAAY,GAAc,IAAI,CAACT,EAAE,CAACU,KAAK,CAAC;MACtCC,IAAI,EAAE,IAAIC,mBAAW,CAAC,EAAE,EAAE,CAACA,kBAAU,CAACC,QAAQ,EAAE,kCAAa,GAAE,CAAC,CAAC;MACjEC,IAAI,EAAE,IAAIF,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;MAC9CE,OAAO,EAAE,IAAIH,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;MACjDG,gBAAgB,EAAE,IAAIJ,mBAAW,CAAC,IAAI,EAAEA,kBAAU,CAACC,QAAQ,CAAC;MAC5DI,cAAc,EAAE,IAAIL,mBAAW,CAAC,IAAI,EAAEA,kBAAU,CAACC,QAAQ;KAC1D,EAAE;MACDK,UAAU,EAAEC,wCAAa,CAACC,oBAAoB,CAAC,kBAAkB,EAAE,gBAAgB;KACpF,CACA;IAED,eAAU,GAAc,IAAI,CAACpB,EAAE,CAACU,KAAK,CAAC;MACpCW,UAAU,EAAE,IAAIT,mBAAW,CAAC,EAAE,EAAE,CAACA,kBAAU,CAACC,QAAQ,EAAE,oCAAc,GAAE,CAAC,CAAC;MACxES,IAAI,EAAE,IAAIV,mBAAW,CAAC,EAAE,EAAE,CAACW,4CAAoB,CAACC,kBAAkB,CAAC,MAAM,CAAC,CAAC;KAC5E,EAAE,EAAE,CAAC;IAIN,uBAAkB,GAAQ;MAACC,OAAO,EAAE;IAAK,CAAC;IAE1C,sBAAiB,GAAc,IAAI,CAACzB,EAAE,CAACU,KAAK,CAAC;MAC3CY,IAAI,EAAE,IAAIV,mBAAW,CAAC,EAAE,EAAE,CACxBW,4CAAoB,CAACC,kBAAkB,CAAC,MAAM,CAAC,CAAC;KACnD,CAAC;IAmBA,IAAI,CAACE,WAAW,GAAG,IAAIC,IAAI,EAAE;EAC/B;EAEAC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACtB,KAAK,CAACuB,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC,CAAC;IACvE,IAAI,CAACC,SAAS,GAAG,IAAI,CAAC1B,KAAK,CAACuB,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACvD,IAAI,CAACE,QAAQ,EAAE;EACjB;EAEAC,MAAM,CAACC,MAAW;IAChBA,MAAM,CAACZ,OAAO,GAAG,IAAI;EACvB;EAEAa,UAAU,CAACC,KAAY,EAAEC,GAAW,EAAEH,MAAW;IAC/C,IAAI,CAAClC,iBAAiB,CAACsC,cAAc,CAACF,KAAK,EAAEC,GAAG,EAAEH,MAAM,EAAE,MAAK;MACnE;IAAA,CACK,CAAC;EACJ;EAEAF,QAAQ;IACNO,UAAU,CAAC,MAAK;MACd,IAAI,CAACpC,gBAAgB,CAACqC,OAAO,CAAC,IAAI,CAACT,SAAS,CAAC,CAACU,SAAS,CACpDC,GAAsB,IAAI;QACzB,IAAI,CAACC,UAAU,GAAGD,GAAG,CAACE,IAAI,CAACC,IAAI;QAC/B,IAAI,CAACC,UAAU,GAAGJ,GAAG,CAACE,IAAI,CAACC,IAAI,CAACE,OAAO;QACvC,IAAI,CAACC,WAAW,GAAGN,GAAG,CAACE,IAAI,CAACC,IAAI,CAACjC,OAAO;QACxC,IAAI,CAACqC,UAAU,CAACnB,GAAG,CAAC,YAAY,CAAC,CAACoB,UAAU,CAAC,IAAI,CAACJ,UAAU,CAAC,CAAC,CAAC,CAAC5B,UAAU,CAAC;QAC3E,IAAI,CAACiC,kBAAkB,GAAGT,GAAG,CAACE,IAAI,CAACC,IAAI,CAACO,cAAc;QACtD1B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACwB,kBAAkB,CAAC,CAAC,CAAC,CAACE,UAAU,CAAC;QAClD3B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACqB,WAAW,CAAC;MAC/B,CAAC,EACAM,KAAwB,IAAI;QAC3B5B,OAAO,CAACC,GAAG,CAAC2B,KAAK,CAACC,OAAO,CAAC;QAC1B7B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACgB,UAAU,CAAC;MAC9B,CAAC,CACF;IACH,CAAC,EAAE,IAAI,CAAC;EACV;EAEAa,WAAW,CAACC,KAAa;IACvB,IAAIA,KAAK,EAAE;MACT/B,OAAO,CAACC,GAAG,CAAC8B,KAAK,CAAC;MAClB,IAAI,CAACrD,iBAAiB,CAACsD,aAAa,CAACD,KAAK,CAAC,CAAChB,SAAS,CACnDC,GAAG,IAAG;QACJ,IAAIA,GAAG,EAAE;UACP,MAAMG,IAAI,GAAGH,GAAG;UAChB,MAAMiB,wBAAwB,GAAWd,IAAI,CAACe,OAAO,CAAC9B,GAAG,CAAC,qBAAqB,CAAC;UAChF,MAAM+B,QAAQ,GAAGF,wBAAwB,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE,CAACD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;UAC9F,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACrB,IAAI,CAACD,IAAI,CAAC,EAAE;YAAEuB,IAAI,EAAEtB,IAAI,CAACe,OAAO,CAAC9B,GAAG,CAAC,cAAc;UAAC,CAAE,CAAC;UAC9E,MAAMsC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;UAC1CF,MAAM,CAACG,IAAI,GAAGC,GAAG,CAACC,eAAe,CAACR,IAAI,CAAC;UACvCG,MAAM,CAACM,QAAQ,GAAGb,QAAQ;UAC1BO,MAAM,CAACO,KAAK,EAAE;;MAElB,CAAC,EACDrB,KAAK,IAAG;QACN5B,OAAO,CAACC,GAAG,CAAC2B,KAAK,CAAC;QAClB,IAAI,CAACxD,YAAY,CAACwD,KAAK,CAACA,KAAK,CAACA,KAAK,EAAEsB,UAAU,CAAC;MAClD,CAAC,CACF;;EAEL;EAGAC,SAAS,CAACC,SAAgB;IACxB,IAAI,CAAC3E,gBAAgB,CAACqC,OAAO,CAAC,IAAI,CAACT,SAAS,CAAC,CAACU,SAAS,CACrDC,GAAG,IAAG;MACJ,IAAIA,GAAG,CAACE,IAAI,CAACC,IAAI,CAACO,cAAc,EAAE;QAChC,MAAMP,IAAI,GAAGH,GAAG,CAACE,IAAI,CAACC,IAAI,CAACO,cAAc;QACzC,MAAM2B,OAAO,GACX,CACE;UAAEC,KAAK,EAAE,UAAU;UAAEC,MAAM,EAAE,WAAW;UAAEC,KAAK,EAAE;QAAC,CAAE,EACpD;UAAEF,KAAK,EAAE,WAAW;UAAEC,MAAM,EAAE,cAAc;UAAEC,KAAK,EAAE;QAAC,CAAE,EACxD;UAAEF,KAAK,EAAE,WAAW;UAAEC,MAAM,EAAE,YAAY;UAAEC,KAAK,EAAE;QAAC,CAAE,CACvD;QAEH,MAAMC,OAAO,GAAU,EAAE;QACzBzD,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEkB,IAAI,CAAC;QACzBA,IAAI,CAACuC,OAAO,CAAC,CAACC,MAA0B,EAAEH,KAAa,KAAI;UACzD,MAAMI,GAAG,GAAG;YACVC,QAAQ,EAAE,GAAGC,MAAM,CAACH,MAAM,CAACE,QAAQ,CAAC,EAAE;YACtCE,SAAS,EAAE,GAAGD,MAAM,CAAC,IAAI,CAACvF,gBAAgB,CAACyF,aAAa,CAACL,MAAM,CAACI,SAAS,EAAE,YAAY,CAAC,CAAC,EAAE;YAC3FE,SAAS,EAAE,GAAGH,MAAM,CAACH,MAAM,CAACM,SAAS,CAAC;WACvC;UACDR,OAAO,CAACS,IAAI,CAACN,GAAG,CAAC;QACnB,CAAC,CAAC;QACF,IAAI,CAACpF,kBAAkB,CAAC2E,SAAS,CAACC,SAAS,EAAEK,OAAO,EAAEzC,GAAG,CAACE,IAAI,CAACC,IAAI,CAACgD,aAAa,EAAEd,OAAO,EACxF,OAAO,CAACe,MAAM,CAAC,uBAAU,EAAC,IAAItE,IAAI,EAAE,EAAE,YAAY,EAAE,IAAI,CAAClB,QAAQ,CAAC,CAAC,CAAC;;IAE1E,CAAC,EACDgD,KAAK,IAAG;MACN5B,OAAO,CAACC,GAAG,CAAC2B,KAAK,CAACA,KAAK,EAAEsB,UAAU,CAAC;IACtC,CAAC,CAAC;EACN;;AApJFmB;;mBAKapG,0BAA0B,4ZAgD3BqG,gBAAS;AAAA;;QAhDRrG,0BAA0B;EAAAsG;EAAAC;IAAA;;;;;;;;;;;;;;;MC3BvCxG,kCAA8B;MAG1BA;MAAAA,qCAA4B;MACxBA;MAAAA,2FAEc;MAClBA;MAAAA,iBAAa;MAEbA;MAAAA,kCAAkC;MAC9BA;MAAAA,2EAGM;MACVA;MAAAA,iBAAU;MACVA;MAAAA,qBAAO;MACPA;MAAAA,mCAA6B;MACzBA;MAAAA,6FAEc;MACdA;MAAAA,mCACoF;MAChFA;MAAAA,8FAOc;MACdA;MAAAA,+FAOc;MAClBA;MAAAA,iBAAU;MACdA;MAAAA,iBAAU;MACVA;MAAAA,qBAAO;MACPA;MAAAA,mCAAqC;MACjCA;MAAAA,6FAEc;MACdA;MAAAA,iCAA+B;MAC3BA;MAAAA,gCAA0B;MACtBA;MAAAA,kCAAwB;MAAAA,sBAAK;MAAAA,iBAAQ;MACrCA;MAAAA,6BACgK;MAChKA;MAAAA,8EAGM;MACNA;MAAAA,8EAE8B;MAClCA;MAAAA,iBAAM;MACNA;MAAAA,wCAAoF;MAChFA;MAAAA,8FAOc;MACdA;MAAAA,8FAYc;MACdA;MAAAA,8FAMc;MAClBA;MAAAA,iBAAU;MACdA;MAAAA,iBAAO;MACXA;MAAAA,iBAAU;MACdA;MAAAA,iBAAU;MACVA;;;;;MAjF8BA,eAAc;MAAdA,yCAAc;MAU3BA,eAAoB;MAApBA,sCAAoB;MAyBvBA,gBAAwB;MAAxBA,0CAAwB;MAKhBA,eAAiG;MAAjGA,sMAAiG;MAIjGA,eAA8F;MAA9FA,mMAA8F;MAIjDA,eAA4B;MAA5BA,8CAA4B","names":["i0","PendingVesRequestComponent","constructor","fb","toastService","n2httpService","nspConfirmService","dateUtilsService","exportUtilsService","createVesService","fileUploadService","route","localeId","group","nric","forms_1","required","name","remarks","extensionStartDt","extensionEndDt","validators","date_validator_directive_1","dateLessThanOrEquals","adminEmail","file","fileupload2_directive_1","allowableExtension","display","currentDate","Date","ngOnInit","console","log","snapshot","paramMap","get","requestId","loadData","onOpen","dialog","FileSubmit","event","key","onConfirmPopup","setTimeout","getById","subscribe","res","getrequest","body","data","recordList","records","remarksList","uploadForm","patchValue","supportingDocsList","supportingDocs","documentId","error","message","downloadDoc","docId","downloadTxnId","contentDispositionHeader","headers","fileName","split","trim","replace","blob","Blob","type","anchor","document","createElement","href","URL","createObjectURL","download","click","error_desc","exportCSV","dataTable","columns","field","header","index","dtoList","forEach","record","dto","filename","String","createdDt","formatStrDate","createdBy","push","totalElements","concat","exports","core_1","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\pending-ves-request\\pending-ves-request.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\pending-ves-request\\pending-ves-request.component.html"],"sourcesContent":["import { formatDate } from '@angular/common';\r\nimport { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport { FileUploadComponent } from 'app/shared/component/file-upload/file-upload.component';\r\nimport { FileUploadValidator2 } from 'app/shared/validator/fileupload2.directive';\r\nimport { Table } from 'primeng/table';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { NRICValidator } from 'app/shared/validator/nric.directive';\r\nimport { EmailValidator } from 'app/shared/validator/email.directive';\r\nimport { IQueryVES } from '../model/create-ves-request.model';\r\nimport { IQueryAmendVES, RecordList, RemarksList, SupportingDocsList } from '../model/amend-ves-request.model';\r\nimport { CreateVesService } from '../service/create-ves.service';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { LazyLoadEvent } from \"primeng/api\";\r\nimport { FileUploadService } from 'app/shared/service/file-upload.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'n2-pending-ves-request',\r\n  templateUrl: './pending-ves-request.component.html',\r\n  styleUrls: ['./pending-ves-request.component.scss']\r\n})\r\nexport class PendingVesRequestComponent implements OnInit {\r\n\r\n  getrequest: IQueryAmendVES;\r\n  recordList: RecordList[] = [];\r\n  remarksList: RemarksList[] = [];\r\n  supportingDocsList: SupportingDocsList[] = [];\r\n  requestId: string;\r\n\r\n  generateForm: FormGroup = this.fb.group({\r\n    nric: new FormControl('', [Validators.required, NRICValidator()]),\r\n    name: new FormControl('', Validators.required),\r\n    remarks: new FormControl('', Validators.required),\r\n    extensionStartDt: new FormControl(null, Validators.required),\r\n    extensionEndDt: new FormControl(null, Validators.required),\r\n  }, {\r\n    validators: DateValidator.dateLessThanOrEquals(\"extensionStartDt\", \"extensionEndDt\")\r\n  }\r\n  );\r\n\r\n  uploadForm: FormGroup = this.fb.group({\r\n    adminEmail: new FormControl('', [Validators.required, EmailValidator()]),\r\n    file: new FormControl([], [FileUploadValidator2.allowableExtension(\".pdf\")])\r\n  }, {});\r\n\r\n  currentDate: Date;\r\n\r\n  confirmationDialog: any = {display: false};\r\n\r\n  vesFileUploadForm: FormGroup = this.fb.group({\r\n    file: new FormControl([], [\r\n      FileUploadValidator2.allowableExtension(\".pdf\")])\r\n  });\r\n\r\n  @ViewChild('fileTable') table: Table;\r\n  \r\n  @ViewChild(\"vesFileUpload\")\r\n  private vesFileUpload: FileUploadComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private toastService: CustomToastService,\r\n    private n2httpService: Ns2HttpService,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private createVesService: CreateVesService,\r\n    private fileUploadService: FileUploadService,\r\n    private route: ActivatedRoute,\r\n    @Inject(LOCALE_ID) protected localeId: string\r\n  ) { \r\n    this.currentDate = new Date();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"VES Request ID: \", this.route.snapshot.paramMap.get(\"id\"));\r\n    this.requestId = this.route.snapshot.paramMap.get(\"id\");\r\n    this.loadData();\r\n  }\r\n  \r\n  onOpen(dialog: any): void {\r\n    dialog.display = true;\r\n  }\r\n\r\n  FileSubmit(event: Event, key: string, dialog: any): void {\r\n    this.nspConfirmService.onConfirmPopup(event, key, dialog, () => {\r\n//\r\n    });\r\n  }\r\n\r\n  loadData(): void {\r\n    setTimeout(() => {\r\n      this.createVesService.getById(this.requestId).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          this.getrequest = res.body.data;\r\n          this.recordList = res.body.data.records;\r\n          this.remarksList = res.body.data.remarks;\r\n          this.uploadForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\r\n          this.supportingDocsList = res.body.data.supportingDocs;\r\n          console.log(this.supportingDocsList[0].documentId);\r\n          console.log(this.remarksList);\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error.message);\r\n          console.log(this.getrequest);\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n\r\n  downloadDoc(docId: string): void {\r\n    if (docId) {\r\n      console.log(docId);\r\n      this.fileUploadService.downloadTxnId(docId).subscribe(\r\n        res => {\r\n          if (res) {\r\n            const data = res;\r\n            const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n            const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\r\n            const blob = new Blob([data.body], { type: data.headers.get('content-type') });\r\n            const anchor = document.createElement(\"a\");\r\n            anchor.href = URL.createObjectURL(blob);\r\n            anchor.download = fileName;\r\n            anchor.click();\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.toastService.error(error.error?.error_desc);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    this.createVesService.getById(this.requestId).subscribe(\r\n      res => {\r\n        if (res.body.data.supportingDocs) {\r\n          const data = res.body.data.supportingDocs;\r\n          const columns =\r\n            [\r\n              { field: 'filename', header: 'File Name', index: 0 },\r\n              { field: 'createdDt', header: 'Created Date', index: 1 },\r\n              { field: 'createdBy', header: 'Created By', index: 2 }\r\n            ];\r\n\r\n          const dtoList: any[] = [];\r\n          console.log(\"data\", data);\r\n          data.forEach((record: SupportingDocsList, index: number) => {\r\n            const dto = {\r\n              filename: `${String(record.filename)}`,\r\n              createdDt: `${String(this.dateUtilsService.formatStrDate(record.createdDt, \"DD-MM-YYYY\"))}`,\r\n              createdBy: `${String(record.createdBy)}`\r\n            }\r\n            dtoList.push(dto);\r\n          });\r\n          this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns,\r\n            \"data_\".concat(formatDate(new Date(), \"dd-MM-YYYY\", this.localeId)));\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error.error?.error_desc);\r\n      })\r\n  }\r\n\r\n}\r\n","<p-panel header=\"VES Request\">\r\n\r\n\r\n    <p-messages severity=\"info\">\r\n        <ng-template pTemplate>\r\n            <span class=\"custom-message\">Pending Approval</span>\r\n        </ng-template>\r\n    </p-messages>\r\n\r\n    <p-panel header='Request Remarks'>\r\n        <div *ngFor=\"let item of remarksList\">\r\n            <textarea pInputTextarea disabled=\"true\" class=\"form-control\" required=\"\" value=\"{{item.remarks}}\">\r\n                            </textarea>\r\n        </div>\r\n    </p-panel>\r\n    <p></p>\r\n    <p-panel header='VES Record'>\r\n        <ng-template pTemplate='header'>\r\n            <span class='p-panel-title'></span>\r\n        </ng-template>\r\n        <p-table [value]=\"recordList\" styleClass=\"p-datatable-gridlines\"\r\n            currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\">\r\n            <ng-template pTemplate=\"header\">\r\n                <tr>\r\n                    <th scope=\"col\" style=\"width: 20%\">NRIC</th>\r\n                    <th scope=\"col\" style=\"width: 20%\">Name</th>\r\n                    <th scope=\"col\" style=\"width: 20%\"> Start of Extension</th>\r\n                    <th scope=\"col\" style=\"width: 20%\"> End of Extension</th>\r\n                </tr>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n                <tr>\r\n                    <td>{{ record.nric }}</td>\r\n                    <td>{{ record.name }}</td>\r\n                    <td>{{ record.extensionStartDt | date: 'dd-MM-yyyy' }}</td>\r\n                    <td>{{ record.extensionEndDt | date: 'dd-MM-yyyy' }}</td>\r\n                </tr>\r\n            </ng-template>\r\n        </p-table>\r\n    </p-panel>\r\n    <p></p>\r\n    <p-panel header='Unit Administrator'>\r\n        <ng-template pTemplate='header'>\r\n            <span class='p-panel-title'></span>\r\n        </ng-template>\r\n        <form [formGroup]=\"uploadForm\">\r\n            <div class=\"field col-12\">\r\n                <label for=\"adminEmail\">Email</label>\r\n                <input type=\"text\" pInputText id=\"adminEmail\" formControlName=\"adminEmail\"\r\n                    class=\"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full\">\r\n                <div *ngIf=\"uploadForm.get('adminEmail')?.hasError('required') && uploadForm.get('adminEmail')?.touched\"\r\n                    class=\"form-text text-danger\">\r\n                    Please enter a value\r\n                </div>\r\n                <div *ngIf=\"uploadForm.get('adminEmail')?.hasError('pattern') && uploadForm.get('adminEmail')?.dirty\"\r\n                    class=\"form-text text-danger\">\r\n                    Invalid Email format</div>\r\n            </div>\r\n            <p-table #fileTable styleClass='p-datatable-gridlines' [value]=\"supportingDocsList\">\r\n                <ng-template pTemplate='caption'>\r\n                    <div class='grid'>\r\n                        <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>\r\n                            <button type='button' pButton pRipple icon='pi pi-file-o' pTooltip='Export as CSV' (click)=\"exportCSV(fileTable)\"\r\n                                tooltipPosition='bottom'></button>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template pTemplate='header'>\r\n                    <tr>\r\n                        <th scope=\"col\" pSortableColumn='filename'>Filename<p-sortIcon field='filename'>\r\n                            </p-sortIcon>\r\n                        </th>\r\n                        <th scope=\"col\" pSortableColumn='uploadedon'>Uploaded On<p-sortIcon field='uploadedon'>\r\n                            </p-sortIcon>\r\n                        </th>\r\n                        <th scope=\"col\" pSortableColumn='uploadedby'>Uploaded By<p-sortIcon field='uploadedby'>\r\n                            </p-sortIcon>\r\n                        </th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n                    <tr>\r\n                        <td><a class=\"underline text-blue-500\" (click)=\"downloadDoc(record.documentId)\">{{record.filename}}</a>\r\n                        <td>{{record.createdDt | date: 'dd-MM-YYYY (HHmm)'}}</td>\r\n                        <td>{{record.createdBy}}</td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n        </form>\r\n    </p-panel>\r\n</p-panel>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}