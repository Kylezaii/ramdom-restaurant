{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FormlyDropdownOverlappingCaseIdComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst core_1 = require(\"@ngx-formly/core\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/shared/service/formly-map.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/claim/se-claim/service/se-claim.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i5 = tslib_1.__importStar(require(\"@ngx-formly/core\"));\nclass FormlyDropdownOverlappingCaseIdComponent extends core_1.FieldType {\n  constructor(formlyMapService, seClaimService) {\n    super();\n    this.formlyMapService = formlyMapService;\n    this.seClaimService = seClaimService;\n    this.overlappingCaseIds = [];\n  }\n  ngOnInit() {\n    this.getOverlappingCaseIds();\n    console.log(this.overlappingCaseIds);\n  }\n  getOverlappingCaseIds() {\n    const params = new http_1.HttpParams();\n    this.seClaimService.retrieveSEClaimDetails(this.caseId, params).subscribe(resp => {\n      if (resp.status === 200 && resp.body.data) {\n        console.log(resp);\n        resp.body.data.forEach(x => {\n          // this.overlappingCaseIds.push({\n          //   name: x.formulaDesc,\n          //   key: x.formulaCode\n          // });\n        });\n        this.formControl.patchValue(this.overlappingCaseIds.at(0).key);\n      }\n    }, error => {\n      console.log(\"error is\" + String(error?.error?.error_desc));\n    });\n  }\n}\nexports.FormlyDropdownOverlappingCaseIdComponent = FormlyDropdownOverlappingCaseIdComponent;\nFormlyDropdownOverlappingCaseIdComponent.ɵfac = function FormlyDropdownOverlappingCaseIdComponent_Factory(t) {\n  return new (t || FormlyDropdownOverlappingCaseIdComponent)(i0.ɵɵdirectiveInject(i1.FormlyMapService), i0.ɵɵdirectiveInject(i2.SEClaimService));\n};\nFormlyDropdownOverlappingCaseIdComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormlyDropdownOverlappingCaseIdComponent,\n  selectors: [[\"n2-dropdown-overlapping-caseid\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 3,\n  vars: 4,\n  consts: [[\"optionLabel\", \"name\", \"optionValue\", \"key\", 3, \"options\", \"formControl\", \"formlyAttributes\", \"placeholder\"]],\n  template: function FormlyDropdownOverlappingCaseIdComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"\\n  \");\n      i0.ɵɵelement(1, \"p-dropdown\", 0);\n      i0.ɵɵtext(2, \"\\n  \");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"options\", ctx.overlappingCaseIds)(\"formControl\", ctx.formControl)(\"formlyAttributes\", ctx.field)(\"placeholder\", ctx.to.placeholder);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.FormControlDirective, i4.Dropdown, i5.ɵFormlyAttributes],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;AAAA;AAEA;;;;;;;AAKA,MAQaA,wCAAyC,SAAQC,gBAA0B;EAKtFC,YACUC,gBAAkC,EAClCC,cAA8B;IAEtC,KAAK,EAAE;IAHC,qBAAgB,GAAhBD,gBAAgB;IAChB,mBAAc,GAAdC,cAAc;IALxB,uBAAkB,GAAU,EAAE;EAQ9B;EAEAC,QAAQ;IACN,IAAI,CAACC,qBAAqB,EAAE;IAC5BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,kBAAkB,CAAC;EACtC;EAEAH,qBAAqB;IACnB,MAAMI,MAAM,GAAG,IAAIC,iBAAU,EAAE;IAC/B,IAAI,CAACP,cAAc,CAACQ,sBAAsB,CAAC,IAAI,CAACC,MAAM,EAAEH,MAAM,CAAC,CAACI,SAAS,CAAEC,IAAS,IAAI;MACtF,IAAIA,IAAI,CAACC,MAAM,KAAK,GAAG,IAAID,IAAI,CAACE,IAAI,CAACC,IAAI,EAAE;QACzCX,OAAO,CAACC,GAAG,CAACO,IAAI,CAAC;QACjBA,IAAI,CAACE,IAAI,CAACC,IAAI,CAACC,OAAO,CAAEC,CAAM,IAAI;UAChC;UACA;UACA;UACA;QAAA,CACD,CAAC;QACF,IAAI,CAACC,WAAW,CAACC,UAAU,CAAC,IAAI,CAACb,kBAAkB,CAACc,EAAE,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC;;IAElE,CAAC,EACEC,KAAU,IAAI;MACblB,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGkB,MAAM,CAACD,KAAK,EAAEA,KAAK,EAAEE,UAAU,CAAC,CAAC;IAC5D,CAAC,CAAC;EACN;;AA1CFC;;mBAQa5B,wCAAwC;AAAA;;QAAxCA,wCAAwC;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MALnDC;MAAAA,gCAEiF;MACjFA;;;MAHYA,eAA8B;MAA9BA,gDAA8B","names":["FormlyDropdownOverlappingCaseIdComponent","core_1","constructor","formlyMapService","seClaimService","ngOnInit","getOverlappingCaseIds","console","log","overlappingCaseIds","params","http_1","retrieveSEClaimDetails","caseId","subscribe","resp","status","body","data","forEach","x","formControl","patchValue","at","key","error","String","error_desc","exports","selectors","features","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\shared\\component\\formly-input-field\\formly-dropdown-overlapping-caseId.component.ts"],"sourcesContent":["import { HttpParams } from '@angular/common/http';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FieldType, FieldTypeConfig } from '@ngx-formly/core';\r\nimport { SEClaimService } from 'app/claim/se-claim/service/se-claim.service';\r\nimport { FormlyMapService } from 'app/shared/service/formly-map.service';\r\nimport { InputNumberModule } from 'primeng/inputnumber';\r\n\r\n@Component({\r\n  selector: 'n2-dropdown-overlapping-caseid',\r\n  template: `\r\n  <p-dropdown [options]=\"overlappingCaseIds\"\r\n  [formControl]=\"formControl\" [formlyAttributes]=\"field\"\r\n  [placeholder]=\"to.placeholder\" optionLabel=\"name\" optionValue=\"key\"></p-dropdown>\r\n  `,\r\n})\r\nexport class FormlyDropdownOverlappingCaseIdComponent extends FieldType<FieldTypeConfig> implements OnInit {\r\n\r\n  overlappingCaseIds: any[] = [];\r\n  caseId: any;\r\n\r\n  constructor(\r\n    private formlyMapService: FormlyMapService,\r\n    private seClaimService: SEClaimService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getOverlappingCaseIds();\r\n    console.log(this.overlappingCaseIds);\r\n  }\r\n\r\n  getOverlappingCaseIds(): void {\r\n    const params = new HttpParams();\r\n    this.seClaimService.retrieveSEClaimDetails(this.caseId, params).subscribe((resp: any) => {\r\n      if (resp.status === 200 && resp.body.data) {\r\n        console.log(resp);\r\n        resp.body.data.forEach((x: any) => {\r\n          // this.overlappingCaseIds.push({\r\n          //   name: x.formulaDesc,\r\n          //   key: x.formulaCode\r\n          // });\r\n        })\r\n        this.formControl.patchValue(this.overlappingCaseIds.at(0).key);\r\n      }\r\n    },\r\n      (error: any) => {\r\n        console.log(\"error is\" + String(error?.error?.error_desc));\r\n      });\r\n  }\r\n}"]},"metadata":{},"sourceType":"script","externalDependencies":[]}