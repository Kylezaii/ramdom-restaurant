{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VesComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst http_1 = require(\"@angular/common/http\");\nconst core_1 = require(\"@angular/core\");\nconst forms_1 = require(\"@angular/forms\");\nconst ns2status_enum_model_1 = require(\"app/shared/model/ns2status-enum.model\");\nconst ves_enum_model_1 = require(\"./model/ves-enum.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"./service/ves.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i6 = tslib_1.__importStar(require(\"./service/ves-pass-data.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i8 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i9 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/chip\"));\nconst i19 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst i20 = tslib_1.__importStar(require(\"primeng/overlaypanel\"));\nconst i21 = tslib_1.__importStar(require(\"primeng/scrollpanel\"));\nconst i22 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nconst i23 = tslib_1.__importStar(require(\"../../shared/pipe/default-string.pipe\"));\nconst i24 = tslib_1.__importStar(require(\"../../shared/status/status.pipe\"));\nconst i25 = tslib_1.__importStar(require(\"./pipe/remark-truncate.pipe\"));\nconst _c0 = [\"vt\"];\nconst _c1 = [\"op\"];\nconst _c2 = function (a0) {\n  return {\n    \"p-button-outlined\": a0\n  };\n};\nfunction VesComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_22_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(20);\n      return i0.ɵɵresetView(ctx_r5.exportCSV(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n        \");\n    i0.ɵɵelementStart(7, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_22_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.filterVesRecords(1));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵelementStart(9, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_22_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.filterVesRecords(2));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementStart(11, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_22_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.filterVesRecords(3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n      \");\n    i0.ɵɵelementStart(14, \"div\", 17);\n    i0.ɵɵtext(15, \"\\n        \");\n    i0.ɵɵelement(16, \"button\", 18);\n    i0.ɵɵtext(17, \"\\n        \");\n    i0.ɵɵelementStart(18, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_22_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.deleteVesRecords());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n  \");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, ctx_r1.selectedButton !== 1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c2, ctx_r1.selectedButton !== 2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c2, ctx_r1.selectedButton !== 3));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.selectedVesRecords.length === 0);\n  }\n}\nfunction VesComponent_ng_template_24_p_tableHeaderCheckbox_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p-tableHeaderCheckbox\");\n  }\n}\nfunction VesComponent_ng_template_24_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"p-multiSelect\", 40);\n    i0.ɵɵlistener(\"onChange\", function VesComponent_ng_template_24_ng_template_17_Template_p_multiSelect_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const filter_r17 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r17($event.value));\n    });\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n  if (rf & 2) {\n    const value_r16 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r16)(\"options\", ctx_r12.recordStatusOptions);\n  }\n}\nfunction VesComponent_ng_template_24_ng_template_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 41);\n    i0.ɵɵlistener(\"onSelect\", function VesComponent_ng_template_24_ng_template_43_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const filter_r20 = restoredCtx.filterCallback;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(filter_r20(ctx_r21.convertDate($event)));\n    });\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n}\nfunction VesComponent_ng_template_24_ng_template_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 41);\n    i0.ɵɵlistener(\"onSelect\", function VesComponent_ng_template_24_ng_template_54_Template_p_calendar_onSelect_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const filter_r23 = restoredCtx.filterCallback;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(filter_r23(ctx_r24.convertDate($event)));\n    });\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n}\nfunction VesComponent_ng_template_24_ng_template_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"p-multiSelect\", 40);\n    i0.ɵɵlistener(\"onChange\", function VesComponent_ng_template_24_ng_template_64_Template_p_multiSelect_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const filter_r27 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r27($event.value));\n    });\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n          \");\n  }\n  if (rf & 2) {\n    const value_r26 = ctx.$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r26)(\"options\", ctx_r15.requestStatusOptions);\n  }\n}\nfunction VesComponent_ng_template_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"th\", 20);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵtemplate(5, VesComponent_ng_template_24_p_tableHeaderCheckbox_5_Template, 1, 0, \"p-tableHeaderCheckbox\", 21);\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementStart(8, \"th\", 22);\n    i0.ɵɵtext(9, \"S/N\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementStart(11, \"th\", 23);\n    i0.ɵɵtext(12, \"\\n        VES\");\n    i0.ɵɵelement(13, \"p-sortIcon\", 24);\n    i0.ɵɵtext(14, \"\\n        \");\n    i0.ɵɵelementStart(15, \"p-columnFilter\", 25);\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵtemplate(17, VesComponent_ng_template_24_ng_template_17_Template, 4, 2, \"ng-template\", 26);\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n      \");\n    i0.ɵɵelementStart(21, \"th\", 27);\n    i0.ɵɵtext(22, \"\\n        NRIC & Name\");\n    i0.ɵɵelement(23, \"p-sortIcon\", 28);\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelement(25, \"p-columnFilter\", 29);\n    i0.ɵɵtext(26, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n      \");\n    i0.ɵɵelementStart(28, \"th\", 22);\n    i0.ɵɵtext(29, \"Email to Unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n      \");\n    i0.ɵɵelementStart(31, \"th\", 22);\n    i0.ɵɵtext(32, \"Extension Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n      \");\n    i0.ɵɵelementStart(34, \"th\", 22);\n    i0.ɵɵtext(35, \"Last Payment Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n      \");\n    i0.ɵɵelementStart(37, \"th\", 30);\n    i0.ɵɵtext(38, \"\\n        Created by\");\n    i0.ɵɵelement(39, \"p-sortIcon\", 31);\n    i0.ɵɵtext(40, \"\\n        \");\n    i0.ɵɵelementStart(41, \"p-columnFilter\", 32);\n    i0.ɵɵtext(42, \"\\n          \");\n    i0.ɵɵtemplate(43, VesComponent_ng_template_24_ng_template_43_Template, 4, 0, \"ng-template\", 26);\n    i0.ɵɵtext(44, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n      \");\n    i0.ɵɵelementStart(47, \"th\", 33);\n    i0.ɵɵtext(48, \"\\n        Approved By\");\n    i0.ɵɵelementStart(49, \"p-sortIcon\", 34);\n    i0.ɵɵtext(50, \" \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n        \");\n    i0.ɵɵelementStart(52, \"p-columnFilter\", 35);\n    i0.ɵɵtext(53, \"\\n          \");\n    i0.ɵɵtemplate(54, VesComponent_ng_template_24_ng_template_54_Template, 4, 0, \"ng-template\", 26);\n    i0.ɵɵtext(55, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n      \");\n    i0.ɵɵelementStart(58, \"th\", 36);\n    i0.ɵɵtext(59, \"\\n        Status\");\n    i0.ɵɵelement(60, \"p-sortIcon\", 37);\n    i0.ɵɵtext(61, \"\\n        \");\n    i0.ɵɵelementStart(62, \"p-columnFilter\", 38);\n    i0.ɵɵtext(63, \"\\n          \");\n    i0.ɵɵtemplate(64, VesComponent_ng_template_24_ng_template_64_Template, 4, 2, \"ng-template\", 26);\n    i0.ɵɵtext(65, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n      \");\n    i0.ɵɵelementStart(68, \"th\", 39);\n    i0.ɵɵtext(69, \"Remarks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(71, \"\\n  \");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectableRowsExist);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n    i0.ɵɵadvance(47);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n  }\n}\nfunction VesComponent_ng_template_26_p_tableCheckbox_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-tableCheckbox\", 53);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n    const ctx_r32 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", vesRecord_r30)(\"disabled\", !ctx_r32.checkVesStatus(vesRecord_r30));\n  }\n}\nfunction VesComponent_ng_template_26_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r31 = i0.ɵɵnextContext().rowIndex;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i_r31 + 1);\n  }\n}\nfunction VesComponent_ng_template_26_a_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r43 = i0.ɵɵnextContext();\n    const vesRecord_r30 = ctx_r43.$implicit;\n    const i_r31 = ctx_r43.rowIndex;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"request/edit/\", vesRecord_r30.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n          \", i_r31 + 1, \"\\n        \");\n  }\n}\nfunction VesComponent_ng_template_26_p_chip_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-chip\", 55);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n    const ctx_r35 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"styleClass\", \"w-10rem text-center justify-content-center font-bold \", ctx_r35.vesStatusChip(ctx_r35.vesStatusEnum[vesRecord_r30.recordStatus]), \"\");\n    i0.ɵɵpropertyInterpolate(\"label\", ctx_r35.vesStatusEnum[vesRecord_r30.recordStatus]);\n  }\n}\nfunction VesComponent_ng_template_26_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n    const ctx_r36 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n          \", ctx_r36.vesStatusEnum[vesRecord_r30.recordStatus], \"\\n        \");\n  }\n}\nfunction VesComponent_ng_template_26_span_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"remarkTruncate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n          \", i0.ɵɵpipeBind2(2, 1, vesRecord_r30.recordRemarks, 15), \"\\n        \");\n  }\n}\nfunction VesComponent_ng_template_26_span_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VesComponent_ng_template_26_ng_template_70_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const remark_r49 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                \", i0.ɵɵpipeBind3(2, 2, remark_r49, 0, 22), \":\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\n                \", i0.ɵɵpipeBind2(5, 6, remark_r49, 22), \"\\n              \");\n  }\n}\nfunction VesComponent_ng_template_26_ng_template_70_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵtemplate(2, VesComponent_ng_template_26_ng_template_70_div_3_div_2_Template, 6, 9, \"div\", 62);\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", vesRecord_r30.recordRemarks.split(\"|\"));\n  }\n}\nfunction VesComponent_ng_template_26_ng_template_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n          \");\n    i0.ɵɵelementStart(1, \"p-scrollPanel\", 56);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵtemplate(3, VesComponent_ng_template_26_ng_template_70_div_3_Template, 4, 1, \"div\", 21);\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"form\", 57);\n    i0.ɵɵlistener(\"ngSubmit\", function VesComponent_ng_template_26_ng_template_70_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n      const ctx_r51 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r51.saveRemark(vesRecord_r30.id));\n    });\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelement(8, \"textarea\", 58);\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementStart(10, \"div\", 59);\n    i0.ɵɵtext(11, \"\\n              \");\n    i0.ɵɵelementStart(12, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_26_ng_template_70_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r53);\n      i0.ɵɵnextContext();\n      const _r39 = i0.ɵɵreference(68);\n      return i0.ɵɵresetView(_r39.hide());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n              \");\n    i0.ɵɵelement(14, \"button\", 61);\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n        \");\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = i0.ɵɵnextContext().$implicit;\n    const ctx_r40 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", vesRecord_r30.recordRemarks !== null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r40.remarkForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"rows\", 1);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", !ctx_r40.remarkForm.valid);\n  }\n}\nconst _c3 = function () {\n  return {\n    \"background-color\": \"var(--surface-200)\",\n    \"border\": \"1px solid black\"\n  };\n};\nfunction VesComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵtemplate(5, VesComponent_ng_template_26_p_tableCheckbox_5_Template, 2, 2, \"p-tableCheckbox\", 42);\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementStart(8, \"td\", 43);\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵtemplate(10, VesComponent_ng_template_26_span_10_Template, 2, 1, \"span\", 21);\n    i0.ɵɵtext(11, \"\\n        \");\n    i0.ɵɵtemplate(12, VesComponent_ng_template_26_a_12_Template, 2, 2, \"a\", 44);\n    i0.ɵɵtext(13, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n      \");\n    i0.ɵɵelementStart(15, \"td\", 45);\n    i0.ɵɵtext(16, \"\\n        \");\n    i0.ɵɵtemplate(17, VesComponent_ng_template_26_p_chip_17_Template, 2, 2, \"p-chip\", 46);\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵtemplate(19, VesComponent_ng_template_26_span_19_Template, 2, 1, \"span\", 21);\n    i0.ɵɵtext(20, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n      \");\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n      \");\n    i0.ɵɵelementStart(27, \"td\", 45);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"defaultString\");\n    i0.ɵɵpipe(30, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n      \");\n    i0.ɵɵelementStart(32, \"td\");\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"date\");\n    i0.ɵɵpipe(35, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n      \");\n    i0.ɵɵtext(37, \"\\n      \");\n    i0.ɵɵelementStart(38, \"td\");\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n      \");\n    i0.ɵɵelementStart(42, \"td\");\n    i0.ɵɵtext(43);\n    i0.ɵɵpipe(44, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n      \");\n    i0.ɵɵelementStart(46, \"td\", 45);\n    i0.ɵɵtext(47);\n    i0.ɵɵpipe(48, \"defaultString\");\n    i0.ɵɵpipe(49, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n      \");\n    i0.ɵɵelementStart(51, \"td\");\n    i0.ɵɵtext(52);\n    i0.ɵɵpipe(53, \"status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n      \");\n    i0.ɵɵelementStart(55, \"td\", 47);\n    i0.ɵɵtext(56, \"\\n        \");\n    i0.ɵɵtemplate(57, VesComponent_ng_template_26_span_57_Template, 3, 4, \"span\", 21);\n    i0.ɵɵtext(58, \"\\n        \");\n    i0.ɵɵtemplate(59, VesComponent_ng_template_26_span_59_Template, 2, 0, \"span\", 21);\n    i0.ɵɵtext(60, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \"\\n      \");\n    i0.ɵɵelementStart(62, \"td\", 48);\n    i0.ɵɵtext(63, \"\\n        \");\n    i0.ɵɵelementStart(64, \"i\", 49);\n    i0.ɵɵlistener(\"click\", function VesComponent_ng_template_26_Template_i_click_64_listener($event) {\n      i0.ɵɵrestoreView(_r57);\n      const _r39 = i0.ɵɵreference(68);\n      return i0.ɵɵresetView(_r39.toggle($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n      \");\n    i0.ɵɵelementStart(67, \"p-overlayPanel\", 50, 51);\n    i0.ɵɵtext(69, \"\\n        \");\n    i0.ɵɵtemplate(70, VesComponent_ng_template_26_ng_template_70_Template, 18, 4, \"ng-template\", 52);\n    i0.ɵɵtext(71, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(72, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n  \");\n  }\n  if (rf & 2) {\n    const vesRecord_r30 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.checkVesStatus(vesRecord_r30));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.checkVesStatus(vesRecord_r30));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.checkVesStatus(vesRecord_r30));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", vesRecord_r30.recordStatus != \"PENDING_APPROVAL\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", vesRecord_r30.recordStatus == \"PENDING_APPROVAL\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(vesRecord_r30.nric);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vesRecord_r30.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 20, i0.ɵɵpipeBind2(30, 22, vesRecord_r30.emailToUnitDt, \"dd-MM-YYYY\")));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(34, 25, vesRecord_r30.extensionStartDt, \"dd-MM-YYYY\"), \" to \", i0.ɵɵpipeBind2(35, 28, vesRecord_r30.extensionEndDt, \"dd-MM-YYYY\"), \"\\n      \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(40, 31, ctx_r3.setPaymentPeriod(vesRecord_r30)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", vesRecord_r30.submittedBy, \" \", i0.ɵɵpipeBind2(44, 33, vesRecord_r30.submittedDt, \"dd-MM-YYYY\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\\n        \", vesRecord_r30.submissionReviewedBy, \" \", i0.ɵɵpipeBind1(48, 36, i0.ɵɵpipeBind2(49, 38, vesRecord_r30.submissionReviewedDt, \"dd-MM-YYYY\")), \"\\n      \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(53, 41, vesRecord_r30.requestStatus));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", vesRecord_r30.recordRemarks !== null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", vesRecord_r30.recordRemarks === null);\n    i0.ɵɵadvance(8);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(43, _c3));\n  }\n}\nfunction VesComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\", 64);\n    i0.ɵɵtext(4, \"No VES records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n  }\n}\nconst _c4 = function () {\n  return [10, 25, 50];\n};\nclass VesComponent {\n  constructor(fb, vesService, toastService, ns2httpService, route, router, passDataService, dateUtilsService, exportUtilsService, codeService, localeId) {\n    this.fb = fb;\n    this.vesService = vesService;\n    this.toastService = toastService;\n    this.ns2httpService = ns2httpService;\n    this.route = route;\n    this.router = router;\n    this.passDataService = passDataService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.codeService = codeService;\n    this.localeId = localeId;\n    this.searchVesForm = this.fb.group({\n      nricInput: new forms_1.FormControl(null)\n    });\n    this.remarkForm = this.fb.group({\n      remarkInput: new forms_1.FormControl(null)\n    });\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n    // For filtering\n    this.dropOptions = [];\n    this.requestStatusOptions = [];\n    this.requestStatuses = [];\n    this.recordStatusOptions = [];\n    this.recordStatuses = [];\n    this.selectedButton = 1;\n    this.initFilter = false;\n    this.selectAll = false;\n    this.selectableRowsExist = false;\n    this.selectedVesRecords = [];\n    this.selectedVesRecordIds = [];\n    this.vesStatusEnum = ves_enum_model_1.VesStatus;\n    this.n2StatusEnum = ns2status_enum_model_1.N2Status;\n  }\n  ngOnInit() {\n    this.isRowSelectable = this.isRowSelectable.bind(this);\n    this.loadCodes();\n    // // For request status filter menu\n    // for (const [key, value] of Object.entries(RequestStatus)) {\n    //   this.requestStatuses.push(\n    //     { name: value, value: key }\n    //   );\n    // }\n    // // For record status filter menu\n    // for (const [key, value] of Object.entries(VesStatusMenu)) {\n    //   this.recordStatuses.push(\n    //     { name: value, value: key }\n    //   );\n    // }\n  }\n\n  loadCodes() {\n    //Using Code Service\n    // this.codeService.gets('ves_request_status,ves_record_status').subscribe((codes: any[]) => {\n    //   console.log(codes[0]);\n    //   console.log(codes[1]);\n    //   this.requestStatusOptions = codes[0];\n    //   this.recordStatusOptions = codes[1];\n    // });\n    //Using own service\n    this.vesService.getCodes('ves_request_status,ves_record_status').subscribe(codes => {\n      console.log(codes);\n      this.requestStatusOptions = codes.body[0];\n      this.recordStatusOptions = codes.body[1];\n      console.log(this.requestStatusOptions);\n      console.log(this.recordStatusOptions);\n    });\n  }\n  loadVesRecords(event) {\n    this.loading = true;\n    this.lazyLoadEvent = event;\n    setTimeout(() => {\n      if (!this.initFilter) {\n        this.filterVesRecords(1);\n        this.initFilter = true;\n      }\n      // console.log(\"LazyLoadEvent: \", event);\n      const options = this.vesService.convertLazyEvent(event, this.pageData, this.pageSize);\n      // console.log(\"options: \", options);\n      this.vesService.getAllRecords(options).subscribe(res => {\n        if (res.body?.data?.content) {\n          // console.log(res);\n          this.vesRecordArray = res.body.data.content;\n          this.selectableRecords = this.vesRecordArray.filter(value => this.vesStatusEnum[value.recordStatus] === ves_enum_model_1.VesStatus.ACTIVE || this.vesStatusEnum[value.recordStatus] === ves_enum_model_1.VesStatus.ON_HOLD).length;\n          this.selectableRowsExist = this.selectableRecords > 0;\n          this.totalRecords = res.body.data.totalElements;\n        } else {\n          this.vesRecordArray = [];\n          this.totalRecords = 0;\n          this.selectableRowsExist = false;\n          this.toastService.info('No records found');\n        }\n        this.loading = false;\n      }, error => {\n        console.log(error);\n        if (error.status === 404 /* HttpStatusCode.NotFound */) {\n          this.toastService.add({\n            severity: 'error',\n            summary: 'Error',\n            detail: 'No VES records'\n          });\n        }\n      });\n    }, 1000);\n  }\n  setPaymentPeriod(vesRecord) {\n    let payString = null;\n    if (vesRecord.lastPaymentDt !== null) {\n      const payday = String(this.dateUtilsService.formatStrDate(vesRecord.lastPaymentDt, \"DD-MM-YYYY\"));\n      const payFrom = String(this.dateUtilsService.formatStrDate(vesRecord.payPeriodFrom, \"DD-MM-YYYY\"));\n      const payTo = String(this.dateUtilsService.formatStrDate(vesRecord.payPeriodTo, \"DD-MM-YYYY\"));\n      payString = `${payday} (For ${payFrom} to ${payTo})`;\n    }\n    return payString;\n  }\n  onSelectionChange(value) {\n    this.selectAll = value.length === this.selectableRecords;\n    this.selectedVesRecords = value;\n  }\n  onSelectAllChange(event) {\n    const checked = event.checked;\n    if (checked) {\n      this.selectedVesRecords = this.vesRecordArray.filter(value => this.vesStatusEnum[value.recordStatus] === ves_enum_model_1.VesStatus.ACTIVE || this.vesStatusEnum[value.recordStatus] === ves_enum_model_1.VesStatus.ON_HOLD);\n      // console.log(this.selectedVesRecords);\n      this.selectAll = true;\n    } else {\n      this.selectedVesRecords = [];\n      this.selectAll = false;\n    }\n  }\n  onPage(event) {\n    this.pageSize = event.rows;\n    this.pageData.currentPage = event.first / event.rows;\n    // Reset selection when loading another page\n    this.selectedVesRecords = [];\n    this.selectAll = false;\n  }\n  filterVesRecords(filter) {\n    if (filter === 1) {\n      this.table.filter(['ACTIVE', 'ON_HOLD', 'COMPLETED_WITHOUT_PAYMENT', 'PENDING_APPROVAL', 'PENDING_EDIT_APPROVAL', 'PENDING_DELETE_APPROVAL'], 'recordStatus', 'in');\n      this.selectedButton = 1;\n    } else if (filter === 2) {\n      this.table.filter(['COMPLETED', 'DELETED_WITH_OVERPAYMENT', 'DELETED_WITHOUT_OVERPAYMENT'], 'recordStatus', 'in');\n      this.selectedButton = 2;\n    } else {\n      this.table.filter(null, 'recordStatus', 'in');\n      this.selectedButton = 3;\n    }\n    this.selectedVesRecords = [];\n    this.pageData.currentPage = 0;\n    this.pageSize = 10;\n    this.initFilter = true;\n  }\n  convertDate(event) {\n    const convertedDate = this.dateUtilsService.formatStrDate(event, \"YYYY-MM-DD\");\n    return convertedDate;\n  }\n  onRequestStatusFilter(event) {\n    // console.log(event);\n    // console.log(event.value);\n    this.table.filter(event.value, \"requestStatus\", \"in\");\n  }\n  searchByNric() {\n    const nric = this.searchVesForm.get('nricInput').value;\n    // console.log(nric);\n    this.table.filter([nric], 'nric', 'contains');\n    this.selectedVesRecords = [];\n    this.pageData.currentPage = 0;\n    this.pageSize = 10;\n  }\n  exportCSV(dataTable) {\n    const options = this.vesService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\n    this.vesService.getAllRecords(options).subscribe(res => {\n      if (res.body?.data?.content) {\n        const data = res.body?.data?.content;\n        const columns = [{\n          field: 'sn',\n          header: 'SN',\n          index: 0\n        }, {\n          field: 'recordStatus',\n          header: 'VES',\n          index: 1\n        }, {\n          field: 'nricName',\n          header: 'NRIC & Name',\n          index: 2\n        }, {\n          field: 'emailToUnit',\n          header: 'Email to Unit',\n          index: 3\n        }, {\n          field: 'extensionPeriod',\n          header: 'Extension Period',\n          index: 4\n        }, {\n          field: 'lastPaymentDt',\n          header: 'Last Payment Date',\n          index: 5\n        }, {\n          field: 'createdBy',\n          header: 'Created By',\n          index: 6\n        }, {\n          field: 'approvedBy',\n          header: 'Approved By',\n          index: 7\n        }, {\n          field: 'status',\n          header: 'Status',\n          index: 8\n        }, {\n          field: 'remarks',\n          header: 'REmarks',\n          index: 9\n        }];\n        const dtoList = [];\n        console.log(\"data\", data);\n        data.forEach((record, index) => {\n          const dto = {\n            sn: index + 1,\n            recordStatus: this.vesStatusEnum[record.recordStatus],\n            nricName: `${String(record.nric)} ${String(record.name)}`,\n            emailToUnit: `${String(this.dateUtilsService.formatStrDate(record.emailToUnitDt, \"DD-MM-YYYY\"))}`,\n            extensionPeriod: `${String(this.dateUtilsService.formatStrDate(record.extensionStartDt, \"DD-MM-YYYY\"))} to ${String(this.dateUtilsService.formatStrDate(record.extensionEndDt, \"DD-MM-YYYY\"))}`,\n            lastPaymentDt: `${String(this.dateUtilsService.formatStrDate(record.lastPaymentDt, \"DD-MM-YYYY\"))}`,\n            createdBy: `${String(record.submittedBy ? record.submittedBy : \"\")} ${String(this.dateUtilsService.formatStrDate(record.submittedDt, \"DD-MM-YYYY\"))}`,\n            approvedBy: `${String(record.submissionReviewedBy ? record.submissionReviewedBy : \"\")} ${String(this.dateUtilsService.formatStrDate(record.submissionReviewedDt, \"DD-MM-YYYY\"))}`,\n            status: this.n2StatusEnum[record.requestStatus],\n            remarks: `${record.recordRemarks}`\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"data_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n      }\n    }, error => {\n      console.log(error.error?.error_desc);\n      this.loading = false;\n    });\n  }\n  deleteVesRecords() {\n    console.log(\"Deleting Records\");\n    console.log(this.selectedVesRecords.length);\n    console.log(this.selectedVesRecords);\n    for (const record of this.selectedVesRecords) {\n      this.selectedVesRecordIds.push(record.id);\n    }\n    this.passDataService.passedData.next(this.selectedVesRecordIds);\n    this.router.navigate(['request/delete'], {\n      relativeTo: this.route\n    });\n  }\n  saveRemark(id) {\n    console.log(\"Saved Remark for record id\", id);\n    console.log(this.remarkForm.get('remarkInput').value);\n    const remark = {\n      remark: this.remarkForm.get('remarkInput').value\n    };\n    console.log(remark);\n    this.vesService.addRecordRemarks(id, remark).subscribe(res => {\n      console.log(res);\n      this.toastService.success('Appended remark successfully');\n      this.loadVesRecords(this.lazyLoadEvent);\n      this.remarkForm.get('remarkInput').setValue('');\n    }, error => {\n      console.log(error);\n      this.toastService.error(error.error.error_desc);\n    });\n  }\n  isRowSelectable(event) {\n    return this.checkVesStatus(event.data);\n  }\n  checkVesStatus(data) {\n    return this.vesStatusEnum[data.recordStatus] === ves_enum_model_1.VesStatus.ACTIVE || this.vesStatusEnum[data.recordStatus] === ves_enum_model_1.VesStatus.ON_HOLD;\n  }\n  vesStatusChip(status) {\n    let customChipClass = '';\n    if (status === ves_enum_model_1.VesStatus.ACTIVE) {\n      customChipClass = 'custom-chip-green';\n    } else if (status === ves_enum_model_1.VesStatus.ON_HOLD) {\n      customChipClass = 'custom-chip-yellow';\n    } else if (status === ves_enum_model_1.VesStatus.COMPLETED) {\n      customChipClass = 'custom-chip-surface';\n    } else if (status === ves_enum_model_1.VesStatus.COMPLETED_WITHOUT_PAYMENT) {\n      customChipClass = 'custom-chip-surface';\n    } else if (status === ves_enum_model_1.VesStatus.DELETED_WITH_OVERPAYMENT) {\n      customChipClass = 'custom-chip-red';\n    } else if (status === ves_enum_model_1.VesStatus.DELETED_WITHOUT_OVERPAYMENT) {\n      customChipClass = 'custom-chip-red-outline';\n    }\n    return customChipClass;\n  }\n}\nexports.VesComponent = VesComponent;\nVesComponent.ɵfac = function VesComponent_Factory(t) {\n  return new (t || VesComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.VesService), i0.ɵɵdirectiveInject(i3.CustomToastService), i0.ɵɵdirectiveInject(i4.Ns2HttpService), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.VesPassDataService), i0.ɵɵdirectiveInject(i7.DateUtilsService), i0.ɵɵdirectiveInject(i8.ExportUtilsService), i0.ɵɵdirectiveInject(i9.IcCodeService), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nVesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VesComponent,\n  selectors: [[\"n2-ves\"]],\n  viewQuery: function VesComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.overlayPanel = _t.first);\n    }\n  },\n  decls: 31,\n  vars: 12,\n  consts: [[\"header\", \"VES\"], [1, \"col-sm-12\", 3, \"formGroup\", \"ngSubmit\"], [1, \"p-inputgroup\", \"w-20rem\"], [\"pButton\", \"\", \"type\", \"submit\", \"label\", \"Search\"], [\"type\", \"text\", \"id\", \"nricInput\", \"pInputText\", \"\", \"formControlName\", \"nricInput\", \"placeholder\", \"NRIC\"], [\"styleClass\", \"p-datatable-gridlines\", \"dataKey\", \"id\", \"responsiveLayout\", \"scroll\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"selection\", \"selectAll\", \"paginator\", \"rows\", \"totalRecords\", \"rowsPerPageOptions\", \"showCurrentPageReport\", \"lazy\", \"loading\", \"selectionChange\", \"selectAllChange\", \"onLazyLoad\", \"onPage\"], [\"vt\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"gap-2\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Ongoing\", 3, \"ngClass\", \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"History\", 3, \"ngClass\", \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"All\", 3, \"ngClass\", \"click\"], [1, \"col-6\", \"nsp-align-right\", \"flex\", \"justify-content-end\", \"gap-2\"], [\"pButton\", \"\", \"icon\", \"pi pi-plus\", \"type\", \"button\", \"label\", \"New\", \"routerLink\", \"request/create\"], [\"pButton\", \"\", \"icon\", \"pi pi-times\", \"type\", \"button\", \"label\", \"Delete\", 1, \"p-button-danger\", \"p-button-outlined\", 3, \"disabled\", \"click\"], [\"scope\", \"col\", 1, \"w-3rem\"], [4, \"ngIf\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"recordStatus\"], [\"field\", \"recordStatus\"], [\"field\", \"recordStatus\", \"matchMode\", \"in\", \"display\", \"menu\", 1, \"ml-auto\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"pTemplate\", \"filter\"], [\"scope\", \"col\", \"pSortableColumn\", \"nric\"], [\"field\", \"nric\"], [\"type\", \"text\", \"field\", \"nric\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"submittedDt\"], [\"field\", \"submittedDt\"], [\"type\", \"date\", \"field\", \"submittedDt\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"submissionReviewedDt\"], [\"field\", \"submissionReviewedDt\"], [\"type\", \"date\", \"field\", \"submissionReviewedDt\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"requestStatus\"], [\"field\", \"requestStatus\"], [\"field\", \"requestStatus\", \"matchMode\", \"in\", \"display\", \"menu\", 1, \"ml-auto\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"scope\", \"colgroup\", \"colspan\", \"2\"], [\"placeholder\", \"Any\", \"optionLabel\", \"label.en-US\", \"optionValue\", \"codeId\", 3, \"ngModel\", \"options\", \"onChange\"], [\"dateFormat\", \"dd-mm-yy\", 3, \"onSelect\"], [3, \"value\", \"disabled\", 4, \"ngIf\"], [2, \"width\", \"60px\", \"text-align\", \"center\"], [\"class\", \"underline text-bold text-black\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"text-center\"], [3, \"styleClass\", \"label\", 4, \"ngIf\"], [2, \"border-right\", \"none\"], [2, \"border-left\", \"none\"], [\"type\", \"button\", 1, \"pi\", \"pi-pencil\", 2, \"font-size\", \"1.5rem\", 3, \"click\"], [\"id\", \"hello\", \"styleClass\", \"w-30rem border-round p-overlaypanel\", 1, \"\"], [\"op\", \"\"], [\"pTemplate\", \"\", \"styleClass\", \"p-0 m-0\"], [3, \"value\", \"disabled\"], [1, \"underline\", \"text-bold\", \"text-black\", 3, \"routerLink\"], [3, \"styleClass\", \"label\"], [\"styleClass\", \"p-1 m-0 bg-bluegray-50 mb-2 w-full h-10rem border-round\"], [3, \"formGroup\", \"ngSubmit\"], [\"pInputTextarea\", \"\", \"formControlName\", \"remarkInput\", 1, \"w-full\", 3, \"rows\"], [1, \"nsp-align-right\"], [\"pButton\", \"\", \"type\", \"reset\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"submit\", \"label\", \"Save\", 3, \"disabled\"], [\"class\", \"mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-3\"], [\"colspan\", \"11\"]],\n  template: function VesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-panel\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function VesComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.searchByNric();\n      });\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtext(5, \"\\n      \");\n      i0.ɵɵelementStart(6, \"div\", 2);\n      i0.ɵɵtext(7, \"\\n        \");\n      i0.ɵɵelement(8, \"button\", 3);\n      i0.ɵɵtext(9, \"\\n        \");\n      i0.ɵɵelement(10, \"input\", 4);\n      i0.ɵɵtext(11, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n\");\n      i0.ɵɵelement(16, \"br\")(17, \"br\");\n      i0.ɵɵtext(18, \"\\n\\n\");\n      i0.ɵɵelementStart(19, \"p-table\", 5, 6);\n      i0.ɵɵlistener(\"selectionChange\", function VesComponent_Template_p_table_selectionChange_19_listener($event) {\n        return ctx.onSelectionChange($event);\n      })(\"selectAllChange\", function VesComponent_Template_p_table_selectAllChange_19_listener($event) {\n        return ctx.onSelectAllChange($event);\n      })(\"onLazyLoad\", function VesComponent_Template_p_table_onLazyLoad_19_listener($event) {\n        return ctx.loadVesRecords($event);\n      })(\"onPage\", function VesComponent_Template_p_table_onPage_19_listener($event) {\n        return ctx.onPage($event);\n      });\n      i0.ɵɵtext(21, \"\\n  [globalFilterFields]=\\\"['recordStatus','nric','submittedDt','submissionReviewedDt','requestStatus']\\\"\\n  \");\n      i0.ɵɵtemplate(22, VesComponent_ng_template_22_Template, 22, 10, \"ng-template\", 7);\n      i0.ɵɵtext(23, \"\\n\\n  \");\n      i0.ɵɵtemplate(24, VesComponent_ng_template_24_Template, 72, 7, \"ng-template\", 8);\n      i0.ɵɵtext(25, \"\\n\\n  \");\n      i0.ɵɵtemplate(26, VesComponent_ng_template_26_Template, 74, 44, \"ng-template\", 9);\n      i0.ɵɵtext(27, \"\\n\\n  \");\n      i0.ɵɵtemplate(28, VesComponent_ng_template_28_Template, 7, 0, \"ng-template\", 10);\n      i0.ɵɵtext(29, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchVesForm);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"value\", ctx.vesRecordArray)(\"selection\", ctx.selectedVesRecords)(\"selectAll\", ctx.selectAll)(\"paginator\", true)(\"rows\", 10)(\"totalRecords\", ctx.totalRecords)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(11, _c4))(\"showCurrentPageReport\", true)(\"lazy\", true)(\"loading\", ctx.loading);\n    }\n  },\n  dependencies: [i10.NgClass, i10.NgForOf, i10.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgModel, i1.FormGroupDirective, i1.FormControlName, i11.PrimeTemplate, i12.ButtonDirective, i5.RouterLink, i13.Tooltip, i14.Table, i14.SortableColumn, i14.SortIcon, i14.TableCheckbox, i14.TableHeaderCheckbox, i14.ColumnFilter, i15.InputText, i16.InputTextarea, i17.Calendar, i18.Chip, i19.Panel, i20.OverlayPanel, i21.ScrollPanel, i22.MultiSelect, i10.SlicePipe, i10.DatePipe, i23.DefaultStringPipe, i24.StatusPipe, i25.RemarkTruncatePipe],\n  styles: [\".p-chip {\\n  line-height: 1;\\n  border-radius: 5px;\\n}\\n\\n.p-chip.custom-chip-green {\\n  background: var(--green-500);\\n  color: #ffffff;\\n}\\n\\n.p-chip.custom-chip-yellow {\\n  background: var(--yellow-400);\\n  color: black;\\n}\\n\\n.p-chip.custom-chip-surface {\\n  background-color: var(--surface-500);\\n  color: #ffffff;\\n}\\n\\n.p-chip.custom-chip-red {\\n  background-color: red;\\n  color: #ffffff;\\n}\\n\\n.p-chip.custom-chip-red-outline {\\n  border: 1px solid red;\\n  background-color: #ffffff;\\n  color: red;\\n}\\n\\n.p-overlaypanel::after {\\n  border: solid transparent;\\n  border-color: rgba(255, 255, 255, 0);\\n  border-bottom-color: var(--surface-200);\\n}\\n\\n.p-overlaypanel::before {\\n  border: solid transparent;\\n  border-color: rgba(255, 255, 255, 0);\\n  border-bottom-color: black;\\n}\\n\\n.p-overlaypanel::after,\\n.p-overlaypanel::before {\\n  left: calc(var(--overlayArrowLeft, 0) + 0.5rem) !important;\\n}\\n\\n.p-overlaypanel.p-overlaypanel-flipped::after {\\n  border-top-color: var(--surface-200);\\n}\\n\\n.p-overlaypanel.p-overlaypanel-flipped::before {\\n  border-top-color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcy5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFxwYXlyb2xsXFx2ZXNcXHZlcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksNEJBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSw2QkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLG9DQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxxQkFBQTtFQUNBLHlCQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxvQ0FBQTtFQUNBLHVDQUFBO0FDQ0o7O0FERUE7RUFDSSx5QkFBQTtFQUNBLG9DQUFBO0VBQ0EsMEJBQUE7QUNDSjs7QURFQTs7RUFFSSwwREFBQTtBQ0NKOztBREVBO0VBQ0ksb0NBQUE7QUNDSjs7QURFQTtFQUNJLHVCQUFBO0FDQ0oiLCJmaWxlIjoidmVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnAtY2hpcCB7XHJcbiAgICBsaW5lLWhlaWdodDogMTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLnAtY2hpcC5jdXN0b20tY2hpcC1ncmVlbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi01MDApO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi5wLWNoaXAuY3VzdG9tLWNoaXAteWVsbG93IHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLXllbGxvdy00MDApO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG4ucC1jaGlwLmN1c3RvbS1jaGlwLXN1cmZhY2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VyZmFjZS01MDApO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi5wLWNoaXAuY3VzdG9tLWNoaXAtcmVkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcblxyXG4ucC1jaGlwLmN1c3RvbS1jaGlwLXJlZC1vdXRsaW5lIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4ucC1vdmVybGF5cGFuZWw6OmFmdGVyIHtcclxuICAgIGJvcmRlcjogc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XHJcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTIwMCk7XHJcbn1cclxuXHJcbi5wLW92ZXJsYXlwYW5lbDo6YmVmb3JlIHtcclxuICAgIGJvcmRlcjogc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XHJcbiAgICBib3JkZXItYm90dG9tLWNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLnAtb3ZlcmxheXBhbmVsOjphZnRlcixcclxuLnAtb3ZlcmxheXBhbmVsOjpiZWZvcmUge1xyXG4gICAgbGVmdDogY2FsYyh2YXIoLS1vdmVybGF5QXJyb3dMZWZ0LCAwKSArIDAuNXJlbSkgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnAtb3ZlcmxheXBhbmVsLnAtb3ZlcmxheXBhbmVsLWZsaXBwZWQ6OmFmdGVyIHtcclxuICAgIGJvcmRlci10b3AtY29sb3I6IHZhcigtLXN1cmZhY2UtMjAwKTtcclxufVxyXG5cclxuLnAtb3ZlcmxheXBhbmVsLnAtb3ZlcmxheXBhbmVsLWZsaXBwZWQ6OmJlZm9yZSB7XHJcbiAgICBib3JkZXItdG9wLWNvbG9yOiBibGFjaztcclxufSIsIi5wLWNoaXAge1xuICBsaW5lLWhlaWdodDogMTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4ucC1jaGlwLmN1c3RvbS1jaGlwLWdyZWVuIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tZ3JlZW4tNTAwKTtcbiAgY29sb3I6ICNmZmZmZmY7XG59XG5cbi5wLWNoaXAuY3VzdG9tLWNoaXAteWVsbG93IHtcbiAgYmFja2dyb3VuZDogdmFyKC0teWVsbG93LTQwMCk7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLnAtY2hpcC5jdXN0b20tY2hpcC1zdXJmYWNlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VyZmFjZS01MDApO1xuICBjb2xvcjogI2ZmZmZmZjtcbn1cblxuLnAtY2hpcC5jdXN0b20tY2hpcC1yZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gIGNvbG9yOiAjZmZmZmZmO1xufVxuXG4ucC1jaGlwLmN1c3RvbS1jaGlwLXJlZC1vdXRsaW5lIHtcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICBjb2xvcjogcmVkO1xufVxuXG4ucC1vdmVybGF5cGFuZWw6OmFmdGVyIHtcbiAgYm9yZGVyOiBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDApO1xuICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTIwMCk7XG59XG5cbi5wLW92ZXJsYXlwYW5lbDo6YmVmb3JlIHtcbiAgYm9yZGVyOiBzb2xpZCB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDApO1xuICBib3JkZXItYm90dG9tLWNvbG9yOiBibGFjaztcbn1cblxuLnAtb3ZlcmxheXBhbmVsOjphZnRlcixcbi5wLW92ZXJsYXlwYW5lbDo6YmVmb3JlIHtcbiAgbGVmdDogY2FsYyh2YXIoLS1vdmVybGF5QXJyb3dMZWZ0LCAwKSArIDAuNXJlbSkgIWltcG9ydGFudDtcbn1cblxuLnAtb3ZlcmxheXBhbmVsLnAtb3ZlcmxheXBhbmVsLWZsaXBwZWQ6OmFmdGVyIHtcbiAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tc3VyZmFjZS0yMDApO1xufVxuXG4ucC1vdmVybGF5cGFuZWwucC1vdmVybGF5cGFuZWwtZmxpcHBlZDo6YmVmb3JlIHtcbiAgYm9yZGVyLXRvcC1jb2xvcjogYmxhY2s7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5cm9sbC92ZXMvdmVzLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9wYXlyb2xsL3Zlcy92ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLDRCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksNkJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxvQ0FBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSx5QkFBQTtFQUNBLFVBQUE7QUNDSjs7QURFQTtFQUNJLHlCQUFBO0VBQ0Esb0NBQUE7RUFDQSx1Q0FBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxvQ0FBQTtFQUNBLDBCQUFBO0FDQ0o7O0FERUE7O0VBRUksMERBQUE7QUNDSjs7QURFQTtFQUNJLG9DQUFBO0FDQ0o7O0FERUE7RUFDSSx1QkFBQTtBQ0NKO0FEQ0EsZzNIQUFnM0giLCJzb3VyY2VzQ29udGVudCI6WyIucC1jaGlwIHtcclxuICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG4ucC1jaGlwLmN1c3RvbS1jaGlwLWdyZWVuIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWdyZWVuLTUwMCk7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnAtY2hpcC5jdXN0b20tY2hpcC15ZWxsb3cge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0teWVsbG93LTQwMCk7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi5wLWNoaXAuY3VzdG9tLWNoaXAtc3VyZmFjZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTUwMCk7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG5cclxuLnAtY2hpcC5jdXN0b20tY2hpcC1yZWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbn1cclxuXHJcbi5wLWNoaXAuY3VzdG9tLWNoaXAtcmVkLW91dGxpbmUge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi5wLW92ZXJsYXlwYW5lbDo6YWZ0ZXIge1xyXG4gICAgYm9yZGVyOiBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwKTtcclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLXN1cmZhY2UtMjAwKTtcclxufVxyXG5cclxuLnAtb3ZlcmxheXBhbmVsOjpiZWZvcmUge1xyXG4gICAgYm9yZGVyOiBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlci1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwKTtcclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG4ucC1vdmVybGF5cGFuZWw6OmFmdGVyLFxyXG4ucC1vdmVybGF5cGFuZWw6OmJlZm9yZSB7XHJcbiAgICBsZWZ0OiBjYWxjKHZhcigtLW92ZXJsYXlBcnJvd0xlZnQsIDApICsgMC41cmVtKSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucC1vdmVybGF5cGFuZWwucC1vdmVybGF5cGFuZWwtZmxpcHBlZDo6YWZ0ZXIge1xyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tc3VyZmFjZS0yMDApO1xyXG59XHJcblxyXG4ucC1vdmVybGF5cGFuZWwucC1vdmVybGF5cGFuZWwtZmxpcHBlZDo6YmVmb3JlIHtcclxuICAgIGJvcmRlci10b3AtY29sb3I6IGJsYWNrO1xyXG59IiwiLnAtY2hpcCB7XG4gIGxpbmUtaGVpZ2h0OiAxO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5wLWNoaXAuY3VzdG9tLWNoaXAtZ3JlZW4ge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ncmVlbi01MDApO1xuICBjb2xvcjogI2ZmZmZmZjtcbn1cblxuLnAtY2hpcC5jdXN0b20tY2hpcC15ZWxsb3cge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS15ZWxsb3ctNDAwKTtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4ucC1jaGlwLmN1c3RvbS1jaGlwLXN1cmZhY2Uge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTUwMCk7XG4gIGNvbG9yOiAjZmZmZmZmO1xufVxuXG4ucC1jaGlwLmN1c3RvbS1jaGlwLXJlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgY29sb3I6ICNmZmZmZmY7XG59XG5cbi5wLWNoaXAuY3VzdG9tLWNoaXAtcmVkLW91dGxpbmUge1xuICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5wLW92ZXJsYXlwYW5lbDo6YWZ0ZXIge1xuICBib3JkZXI6IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLXN1cmZhY2UtMjAwKTtcbn1cblxuLnAtb3ZlcmxheXBhbmVsOjpiZWZvcmUge1xuICBib3JkZXI6IHNvbGlkIHRyYW5zcGFyZW50O1xuICBib3JkZXItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIGJvcmRlci1ib3R0b20tY29sb3I6IGJsYWNrO1xufVxuXG4ucC1vdmVybGF5cGFuZWw6OmFmdGVyLFxuLnAtb3ZlcmxheXBhbmVsOjpiZWZvcmUge1xuICBsZWZ0OiBjYWxjKHZhcigtLW92ZXJsYXlBcnJvd0xlZnQsIDApICsgMC41cmVtKSAhaW1wb3J0YW50O1xufVxuXG4ucC1vdmVybGF5cGFuZWwucC1vdmVybGF5cGFuZWwtZmxpcHBlZDo6YWZ0ZXIge1xuICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1zdXJmYWNlLTIwMCk7XG59XG5cbi5wLW92ZXJsYXlwYW5lbC5wLW92ZXJsYXlwYW5lbC1mbGlwcGVkOjpiZWZvcmUge1xuICBib3JkZXItdG9wLWNvbG9yOiBibGFjaztcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","ctx_r21","ctx_r24","VesComponent","constructor","fb","vesService","toastService","ns2httpService","route","router","passDataService","dateUtilsService","exportUtilsService","codeService","localeId","group","nricInput","forms_1","remarkInput","currentPage","ves_enum_model_1","ns2status_enum_model_1","ngOnInit","isRowSelectable","bind","loadCodes","getCodes","subscribe","codes","console","log","requestStatusOptions","body","recordStatusOptions","loadVesRecords","event","loading","lazyLoadEvent","setTimeout","initFilter","filterVesRecords","options","convertLazyEvent","pageData","pageSize","getAllRecords","res","data","content","vesRecordArray","selectableRecords","filter","value","vesStatusEnum","recordStatus","ACTIVE","ON_HOLD","length","selectableRowsExist","totalRecords","totalElements","info","error","status","add","severity","summary","detail","setPaymentPeriod","vesRecord","payString","lastPaymentDt","payday","String","formatStrDate","payFrom","payPeriodFrom","payTo","payPeriodTo","onSelectionChange","selectAll","selectedVesRecords","onSelectAllChange","checked","onPage","rows","first","table","selectedButton","convertDate","convertedDate","onRequestStatusFilter","searchByNric","nric","searchVesForm","get","exportCSV","dataTable","columns","field","header","index","dtoList","forEach","record","dto","sn","nricName","name","emailToUnit","emailToUnitDt","extensionPeriod","extensionStartDt","extensionEndDt","createdBy","submittedBy","submittedDt","approvedBy","submissionReviewedBy","submissionReviewedDt","n2StatusEnum","requestStatus","remarks","recordRemarks","push","concat","Date","error_desc","deleteVesRecords","selectedVesRecordIds","id","passedData","next","navigate","relativeTo","saveRemark","remarkForm","remark","addRecordRemarks","success","setValue","checkVesStatus","vesStatusChip","customChipClass","COMPLETED","COMPLETED_WITHOUT_PAYMENT","DELETED_WITH_OVERPAYMENT","DELETED_WITHOUT_OVERPAYMENT","exports","core_1","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\ves.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\ves.component.html"],"sourcesContent":["import { formatDate } from '@angular/common';\r\nimport { HttpErrorResponse, HttpResponse, HttpStatusCode } from '@angular/common/http';\r\nimport { Component, Inject, LOCALE_ID, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { IcCodeService } from 'app/ng-connect';\r\nimport { N2Status } from 'app/shared/model/ns2status-enum.model';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { OverlayPanel } from 'primeng/overlaypanel';\r\nimport { Table } from 'primeng/table';\r\nimport { RequestStatus, VesStatus, VesStatusMenu } from './model/ves-enum.model';\r\nimport { IVesRecord } from './model/ves-record.model';\r\nimport { VesPassDataService } from './service/ves-pass-data.service';\r\nimport { VesService } from './service/ves.service';\r\n\r\n@Component({\r\n  selector: 'n2-ves',\r\n  templateUrl: './ves.component.html',\r\n  styleUrls: ['./ves.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class VesComponent implements OnInit {\r\n  vesRecordArray: IVesRecord[];\r\n\r\n  searchVesForm: FormGroup = this.fb.group({\r\n    nricInput: new FormControl(null)\r\n  })\r\n  remarkForm: FormGroup = this.fb.group({\r\n    remarkInput: new FormControl(null)\r\n  })\r\n\r\n  loading: boolean;\r\n  totalRecords: number;\r\n  pageData: { currentPage: number } = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  lazyLoadEvent: LazyLoadEvent;\r\n\r\n  // For filtering\r\n  dropOptions: any[] = [];\r\n  requestStatusOptions: any[] = [];\r\n  requestStatuses: any[] = [];\r\n  recordStatusOptions: any[] = [];\r\n  recordStatuses: any[] = [];\r\n  selectedButton = 1;\r\n  initFilter = false;\r\n\r\n  selectAll = false;\r\n  selectableRecords: number;\r\n  selectableRowsExist = false;\r\n\r\n  selectedVesRecords: IVesRecord[] = [];\r\n  selectedVesRecordIds: string[] = [];\r\n\r\n  vesStatusEnum: { [key: string]: VesStatus } = VesStatus;\r\n  n2StatusEnum: { [key: string]: N2Status } = N2Status;\r\n\r\n  @ViewChild('vt') table: Table;\r\n\r\n  @ViewChild('op') overlayPanel: OverlayPanel;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private vesService: VesService,\r\n    private toastService: CustomToastService,\r\n    private ns2httpService: Ns2HttpService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private passDataService: VesPassDataService,\r\n    private dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private codeService: IcCodeService,\r\n    @Inject(LOCALE_ID) protected localeId: string\r\n  ) {\r\n\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.isRowSelectable = this.isRowSelectable.bind(this);\r\n\r\n    this.loadCodes();\r\n\r\n    // // For request status filter menu\r\n    // for (const [key, value] of Object.entries(RequestStatus)) {\r\n    //   this.requestStatuses.push(\r\n    //     { name: value, value: key }\r\n    //   );\r\n    // }\r\n    // // For record status filter menu\r\n    // for (const [key, value] of Object.entries(VesStatusMenu)) {\r\n    //   this.recordStatuses.push(\r\n    //     { name: value, value: key }\r\n    //   );\r\n    // }\r\n  }\r\n\r\n  loadCodes(): void {\r\n    //Using Code Service\r\n    // this.codeService.gets('ves_request_status,ves_record_status').subscribe((codes: any[]) => {\r\n    //   console.log(codes[0]);\r\n    //   console.log(codes[1]);\r\n\r\n    //   this.requestStatusOptions = codes[0];\r\n    //   this.recordStatusOptions = codes[1];\r\n    // });\r\n\r\n    //Using own service\r\n    this.vesService.getCodes('ves_request_status,ves_record_status').subscribe(\r\n      (codes: HttpResponse<any>) => {\r\n        console.log(codes);\r\n\r\n        this.requestStatusOptions = codes.body[0];\r\n        this.recordStatusOptions = codes.body[1];\r\n        console.log(this.requestStatusOptions);\r\n        console.log(this.recordStatusOptions);\r\n      }\r\n    )\r\n  }\r\n\r\n  loadVesRecords(event: LazyLoadEvent): void {\r\n    this.loading = true;\r\n    this.lazyLoadEvent = event;\r\n    setTimeout(() => {\r\n      if (!this.initFilter) {\r\n        this.filterVesRecords(1);\r\n        this.initFilter = true;\r\n      }\r\n      // console.log(\"LazyLoadEvent: \", event);\r\n      const options = this.vesService.convertLazyEvent(event, this.pageData, this.pageSize);\r\n      // console.log(\"options: \", options);\r\n      this.vesService.getAllRecords(options).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          if (res.body?.data?.content) {\r\n            // console.log(res);\r\n            this.vesRecordArray = res.body.data.content;\r\n            this.selectableRecords = this.vesRecordArray.filter(value => (\r\n              this.vesStatusEnum[value.recordStatus] === VesStatus.ACTIVE ||\r\n              this.vesStatusEnum[value.recordStatus] === VesStatus.ON_HOLD)).length;\r\n            this.selectableRowsExist = this.selectableRecords > 0;\r\n            this.totalRecords = res.body.data.totalElements;\r\n          } else {\r\n            this.vesRecordArray = [];\r\n            this.totalRecords = 0;\r\n            this.selectableRowsExist = false;\r\n            this.toastService.info('No records found');\r\n          }\r\n          this.loading = false;\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          if (error.status === HttpStatusCode.NotFound) {\r\n            this.toastService.add({\r\n              severity: 'error',\r\n              summary: 'Error',\r\n              detail: 'No VES records'\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n\r\n  setPaymentPeriod(vesRecord: IVesRecord): string {\r\n    let payString = null;\r\n    if (vesRecord.lastPaymentDt !== null) {\r\n      const payday = String(this.dateUtilsService.formatStrDate(vesRecord.lastPaymentDt, \"DD-MM-YYYY\"));\r\n      const payFrom = String(this.dateUtilsService.formatStrDate(vesRecord.payPeriodFrom, \"DD-MM-YYYY\"));\r\n      const payTo = String(this.dateUtilsService.formatStrDate(vesRecord.payPeriodTo, \"DD-MM-YYYY\"));\r\n      payString = `${payday} (For ${payFrom} to ${payTo})`;\r\n    }\r\n    return payString;\r\n  }\r\n\r\n  onSelectionChange(value: any[]): void {\r\n    this.selectAll = value.length === this.selectableRecords;\r\n    this.selectedVesRecords = value;\r\n  }\r\n\r\n  onSelectAllChange(event: any): void {\r\n    const checked = event.checked;\r\n    if (checked) {\r\n      this.selectedVesRecords = this.vesRecordArray.filter(value => (\r\n        this.vesStatusEnum[value.recordStatus] === VesStatus.ACTIVE ||\r\n        this.vesStatusEnum[value.recordStatus] === VesStatus.ON_HOLD));\r\n      // console.log(this.selectedVesRecords);\r\n      this.selectAll = true;\r\n    } else {\r\n      this.selectedVesRecords = [];\r\n      this.selectAll = false;\r\n    }\r\n  }\r\n\r\n  onPage(event: any): void {\r\n    this.pageSize = event.rows;\r\n    this.pageData.currentPage = event.first / event.rows;\r\n    // Reset selection when loading another page\r\n    this.selectedVesRecords = [];\r\n    this.selectAll = false;\r\n  }\r\n\r\n  filterVesRecords(filter: number): void {\r\n    if (filter === 1) {\r\n      this.table.filter([\r\n        'ACTIVE', 'ON_HOLD', 'COMPLETED_WITHOUT_PAYMENT',\r\n        'PENDING_APPROVAL', 'PENDING_EDIT_APPROVAL', 'PENDING_DELETE_APPROVAL'],\r\n        'recordStatus', 'in');\r\n      this.selectedButton = 1;\r\n    } else if (filter === 2) {\r\n      this.table.filter([\r\n        'COMPLETED', 'DELETED_WITH_OVERPAYMENT', 'DELETED_WITHOUT_OVERPAYMENT'],\r\n        'recordStatus', 'in');\r\n      this.selectedButton = 2;\r\n    } else {\r\n      this.table.filter(null, 'recordStatus', 'in');\r\n      this.selectedButton = 3;\r\n    }\r\n    this.selectedVesRecords = [];\r\n    this.pageData.currentPage = 0;\r\n    this.pageSize = 10;\r\n    this.initFilter = true;\r\n  }\r\n\r\n  convertDate(event: Date): string {\r\n    const convertedDate = this.dateUtilsService.formatStrDate(event, \"YYYY-MM-DD\");\r\n    return convertedDate;\r\n  }\r\n\r\n  onRequestStatusFilter(event: any): void {\r\n    // console.log(event);\r\n    // console.log(event.value);\r\n    this.table.filter(event.value, \"requestStatus\", \"in\");\r\n  }\r\n\r\n  searchByNric(): void {\r\n    const nric = this.searchVesForm.get('nricInput').value\r\n    // console.log(nric);\r\n\r\n    this.table.filter([nric], 'nric', 'contains');\r\n    this.selectedVesRecords = [];\r\n    this.pageData.currentPage = 0;\r\n    this.pageSize = 10;\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    const options = this.vesService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\r\n\r\n    this.vesService.getAllRecords(options).subscribe(\r\n      res => {\r\n        if (res.body?.data?.content) {\r\n          const data = res.body?.data?.content;\r\n          const columns = [\r\n            { field: 'sn', header: 'SN', index: 0 },\r\n            { field: 'recordStatus', header: 'VES', index: 1 },\r\n            { field: 'nricName', header: 'NRIC & Name', index: 2 },\r\n            { field: 'emailToUnit', header: 'Email to Unit', index: 3 },\r\n            { field: 'extensionPeriod', header: 'Extension Period', index: 4 },\r\n            { field: 'lastPaymentDt', header: 'Last Payment Date', index: 5 },\r\n            { field: 'createdBy', header: 'Created By', index: 6 },\r\n            { field: 'approvedBy', header: 'Approved By', index: 7 },\r\n            { field: 'status', header: 'Status', index: 8 },\r\n            { field: 'remarks', header: 'REmarks', index: 9 },\r\n          ];\r\n\r\n          const dtoList: any[] = [];\r\n          console.log(\"data\", data);\r\n          data.forEach((record: IVesRecord, index: number) => {\r\n            const dto = {\r\n              sn: index + 1,\r\n              recordStatus: this.vesStatusEnum[record.recordStatus],\r\n              nricName: `${String(record.nric)} ${String(record.name)}`,\r\n              emailToUnit: `${String(this.dateUtilsService.formatStrDate(record.emailToUnitDt, \"DD-MM-YYYY\"))}`,\r\n              extensionPeriod: `${String(this.dateUtilsService.formatStrDate(record.extensionStartDt, \"DD-MM-YYYY\"))} to ${String(this.dateUtilsService.formatStrDate(record.extensionEndDt, \"DD-MM-YYYY\"))}`,\r\n              lastPaymentDt: `${String(this.dateUtilsService.formatStrDate(record.lastPaymentDt, \"DD-MM-YYYY\"))}`,\r\n              createdBy: `${String(record.submittedBy ? record.submittedBy : \"\")} ${String(this.dateUtilsService.formatStrDate(record.submittedDt, \"DD-MM-YYYY\"))}`,\r\n              approvedBy: `${String(record.submissionReviewedBy ? record.submissionReviewedBy : \"\")} ${String(this.dateUtilsService.formatStrDate(record.submissionReviewedDt, \"DD-MM-YYYY\"))}`,\r\n              status: this.n2StatusEnum[record.requestStatus],\r\n              remarks: `${record.recordRemarks}`\r\n            }\r\n            dtoList.push(dto);\r\n          });\r\n          this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns,\r\n            \"data_\".concat(formatDate(new Date(), \"dd-MM-YYYY\", this.localeId)));\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error.error?.error_desc);\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  deleteVesRecords(): void {\r\n    console.log(\"Deleting Records\");\r\n    console.log(this.selectedVesRecords.length);\r\n    console.log(this.selectedVesRecords)\r\n    for (const record of this.selectedVesRecords) {\r\n      this.selectedVesRecordIds.push(record.id);\r\n    }\r\n    this.passDataService.passedData.next(this.selectedVesRecordIds);\r\n    this.router.navigate(['request/delete'], { relativeTo: this.route });\r\n  }\r\n\r\n  saveRemark(id: any): void {\r\n    console.log(\"Saved Remark for record id\", id);\r\n    console.log(this.remarkForm.get('remarkInput').value);\r\n\r\n    const remark = {\r\n      remark: this.remarkForm.get('remarkInput').value as string\r\n    };\r\n\r\n    console.log(remark);\r\n    this.vesService.addRecordRemarks(id, remark).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        console.log(res);\r\n        this.toastService.success('Appended remark successfully');\r\n        this.loadVesRecords(this.lazyLoadEvent);\r\n        this.remarkForm.get('remarkInput').setValue('');\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error);\r\n        this.toastService.error(error.error.error_desc);\r\n      }\r\n    )\r\n  }\r\n\r\n  isRowSelectable(event: any): boolean {\r\n    return this.checkVesStatus(event.data);\r\n  }\r\n\r\n  checkVesStatus(data: IVesRecord): boolean {\r\n    return (this.vesStatusEnum[data.recordStatus] === VesStatus.ACTIVE || this.vesStatusEnum[data.recordStatus] === VesStatus.ON_HOLD);\r\n  }\r\n\r\n  vesStatusChip(status: string): string {\r\n    let customChipClass = '';\r\n    if (status === VesStatus.ACTIVE) {\r\n      customChipClass = 'custom-chip-green';\r\n    } else if (status === VesStatus.ON_HOLD) {\r\n      customChipClass = 'custom-chip-yellow';\r\n    } else if (status === VesStatus.COMPLETED) {\r\n      customChipClass = 'custom-chip-surface';\r\n    } else if (status === VesStatus.COMPLETED_WITHOUT_PAYMENT) {\r\n      customChipClass = 'custom-chip-surface';\r\n    } else if (status === VesStatus.DELETED_WITH_OVERPAYMENT) {\r\n      customChipClass = 'custom-chip-red';\r\n    } else if (status === VesStatus.DELETED_WITHOUT_OVERPAYMENT) {\r\n      customChipClass = 'custom-chip-red-outline';\r\n    }\r\n    return customChipClass;\r\n  }\r\n}\r\n","<p-panel header=\"VES\">\r\n  <form [formGroup]=\"searchVesForm\" (ngSubmit)=\"searchByNric()\" class=\"col-sm-12\">\r\n    <div>\r\n      <div class=\"p-inputgroup w-20rem\">\r\n        <button pButton type=\"submit\" label=\"Search\"></button>\r\n        <input type=\"text\" id=\"nricInput\" pInputText formControlName=\"nricInput\" placeholder=\"NRIC\" />\r\n      </div>\r\n    </div>\r\n  </form>\r\n</p-panel>\r\n<br /><br />\r\n\r\n<p-table #vt [value]=\"vesRecordArray\" styleClass=\"p-datatable-gridlines\" dataKey=\"id\" responsiveLayout=\"scroll\"\r\n  [selection]=\"selectedVesRecords\" (selectionChange)=\"onSelectionChange($event)\" [selectAll]=\"selectAll\"\r\n  (selectAllChange)=\"onSelectAllChange($event)\" [paginator]=\"true\" [rows]=\"10\" [totalRecords]=\"totalRecords\"\r\n  [rowsPerPageOptions]=\"[10, 25, 50]\" [showCurrentPageReport]=\"true\"\r\n  currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\" [lazy]=\"true\" [loading]=\"loading\"\r\n  (onLazyLoad)=\"loadVesRecords($event)\" (onPage)=\"onPage($event)\">\r\n  [globalFilterFields]=\"['recordStatus','nric','submittedDt','submissionReviewedDt','requestStatus']\"\r\n  <ng-template pTemplate=\"caption\">\r\n    <div class=\"grid\">\r\n      <div class=\"col-6 nsp-align-left flex justify-content-start gap-2\">\r\n        <button type=\"button\" pButton icon=\"pi pi-file-o\" pTooltip=\"Export as CSV\" tooltipPosition=\"bottom\"\r\n          (click)=\"exportCSV(vt)\"></button>\r\n        <button pButton (click)=\"filterVesRecords(1)\" type=\"button\" label=\"Ongoing\"\r\n          [ngClass]=\"{ 'p-button-outlined': selectedButton !== 1 }\"></button>\r\n        <button pButton (click)=\"filterVesRecords(2)\" type=\"button\" label=\"History\"\r\n          [ngClass]=\"{ 'p-button-outlined': selectedButton !== 2 }\"></button>\r\n        <button pButton (click)=\"filterVesRecords(3)\" type=\"button\" label=\"All\"\r\n          [ngClass]=\"{ 'p-button-outlined': selectedButton !== 3 }\"></button>\r\n      </div>\r\n      <div class=\"col-6 nsp-align-right flex justify-content-end gap-2\">\r\n        <button pButton icon=\"pi pi-plus\" type=\"button\" label=\"New\" routerLink=\"request/create\"></button>\r\n        <button pButton class=\"p-button-danger p-button-outlined\" icon=\"pi pi-times\" type=\"button\" label=\"Delete\"\r\n          (click)=\"deleteVesRecords()\" [disabled]=\"selectedVesRecords.length === 0\"></button>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate=\"header\">\r\n    <tr>\r\n      <th scope=\"col\" class=\"w-3rem\">\r\n        <p-tableHeaderCheckbox *ngIf=\"selectableRowsExist\"></p-tableHeaderCheckbox>\r\n      </th>\r\n      <th scope=\"col\">S/N</th>\r\n      <th scope=\"col\" pSortableColumn=\"recordStatus\">\r\n        VES<p-sortIcon field=\"recordStatus\"></p-sortIcon>\r\n        <p-columnFilter field=\"recordStatus\" matchMode=\"in\" display=\"menu\" [showMatchModes]=\"false\"\r\n          [showOperator]=\"false\" [showAddButton]=\"false\" class=\"ml-auto\">\r\n          <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n            <p-multiSelect [ngModel]=\"value\" [options]=\"recordStatusOptions\" placeholder=\"Any\"\r\n              (onChange)=\"filter($event.value)\" optionLabel=\"label.en-US\" optionValue=\"codeId\">\r\n            </p-multiSelect>\r\n          </ng-template>\r\n        </p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"nric\">\r\n        NRIC & Name<p-sortIcon field=\"nric\"></p-sortIcon>\r\n        <p-columnFilter type=\"text\" field=\"nric\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\">Email to Unit</th>\r\n      <th scope=\"col\">Extension Period</th>\r\n      <th scope=\"col\">Last Payment Date</th>\r\n      <th scope=\"col\" pSortableColumn=\"submittedDt\">\r\n        Created by<p-sortIcon field=\"submittedDt\"></p-sortIcon>\r\n        <p-columnFilter type=\"date\" field=\"submittedDt\" display=\"menu\" matchMode=\"contains\">\r\n          <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter(convertDate($event))\">\r\n            </p-calendar>\r\n          </ng-template>\r\n        </p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"submissionReviewedDt\">\r\n        Approved By<p-sortIcon field=\"submissionReviewedDt\"> </p-sortIcon>\r\n        <p-columnFilter type=\"date\" field=\"submissionReviewedDt\" display=\"menu\" matchMode=\"contains\">\r\n          <ng-template pTemplate=\"filter\" let-filter=\"filterCallback\">\r\n            <p-calendar dateFormat=\"dd-mm-yy\" (onSelect)=\"filter(convertDate($event))\">\r\n            </p-calendar>\r\n          </ng-template>\r\n        </p-columnFilter>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"requestStatus\">\r\n        Status<p-sortIcon field=\"requestStatus\"></p-sortIcon>\r\n        <p-columnFilter field=\"requestStatus\" matchMode=\"in\" display=\"menu\" [showMatchModes]=\"false\"\r\n          [showOperator]=\"false\" [showAddButton]=\"false\" class=\"ml-auto\">\r\n          <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n            <p-multiSelect [ngModel]=\"value\" [options]=\"requestStatusOptions\" placeholder=\"Any\"\r\n              (onChange)=\"filter($event.value)\" optionLabel=\"label.en-US\" optionValue=\"codeId\">\r\n            </p-multiSelect>\r\n          </ng-template>\r\n        </p-columnFilter>\r\n      </th>\r\n      <th scope=\"colgroup\" colspan=\"2\">Remarks</th>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate=\"body\" let-vesRecord let-i=\"rowIndex\">\r\n    <tr>\r\n      <td>\r\n        <p-tableCheckbox [value]=\"vesRecord\" *ngIf=\"checkVesStatus(vesRecord)\" [disabled]=\"!checkVesStatus(vesRecord)\">\r\n        </p-tableCheckbox>\r\n      </td>\r\n      <td style=\"width: 60px; text-align: center\">\r\n        <span *ngIf=\"!checkVesStatus(vesRecord)\">{{ i + 1 }}</span>\r\n        <a class=\"underline text-bold text-black\" *ngIf=\"checkVesStatus(vesRecord)\"\r\n          routerLink=\"request/edit/{{ vesRecord.id }}\">\r\n          {{ i + 1 }}\r\n        </a>\r\n      </td>\r\n      <td class=\"text-center\">\r\n        <p-chip\r\n          styleClass=\"w-10rem text-center justify-content-center font-bold {{ vesStatusChip(vesStatusEnum[vesRecord.recordStatus]) }}\"\r\n          label=\"{{ vesStatusEnum[vesRecord.recordStatus] }}\" *ngIf=\"vesRecord.recordStatus != 'PENDING_APPROVAL'\">\r\n        </p-chip>\r\n        <span *ngIf=\"vesRecord.recordStatus == 'PENDING_APPROVAL'\">\r\n          {{ vesStatusEnum[vesRecord.recordStatus] }}\r\n        </span>\r\n      </td>\r\n      <td>{{ vesRecord.nric }}<br />{{ vesRecord.name }}</td>\r\n      <td class=\"text-center\">{{ vesRecord.emailToUnitDt | date: 'dd-MM-YYYY' | defaultString }}</td>\r\n      <td>{{ vesRecord.extensionStartDt | date: 'dd-MM-YYYY' }} to {{ vesRecord.extensionEndDt | date: 'dd-MM-YYYY' }}\r\n      </td>\r\n      <!-- <td>{{ vesRecord.lastPaymentDt | date: 'dd-MM-YYYY' | defaultString }} (For {{ vesRecord.payPeriodFrom | date:\r\n        'dd-MM-YYYY' }} to {{ vesRecord.payPeriodTo | date: 'dd-MM-YYYY'}})</td> -->\r\n      <td>{{ setPaymentPeriod(vesRecord) | defaultString }}</td>\r\n      <td>{{ vesRecord.submittedBy }} {{ vesRecord.submittedDt | date: 'dd-MM-YYYY' }}</td>\r\n      <td class=\"text-center\">\r\n        {{ vesRecord.submissionReviewedBy }} {{ vesRecord.submissionReviewedDt | date: 'dd-MM-YYYY' | defaultString }}\r\n      </td>\r\n      <td>{{ vesRecord.requestStatus | status }}</td>\r\n      <td style=\"border-right: none\">\r\n        <span *ngIf=\"vesRecord.recordRemarks !== null\">\r\n          {{ vesRecord.recordRemarks | remarkTruncate: 15 }}\r\n        </span>\r\n        <span *ngIf=\"vesRecord.recordRemarks === null\">-</span>\r\n      </td>\r\n      <td style=\"border-left: none\">\r\n        <i class=\"pi pi-pencil\" style=\"font-size: 1.5rem\" type=\"button\" (click)=\"op.toggle($event)\"></i>\r\n      </td>\r\n      <p-overlayPanel #op id='hello' styleClass=\"w-30rem border-round p-overlaypanel\" class\r\n        [style]=\"{ 'background-color': 'var(--surface-200)', 'border': '1px solid black' }\">\r\n        <ng-template pTemplate styleClass=\"p-0 m-0\">\r\n          <p-scrollPanel styleClass=\"p-1 m-0 bg-bluegray-50 mb-2 w-full h-10rem border-round\">\r\n            <div *ngIf=\"vesRecord.recordRemarks !== null\">\r\n              <div class=\"mb-3\" *ngFor=\"let remark of vesRecord.recordRemarks.split('|')\">\r\n                {{ remark | slice: 0:22 }}:<br />\r\n                {{ remark | slice: 22 }}\r\n              </div>\r\n            </div>\r\n          </p-scrollPanel>\r\n          <form [formGroup]=\"remarkForm\" (ngSubmit)=\"saveRemark(vesRecord.id)\">\r\n            <textarea pInputTextarea [rows]=\"1\" class=\"w-full\" formControlName=\"remarkInput\"></textarea>\r\n            <div class=\"nsp-align-right\">\r\n              <button pButton class=\"p-button-danger\" type=\"reset\" label=\"Cancel\" (click)=\"op.hide()\"></button>\r\n              <button pButton type=\"submit\" label=\"Save\" [disabled]=\"!remarkForm.valid\"></button>\r\n            </div>\r\n          </form>\r\n        </ng-template>\r\n      </p-overlayPanel>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate=\"emptymessage\">\r\n    <tr>\r\n      <td colspan=\"11\">No VES records found.</td>\r\n    </tr>\r\n  </ng-template>\r\n</p-table>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}