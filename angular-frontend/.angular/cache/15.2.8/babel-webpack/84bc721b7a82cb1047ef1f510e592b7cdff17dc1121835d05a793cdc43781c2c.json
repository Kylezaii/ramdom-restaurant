{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ResourceEditComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst resource_model_1 = require(\"../resource/resource.model\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"./resource.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/alert.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/event-manager.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"@fortawesome/angular-fontawesome\"));\nconst i8 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/alert/alert.component\"));\nfunction ResourceEditComponent_div_0_form_18_div_15_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const applicationOption_r10 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"ngValue\", applicationOption_r10.appId === (ctx_r9.resource.application == null ? null : ctx_r9.resource.application.appId) ? ctx_r9.resource.application : applicationOption_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                    \", applicationOption_r10.appName, \"\\n                  \");\n  }\n}\nfunction ResourceEditComponent_div_0_form_18_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"select\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceEditComponent_div_0_form_18_div_15_Template_select_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.resource.application = $event);\n    });\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelement(4, \"option\", 27);\n    i0.ɵɵtext(5, \"\\n                  \");\n    i0.ɵɵtemplate(6, ResourceEditComponent_div_0_form_18_div_15_option_6_Template, 2, 2, \"option\", 28);\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.resource.application);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngValue\", null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.applications);\n  }\n}\nfunction ResourceEditComponent_div_0_form_18_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const resourceType_r13 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngValue\", resourceType_r13.codeId === ctx_r8.resource.resourceType ? ctx_r8.resource.resourceType : resourceType_r13.codeId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                    \", resourceType_r13.codeDesc, \"\\n                  \");\n  }\n}\nconst _c0 = function () {\n  return [\"../../../../admin/acm/ic-resource\"];\n};\nfunction ResourceEditComponent_div_0_form_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 19, 20);\n    i0.ɵɵlistener(\"ngSubmit\", function ResourceEditComponent_div_0_form_18_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.save());\n    });\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"div\", 8);\n    i0.ɵɵtext(6, \"Resource Detail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementStart(10, \"div\", 21);\n    i0.ɵɵtext(11, \"\\n              \");\n    i0.ɵɵelementStart(12, \"label\", 22);\n    i0.ɵɵtext(13, \"Application\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n              \");\n    i0.ɵɵtemplate(15, ResourceEditComponent_div_0_form_18_div_15_Template, 9, 3, \"div\", 23);\n    i0.ɵɵtext(16, \"\\n\\n              \");\n    i0.ɵɵelementStart(17, \"label\", 24);\n    i0.ɵɵtext(18, \"Resource Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n              \");\n    i0.ɵɵelementStart(20, \"div\", 25);\n    i0.ɵɵtext(21, \"\\n                \");\n    i0.ɵɵelementStart(22, \"select\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceEditComponent_div_0_form_18_Template_select_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.resource.resourceType = $event);\n    });\n    i0.ɵɵtext(23, \"\\n                  \");\n    i0.ɵɵelement(24, \"option\", 27);\n    i0.ɵɵtext(25, \"\\n                  \");\n    i0.ɵɵtemplate(26, ResourceEditComponent_div_0_form_18_option_26_Template, 2, 2, \"option\", 28);\n    i0.ɵɵtext(27, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n\\n            \");\n    i0.ɵɵelementStart(31, \"div\", 21);\n    i0.ɵɵtext(32, \"\\n              \");\n    i0.ɵɵelementStart(33, \"label\", 29);\n    i0.ɵɵtext(34, \"Resource Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n              \");\n    i0.ɵɵelementStart(36, \"div\", 25);\n    i0.ɵɵtext(37, \"\\n                \");\n    i0.ɵɵelementStart(38, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceEditComponent_div_0_form_18_Template_input_ngModelChange_38_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.resource.resourceName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n                \");\n    i0.ɵɵelementStart(40, \"div\", 31);\n    i0.ɵɵtext(41, \"\\n                  \");\n    i0.ɵɵelementStart(42, \"small\", 32);\n    i0.ɵɵtext(43, \"\\n                    This field is required.\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n\\n              \");\n    i0.ɵɵelementStart(47, \"label\", 33);\n    i0.ɵɵtext(48, \"Resource Path\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n              \");\n    i0.ɵɵelementStart(50, \"div\", 25);\n    i0.ɵɵtext(51, \"\\n                \");\n    i0.ɵɵelementStart(52, \"input\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceEditComponent_div_0_form_18_Template_input_ngModelChange_52_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.resource.resourcePath = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n                \");\n    i0.ɵɵelementStart(54, \"div\", 31);\n    i0.ɵɵtext(55, \"\\n                  \");\n    i0.ɵɵelementStart(56, \"small\", 32);\n    i0.ɵɵtext(57, \"\\n                    This field is required.\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(59, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \"\\n\\n            \");\n    i0.ɵɵelementStart(62, \"div\", 21);\n    i0.ɵɵtext(63, \"\\n              \");\n    i0.ɵɵelementStart(64, \"div\", 4);\n    i0.ɵɵtext(65, \"\\n\");\n    i0.ɵɵtext(66, \"\\n\\n                \");\n    i0.ɵɵelementStart(67, \"button\", 35);\n    i0.ɵɵtext(68, \"\\n                  \");\n    i0.ɵɵelement(69, \"fa-icon\", 36);\n    i0.ɵɵtext(70, \"\\u00A0\");\n    i0.ɵɵelementStart(71, \"span\", 37);\n    i0.ɵɵtext(72, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \"\\n                \");\n    i0.ɵɵelementStart(75, \"button\", 38);\n    i0.ɵɵtext(76, \"\\n                  \");\n    i0.ɵɵelement(77, \"fa-icon\", 36);\n    i0.ɵɵtext(78, \"\\u00A0\");\n    i0.ɵɵelementStart(79, \"span\", 39);\n    i0.ɵɵtext(80, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(82, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(83, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(84, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(86, \"\\n      \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(1);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.resource.application);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.resource.resourceType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngValue\", null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.resourceTypes);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.resource.resourceName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !((_r6.controls.resourceName == null ? null : _r6.controls.resourceName.dirty) && (_r6.controls.resourceName == null ? null : _r6.controls.resourceName.invalid)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(_r6.controls.resourceName == null ? null : _r6.controls.resourceName.errors == null ? null : _r6.controls.resourceName.errors.required));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.resource.resourcePath);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !((_r6.controls.resourcePath == null ? null : _r6.controls.resourcePath.dirty) && (_r6.controls.resourcePath == null ? null : _r6.controls.resourcePath.invalid)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !(_r6.controls.resourcePath == null ? null : _r6.controls.resourcePath.errors == null ? null : _r6.controls.resourcePath.errors.required));\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", _r6.form.invalid || ctx_r1.isSaving);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"save\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(14, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"ban\");\n  }\n}\nfunction ResourceEditComponent_div_0_tbody_51_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 42);\n    i0.ɵɵlistener(\"click\", function ResourceEditComponent_div_0_tbody_51_tr_2_Template_input_click_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const func_r20 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.selectOneFunction($event, func_r20));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(4, \"\\n                  \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                  \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const func_r20 = ctx.$implicit;\n    const idx_r21 = ctx.index;\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r19.selectedAllFunctions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(idx_r21 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(func_r20.resourceName);\n  }\n}\nfunction ResourceEditComponent_div_0_tbody_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, ResourceEditComponent_div_0_tbody_51_tr_2_Template, 11, 3, \"tr\", 41);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.assignedFunctions);\n  }\n}\nfunction ResourceEditComponent_div_0_tbody_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtext(3, \"\\n                  \");\n    i0.ɵɵelementStart(4, \"td\", 43);\n    i0.ɵɵtext(5, \"No Matching Records Found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n              \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ResourceEditComponent_div_0_button_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function ResourceEditComponent_div_0_button_59_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.unAssignFunctions());\n    });\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 36);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Unassign Functions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.selectedFunctions || ctx_r4.selectedFunctions.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"times\");\n  }\n}\nconst _c1 = function (a1, a2) {\n  return [\"../assign/functions\", a1, a2];\n};\nfunction ResourceEditComponent_div_0_button_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 45);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelement(2, \"fa-icon\", 36);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"\\u00A0Assign Functions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(3, _c1, ctx_r5.resource.application.appId, ctx_r5.resource.resourceId))(\"replaceUrl\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", \"check\");\n  }\n}\nfunction ResourceEditComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"span\", 1);\n    i0.ɵɵtext(5, \"Edit Resource\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n\\n  \");\n    i0.ɵɵelement(8, \"p\", 2);\n    i0.ɵɵtext(9, \"\\n  \");\n    i0.ɵɵelement(10, \"ic-alert\");\n    i0.ɵɵtext(11, \"\\n  \");\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13, \"\\n  \");\n    i0.ɵɵelementStart(14, \"div\", 3);\n    i0.ɵɵtext(15, \"\\n    \");\n    i0.ɵɵelementStart(16, \"div\", 4);\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵtemplate(18, ResourceEditComponent_div_0_form_18_Template, 87, 15, \"form\", 5);\n    i0.ɵɵtext(19, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n\\n    \");\n    i0.ɵɵelementStart(21, \"div\", 6);\n    i0.ɵɵtext(22, \"\\n      \");\n    i0.ɵɵelementStart(23, \"div\", 7);\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelementStart(25, \"div\", 8);\n    i0.ɵɵtext(26, \"Functions Assigned to Resource\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n        \");\n    i0.ɵɵelementStart(28, \"div\", 9);\n    i0.ɵɵtext(29, \"\\n          \");\n    i0.ɵɵelementStart(30, \"div\", 10);\n    i0.ɵɵtext(31, \"\\n            \");\n    i0.ɵɵelementStart(32, \"table\", 11);\n    i0.ɵɵtext(33, \"\\n              \");\n    i0.ɵɵelementStart(34, \"thead\");\n    i0.ɵɵtext(35, \"\\n                \");\n    i0.ɵɵelementStart(36, \"tr\");\n    i0.ɵɵtext(37, \"\\n                  \");\n    i0.ɵɵelementStart(38, \"th\", 12);\n    i0.ɵɵtext(39, \"\\n                    \");\n    i0.ɵɵelementStart(40, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ResourceEditComponent_div_0_Template_input_ngModelChange_40_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.selectedAllFunctions = $event);\n    })(\"click\", function ResourceEditComponent_div_0_Template_input_click_40_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.selectAllFunctions($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \"\\n                  \");\n    i0.ɵɵelementStart(43, \"th\", 14);\n    i0.ɵɵtext(44, \"S/No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                  \");\n    i0.ɵɵelementStart(46, \"th\", 15);\n    i0.ɵɵtext(47, \"Function Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n              \");\n    i0.ɵɵtemplate(51, ResourceEditComponent_div_0_tbody_51_Template, 4, 1, \"tbody\", 0);\n    i0.ɵɵtext(52, \"\\n              \");\n    i0.ɵɵtemplate(53, ResourceEditComponent_div_0_tbody_53_Template, 8, 0, \"tbody\", 0);\n    i0.ɵɵtext(54, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n\\n          \");\n    i0.ɵɵelementStart(57, \"div\", 16);\n    i0.ɵɵtext(58, \"\\n            \");\n    i0.ɵɵtemplate(59, ResourceEditComponent_div_0_button_59_Template, 6, 2, \"button\", 17);\n    i0.ɵɵtext(60, \"\\n            \");\n    i0.ɵɵtemplate(61, ResourceEditComponent_div_0_button_61_Template, 6, 6, \"button\", 18);\n    i0.ɵɵtext(62, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(64, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.resource);\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAllFunctions);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFunctionsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFunctionsLength() == 0);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.assignedFunctionsLength() > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.resource.application);\n  }\n}\nclass ResourceEditComponent {\n  constructor(resourceService, alertService, route, eventManager) {\n    this.resourceService = resourceService;\n    this.alertService = alertService;\n    this.route = route;\n    this.eventManager = eventManager;\n    this.resource = new resource_model_1.Resource();\n    this.assignedFunctions = [];\n    this.selectedAllFunctions = false;\n    this.selectedFunctions = [];\n    this.applications = [];\n    this.resourceTypes = [{\n      codeId: 'URI',\n      codeDesc: 'URI'\n    }, {\n      codeId: 'WEBURI',\n      codeDesc: 'WEBURI'\n    }, {\n      codeId: 'PAGE_RES',\n      codeDesc: 'PAGE_RES'\n    }];\n  }\n  ngOnInit() {\n    this.isSaving = false;\n    this.subscription = this.route.params.subscribe(params => {\n      this.resourceId = params['id'];\n    });\n    this.resourceService.findAllApplication().subscribe(res => {\n      this.applications = res.body;\n    }, res => this.onError(res.body));\n    // get resource object\n    this.load(this.resourceId);\n    // register assign changed\n    this.registerChangeInAssignedFunctions();\n  }\n  ngOnDestroy() {\n    if (this.eventSubscriber) {\n      this.eventManager.destroy(this.eventSubscriber);\n    }\n  }\n  load(id) {\n    this.resourceService.find(id).subscribe(resource => {\n      this.resource = resource;\n      // get assigned resources and roles\n      this.getAllAssignedFunctions();\n    });\n  }\n  getAllAssignedFunctions() {\n    this.selectedAllFunctions = false;\n    this.selectedFunctions = [];\n    this.assignedFunctions = [];\n    if (this.resource.res2RessForResourceId) {\n      for (let i = 0; i < this.resource.res2RessForResourceId.length; i++) {\n        const resource = this.resource.res2RessForResourceId[i];\n        if (resource.resourceByParentResId) {\n          this.assignedFunctions.push(resource.resourceByParentResId);\n        }\n      }\n    }\n  }\n  save() {\n    this.isSaving = true;\n    this.subscribeToSaveResponse(this.resourceService.update(this.resource));\n  }\n  selectAllFunctions(event) {\n    this.selectedFunctions = [];\n    this.selectedAllFunctions = event.target.checked;\n    if (this.selectedAllFunctions) {\n      for (let i = 0; i < this.assignedFunctions.length; i++) {\n        this.selectedFunctions.push(this.assignedFunctions[i]);\n      }\n    }\n  }\n  selectOneFunction(event, resource) {\n    if (event.target.checked) {\n      if (this.selectedFunctions.length === 0) {\n        this.selectedFunctions = [];\n      }\n      this.selectedFunctions.push(resource);\n    } else {\n      const index = this.selectedFunctions.indexOf(resource);\n      if (index >= 0) {\n        this.selectedFunctions.splice(index, 1);\n      }\n      if (this.selectedFunctions.length === 0) {\n        this.selectedAllFunctions = false;\n      }\n    }\n  }\n  assignedFunctionsLength() {\n    return this.assignedFunctions.length;\n  }\n  unAssignFunctions() {\n    if (this.selectedFunctions.length > 0) {\n      this.resourceService.unAssignFunctions(this.resourceId, this.selectedFunctions).subscribe(() => {\n        this.eventManager.broadcast({\n          name: 'assignedFunctionListModification',\n          content: 'OK'\n        });\n      });\n    }\n  }\n  registerChangeInAssignedFunctions() {\n    this.eventSubscriber = this.eventManager.subscribe('assignedFunctionListModification', () => this.load(this.resourceId));\n  }\n  subscribeToSaveResponse(result) {\n    result.subscribe(() => this.onSaveSuccess(), res => this.onSaveError(res));\n  }\n  onSaveSuccess() {\n    this.isSaving = false;\n  }\n  onSaveError(error) {\n    this.isSaving = false;\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\n    document.getElementById('appDialogErrorMsg').innerHTML = appDialogErrorMsg;\n    document.getElementById('appDialogErrorMsg').style.display = 'block';\n  }\n  onError(error) {\n    this.alertService.addAlert({\n      type: 'danger',\n      translationKey: error.message\n    });\n  }\n}\nexports.ResourceEditComponent = ResourceEditComponent;\nResourceEditComponent.ɵfac = function ResourceEditComponent_Factory(t) {\n  return new (t || ResourceEditComponent)(i0.ɵɵdirectiveInject(i1.ResourceService), i0.ɵɵdirectiveInject(i2.AlertService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.EventManager));\n};\nResourceEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ResourceEditComponent,\n  selectors: [[\"ic-resource-edit\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"icTranslate\", \"acmAdmin.resource.home.editLabel\"], [\"id\", \"appDialogErrorMsg\", 1, \"alert-dismissible\", \"alert-danger\", \"alert\", 2, \"display\", \"none\"], [1, \"row\"], [1, \"col-sm-12\"], [\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\", 4, \"ngIf\"], [1, \"col-sm-12\", 2, \"margin-top\", \"20px\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-block\", 2, \"padding\", \"1.5% 1.5% 1% 1.5%\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\", 2, \"width\", \"60px\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"scope\", \"col\", 2, \"width\", \"100px\"], [\"scope\", \"col\"], [2, \"margin-top\", \"20px\"], [\"type\", \"button\", \"class\", \"btn btn-danger btn-sm\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary btn-sm\", 3, \"routerLink\", \"replaceUrl\", 4, \"ngIf\"], [\"name\", \"editForm\", \"role\", \"form\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [1, \"rounded-pill\", \"row\"], [\"icTranslate\", \"acmAdmin.resource.application\", \"for\", \"field_application\", 1, \"col-sm-2\", \"form-control-label\"], [\"class\", \"col-sm-4\", 4, \"ngIf\"], [\"icTranslate\", \"acmAdmin.resource.resourceType\", \"for\", \"field_resourceType\", 1, \"col-sm-2\", \"form-control-label\"], [1, \"col-sm-4\"], [\"id\", \"field_resourceType\", \"name\", \"resourceType\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"icTranslate\", \"acmAdmin.resource.resourceName\", \"for\", \"field_resourceName\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"resourceName\", \"id\", \"field_resourceName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"hidden\"], [\"icTranslate\", \"entity.validation.required\", 1, \"form-text\", \"text-danger\", 3, \"hidden\"], [\"icTranslate\", \"acmAdmin.resource.resourcePath\", \"for\", \"field_resourcePath\", 1, \"col-sm-2\", \"form-control-label\"], [\"type\", \"text\", \"name\", \"resourcePath\", \"id\", \"field_resourcePath\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\"], [3, \"icon\"], [\"icTranslate\", \"entity.action.save\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"routerLink\"], [\"icTranslate\", \"entity.action.cancel\"], [\"id\", \"field_application\", \"name\", \"application\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"checked\", \"click\"], [\"colspan\", \"6\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\", \"replaceUrl\"]],\n  template: function ResourceEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ResourceEditComponent_div_0_Template, 68, 6, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.resource);\n    }\n  },\n  dependencies: [i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.NgForOf, i6.NgIf, i7.FaIconComponent, i3.RouterLink, i8.TranslateDirective, i9.AlertComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","ResourceEditComponent","constructor","resourceService","alertService","route","eventManager","resource_model_1","resourceTypes","codeId","codeDesc","ngOnInit","isSaving","subscription","params","subscribe","resourceId","findAllApplication","res","applications","body","onError","load","registerChangeInAssignedFunctions","ngOnDestroy","eventSubscriber","destroy","id","find","resource","getAllAssignedFunctions","selectedAllFunctions","selectedFunctions","assignedFunctions","res2RessForResourceId","i","length","resourceByParentResId","push","save","subscribeToSaveResponse","update","selectAllFunctions","event","target","checked","selectOneFunction","index","indexOf","splice","assignedFunctionsLength","unAssignFunctions","broadcast","name","content","result","onSaveSuccess","onSaveError","error","appDialogErrorMsg","headers","get","document","getElementById","innerHTML","style","display","addAlert","type","translationKey","message","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\resource\\resource-edit.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\resource\\resource-edit.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { AlertService } from 'app/core/util/alert.service';\r\nimport { EventManager } from 'app/core/util/event-manager.service';\r\nimport { Resource } from '../resource/resource.model';\r\nimport { ResourceService } from './resource.service';\r\nimport { Group } from '../group/group.model';\r\nimport { Application } from '../application/application.model';\r\n\r\n@Component({\r\n  selector: 'ic-resource-edit',\r\n  templateUrl: './resource-edit.component.html',\r\n})\r\nexport class ResourceEditComponent implements OnInit, OnDestroy {\r\n  currentAccount: any;\r\n  error: any;\r\n  success: any;\r\n  eventSubscriber?: Subscription;\r\n  links: any;\r\n  totalItems: any;\r\n  queryCount: any;\r\n  itemsPerPage: any;\r\n  page: any;\r\n  predicate!: string;\r\n  reverse: any;\r\n\r\n  isSaving?: boolean;\r\n  resourceId?: any;\r\n  resource: Resource = new Resource();\r\n\r\n  assignedFunctions: Resource[] = [];\r\n  selectedAllFunctions = false;\r\n  selectedFunctions: Resource[] = [];\r\n\r\n  applications: Application[] = [];\r\n  resourceTypes: any[];\r\n\r\n  subscription?: Subscription;\r\n\r\n  constructor(\r\n    private resourceService: ResourceService,\r\n    private alertService: AlertService,\r\n    private route: ActivatedRoute,\r\n    private eventManager: EventManager\r\n  ) {\r\n    this.resourceTypes = [\r\n      { codeId: 'URI', codeDesc: 'URI' },\r\n      { codeId: 'WEBURI', codeDesc: 'WEBURI' },\r\n      { codeId: 'PAGE_RES', codeDesc: 'PAGE_RES' },\r\n    ];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isSaving = false;\r\n    this.subscription = this.route.params.subscribe(params => {\r\n      this.resourceId = params['id'];\r\n    });\r\n\r\n    this.resourceService.findAllApplication().subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.applications = res.body;\r\n      },\r\n      (res: HttpResponse<any>) => this.onError(res.body)\r\n    );\r\n\r\n    // get resource object\r\n    this.load(this.resourceId);\r\n\r\n    // register assign changed\r\n    this.registerChangeInAssignedFunctions();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.eventSubscriber) {\r\n      this.eventManager.destroy(this.eventSubscriber);\r\n    }\r\n  }\r\n\r\n  load(id: any): void {\r\n    this.resourceService.find(id).subscribe(resource => {\r\n      this.resource = resource;\r\n      // get assigned resources and roles\r\n      this.getAllAssignedFunctions();\r\n    });\r\n  }\r\n\r\n  getAllAssignedFunctions(): void {\r\n    this.selectedAllFunctions = false;\r\n    this.selectedFunctions = [];\r\n    this.assignedFunctions = [];\r\n    if (this.resource.res2RessForResourceId) {\r\n      for (let i = 0; i < this.resource.res2RessForResourceId.length; i++) {\r\n        const resource: Resource = this.resource.res2RessForResourceId[i];\r\n        if (resource.resourceByParentResId) {\r\n          this.assignedFunctions.push(resource.resourceByParentResId);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  save(): void {\r\n    this.isSaving = true;\r\n    this.subscribeToSaveResponse(this.resourceService.update(this.resource));\r\n  }\r\n\r\n  selectAllFunctions(event: MouseEvent): void {\r\n    this.selectedFunctions = [];\r\n    this.selectedAllFunctions = (event.target as HTMLInputElement).checked;\r\n    if (this.selectedAllFunctions) {\r\n      for (let i = 0; i < this.assignedFunctions.length; i++) {\r\n        this.selectedFunctions.push(this.assignedFunctions[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectOneFunction(event: MouseEvent, resource: any): void {\r\n    if ((event.target as HTMLInputElement).checked) {\r\n      if (this.selectedFunctions.length === 0) {\r\n        this.selectedFunctions = [];\r\n      }\r\n      this.selectedFunctions.push(resource);\r\n    } else {\r\n      const index = this.selectedFunctions.indexOf(resource);\r\n      if (index >= 0) {\r\n        this.selectedFunctions.splice(index, 1);\r\n      }\r\n      if (this.selectedFunctions.length === 0) {\r\n        this.selectedAllFunctions = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  assignedFunctionsLength(): number {\r\n    return this.assignedFunctions.length;\r\n  }\r\n\r\n  unAssignFunctions(): void {\r\n    if (this.selectedFunctions.length > 0) {\r\n      this.resourceService.unAssignFunctions(this.resourceId, this.selectedFunctions).subscribe(() => {\r\n        this.eventManager.broadcast({ name: 'assignedFunctionListModification', content: 'OK' });\r\n      });\r\n    }\r\n  }\r\n\r\n  registerChangeInAssignedFunctions(): void {\r\n    this.eventSubscriber = this.eventManager.subscribe('assignedFunctionListModification', () => this.load(this.resourceId));\r\n  }\r\n\r\n  private subscribeToSaveResponse(result: Observable<Group>): void {\r\n    result.subscribe(\r\n      () => this.onSaveSuccess(),\r\n      (res: HttpResponse<any>) => this.onSaveError(res)\r\n    );\r\n  }\r\n\r\n  private onSaveSuccess(): void {\r\n    this.isSaving = false;\r\n  }\r\n\r\n  private onSaveError(error: any): void {\r\n    this.isSaving = false;\r\n    const appDialogErrorMsg = error.headers.get('X-nspay2App-alert');\r\n    document.getElementById('appDialogErrorMsg')!.innerHTML = appDialogErrorMsg;\r\n    document.getElementById('appDialogErrorMsg')!.style.display = 'block';\r\n  }\r\n\r\n  private onError(error: any): void {\r\n    this.alertService.addAlert({ type: 'danger', translationKey: error.message });\r\n  }\r\n}\r\n","<div *ngIf=\"resource\">\r\n  <h2>\r\n    <span icTranslate=\"acmAdmin.resource.home.editLabel\">Edit Resource</span>\r\n  </h2>\r\n\r\n  <p style=\"display: none\" id=\"appDialogErrorMsg\" class=\"alert-dismissible alert-danger alert\"></p>\r\n  <ic-alert></ic-alert>\r\n  <br />\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <form *ngIf=\"resource\" name=\"editForm\" role=\"form\"  (ngSubmit)=\"save()\" #editForm=\"ngForm\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">Resource Detail</div>\r\n          <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n            <div class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.resource.application\" for=\"field_application\"\r\n                >Application</label\r\n              >\r\n              <div *ngIf=\"resource.application\" class=\"col-sm-4\">\r\n                <select class=\"form-control\" id=\"field_application\" name=\"application\" [(ngModel)]=\"resource.application\" required>\r\n                  <option [ngValue]=\"null\"></option>\r\n                  <option\r\n                    [ngValue]=\"applicationOption.appId === resource.application?.appId ? resource.application : applicationOption\"\r\n                    *ngFor=\"let applicationOption of applications\"\r\n                  >\r\n                    {{ applicationOption.appName }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.resource.resourceType\" for=\"field_resourceType\"\r\n                >Resource Type</label\r\n              >\r\n              <div class=\"col-sm-4\">\r\n                <select class=\"form-control\" id=\"field_resourceType\" name=\"resourceType\" [(ngModel)]=\"resource.resourceType\" required>\r\n                  <option [ngValue]=\"null\"></option>\r\n                  <option\r\n                    [ngValue]=\"resourceType.codeId === resource.resourceType ? resource.resourceType : resourceType.codeId\"\r\n                    *ngFor=\"let resourceType of resourceTypes\"\r\n                  >\r\n                    {{ resourceType.codeDesc }}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.resource.resourceName\" for=\"field_resourceName\"\r\n                >Resource Name</label\r\n              >\r\n              <div class=\"col-sm-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"resourceName\"\r\n                  id=\"field_resourceName\"\r\n                  [(ngModel)]=\"resource.resourceName\"\r\n                  required\r\n                />\r\n                <div [hidden]=\"!(editForm.controls.resourceName?.dirty && editForm.controls.resourceName?.invalid)\">\r\n                  <small\r\n                    class=\"form-text text-danger\"\r\n                    [hidden]=\"!editForm.controls.resourceName?.errors?.required\"\r\n                    icTranslate=\"entity.validation.required\"\r\n                  >\r\n                    This field is required.\r\n                  </small>\r\n                </div>\r\n              </div>\r\n\r\n              <label class=\"col-sm-2 form-control-label\" icTranslate=\"acmAdmin.resource.resourcePath\" for=\"field_resourcePath\"\r\n                >Resource Path</label\r\n              >\r\n              <div class=\"col-sm-4\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"resourcePath\"\r\n                  id=\"field_resourcePath\"\r\n                  [(ngModel)]=\"resource.resourcePath\"\r\n                  required\r\n                />\r\n                <div [hidden]=\"!(editForm.controls.resourcePath?.dirty && editForm.controls.resourcePath?.invalid)\">\r\n                  <small\r\n                    class=\"form-text text-danger\"\r\n                    [hidden]=\"!editForm.controls.resourcePath?.errors?.required\"\r\n                    icTranslate=\"entity.validation.required\"\r\n                  >\r\n                    This field is required.\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rounded-pill row\">\r\n              <div class=\"col-sm-12\">\r\n<!--                <input type=\"hidden\" id=\"resourceId\" name=\"resourceId\" [(ngModel)]=\"resource.resourceId\" />-->\r\n\r\n                <button type=\"submit\" [disabled]=\"editForm.form.invalid || isSaving\" class=\"btn btn-primary btn-sm\">\r\n                  <fa-icon [icon]=\"'save'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.save\">Save</span>\r\n                </button>\r\n                <button type=\"button\" [routerLink]=\"['../../../../admin/acm/ic-resource']\" class=\"btn btn-secondary btn-sm\">\r\n                  <fa-icon [icon]=\"'ban'\"></fa-icon>&nbsp;<span icTranslate=\"entity.action.cancel\">Cancel</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 20px\" class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">Functions Assigned to Resource</div>\r\n        <div class=\"card-block\" style=\"padding: 1.5% 1.5% 1% 1.5%\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" style=\"width: 60px\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"selectedAllFunctions\" (click)=\"selectAllFunctions($event)\" />\r\n                  </th>\r\n                  <th scope=\"col\" style=\"width: 100px\">S/No.</th>\r\n                  <th scope=\"col\">Function Name</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"assignedFunctionsLength() > 0\">\r\n                <tr *ngFor=\"let func of assignedFunctions; let idx = index\">\r\n                  <td><input type=\"checkbox\" [checked]=\"selectedAllFunctions\" (click)=\"selectOneFunction($event, func)\" /></td>\r\n                  <td>{{ idx + 1 }}</td>\r\n                  <td>{{ func.resourceName }}</td>\r\n                </tr>\r\n              </tbody>\r\n              <tbody *ngIf=\"assignedFunctionsLength() == 0\">\r\n                <tr>\r\n                  <td colspan=\"6\">No Matching Records Found.</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div style=\"margin-top: 20px\">\r\n            <button\r\n              type=\"button\"\r\n              (click)=\"unAssignFunctions()\"\r\n              *ngIf=\"assignedFunctionsLength() > 0\"\r\n              [disabled]=\"!selectedFunctions || selectedFunctions.length === 0\"\r\n              class=\"btn btn-danger btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'times'\"></fa-icon><span>&nbsp;Unassign Functions</span>\r\n            </button>\r\n            <button\r\n              *ngIf=\"resource.application\"\r\n              type=\"button\"\r\n              [routerLink]=\"['../assign/functions', resource.application.appId, resource.resourceId]\"\r\n              [replaceUrl]=\"true\"\r\n              class=\"btn btn-primary btn-sm\"\r\n            >\r\n              <fa-icon [icon]=\"'check'\"></fa-icon><span>&nbsp;Assign Functions</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}