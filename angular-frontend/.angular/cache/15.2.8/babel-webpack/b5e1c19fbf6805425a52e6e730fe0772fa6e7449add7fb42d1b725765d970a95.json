{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NsmanTrainingRecordComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/enquiry/nsman/service/enquiry-nsman.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/payroll/payroll/service/view-payroll-detail.service\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/accordion\"));\nfunction NsmanTrainingRecordComponent_div_0_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 17);\n    i0.ɵɵtext(4, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"th\", 17);\n    i0.ɵɵtext(7, \"Start Datetime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"th\", 17);\n    i0.ɵɵtext(10, \"End Datetime\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementStart(12, \"th\", 17);\n    i0.ɵɵtext(13, \"Valid\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                \");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.record.details.refCode, \" - INSERT CODE DESC\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 4, ctx_r2.record.details.payrollStartDt, \"dd-MM-yyyy (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 7, ctx_r2.record.details.payrollEndDt, \"dd-MM-yyyy (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.record.details.validInd == \"Y\" ? \"Yes\" : \"No\");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                                \");\n    i0.ɵɵelementStart(3, \"th\", 17);\n    i0.ɵɵtext(4, \"Insertion Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                \");\n    i0.ɵɵelementStart(6, \"th\", 17);\n    i0.ɵɵtext(7, \"Payroll Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelementStart(9, \"th\", 17);\n    i0.ɵɵtext(10, \"Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const attd_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\"\\n                                        \", i0.ɵɵpipeBind2(2, 3, attd_r19.trgStartDt, \"dd-MM-yyyy\"), \"\\n                                        (\", i0.ɵɵpipeBind2(3, 6, attd_r19.trgStartDt, \"HHmm\"), \" - \", i0.ɵɵpipeBind2(4, 9, attd_r19.trgEndDt, \"HHmm\"), \")\\n                                    \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"date\");\n    i0.ɵɵpipe(2, \"date\");\n  }\n  if (rf & 2) {\n    const attd_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate2(\"\\n                                        \", i0.ɵɵpipeBind2(1, 2, attd_r19.trgStartDt, \"dd-MM-yyyy (HHmm)\"), \" - \", i0.ɵɵpipeBind2(2, 5, attd_r19.trgEndDt, \"dd-MM-yyyy (HHmm)\"), \"\\n                                    \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                                \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"\\n                                    \");\n    i0.ɵɵtemplate(11, NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_span_11_Template, 5, 12, \"span\", 19);\n    i0.ɵɵtext(12, \"\\n                                    \");\n    i0.ɵɵtemplate(13, NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_ng_template_13_Template, 3, 8, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(15, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const attd_r19 = ctx.$implicit;\n    const _r21 = i0.ɵɵreference(14);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 4, attd_r19.createdDt, \"dd-MM-yyyy (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", attd_r19.trgCode, \" - INSERT DESC INSTEAD\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", attd_r19.sameDayInd == \"Y\")(\"ngIfElse\", _r21);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵtemplate(1, NsmanTrainingRecordComponent_div_0_ng_template_21_tr_1_Template, 17, 7, \"tr\", 18);\n    i0.ɵɵtext(2, \"\\n                        \");\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.record.attendances);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function NsmanTrainingRecordComponent_div_0_ng_template_32_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r26);\n      i0.ɵɵnextContext();\n      const _r5 = i0.ɵɵreference(30);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.exportComputationCSV(_r5));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 22);\n    i0.ɵɵtext(4, \"Rank\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"th\", 22);\n    i0.ɵɵtext(7, \"Pilot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"th\", 22);\n    i0.ɵɵtext(10, \"Vocation Allowance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementStart(12, \"th\", 23);\n    i0.ɵɵtext(13, \"Vocation Allowance Adjustment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"th\", 23);\n    i0.ɵɵtext(16, \"Nullify Vocation Allowance Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementStart(18, \"th\", 22);\n    i0.ɵɵtext(19, \"Service Pay Top-up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_36_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\n                                No\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_36_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext(3);\n    i0.ɵɵtextInterpolate1(\"\\n                                Yes - \", ctx_r29.record.computation.combatAllwTopUpDesc, \"\\n                            \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_36_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                                \");\n    i0.ɵɵelementStart(2, \"a\", 27);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const civIncLoss_r32 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", civIncLoss_r32.claimRef, \" \", civIncLoss_r32.civIncLossTopUpAmt, \"\");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_36_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                                \");\n    i0.ɵɵelementStart(2, \"a\", 27);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const civIncLoss_r33 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", civIncLoss_r33.claimRef, \" \", civIncLoss_r33.civIncLossAmt, \"\");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20, \"\\n                            \");\n    i0.ɵɵtemplate(21, NsmanTrainingRecordComponent_div_0_ng_template_36_span_21_Template, 2, 0, \"span\", 19);\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵtemplate(23, NsmanTrainingRecordComponent_div_0_ng_template_36_ng_template_23_Template, 1, 1, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(25, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                        \");\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n                    \");\n    i0.ɵɵelementStart(32, \"tr\");\n    i0.ɵɵtext(33, \"\\n                        \");\n    i0.ɵɵelementStart(34, \"th\", 25);\n    i0.ɵɵtext(35, \"Civilian Income Loss Top-up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                        \");\n    i0.ɵɵelementStart(37, \"th\", 25);\n    i0.ɵɵtext(38, \"Civilian Income Loss\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n                    \");\n    i0.ɵɵelementStart(41, \"tr\");\n    i0.ɵɵtext(42, \"\\n                        \");\n    i0.ɵɵelementStart(43, \"td\", 26);\n    i0.ɵɵtext(44, \"\\n                            \");\n    i0.ɵɵtemplate(45, NsmanTrainingRecordComponent_div_0_ng_template_36_div_45_Template, 5, 2, \"div\", 18);\n    i0.ɵɵtext(46, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n                        \");\n    i0.ɵɵelementStart(48, \"td\", 26);\n    i0.ɵɵtext(49, \"\\n                            \");\n    i0.ɵɵtemplate(50, NsmanTrainingRecordComponent_div_0_ng_template_36_div_50_Template, 5, 2, \"div\", 18);\n    i0.ɵɵtext(51, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n                    \");\n    i0.ɵɵelementStart(54, \"tr\");\n    i0.ɵɵtext(55, \"\\n                        \");\n    i0.ɵɵelementStart(56, \"th\", 25);\n    i0.ɵɵtext(57, \"Pro-rated NS Base Rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n                        \");\n    i0.ɵɵelementStart(59, \"th\", 25);\n    i0.ɵɵtext(60, \"NS Top-up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \"\\n                    \");\n    i0.ɵɵelementStart(63, \"tr\");\n    i0.ɵɵtext(64, \"\\n                        \");\n    i0.ɵɵelementStart(65, \"td\", 26);\n    i0.ɵɵtext(66);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n                        \");\n    i0.ɵɵelementStart(68, \"td\", 26);\n    i0.ɵɵtext(69);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(71, \"\\n                \");\n  }\n  if (rf & 2) {\n    const _r28 = i0.ɵɵreference(24);\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(5, 12, ctx_r8.record.computation.rankPayAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(9, 16, ctx_r8.record.computation.pilotAllwAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(13, 20, ctx_r8.record.computation.combatAllwAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(17, 24, ctx_r8.record.computation.combatAllwTopUpAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.record.computation.combatAllwEligibilityInd == \"N\")(\"ngIfElse\", _r28);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\\n                            \", i0.ɵɵpipeBind3(29, 28, ctx_r8.record.computation.servicePayTopUpAmt, \"SGD\", \"\"), \"\\n                        \");\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.record.computation.civIncomeLoss);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.record.computation.civIncomeLoss);\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r8.record.computation.baseRateComputationString, \" = \", ctx_r8.record.computation.proratedBaseRateAmt, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r8.record.computation.nsTopUpAmt);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function NsmanTrainingRecordComponent_div_0_ng_template_45_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r35);\n      i0.ɵɵnextContext();\n      const _r9 = i0.ɵɵreference(43);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.exportRelatedPaydayCSV(_r9));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 28);\n    i0.ɵɵtext(4, \"Payday\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"th\", 22);\n    i0.ɵɵtext(7, \"Payroll Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"th\", 29);\n    i0.ɵɵtext(10, \"Payroll Period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementStart(12, \"th\", 28);\n    i0.ɵɵtext(13, \"Svc Pay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"th\", 28);\n    i0.ɵɵtext(16, \"MUP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementStart(18, \"th\", 28);\n    i0.ɵɵtext(19, \"NS Top-up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementStart(21, \"th\", 28);\n    i0.ɵɵtext(22, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                        \");\n    i0.ɵɵelementStart(24, \"th\", 28);\n    i0.ɵɵtext(25, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_49_tr_1_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r40 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r40.record.relatedPayday.payday);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_49_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"td\", 30);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵtemplate(4, NsmanTrainingRecordComponent_div_0_ng_template_49_tr_1_span_4_Template, 2, 1, \"span\", 0);\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementStart(10, \"td\", 30);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"td\", 30);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementStart(19, \"td\", 30);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                        \");\n    i0.ɵɵelementStart(23, \"td\", 30);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                        \");\n    i0.ɵɵelementStart(27, \"td\", 30);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                        \");\n    i0.ɵɵelementStart(31, \"td\", 30);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const detail_r38 = ctx.$implicit;\n    const i_r39 = ctx.index;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", i_r39 == 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", detail_r38.desc, \" - INSERT CODE DESC\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\\n                            \", i0.ɵɵpipeBind2(12, 9, detail_r38.payrollStartDt, \"dd-MM-yyyy (HHmm)\"), \" to \", i0.ɵɵpipeBind2(13, 12, detail_r38.payrollEndDt, \"dd-MM-yyyy (HHmm)\"), \"\\n                        \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(17, 15, detail_r38.servicePayAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(21, 19, detail_r38.mupAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(25, 23, detail_r38.nsTopUpAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(29, 27, detail_r38.payableAmt, \"SGD\", \"\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(detail_r38.status);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_49_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelement(2, \"td\", 30);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementStart(4, \"td\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelement(7, \"td\", 30);\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelement(9, \"td\", 30);\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelement(11, \"td\", 30);\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementStart(13, \"td\", 30);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                        \");\n    i0.ɵɵelement(16, \"td\", 30);\n    i0.ɵɵtext(17, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const payTo_r41 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(payTo_r41.payTo);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(payTo_r41.payAmt);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵtemplate(1, NsmanTrainingRecordComponent_div_0_ng_template_49_tr_1_Template, 34, 31, \"tr\", 18);\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵelementStart(3, \"tr\");\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelement(5, \"td\", 30);\n    i0.ɵɵtext(6, \"\\n                        \");\n    i0.ɵɵelement(7, \"td\", 30);\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelement(9, \"td\", 30);\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelement(11, \"td\", 30);\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelement(13, \"td\", 30);\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"td\", 30)(16, \"b\");\n    i0.ɵɵtext(17, \"Gross Amount\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementStart(19, \"td\", 30);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelement(22, \"td\", 30);\n    i0.ɵɵtext(23, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                    \");\n    i0.ɵɵelementStart(25, \"tr\");\n    i0.ɵɵtext(26, \"\\n                        \");\n    i0.ɵɵelement(27, \"td\", 30);\n    i0.ɵɵtext(28, \"\\n                        \");\n    i0.ɵɵelementStart(29, \"td\", 30)(30, \"b\");\n    i0.ɵɵtext(31, \"Payroll Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(32, \"\\n                        \");\n    i0.ɵɵelement(33, \"td\", 30);\n    i0.ɵɵtext(34, \"\\n                        \");\n    i0.ɵɵelement(35, \"td\", 30);\n    i0.ɵɵtext(36, \"\\n                        \");\n    i0.ɵɵelement(37, \"td\", 30);\n    i0.ɵɵtext(38, \"\\n                        \");\n    i0.ɵɵelement(39, \"td\", 30);\n    i0.ɵɵtext(40, \"\\n                        \");\n    i0.ɵɵelement(41, \"td\", 30);\n    i0.ɵɵtext(42, \"\\n                        \");\n    i0.ɵɵelement(43, \"td\", 30);\n    i0.ɵɵtext(44, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                    \");\n    i0.ɵɵtemplate(46, NsmanTrainingRecordComponent_div_0_ng_template_49_tr_46_Template, 18, 2, \"tr\", 18);\n    i0.ɵɵtext(47, \"\\n                \");\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.record.relatedPayday.paydayDetails);\n    i0.ɵɵadvance(19);\n    i0.ɵɵtextInterpolate(ctx_r12.record.relatedPayday.grossPayment);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.record.relatedPayday.paydayPayTo);\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function NsmanTrainingRecordComponent_div_0_ng_template_58_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r43);\n      i0.ɵɵnextContext();\n      const _r13 = i0.ɵɵreference(56);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.exportRemarksCSV(_r13));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"th\", 32);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"th\", 33);\n    i0.ɵɵtext(7, \"\\n                            Remarks\\n                            \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 34);\n    i0.ɵɵtext(9, \"\\n                            \");\n    i0.ɵɵelement(10, \"p-columnFilter\", 35);\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementStart(13, \"th\", 36);\n    i0.ɵɵtext(14, \"\\n                            Created By\\n                            \");\n    i0.ɵɵelement(15, \"p-sortIcon\", 37);\n    i0.ɵɵtext(16, \"\\n                            \");\n    i0.ɵɵelement(17, \"p-columnFilter\", 38);\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                \");\n  }\n  if (rf & 2) {\n    const record_r44 = ctx.$implicit;\n    const i_r45 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r45 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r44.remark);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\n                            \", record_r44.remarkBy, \"\\n                            \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\n                            \", i0.ɵɵpipeBind2(13, 4, record_r44.remarkDt, \"dd-MM-yyyy (HHmm)\"), \"\\n                        \");\n  }\n}\nfunction NsmanTrainingRecordComponent_div_0_ng_template_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\", 39);\n    i0.ɵɵtext(4, \"No records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n  }\n}\nconst _c0 = function () {\n  return [0];\n};\nconst _c1 = function () {\n  return [10, 25, 50];\n};\nfunction NsmanTrainingRecordComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"p-accordion\", 1);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"p-accordionTab\", 2);\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"p-table\", 3);\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵtemplate(8, NsmanTrainingRecordComponent_div_0_ng_template_8_Template, 16, 0, \"ng-template\", 4);\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵtemplate(10, NsmanTrainingRecordComponent_div_0_ng_template_10_Template, 18, 10, \"ng-template\", 5);\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelementStart(13, \"p-accordion\", 6);\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"p-accordionTab\", 7);\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"p-table\", 3);\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵtemplate(19, NsmanTrainingRecordComponent_div_0_ng_template_19_Template, 13, 0, \"ng-template\", 4);\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵtemplate(21, NsmanTrainingRecordComponent_div_0_ng_template_21_Template, 3, 1, \"ng-template\", 5);\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                    - TO ADD AMENDMENT HISTORY BUTTON -\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n        \");\n    i0.ɵɵelementStart(27, \"p-accordionTab\", 8);\n    i0.ɵɵtext(28, \"\\n            \");\n    i0.ɵɵelementStart(29, \"p-table\", 3, 9);\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵtemplate(32, NsmanTrainingRecordComponent_div_0_ng_template_32_Template, 3, 0, \"ng-template\", 10);\n    i0.ɵɵtext(33, \"\\n                \");\n    i0.ɵɵtemplate(34, NsmanTrainingRecordComponent_div_0_ng_template_34_Template, 22, 0, \"ng-template\", 4);\n    i0.ɵɵtext(35, \"\\n                \");\n    i0.ɵɵtemplate(36, NsmanTrainingRecordComponent_div_0_ng_template_36_Template, 72, 32, \"ng-template\", 5);\n    i0.ɵɵtext(37, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n        \");\n    i0.ɵɵelementStart(40, \"p-accordionTab\", 11);\n    i0.ɵɵtext(41, \"\\n            \");\n    i0.ɵɵelementStart(42, \"p-table\", 3, 12);\n    i0.ɵɵtext(44, \"\\n                \");\n    i0.ɵɵtemplate(45, NsmanTrainingRecordComponent_div_0_ng_template_45_Template, 3, 0, \"ng-template\", 10);\n    i0.ɵɵtext(46, \"\\n                \");\n    i0.ɵɵtemplate(47, NsmanTrainingRecordComponent_div_0_ng_template_47_Template, 28, 0, \"ng-template\", 4);\n    i0.ɵɵtext(48, \"\\n                \");\n    i0.ɵɵtemplate(49, NsmanTrainingRecordComponent_div_0_ng_template_49_Template, 48, 3, \"ng-template\", 5);\n    i0.ɵɵtext(50, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n        \");\n    i0.ɵɵelementStart(53, \"p-accordionTab\", 13);\n    i0.ɵɵtext(54, \"\\n            \");\n    i0.ɵɵelementStart(55, \"p-table\", 14, 15);\n    i0.ɵɵlistener(\"onLazyLoad\", function NsmanTrainingRecordComponent_div_0_Template_p_table_onLazyLoad_55_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.loadRemarks($event));\n    })(\"onPage\", function NsmanTrainingRecordComponent_div_0_Template_p_table_onPage_55_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.onRemarksPage($event));\n    });\n    i0.ɵɵtext(57, \"\\n                \");\n    i0.ɵɵtemplate(58, NsmanTrainingRecordComponent_div_0_ng_template_58_Template, 3, 0, \"ng-template\", 10);\n    i0.ɵɵtext(59, \"\\n                \");\n    i0.ɵɵtemplate(60, NsmanTrainingRecordComponent_div_0_ng_template_60_Template, 21, 0, \"ng-template\", 4);\n    i0.ɵɵtext(61, \"\\n                \");\n    i0.ɵɵtemplate(62, NsmanTrainingRecordComponent_div_0_ng_template_62_Template, 16, 7, \"ng-template\", 5);\n    i0.ɵɵtext(63, \"\\n                \");\n    i0.ɵɵtemplate(64, NsmanTrainingRecordComponent_div_0_ng_template_64_Template, 7, 0, \"ng-template\", 16);\n    i0.ɵɵtext(65, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(68, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"multiple\", true)(\"activeIndex\", i0.ɵɵpureFunction0(15, _c0));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.placeholder);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"activeIndex\", 0);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.placeholder);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"value\", ctx_r0.placeholder);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"value\", ctx_r0.placeholder);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"value\", ctx_r0.remarks)(\"totalRecords\", ctx_r0.totalRecords)(\"loading\", ctx_r0.loading)(\"lazy\", true)(\"paginator\", true)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(16, _c1))(\"showCurrentPageReport\", true);\n  }\n}\nclass NsmanTrainingRecordComponent {\n  constructor(ns2HttpService, dateUtilsService, exportUtilsService, enquiryNSmanService, payrollDetailService) {\n    this.ns2HttpService = ns2HttpService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.enquiryNSmanService = enquiryNSmanService;\n    this.payrollDetailService = payrollDetailService;\n    this.placeholder = [{\n      pTableNeedsThisToDisplayData: \"\"\n    }];\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n    this.remarks = [];\n  }\n  ngOnInit() {\n    this.retrieveTrainingPayroll();\n  }\n  retrieveTrainingPayroll() {\n    this.enquiryNSmanService.getTrainingPayrollRecord(this.payrollId).subscribe(resp => {\n      if (resp.body?.data) {\n        this.record = resp.body.data;\n        console.log(\"Training Payroll Record\", this.record);\n      }\n    });\n  }\n  exportComputationCSV(dataTable) {\n    if (this.record != null) {\n      const computation = this.record.computation;\n      const civIncLoss = [];\n      const civIncLossTopUp = [];\n      computation.civIncomeLoss.forEach(x => {\n        civIncLoss.push(x.claimRef.concat(' ', String(x.civIncLossAmt)));\n        civIncLossTopUp.push(x.claimRef.concat(' ', String(x.civIncLossTopUpAmt)));\n      });\n      const columns = [{\n        field: 'rank',\n        header: 'Rank',\n        index: 0\n      }, {\n        field: 'pilot',\n        header: 'Pilot',\n        index: 1\n      }, {\n        field: 'vocAllw',\n        header: 'Vocation Allowance',\n        index: 2\n      }, {\n        field: 'vocAllwAdj',\n        header: 'Vocation Allowance Adjustment',\n        index: 3\n      }, {\n        field: 'nullifyVocAllwStatus',\n        header: 'Nullify Vocation Allowance Status',\n        index: 4\n      }, {\n        field: 'servicePayTopUp',\n        header: 'Service Pay Top-up',\n        index: 5\n      }, {\n        field: 'civIncLossTopUp',\n        header: 'Civilian Income Loss Top-up',\n        index: 6\n      }, {\n        field: 'civIncLoss',\n        header: 'Civilian Income Loss',\n        index: 7\n      }, {\n        field: 'proratedBaseRate',\n        header: 'Pro-rated NS Base Rate',\n        index: 8\n      }, {\n        field: 'nsTopUp',\n        header: 'NS Top-up',\n        index: 9\n      }];\n      const dtoList = [];\n      const dto = {\n        rank: computation.rankPayAmt,\n        pilot: computation.pilotAllwAmt,\n        vocAllw: computation.combatAllwAmt,\n        vocAllwAdj: computation.combatAllwTopUpAmt,\n        nullifyVocAllwStatus: computation.combatAllwEligibilityInd === 'N' ? 'No' : `Yes - ${computation.combatAllwTopUpDesc}`,\n        servicePayTopUp: computation.servicePayTopUpAmt,\n        civIncLossTopUp: civIncLossTopUp.toString(),\n        civIncLoss: civIncLoss.toString(),\n        proratedBaseRate: `${computation.baseRateComputationString} = ${String(computation.proratedBaseRateAmt)}`,\n        nsTopUp: computation.nsTopUpAmt\n      };\n      dtoList.push(dto);\n      this.exportUtilsService.exportCSV(dataTable, dtoList, dtoList.length, columns, \"Training Payroll Computation (Attendance)\");\n    }\n  }\n  exportRelatedPaydayCSV(dataTable) {\n    if (this.record != null) {\n      const columns = [{\n        field: 'payday',\n        header: 'Payday',\n        index: 0\n      }, {\n        field: 'payrollDesc',\n        header: 'Payroll Description',\n        index: 1\n      }, {\n        field: 'payrollPeriod',\n        header: 'Payroll Period',\n        index: 2\n      }, {\n        field: 'svcPay',\n        header: 'Svc Pay',\n        index: 3\n      }, {\n        field: 'mup',\n        header: 'MUP',\n        index: 4\n      }, {\n        field: 'nsTopUp',\n        header: 'NS Top-up',\n        index: 5\n      }, {\n        field: 'amount',\n        header: 'Amount',\n        index: 6\n      }, {\n        field: 'status',\n        header: 'Status',\n        index: 7\n      }];\n      const dtoList = [];\n      let index = 0;\n      this.record.relatedPayday.paydayDetails.forEach(details => {\n        const dtoDetails = {\n          payday: index === 0 ? this.record.relatedPayday.payday : '',\n          payrollDesc: details.desc,\n          payrollPeriod: `${String(this.dateUtilsService.formatStrDate(details.payrollStartDt, \"DD-MM-YYYY (HHmm)\"))} to ${String(this.dateUtilsService.formatStrDate(details.payrollEndDt, \"DD-MM-YYYY (HHmm)\"))}`,\n          svcPay: details.servicePayAmt,\n          mup: details.mupAmt,\n          nsTopUp: details.nsTopUpAmt,\n          amount: details.payableAmt,\n          status: details.status\n        };\n        dtoList.push(dtoDetails);\n        index += 1;\n      });\n      const dtoGrossAmount = {\n        nsTopUp: 'Gross Amount',\n        amount: this.record.relatedPayday.grossPayment\n      };\n      dtoList.push(dtoGrossAmount);\n      const dtoPayrollDetails = {\n        payrollDesc: 'Payroll Details'\n      };\n      dtoList.push(dtoPayrollDetails);\n      this.record.relatedPayday.paydayPayTo.forEach(payTo => {\n        const dtoPayTo = {\n          payrollDesc: payTo.payTo,\n          amount: payTo.payAmt\n        };\n        dtoList.push(dtoPayTo);\n      });\n      this.exportUtilsService.exportCSV(dataTable, dtoList, dtoList.length, columns, \"Training Payroll Related Payday\");\n    }\n  }\n  loadRemarks(event) {\n    setTimeout(() => {\n      this.loading = true;\n      this.lazyLoadEvent = event;\n      const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, this.pageData, this.pageSize);\n      this.payrollDetailService.getRemarksByID(this.payrollId, options).subscribe(resp => {\n        if (resp.body?.data?.content) {\n          this.remarks = resp.body.data.content;\n          this.totalRecords = resp.body.data.totalElements;\n        } else {\n          this.remarks = [];\n          this.totalRecords = 0;\n        }\n        this.loading = false;\n      });\n    }, 0);\n  }\n  onRemarksPage(event) {\n    this.pageSize = event.rows;\n    this.pageData.currentPage = event.first / event.rows;\n  }\n  exportRemarksCSV(dataTable) {\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\n    this.payrollDetailService.getRemarksByID(this.payrollId, options).subscribe(resp => {\n      if (resp.body?.data?.content) {\n        const data = resp.body?.data?.content;\n        const columns = [{\n          field: 'sn',\n          header: 'SN',\n          index: 0\n        }, {\n          field: 'remarks',\n          header: 'Remarks',\n          index: 1\n        }, {\n          field: 'createdBy',\n          header: 'Created By',\n          index: 2\n        }];\n        const dtoList = [];\n        console.log(\"data\", data);\n        data.forEach((record, index) => {\n          const dto = {\n            sn: index + 1,\n            remarks: record.remark,\n            createdBy: `${record.remarkBy} | ${String(this.dateUtilsService.formatStrDate(record.remarkDt, \"DD-MM-YYYY (HHmm)\"))}`\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, resp.body.data.totalElements, columns, \"Training Payroll Remarks\");\n      }\n    }, error => {\n      console.log(error.error?.error_desc);\n      this.loading = false;\n    });\n  }\n}\nexports.NsmanTrainingRecordComponent = NsmanTrainingRecordComponent;\nNsmanTrainingRecordComponent.ɵfac = function NsmanTrainingRecordComponent_Factory(t) {\n  return new (t || NsmanTrainingRecordComponent)(i0.ɵɵdirectiveInject(i1.Ns2HttpService), i0.ɵɵdirectiveInject(i2.DateUtilsService), i0.ɵɵdirectiveInject(i3.ExportUtilsService), i0.ɵɵdirectiveInject(i4.EnquiryNSmanService), i0.ɵɵdirectiveInject(i5.viewPayrollDetailService));\n};\nNsmanTrainingRecordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NsmanTrainingRecordComponent,\n  selectors: [[\"n2-nsman-training-record\"]],\n  inputs: {\n    payrollId: \"payrollId\"\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"multiple\", \"activeIndex\"], [\"header\", \"Payroll Details\"], [\"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [3, \"activeIndex\"], [\"header\", \"Oasis Attendance\"], [\"header\", \"Payroll Computation (Attendance)\"], [\"computationTable\", \"\"], [\"pTemplate\", \"caption\"], [\"header\", \"Related Payday\"], [\"relatedPaydayTable\", \"\"], [\"header\", \"Remark\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"totalRecords\", \"loading\", \"lazy\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\", \"onLazyLoad\", \"onPage\"], [\"remarksTable\", \"\"], [\"pTemplate\", \"emptymessage\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\", \"ngIfElse\"], [\"multiDay\", \"\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", 2, \"width\", \"15%\"], [\"scope\", \"col\", 2, \"width\", \"20%\"], [\"combatAllwIneligible\", \"\"], [\"scope\", \"col\", \"colspan\", \"3\", 1, \"custom-column-header\"], [\"colspan\", \"3\"], [\"href\", \"\"], [\"scope\", \"col\", 2, \"width\", \"10%\"], [\"scope\", \"col\", 2, \"width\", \"25%\"], [1, \"borderless-data\"], [\"colspan\", \"2\", 1, \"borderless-data\"], [\"scope\", \"col\", 2, \"width\", \"5%\"], [\"scope\", \"col\", \"pSortableColumn\", \"remark\", 2, \"width\", \"75%\"], [\"field\", \"remark\"], [\"type\", \"text\", \"field\", \"remark\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"createdBy\", 2, \"width\", \"20%\"], [\"field\", \"createdBy\"], [\"type\", \"date\", \"field\", \"createdDt\", \"display\", \"menu\"], [\"colspan\", \"12\"]],\n  template: function NsmanTrainingRecordComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NsmanTrainingRecordComponent_div_0_Template, 69, 17, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.record != null);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i7.PrimeTemplate, i8.ButtonDirective, i9.Tooltip, i10.Table, i10.SortableColumn, i10.SortIcon, i10.ColumnFilter, i11.Accordion, i11.AccordionTab, i6.CurrencyPipe, i6.DatePipe],\n  styles: [\"[_nghost-%COMP%]     .custom-column-header {\\n  background: var(--surface-b) !important;\\n  border: 1px solid #dee2e6;\\n  padding: 1rem 1rem;\\n  font-weight: 600;\\n}\\n\\n[_nghost-%COMP%]     .p-datatable .p-datatable-tbody .borderless-data {\\n  border-width: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5zbWFuLXRyYWluaW5nLXJlY29yZC5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxcZW5xdWlyeVxcbnNtYW5cXHNlYXJjaFxcbnNtYW4tdGFic1xcdHJhaW5pbmctdGFiXFx0cmFpbmluZy1yZWNvcmRcXG5zbWFuLXRyYWluaW5nLXJlY29yZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0oiLCJmaWxlIjoibnNtYW4tdHJhaW5pbmctcmVjb3JkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tY29sdW1uLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gICAgcGFkZGluZzogMXJlbSAxcmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWRhdGF0YWJsZSAucC1kYXRhdGFibGUtdGJvZHkgLmJvcmRlcmxlc3MtZGF0YSB7XHJcbiAgICBib3JkZXItd2lkdGg6IDA7XHJcbn1cclxuIiwiOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tY29sdW1uLWhlYWRlciB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcbiAgcGFkZGluZzogMXJlbSAxcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtZGF0YXRhYmxlIC5wLWRhdGF0YWJsZS10Ym9keSAuYm9yZGVybGVzcy1kYXRhIHtcbiAgYm9yZGVyLXdpZHRoOiAwO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvZW5xdWlyeS9uc21hbi9zZWFyY2gvbnNtYW4tdGFicy90cmFpbmluZy10YWIvdHJhaW5pbmctcmVjb3JkL25zbWFuLXRyYWluaW5nLXJlY29yZC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL3Byb2plY3RzJTIwMi9uc3BheWlpYXBwL3NyYy9tYWluL3dlYmFwcC9hcHAvZW5xdWlyeS9uc21hbi9zZWFyY2gvbnNtYW4tdGFicy90cmFpbmluZy10YWIvdHJhaW5pbmctcmVjb3JkL25zbWFuLXRyYWluaW5nLXJlY29yZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7QURDQSw0MENBQTQwQyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLWNvbHVtbi1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcclxuICAgIHBhZGRpbmc6IDFyZW0gMXJlbTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1kYXRhdGFibGUgLnAtZGF0YXRhYmxlLXRib2R5IC5ib3JkZXJsZXNzLWRhdGEge1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwO1xyXG59XHJcbiIsIjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLWNvbHVtbi1oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gIHBhZGRpbmc6IDFyZW0gMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWRhdGF0YWJsZSAucC1kYXRhdGFibGUtdGJvZHkgLmJvcmRlcmxlc3MtZGF0YSB7XG4gIGJvcmRlci13aWR0aDogMDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","NsmanTrainingRecordComponent","constructor","ns2HttpService","dateUtilsService","exportUtilsService","enquiryNSmanService","payrollDetailService","pTableNeedsThisToDisplayData","currentPage","ngOnInit","retrieveTrainingPayroll","getTrainingPayrollRecord","payrollId","subscribe","resp","body","data","record","console","log","exportComputationCSV","dataTable","computation","civIncLoss","civIncLossTopUp","civIncomeLoss","forEach","x","push","claimRef","concat","String","civIncLossAmt","civIncLossTopUpAmt","columns","field","header","index","dtoList","dto","rank","rankPayAmt","pilot","pilotAllwAmt","vocAllw","combatAllwAmt","vocAllwAdj","combatAllwTopUpAmt","nullifyVocAllwStatus","combatAllwEligibilityInd","combatAllwTopUpDesc","servicePayTopUp","servicePayTopUpAmt","toString","proratedBaseRate","baseRateComputationString","proratedBaseRateAmt","nsTopUp","nsTopUpAmt","exportCSV","length","exportRelatedPaydayCSV","relatedPayday","paydayDetails","details","dtoDetails","payday","payrollDesc","desc","payrollPeriod","formatStrDate","payrollStartDt","payrollEndDt","svcPay","servicePayAmt","mup","mupAmt","amount","payableAmt","status","dtoGrossAmount","grossPayment","dtoPayrollDetails","paydayPayTo","payTo","dtoPayTo","payAmt","loadRemarks","event","setTimeout","loading","lazyLoadEvent","options","convertLazyEvent","pageData","pageSize","getRemarksByID","content","remarks","totalRecords","totalElements","onRemarksPage","rows","first","exportRemarksCSV","sn","remark","createdBy","remarkBy","remarkDt","error","error_desc","exports","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\search\\nsman-tabs\\training-tab\\training-record\\nsman-training-record.component.html","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\search\\nsman-tabs\\training-tab\\training-record\\nsman-training-record.component.ts"],"sourcesContent":["<div *ngIf=\"record != null\">\r\n    <p-accordion [multiple]=\"true\" [activeIndex]=\"[0]\">\r\n        <p-accordionTab header=\"Payroll Details\">\r\n            <p-table [value]=\"placeholder\" styleClass=\"p-datatable-gridlines\">\r\n                <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\">Description</th>\r\n                        <th scope=\"col\">Start Datetime</th>\r\n                        <th scope=\"col\">End Datetime</th>\r\n                        <th scope=\"col\">Valid</th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\">\r\n                    <tr>\r\n                        <td>{{ record.details.refCode }} - INSERT CODE DESC</td>\r\n                        <td>{{ record.details.payrollStartDt | date:'dd-MM-yyyy (HHmm)' }}</td>\r\n                        <td>{{ record.details.payrollEndDt | date:'dd-MM-yyyy (HHmm)' }}</td>\r\n                        <td>{{ record.details.validInd == 'Y' ? 'Yes' : 'No' }}</td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n            <p-accordion [activeIndex]=\"0\">\r\n                <p-accordionTab header=\"Oasis Attendance\">\r\n                    <p-table [value]=\"placeholder\" styleClass=\"p-datatable-gridlines\">\r\n                        <ng-template pTemplate=\"header\">\r\n                            <tr>\r\n                                <th scope=\"col\">Insertion Date</th>\r\n                                <th scope=\"col\">Payroll Description</th>\r\n                                <th scope=\"col\">Period</th>\r\n                            </tr>\r\n                        </ng-template>\r\n                        <ng-template pTemplate=\"body\">\r\n                            <tr *ngFor=\"let attd of record.attendances\">\r\n                                <td>{{ attd.createdDt | date:'dd-MM-yyyy (HHmm)' }}</td>\r\n                                <td>{{ attd.trgCode }} - INSERT DESC INSTEAD</td>\r\n                                <td>\r\n                                    <span *ngIf=\"attd.sameDayInd == 'Y'; else multiDay\">\r\n                                        {{ attd.trgStartDt | date:'dd-MM-yyyy' }}\r\n                                        ({{ attd.trgStartDt | date:'HHmm' }} - {{ attd.trgEndDt | date:'HHmm' }})\r\n                                    </span>\r\n                                    <ng-template #multiDay>\r\n                                        {{ attd.trgStartDt | date:'dd-MM-yyyy (HHmm)' }} - {{ attd.trgEndDt | date:'dd-MM-yyyy (HHmm)' }}\r\n                                    </ng-template>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-template>\r\n                    </p-table>\r\n                    - TO ADD AMENDMENT HISTORY BUTTON -\r\n                </p-accordionTab>\r\n            </p-accordion>\r\n        </p-accordionTab>\r\n        <p-accordionTab header=\"Payroll Computation (Attendance)\">\r\n            <p-table #computationTable [value]=\"placeholder\" styleClass=\"p-datatable-gridlines\">\r\n                <ng-template pTemplate=\"caption\">\r\n                    <button type=\"button\" pButton pRipple icon=\"pi pi-file\" (click)=\"exportComputationCSV(computationTable)\" pTooltip=\"Export as CSV\"\r\n                        tooltipPosition=\"bottom\"></button>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\" style=\"width: 15%\">Rank</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Pilot</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Vocation Allowance</th>\r\n                        <th scope=\"col\" style=\"width: 20%\">Vocation Allowance Adjustment</th>\r\n                        <th scope=\"col\" style=\"width: 20%\">Nullify Vocation Allowance Status</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Service Pay Top-up</th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\">\r\n                    <tr>\r\n                        <td>{{ record.computation.rankPayAmt | currency:'SGD' : '' }}</td>\r\n                        <td>{{ record.computation.pilotAllwAmt | currency:'SGD' : '' }}</td>\r\n                        <td>{{ record.computation.combatAllwAmt | currency:'SGD' : '' }}</td>\r\n                        <td>{{ record.computation.combatAllwTopUpAmt | currency:'SGD' : '' }}</td>\r\n                        <td>\r\n                            <span *ngIf=\"record.computation.combatAllwEligibilityInd == 'N'; else combatAllwIneligible\">\r\n                                No\r\n                            </span>\r\n                            <ng-template #combatAllwIneligible>\r\n                                Yes - {{ record.computation.combatAllwTopUpDesc }}\r\n                            </ng-template>\r\n                        </td>\r\n                        <td>\r\n                            {{ record.computation.servicePayTopUpAmt | currency:'SGD' : '' }}\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th scope=\"col\" colspan=\"3\" class=\"custom-column-header\">Civilian Income Loss Top-up</th>\r\n                        <th scope=\"col\" colspan=\"3\" class=\"custom-column-header\">Civilian Income Loss</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"3\">\r\n                            <div *ngFor=\"let civIncLoss of record.computation.civIncomeLoss\">\r\n                                <a href=\"\">{{ civIncLoss.claimRef }} {{ civIncLoss.civIncLossTopUpAmt }}</a>\r\n                            </div>\r\n                        </td>\r\n                        <td colspan=\"3\">\r\n                            <div *ngFor=\"let civIncLoss of record.computation.civIncomeLoss\">\r\n                                <a href=\"\">{{ civIncLoss.claimRef }} {{ civIncLoss.civIncLossAmt }}</a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th scope=\"col\" colspan=\"3\" class=\"custom-column-header\">Pro-rated NS Base Rate</th>\r\n                        <th scope=\"col\" colspan=\"3\" class=\"custom-column-header\">NS Top-up</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"3\">{{ record.computation.baseRateComputationString }} = {{ record.computation.proratedBaseRateAmt }}</td>\r\n                        <td colspan=\"3\">{{ record.computation.nsTopUpAmt }}</td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n        </p-accordionTab>\r\n        <p-accordionTab header=\"Related Payday\">\r\n            <p-table #relatedPaydayTable [value]=\"placeholder\" styleClass=\"p-datatable-gridlines\">\r\n                <ng-template pTemplate=\"caption\">\r\n                    <button type=\"button\" pButton pRipple icon=\"pi pi-file\" (click)=\"exportRelatedPaydayCSV(relatedPaydayTable)\"\r\n                        pTooltip=\"Export as CSV\" tooltipPosition=\"bottom\"></button>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\" style=\"width: 10%\">Payday</th>\r\n                        <th scope=\"col\" style=\"width: 15%\">Payroll Description</th>\r\n                        <th scope=\"col\" style=\"width: 25%\">Payroll Period</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">Svc Pay</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">MUP</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">NS Top-up</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">Amount</th>\r\n                        <th scope=\"col\" style=\"width: 10%\">Status</th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\">\r\n                    <tr *ngFor=\"let detail of record.relatedPayday.paydayDetails; let i = index\">\r\n                        <td class=\"borderless-data\">\r\n                            <span *ngIf=\"i == 0\">{{ record.relatedPayday.payday }}</span>\r\n                        </td>\r\n                        <td class=\"borderless-data\">{{ detail.desc }} - INSERT CODE DESC</td>\r\n                        <td class=\"borderless-data\">\r\n                            {{ detail.payrollStartDt | date:'dd-MM-yyyy (HHmm)' }} to {{ detail.payrollEndDt | date:'dd-MM-yyyy (HHmm)' }}\r\n                        </td>\r\n                        <td class=\"borderless-data\">{{ detail.servicePayAmt | currency:'SGD' : '' }}</td>\r\n                        <td class=\"borderless-data\">{{ detail.mupAmt | currency:'SGD' : '' }}</td>\r\n                        <td class=\"borderless-data\">{{ detail.nsTopUpAmt | currency:'SGD' : '' }}</td>\r\n                        <td class=\"borderless-data\">{{ detail.payableAmt | currency:'SGD' : '' }}</td>\r\n                        <td class=\"borderless-data\">{{ detail.status }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"><b>Gross Amount</b></td>\r\n                        <td class=\"borderless-data\">{{ record.relatedPayday.grossPayment }}</td>\r\n                        <td class=\"borderless-data\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"><b>Payroll Details</b></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                    </tr>\r\n                    <tr *ngFor=\"let payTo of record.relatedPayday.paydayPayTo\">\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\" colspan=\"2\">{{ payTo.payTo }}</td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\"></td>\r\n                        <td class=\"borderless-data\">{{ payTo.payAmt }}</td>\r\n                        <td class=\"borderless-data\"></td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n        </p-accordionTab>\r\n        <p-accordionTab header=\"Remark\">\r\n            <p-table #remarksTable\r\n                [value]=\"remarks\"\r\n                [totalRecords]=\"totalRecords\"\r\n                [loading]=\"loading\"\r\n                [lazy]=\"true\"\r\n                (onLazyLoad)=\"loadRemarks($event)\"\r\n                (onPage)=\"onRemarksPage($event)\"\r\n                styleClass=\"p-datatable-gridlines\"\r\n                [paginator]=\"true\"\r\n                [rows]=\"10\"\r\n                [rowsPerPageOptions]=\"[10,25,50]\"\r\n                [showCurrentPageReport]=\"true\"\r\n                currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\">\r\n                <ng-template pTemplate=\"caption\">\r\n                    <button type=\"button\" pButton pRipple icon=\"pi pi-file\" (click)=\"exportRemarksCSV(remarksTable)\" pTooltip=\"Export as CSV\"\r\n                        tooltipPosition=\"bottom\"></button>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\" style=\"width: 5%\">SN</th>\r\n                        <th scope=\"col\" style=\"width: 75%\" pSortableColumn=\"remark\">\r\n                            Remarks\r\n                            <p-sortIcon field=\"remark\"></p-sortIcon>\r\n                            <p-columnFilter type=\"text\" field=\"remark\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n                        </th>\r\n                        <th scope=\"col\" style=\"width: 20%\" pSortableColumn=\"createdBy\">\r\n                            Created By\r\n                            <p-sortIcon field=\"createdBy\"></p-sortIcon>\r\n                            <p-columnFilter type=\"date\" field=\"createdDt\" display=\"menu\"></p-columnFilter>\r\n                        </th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n                    <tr>\r\n                        <td>{{ i + 1 }}</td>\r\n                        <td>{{ record.remark }}</td>\r\n                        <td>\r\n                            {{ record.remarkBy }}\r\n                            <br>\r\n                            {{ record.remarkDt | date:'dd-MM-yyyy (HHmm)' }}\r\n                        </td>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"emptymessage\">\r\n                    <tr>\r\n                        <td colspan=\"12\">No records found.</td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n        </p-accordionTab>\r\n    </p-accordion>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { EnquiryNSmanService } from 'app/enquiry/nsman/service/enquiry-nsman.service';\r\nimport { viewPayrollDetailService } from 'app/payroll/payroll/service/view-payroll-detail.service';\r\nimport { TrainingPayrollRecord, PaydayDetails, PaydayPayTo, Remarks } from 'app/enquiry/nsman/model/payroll-related.model';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\n\r\n@Component({\r\n  selector: 'n2-nsman-training-record',\r\n  templateUrl: './nsman-training-record.component.html',\r\n  styleUrls: ['./nsman-training-record.component.scss']\r\n})\r\nexport class NsmanTrainingRecordComponent implements OnInit {\r\n\r\n  @Input() payrollId: string;\r\n\r\n  placeholder = [{ pTableNeedsThisToDisplayData: \"\" }];\r\n\r\n  // For Remarks\r\n  totalRecords?: number;\r\n  loading?: boolean;\r\n  pageData: { currentPage: number } = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  lazyLoadEvent: LazyLoadEvent;\r\n\r\n  record: TrainingPayrollRecord;\r\n  remarks: Remarks[] = [];\r\n\r\n  constructor(\r\n    private ns2HttpService: Ns2HttpService,\r\n    private dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private enquiryNSmanService: EnquiryNSmanService,\r\n    private payrollDetailService: viewPayrollDetailService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.retrieveTrainingPayroll();\r\n  }\r\n\r\n  retrieveTrainingPayroll(): void {\r\n    this.enquiryNSmanService.getTrainingPayrollRecord(this.payrollId).subscribe(resp => {\r\n      if (resp.body?.data) {\r\n        this.record = resp.body.data;\r\n        console.log(\"Training Payroll Record\", this.record);\r\n      }\r\n    });\r\n  }\r\n\r\n  exportComputationCSV(dataTable: Table): void {\r\n    if (this.record != null) {\r\n      const computation = this.record.computation;\r\n      const civIncLoss: any[] = [];\r\n      const civIncLossTopUp: any[] = [];\r\n      computation.civIncomeLoss.forEach(x => {\r\n        civIncLoss.push(x.claimRef.concat(' ', String(x.civIncLossAmt)));\r\n        civIncLossTopUp.push(x.claimRef.concat(' ', String(x.civIncLossTopUpAmt)));\r\n      })\r\n\r\n      const columns = [\r\n        { field: 'rank', header: 'Rank', index: 0 },\r\n        { field: 'pilot', header: 'Pilot', index: 1 },\r\n        { field: 'vocAllw', header: 'Vocation Allowance', index: 2 },\r\n        { field: 'vocAllwAdj', header: 'Vocation Allowance Adjustment', index: 3 },\r\n        { field: 'nullifyVocAllwStatus', header: 'Nullify Vocation Allowance Status', index: 4 },\r\n        { field: 'servicePayTopUp', header: 'Service Pay Top-up', index: 5 },\r\n        { field: 'civIncLossTopUp', header: 'Civilian Income Loss Top-up', index: 6 },\r\n        { field: 'civIncLoss', header: 'Civilian Income Loss', index: 7 },\r\n        { field: 'proratedBaseRate', header: 'Pro-rated NS Base Rate', index: 8 },\r\n        { field: 'nsTopUp', header: 'NS Top-up', index: 9 },\r\n      ];\r\n\r\n      const dtoList: any[] = [];\r\n      const dto = {\r\n        rank: computation.rankPayAmt,\r\n        pilot: computation.pilotAllwAmt,\r\n        vocAllw: computation.combatAllwAmt,\r\n        vocAllwAdj: computation.combatAllwTopUpAmt,\r\n        nullifyVocAllwStatus: computation.combatAllwEligibilityInd === 'N' ? 'No' : \r\n          `Yes - ${computation.combatAllwTopUpDesc}`,\r\n        servicePayTopUp: computation.servicePayTopUpAmt,\r\n        civIncLossTopUp: civIncLossTopUp.toString(),\r\n        civIncLoss: civIncLoss.toString(),\r\n        proratedBaseRate: `${computation.baseRateComputationString} = ${String(computation.proratedBaseRateAmt)}`,\r\n        nsTopUp: computation.nsTopUpAmt,\r\n      }\r\n      dtoList.push(dto);\r\n      this.exportUtilsService.exportCSV(dataTable, dtoList, dtoList.length, columns, \"Training Payroll Computation (Attendance)\");\r\n    }\r\n  }\r\n\r\n  exportRelatedPaydayCSV(dataTable: Table): void {\r\n    if (this.record != null) {\r\n      const columns = [\r\n        { field: 'payday', header: 'Payday', index: 0 },\r\n        { field: 'payrollDesc', header: 'Payroll Description', index: 1 },\r\n        { field: 'payrollPeriod', header: 'Payroll Period', index: 2 },\r\n        { field: 'svcPay', header: 'Svc Pay', index: 3 },\r\n        { field: 'mup', header: 'MUP', index: 4 },\r\n        { field: 'nsTopUp', header: 'NS Top-up', index: 5 },\r\n        { field: 'amount', header: 'Amount', index: 6 },\r\n        { field: 'status', header: 'Status', index: 7 },\r\n      ];\r\n\r\n      const dtoList: any[] = [];\r\n\r\n      let index = 0;\r\n      this.record.relatedPayday.paydayDetails.forEach((details: PaydayDetails) => {\r\n        const dtoDetails = {\r\n          payday: index === 0 ? this.record.relatedPayday.payday : '',\r\n          payrollDesc: details.desc,\r\n          payrollPeriod: `${String(this.dateUtilsService.formatStrDate(details.payrollStartDt, \"DD-MM-YYYY (HHmm)\"))} to ${String(\r\n            this.dateUtilsService.formatStrDate(details.payrollEndDt, \"DD-MM-YYYY (HHmm)\"))}`,\r\n          svcPay: details.servicePayAmt,\r\n          mup: details.mupAmt,\r\n          nsTopUp: details.nsTopUpAmt,\r\n          amount: details.payableAmt,\r\n          status: details.status,\r\n        }\r\n        dtoList.push(dtoDetails);\r\n        index += 1;\r\n      })\r\n\r\n      const dtoGrossAmount = {\r\n        nsTopUp: 'Gross Amount',\r\n        amount: this.record.relatedPayday.grossPayment,\r\n      }\r\n      dtoList.push(dtoGrossAmount);\r\n\r\n      const dtoPayrollDetails = {\r\n        payrollDesc: 'Payroll Details',\r\n      }\r\n      dtoList.push(dtoPayrollDetails);\r\n\r\n      this.record.relatedPayday.paydayPayTo.forEach((payTo: PaydayPayTo) => {\r\n        const dtoPayTo = {\r\n          payrollDesc: payTo.payTo,\r\n          amount: payTo.payAmt,\r\n        }\r\n        dtoList.push(dtoPayTo);\r\n      })\r\n\r\n      this.exportUtilsService.exportCSV(dataTable, dtoList, dtoList.length, columns, \"Training Payroll Related Payday\");\r\n    }\r\n  }\r\n\r\n  loadRemarks(event: LazyLoadEvent): void {\r\n    setTimeout(() => {\r\n      this.loading = true;\r\n      this.lazyLoadEvent = event;\r\n\r\n      const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, this.pageData, this.pageSize);\r\n\r\n      this.payrollDetailService.getRemarksByID(this.payrollId, options).subscribe(resp => {\r\n        if (resp.body?.data?.content) {\r\n          this.remarks = resp.body.data.content;\r\n          this.totalRecords = resp.body.data.totalElements;\r\n        } else {\r\n          this.remarks = [];\r\n          this.totalRecords = 0;\r\n        }\r\n        this.loading = false;\r\n      });\r\n    }, 0);\r\n  }\r\n\r\n  onRemarksPage(event: any): void {\r\n    this.pageSize = event.rows;\r\n    this.pageData.currentPage = event.first / event.rows;\r\n  }\r\n\r\n  exportRemarksCSV(dataTable: Table): void {\r\n    const options = this.ns2HttpService.convertLazyEvent(this.lazyLoadEvent, 0, this.totalRecords);\r\n\r\n    this.payrollDetailService.getRemarksByID(this.payrollId, options).subscribe(\r\n      resp => {\r\n        if (resp.body?.data?.content) {\r\n          const data = resp.body?.data?.content;\r\n          const columns = [\r\n            { field: 'sn', header: 'SN', index: 0 },\r\n            { field: 'remarks', header: 'Remarks', index: 1 },\r\n            { field: 'createdBy', header: 'Created By', index: 2 }\r\n          ];\r\n\r\n          const dtoList: any[] = [];\r\n          console.log(\"data\", data);\r\n          data.forEach((record: Remarks, index: number) => {\r\n            const dto = {\r\n              sn: index + 1,\r\n              remarks: record.remark,\r\n              createdBy: `${record.remarkBy} | ${String(this.dateUtilsService.formatStrDate\r\n                (record.remarkDt, \"DD-MM-YYYY (HHmm)\"))}`\r\n            }\r\n            dtoList.push(dto);\r\n          });\r\n          this.exportUtilsService.exportCSV(dataTable, dtoList, resp.body.data.totalElements, columns, \"Training Payroll Remarks\");\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error.error?.error_desc);\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}