{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClaimSuppDocComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst forms_1 = require(\"@angular/forms\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/claim/service/claim.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i4 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/shared/service/file-upload.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/checkbox\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i13 = tslib_1.__importStar(require(\"../../../../shared/pipe/default-string.pipe\"));\nfunction ClaimSuppDocComponent_hr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\nconst _c0 = function () {\n  return {\n    \"padding\": \"0em\"\n  };\n};\nconst _c1 = function () {\n  return {\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction ClaimSuppDocComponent_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ClaimSuppDocComponent_ng_template_26_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.download());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ClaimSuppDocComponent_ng_template_26_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.downloadAll());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                \");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(7, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(8, _c1));\n    i0.ɵɵproperty(\"disabled\", ctx_r2.selectedRows.length <= 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c1));\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_28_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"th\", 19);\n    i0.ɵɵelement(3, \"p-tableHeaderCheckbox\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"th\", 19);\n    i0.ɵɵtext(6, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementStart(8, \"th\", 20);\n    i0.ɵɵtext(9, \"eClaim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"th\", 21);\n    i0.ɵɵtext(12, \"Filename\");\n    i0.ɵɵelement(13, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                        \");\n    i0.ɵɵelementStart(15, \"th\", 23);\n    i0.ɵɵtext(16, \"Indexed On\");\n    i0.ɵɵelement(17, \"p-sortIcon\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementStart(19, \"th\", 25);\n    i0.ɵɵtext(20, \"Indexed By\");\n    i0.ɵɵelement(21, \"p-sortIcon\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_28_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"th\", 19);\n    i0.ɵɵelement(4, \"p-tableHeaderCheckbox\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"th\", 19);\n    i0.ɵɵtext(7, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"th\", 20);\n    i0.ɵɵtext(10, \"eClaim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"th\", 27);\n    i0.ɵɵtext(13, \"Filename\");\n    i0.ɵɵelement(14, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵelementStart(16, \"th\", 28);\n    i0.ɵɵtext(17, \"Indexed On\");\n    i0.ɵɵelement(18, \"p-sortIcon\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                            \");\n    i0.ɵɵelementStart(20, \"th\", 29);\n    i0.ɵɵtext(21, \"Indexed By\");\n    i0.ɵɵelement(22, \"p-sortIcon\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n\\n                    \");\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵtemplate(1, ClaimSuppDocComponent_ng_template_28_tr_1_Template, 23, 0, \"tr\", 17);\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵtemplate(3, ClaimSuppDocComponent_ng_template_28_ng_template_3_Template, 25, 0, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(5, \"\\n                \");\n  }\n  if (rf & 2) {\n    const _r11 = i0.ɵɵreference(4);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.mainView)(\"ngIfElse\", _r11);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                Index Without Document\\n                            \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_15_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const suppDocFile_r13 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                                    \", suppDocFile_r13.value.fileName, \"\\n                                \");\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵtemplate(1, ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_15_ng_container_1_Template, 2, 1, \"ng-container\", 17);\n    i0.ɵɵtext(2, \"\\n                            \");\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r22 = i0.ɵɵreference(19);\n    const rowIndex_r14 = i0.ɵɵnextContext().rowIndex;\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.unUploadedEClaimSupp && rowIndex_r14 === 0)(\"ngIfElse\", _r22);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"a\", 3);\n    i0.ɵɵlistener(\"click\", function ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_18_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const suppDocFile_r13 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.openFileInNewTab(suppDocFile_r13.value.docId));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const suppDocFile_r13 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(suppDocFile_r13.value.fileName);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            Index Without Document\\n                        \");\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 32);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"td\", 33);\n    i0.ɵɵelement(3, \"p-tableCheckbox\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"td\", 33);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementStart(8, \"td\", 35);\n    i0.ɵɵelement(9, \"p-checkbox\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵtemplate(13, ClaimSuppDocComponent_ng_template_30_tr_1_ng_container_13_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵtemplate(15, ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_15_Template, 3, 2, \"ng-template\", null, 37, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(17, \"\\n                            \");\n    i0.ɵɵtemplate(18, ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_18_Template, 4, 1, \"ng-template\", null, 38, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n                        \");\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                        \");\n    i0.ɵɵtemplate(30, ClaimSuppDocComponent_ng_template_30_tr_1_ng_template_30_Template, 1, 0, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r20 = i0.ɵɵreference(16);\n    const ctx_r33 = i0.ɵɵnextContext();\n    const rowIndex_r14 = ctx_r33.rowIndex;\n    const suppDocFile_r13 = ctx_r33.$implicit;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroupName\", rowIndex_r14);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", suppDocFile_r13)(\"disabled\", suppDocFile_r13.value.fileName === null || suppDocFile_r13.value.fileName === undefined);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(rowIndex_r14 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", suppDocFile_r13.value.eclaimInd === \"Y\")(\"binary\", true)(\"disabled\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", suppDocFile_r13.value.fileName === null || suppDocFile_r13.value.fileName === undefined)(\"ngIfElse\", _r20);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 11, ctx_r16.dateUtilsService.convertUnixToDateString(suppDocFile_r13.value.indexDt, ctx_r16.dateFormat)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 13, suppDocFile_r13.value.indexByInit));\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                    Index Without Document\\n                                \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const suppDocFile_r13 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                                        \", suppDocFile_r13.value.fileName, \"\\n                                    \");\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                    \");\n    i0.ɵɵtemplate(1, ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_16_ng_container_1_Template, 2, 1, \"ng-container\", 17);\n    i0.ɵɵtext(2, \"\\n                                \");\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r37 = i0.ɵɵreference(20);\n    const rowIndex_r14 = i0.ɵɵnextContext().rowIndex;\n    const ctx_r36 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r36.unUploadedEClaimSupp && rowIndex_r14 === 0)(\"ngIfElse\", _r37);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                                    \");\n    i0.ɵɵelementStart(1, \"a\", 3);\n    i0.ɵɵlistener(\"click\", function ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_19_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const suppDocFile_r13 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.openFileInNewTab(suppDocFile_r13.value.docId));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                                \");\n  }\n  if (rf & 2) {\n    const suppDocFile_r13 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(suppDocFile_r13.value.fileName);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                Index Without Document\\n                            \");\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\", 32);\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"td\", 33);\n    i0.ɵɵelement(4, \"p-tableCheckbox\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"td\", 33);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"td\", 35);\n    i0.ɵɵelement(10, \"p-checkbox\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"td\", 40);\n    i0.ɵɵtext(13, \"\\n                                \");\n    i0.ɵɵtemplate(14, ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_container_14_Template, 2, 0, \"ng-container\", 17);\n    i0.ɵɵtext(15, \"\\n                                \");\n    i0.ɵɵtemplate(16, ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_16_Template, 3, 2, \"ng-template\", null, 37, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(18, \"\\n                                \");\n    i0.ɵɵtemplate(19, ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_19_Template, 4, 1, \"ng-template\", null, 38, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(21, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵelementStart(23, \"td\", 41);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                            \");\n    i0.ɵɵelementStart(27, \"td\", 41);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                            \");\n    i0.ɵɵtemplate(31, ClaimSuppDocComponent_ng_template_30_ng_template_3_ng_template_31_Template, 1, 0, \"ng-template\", null, 39, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(33, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n\\n                    \");\n  }\n  if (rf & 2) {\n    const _r35 = i0.ɵɵreference(17);\n    const ctx_r48 = i0.ɵɵnextContext();\n    const rowIndex_r14 = ctx_r48.rowIndex;\n    const suppDocFile_r13 = ctx_r48.$implicit;\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", rowIndex_r14);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", suppDocFile_r13)(\"disabled\", suppDocFile_r13.value.fileName === null || suppDocFile_r13.value.fileName === undefined);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(rowIndex_r14 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", suppDocFile_r13.value.eclaimInd === \"Y\")(\"binary\", true)(\"disabled\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", suppDocFile_r13.value.fileName === null || suppDocFile_r13.value.fileName === undefined)(\"ngIfElse\", _r35);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(25, 11, ctx_r18.dateUtilsService.convertUnixToDateString(suppDocFile_r13.value.indexDt, ctx_r18.dateFormat)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 13, suppDocFile_r13.value.indexByInit));\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵtemplate(1, ClaimSuppDocComponent_ng_template_30_tr_1_Template, 33, 15, \"tr\", 30);\n    i0.ɵɵtext(2, \"\\n                    \");\n    i0.ɵɵtemplate(3, ClaimSuppDocComponent_ng_template_30_ng_template_3_Template, 35, 15, \"ng-template\", null, 31, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(5, \"\\n                \");\n  }\n  if (rf & 2) {\n    const _r17 = i0.ɵɵreference(4);\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.mainView)(\"ngIfElse\", _r17);\n  }\n}\nfunction ClaimSuppDocComponent_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"td\", 42)(4, \"span\");\n    i0.ɵɵelement(5, \"i\", 43);\n    i0.ɵɵtext(6, \"\\u00A0No records found.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                \");\n  }\n}\nclass ClaimSuppDocComponent {\n  constructor(formBuilder, claimService, route, toastService, dateUtilsService, ns2Http, fileUploadService, cd, router) {\n    this.formBuilder = formBuilder;\n    this.claimService = claimService;\n    this.route = route;\n    this.toastService = toastService;\n    this.dateUtilsService = dateUtilsService;\n    this.ns2Http = ns2Http;\n    this.fileUploadService = fileUploadService;\n    this.cd = cd;\n    this.router = router;\n    this.scrollHeight = \"70vh\";\n    this.mainView = true;\n    this.currentClaimId = \"test\";\n    this.selectedRows = [];\n    this.dateFormat = \"DD-MM-YYYY (HHmm)\";\n    this.selectAll = false;\n    this.suppDocForm = this.formBuilder.group({\n      indexTimes: new forms_1.FormControl(0, null),\n      suppDocFilesFormArray: this.formBuilder.array([])\n    });\n    this.unUploadedEClaimSupp = false;\n    this.pageSize = 10;\n    this.totalRecords = 0;\n  }\n  ngDoCheck() {\n    if (this.params?.claimId !== this.currentClaimId) {\n      this.currentParams = this.params;\n    }\n  }\n  ngAfterViewChecked() {\n    this.cd.detectChanges();\n  }\n  ngOnInit() {\n    // this.route.queryParams.subscribe((params) => {\n    //   this.params = params;\n    // });\n  }\n  get suppDocFilesFormArray() {\n    return this.suppDocForm?.get('suppDocFilesFormArray');\n  }\n  getFormArrayControl() {\n    return (this.suppDocForm?.get('suppDocFilesFormArray')).controls;\n  }\n  getSuppDocFilesData(event) {\n    this.suppDocForm = this.formBuilder.group({\n      indexTimes: new forms_1.FormControl(0, null),\n      suppDocFilesFormArray: this.formBuilder.array([])\n    });\n    console.log(\"the supp doc claim id\", this.currentParams?.claimId);\n    this.pageSize = event.rows;\n    // \n    this.loading = true;\n    setTimeout(() => {\n      if (this.currentParams?.claimId) {\n        const options = this.ns2Http.convertLazyEvent(event, null, 50);\n        options.params = options.params.append(\"claimId\", this.currentParams?.claimId);\n        this.suppDocFilesFormArray.clear();\n        this.claimService.retrieveSuppDoc(options).subscribe(resp => {\n          if (resp.body.data) {\n            console.log(\"total size\", resp.body.data.dtoList.length);\n            this.totalRecords = resp.body.data.total_no_of_elems;\n            resp.body.data.dtoList.forEach(x => {\n              this.suppDocFilesFormArray.push(this.addRow(x));\n            });\n            const indexDtList = [...new Set(resp.body.data.dtoList.map(x => {\n              return this.dateUtilsService.convertUnixToDateString(x.indexDt, \"DD-MM-YYYY\");\n            }))];\n            this.getPendingEClaimFile(resp.body.data.dtoList, resp.body.data.suppDocCount);\n            this.suppDocForm.get('indexTimes').setValue(indexDtList.length);\n          }\n          this.loading = false;\n        }, error => {\n          console.log(\"error is\" + String(error?.error?.error_desc));\n          this.toastService.error(String(error?.error?.error_desc));\n        });\n      }\n    }, 1000);\n  }\n  popSuppDoc() {\n    const url = this.router.serializeUrl(this.router.createUrlTree(['claim/se-claim/view-supporting-doc'], {\n      queryParams: this.currentParams\n    }));\n    console.log(url);\n    window.open(url, \"viewSupportingDoc\", 'location=0,menubar=0,status=0,height=1000, width=1500');\n  }\n  getRow(rowIndex) {\n    return rowIndex % this.pageSize;\n  }\n  getPendingEClaimFile(dataList, suppDocCount) {\n    const eClaimSuppDocList = dataList.filter(x => x.eclaimInd === \"Y\");\n    if (eClaimSuppDocList.length > 0) {\n      this.suppDocFilesFormArray.insert(0, this.formBuilder.group({\n        docId: null,\n        eclaimInd: new forms_1.FormControl(false, null),\n        indexBy: null,\n        indexDt: null,\n        indexByInit: null,\n        fileName: `Pending ${eClaimSuppDocList.length} out of ${suppDocCount} eClaim file`,\n        checkable: false\n      }));\n      this.unUploadedEClaimSupp = true;\n    }\n  }\n  addRow(x) {\n    return this.formBuilder.group({\n      id: x.id,\n      docId: x.docId,\n      eclaimInd: new forms_1.FormControl(x.eclaimInd === \"Y\", null),\n      indexBy: x.indexBy,\n      indexDt: x.indexDt,\n      indexByInit: x.indexByInit,\n      fileName: x.fileName,\n      checkable: x.fileName !== null && x.fileName !== undefined\n    });\n  }\n  onSelectAllChange(event) {\n    const checked = event.checked;\n    if (checked) {\n      this.selectedRows = this.suppDocFilesFormArray.controls.filter(x => x.get('checkable').value);\n      this.selectAll = true;\n    } else {\n      this.selectedRows = [];\n      this.selectAll = false;\n    }\n  }\n  openFileInNewTab(id) {\n    this.fileUploadService.downloadTxnId(id).subscribe(res => {\n      if (res) {\n        console.log('download res', res);\n        const data = res;\n        const contentDispositionHeader = data.headers.get('content-disposition');\n        const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n        const blob = new Blob([data.body], {\n          type: data.headers.get('content-type')\n        });\n        const anchor = document.createElement(\"a\");\n        anchor.href = URL.createObjectURL(blob);\n        anchor.target = \"_blank\";\n        // anchor.rel=\"noopener noreferrer\";\n        anchor.click();\n        document.removeChild(anchor);\n      }\n    });\n  }\n  download() {\n    const fileIds = this.selectedRows?.map(x => String(x.get('docId').value));\n    this.doDownload(fileIds);\n  }\n  downloadAll() {\n    const fileIds = this.suppDocFilesFormArray.controls.filter(x => x.get('checkable').value).map(x => String(x.get('docId').value));\n    this.doDownload(fileIds);\n  }\n  doDownload(fileIds) {\n    if (fileIds) {\n      if (fileIds.length > 1) {\n        this.fileUploadService.downloadZip(fileIds).subscribe(res => {\n          if (res) {\n            const data = res;\n            const contentDispositionHeader = data.headers.get('content-disposition');\n            const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n            const blob = new Blob([data.body], {\n              type: data.headers.get('content-type')\n            });\n            const anchor = document.createElement(\"a\");\n            anchor.href = URL.createObjectURL(blob);\n            anchor.download = fileName;\n            anchor.click();\n          }\n        }, error => {\n          if (error.HttpStatusCode === 404 /* HttpStatusCode.NotFound */) {\n            this.toastService.error(error.error?.error_desc);\n          }\n        });\n      } else {\n        this.openFileInNewTab(fileIds[0]);\n      }\n    } else {\n      console.log(\"no documents\");\n    }\n  }\n}\nexports.ClaimSuppDocComponent = ClaimSuppDocComponent;\nClaimSuppDocComponent.ɵfac = function ClaimSuppDocComponent_Factory(t) {\n  return new (t || ClaimSuppDocComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClaimService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.CustomToastService), i0.ɵɵdirectiveInject(i5.DateUtilsService), i0.ɵɵdirectiveInject(i6.Ns2HttpService), i0.ɵɵdirectiveInject(i7.FileUploadService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.Router));\n};\nClaimSuppDocComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClaimSuppDocComponent,\n  selectors: [[\"n2-claim-supp-doc\"]],\n  inputs: {\n    params: \"params\"\n  },\n  decls: 38,\n  vars: 14,\n  consts: [[1, \"field\", \"grid\"], [1, \"col-7\"], [1, \"col-5\", \"nsp-align-right\"], [\"href\", \"javascript:\", 3, \"click\"], [4, \"ngIf\"], [1, \"row\"], [3, \"formGroup\"], [\"formArrayName\", \"suppDocFilesFormArray\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", \"sortField\", \"indexDt\", 3, \"value\", \"rows\", \"totalRecords\", \"selection\", \"filterDelay\", \"selectAll\", \"loading\", \"lazy\", \"scrollHeight\", \"scrollable\", \"selectionChange\", \"selectAllChange\", \"onLazyLoad\"], [\"supportDocTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"col-6\", \"flex\", \"justify-content-start\", \"gap-2\"], [\"pButton\", \"\", \"label\", \"Download\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"label\", \"Download All\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"subViewTH\", \"\"], [\"scope\", \"col\", 2, \"max-width\", \"4em\"], [\"scope\", \"col\", 2, \"max-width\", \"6em\"], [\"scope\", \"col\", \"pSortableColumn\", \"fileName\"], [\"field\", \"fileName\"], [\"scope\", \"col\", \"pSortableColumn\", \"indexDt\"], [\"field\", \"indexDt\"], [\"scope\", \"col\", \"pSortableColumn\", \"indexByInit\"], [\"field\", \"indexByInit\"], [\"scope\", \"col\", \"pSortableColumn\", \"fileName\", 2, \"max-width\", \"40em\"], [\"scope\", \"col\", \"pSortableColumn\", \"indexDt\", 2, \"max-width\", \"8em\"], [\"scope\", \"col\", \"pSortableColumn\", \"indexByInit\", 2, \"max-width\", \"8em\"], [3, \"formGroupName\", 4, \"ngIf\", \"ngIfElse\"], [\"subViewTR\", \"\"], [3, \"formGroupName\"], [2, \"max-width\", \"4em\"], [3, \"value\", \"disabled\"], [2, \"max-width\", \"6em\"], [\"formControlName\", \"eclaimInd\", 3, \"value\", \"binary\", \"disabled\"], [\"hasFileName\", \"\"], [\"hyperLink\", \"\"], [\"IndexWODoc\", \"\"], [2, \"max-width\", \"40em\"], [2, \"max-width\", \"8em\"], [\"colspan\", \"6\"], [1, \"pi\", \"pi-info-circle\"]],\n  template: function ClaimSuppDocComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵelementStart(4, \"h6\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n    \");\n      i0.ɵɵelementStart(8, \"div\", 2);\n      i0.ɵɵtext(9, \"\\n        \");\n      i0.ɵɵelementStart(10, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function ClaimSuppDocComponent_Template_a_click_10_listener() {\n        return ctx.popSuppDoc();\n      });\n      i0.ɵɵtext(11, \"View All\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\");\n      i0.ɵɵtemplate(15, ClaimSuppDocComponent_hr_15_Template, 1, 0, \"hr\", 4);\n      i0.ɵɵtext(16, \"\\n\");\n      i0.ɵɵelementStart(17, \"div\", 5);\n      i0.ɵɵtext(18, \"\\n    \");\n      i0.ɵɵelementStart(19, \"form\", 6);\n      i0.ɵɵtext(20, \"\\n        \");\n      i0.ɵɵelementStart(21, \"div\", 7);\n      i0.ɵɵtext(22, \"\\n            \");\n      i0.ɵɵelementStart(23, \"p-table\", 8, 9);\n      i0.ɵɵlistener(\"selectionChange\", function ClaimSuppDocComponent_Template_p_table_selectionChange_23_listener($event) {\n        return ctx.selectedRows = $event;\n      })(\"selectAllChange\", function ClaimSuppDocComponent_Template_p_table_selectAllChange_23_listener($event) {\n        return ctx.onSelectAllChange($event);\n      })(\"onLazyLoad\", function ClaimSuppDocComponent_Template_p_table_onLazyLoad_23_listener($event) {\n        return ctx.getSuppDocFilesData($event);\n      });\n      i0.ɵɵtext(25, \"\\n                \");\n      i0.ɵɵtemplate(26, ClaimSuppDocComponent_ng_template_26_Template, 8, 10, \"ng-template\", 10);\n      i0.ɵɵtext(27, \"\\n                \");\n      i0.ɵɵtemplate(28, ClaimSuppDocComponent_ng_template_28_Template, 6, 2, \"ng-template\", 11);\n      i0.ɵɵtext(29, \"\\n                \");\n      i0.ɵɵtemplate(30, ClaimSuppDocComponent_ng_template_30_Template, 6, 2, \"ng-template\", 12);\n      i0.ɵɵtext(31, \"\\n                \");\n      i0.ɵɵtemplate(32, ClaimSuppDocComponent_ng_template_32_Template, 9, 0, \"ng-template\", 13);\n      i0.ɵɵtext(33, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"Supporting Documents:  \", ctx.suppDocForm.get(\"indexTimes\").value, \" Times \", ctx.suppDocForm.controls[\"suppDocFilesFormArray\"].value.length, \"  Files\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.mainView);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.suppDocForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.suppDocFilesFormArray.controls)(\"rows\", ctx.pageSize)(\"totalRecords\", ctx.totalRecords)(\"selection\", ctx.selectedRows)(\"filterDelay\", 0)(\"selectAll\", ctx.selectAll)(\"loading\", ctx.loading)(\"lazy\", true)(\"scrollHeight\", ctx.mainView ? \"70vh\" : \"20vh\")(\"scrollable\", true);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i8.NgIf, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i9.PrimeTemplate, i10.ButtonDirective, i11.Checkbox, i12.Table, i12.SortableColumn, i12.SortIcon, i12.TableCheckbox, i12.TableHeaderCheckbox, i13.DefaultStringPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbGFpbS1zdXBwLWRvYy5jb21wb25lbnQuc2NzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vcG9wLXVwL3ZpZXctc3VwcG9ydGluZy1kb2MvY2xhaW0tc3VwcC1kb2MvY2xhaW0tc3VwcC1kb2MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLDRLQUE0SyIsInNvdXJjZVJvb3QiOiIifQ== */\", \"[_nghost-%COMP%]     .p-datatable .p-datatable-thead > tr > th {\\n      position: sticky;\\n      top: 0rem;\\n  }\\n\\n  .layout-news-active   [_nghost-%COMP%]     .p-datatable tr > th {\\n      top: 0rem;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsYWltLXN1cHAtZG9jLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0VBQ0U7TUFFSSxnQkFBZ0I7TUFDaEIsU0FBUztFQUNiOztFQUVBO01BQ0ksU0FBUztFQUNiIiwiZmlsZSI6ImNsYWltLXN1cHAtZG9jLmNvbXBvbmVudC50cyIsInNvdXJjZXNDb250ZW50IjpbIlxuICA6aG9zdCA6Om5nLWRlZXAgLnAtZGF0YXRhYmxlIC5wLWRhdGF0YWJsZS10aGVhZCA+IHRyID4gdGgge1xuICAgICAgcG9zaXRpb246IC13ZWJraXQtc3RpY2t5O1xuICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgIHRvcDogMHJlbTtcbiAgfVxuXG4gIC5sYXlvdXQtbmV3cy1hY3RpdmUgOmhvc3QgOjpuZy1kZWVwIC5wLWRhdGF0YWJsZSB0ciA+IHRoIHtcbiAgICAgIHRvcDogMHJlbTtcbiAgfVxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vcG9wLXVwL3ZpZXctc3VwcG9ydGluZy1kb2MvY2xhaW0tc3VwcC1kb2MvY2xhaW0tc3VwcC1kb2MuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7RUFDRTtNQUVJLGdCQUFnQjtNQUNoQixTQUFTO0VBQ2I7O0VBRUE7TUFDSSxTQUFTO0VBQ2I7O0FBQ0YsNG1CQUE0bUIiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgOmhvc3QgOjpuZy1kZWVwIC5wLWRhdGF0YWJsZSAucC1kYXRhdGFibGUtdGhlYWQgPiB0ciA+IHRoIHtcbiAgICAgIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTtcbiAgICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgICB0b3A6IDByZW07XG4gIH1cblxuICAubGF5b3V0LW5ld3MtYWN0aXZlIDpob3N0IDo6bmctZGVlcCAucC1kYXRhdGFibGUgdHIgPiB0aCB7XG4gICAgICB0b3A6IDByZW07XG4gIH1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ClaimSuppDocComponent","constructor","formBuilder","claimService","route","toastService","dateUtilsService","ns2Http","fileUploadService","cd","router","group","indexTimes","forms_1","suppDocFilesFormArray","array","ngDoCheck","params","claimId","currentClaimId","currentParams","ngAfterViewChecked","detectChanges","ngOnInit","suppDocForm","get","getFormArrayControl","controls","getSuppDocFilesData","event","console","log","pageSize","rows","loading","setTimeout","options","convertLazyEvent","append","clear","retrieveSuppDoc","subscribe","resp","body","data","dtoList","length","totalRecords","total_no_of_elems","forEach","x","push","addRow","indexDtList","Set","map","convertUnixToDateString","indexDt","getPendingEClaimFile","suppDocCount","setValue","error","String","error_desc","popSuppDoc","url","serializeUrl","createUrlTree","queryParams","window","open","getRow","rowIndex","dataList","eClaimSuppDocList","filter","eclaimInd","insert","docId","indexBy","indexByInit","fileName","checkable","unUploadedEClaimSupp","id","undefined","onSelectAllChange","checked","selectedRows","value","selectAll","openFileInNewTab","downloadTxnId","res","contentDispositionHeader","headers","split","trim","replace","blob","Blob","type","anchor","document","createElement","href","URL","createObjectURL","target","click","removeChild","download","fileIds","doDownload","downloadAll","downloadZip","HttpStatusCode","exports","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\pop-up\\view-supporting-doc\\claim-supp-doc\\claim-supp-doc.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\pop-up\\view-supporting-doc\\claim-supp-doc\\claim-supp-doc.component.html"],"sourcesContent":["import { HttpParams, HttpStatusCode } from '@angular/common/http';\r\nimport { AfterContentChecked, AfterViewChecked, AfterViewInit, ChangeDetectorRef, Component, DoCheck, Input, OnInit, SimpleChanges } from '@angular/core';\r\nimport { AbstractControl, FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClaimService } from 'app/claim/service/claim.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { FileUploadService } from 'app/shared/service/file-upload.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { LazyLoadEvent } from 'primeng/api';\r\n\r\n@Component({\r\n  selector: 'n2-claim-supp-doc',\r\n  templateUrl: './claim-supp-doc.component.html',\r\n  styleUrls: ['./claim-supp-doc.component.scss'],\r\n  styles: [`\r\n  :host ::ng-deep .p-datatable .p-datatable-thead > tr > th {\r\n      position: -webkit-sticky;\r\n      position: sticky;\r\n      top: 0rem;\r\n  }\r\n\r\n  .layout-news-active :host ::ng-deep .p-datatable tr > th {\r\n      top: 0rem;\r\n  }\r\n`]\r\n})\r\nexport class ClaimSuppDocComponent implements OnInit, DoCheck  {\r\n\r\n  @Input() params: any;\r\n  scrollHeight = \"70vh\";\r\n  mainView = true;\r\n  currentClaimId = \"test\"\r\n  currentParams: any;\r\n  loading!: boolean;\r\n  public selectedRows: any[] = [];\r\n  dateFormat = \"DD-MM-YYYY (HHmm)\";\r\n  selectAll = false;\r\n  suppDocForm:  FormGroup = this.formBuilder.group({\r\n    indexTimes: new FormControl(0, null),\r\n    suppDocFilesFormArray: this.formBuilder.array([])\r\n  });\r\n  unUploadedEClaimSupp = false;\r\n  pageSize = 10;\r\n  totalRecords = 0;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private claimService: ClaimService,\r\n    private route: ActivatedRoute,\r\n    private toastService: CustomToastService,\r\n    public dateUtilsService: DateUtilsService,\r\n    private ns2Http: Ns2HttpService,\r\n    private fileUploadService: FileUploadService,\r\n    private cd: ChangeDetectorRef,\r\n    private router: Router\r\n\r\n  ) { \r\n  }\r\n  ngDoCheck(): void {\r\n    if (this.params?.claimId !== this.currentClaimId) {\r\n      this.currentParams = this.params;\r\n    }\r\n  }\r\n  ngAfterViewChecked(): void {\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.route.queryParams.subscribe((params) => {\r\n    //   this.params = params;\r\n    // });\r\n\r\n  }\r\n\r\n  get suppDocFilesFormArray(): FormArray {\r\n    return this.suppDocForm?.get('suppDocFilesFormArray') as FormArray\r\n  }\r\n\r\n  getFormArrayControl(): AbstractControl<any, any>[]{\r\n    return (this.suppDocForm?.get('suppDocFilesFormArray') as FormArray).controls\r\n  }\r\n\r\n  getSuppDocFilesData(event:any):void{\r\n    this.suppDocForm = this.formBuilder.group({\r\n      indexTimes: new FormControl(0, null),\r\n      suppDocFilesFormArray: this.formBuilder.array([])\r\n    });\r\n    console.log(\"the supp doc claim id\",this.currentParams?.claimId )\r\n    this.pageSize = event.rows;\r\n    // \r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        if(this.currentParams?.claimId){\r\n          const options = this.ns2Http.convertLazyEvent(event, null, 50);\r\n          options.params = options.params.append(\"claimId\", this.currentParams?.claimId);\r\n          this.suppDocFilesFormArray.clear();\r\n          this.claimService.retrieveSuppDoc(options).subscribe(resp => {      \r\n            if (resp.body.data) {\r\n              console.log(\"total size\", resp.body.data.dtoList.length);\r\n              this.totalRecords = resp.body.data.total_no_of_elems;\r\n    \r\n              (resp.body.data.dtoList as any[]).forEach(x=>{\r\n                this.suppDocFilesFormArray.push(this.addRow(x));\r\n              })\r\n              const indexDtList = [...new Set(resp.body.data.dtoList.map((x:any)=> {\r\n                return this.dateUtilsService.convertUnixToDateString(x.indexDt, \"DD-MM-YYYY\");\r\n              }))];\r\n              this.getPendingEClaimFile(resp.body.data.dtoList, resp.body.data.suppDocCount);\r\n              this.suppDocForm.get('indexTimes').setValue(indexDtList.length);\r\n            }\r\n            this.loading = false;\r\n\r\n          },\r\n          (error: any) => {\r\n            console.log(\"error is\" + String(error?.error?.error_desc));\r\n            this.toastService.error(String(error?.error?.error_desc));\r\n          });\r\n        }\r\n      }, 1000);\r\n  }\r\n\r\n  popSuppDoc(): void{\r\n    const url = this.router.serializeUrl(this.router.createUrlTree(['claim/se-claim/view-supporting-doc'],{queryParams: this.currentParams}));\r\n    console.log(url);\r\n    window.open(url, \"viewSupportingDoc\", 'location=0,menubar=0,status=0,height=1000, width=1500');\r\n  }\r\n\r\n  getRow(rowIndex: number){\r\n    return rowIndex%this.pageSize;\r\n  }\r\n\r\n  getPendingEClaimFile(dataList: any[], suppDocCount: number): void{\r\n    const eClaimSuppDocList = dataList.filter(x=> x.eclaimInd===\"Y\");\r\n    if(eClaimSuppDocList.length>0){\r\n      this.suppDocFilesFormArray.insert(0, this.formBuilder.group({\r\n        docId: null,\r\n        eclaimInd: new FormControl(false, null),\r\n        indexBy: null,\r\n        indexDt: null,\r\n        indexByInit: null,\r\n        fileName: `Pending ${eClaimSuppDocList.length} out of ${suppDocCount} eClaim file`,\r\n        checkable: false\r\n      }));\r\n      this.unUploadedEClaimSupp = true;\r\n    }\r\n  }\r\n\r\n  addRow(x: any): FormGroup{\r\n    return this.formBuilder.group({\r\n      id: x.id,\r\n      docId: x.docId,\r\n      eclaimInd: new FormControl(x.eclaimInd === \"Y\", null),\r\n      indexBy: x.indexBy,\r\n      indexDt: x.indexDt,\r\n      indexByInit: x.indexByInit,\r\n      fileName: x.fileName,\r\n      checkable: x.fileName!==null && x.fileName !==undefined\r\n\r\n    });\r\n  }\r\n\r\n  onSelectAllChange(event: any): void {\r\n    const checked = event.checked;\r\n    if (checked) {\r\n      this.selectedRows = this.suppDocFilesFormArray.controls.filter(x=> x.get('checkable').value);\r\n      this.selectAll = true;\r\n    } else {\r\n      this.selectedRows = [];\r\n      this.selectAll = false;\r\n    }\r\n  }\r\n\r\n  openFileInNewTab(id:string): void {\r\n    this.fileUploadService.downloadTxnId(id).subscribe((res:any) => {\r\n      if (res) {\r\n        console.log('download res', res);\r\n        const data = res;\r\n        const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n        const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\r\n        const blob = new Blob([data.body], { type: data.headers.get('content-type') });\r\n        const anchor = document.createElement(\"a\");\r\n        anchor.href = URL.createObjectURL(blob);\r\n        anchor.target = \"_blank\";\r\n        // anchor.rel=\"noopener noreferrer\";\r\n        anchor.click();\r\n        document.removeChild(anchor);\r\n      }\r\n    });\r\n  }\r\n\r\n  \r\n  download(): void{\r\n    const fileIds = this.selectedRows?.map(x =>String(x.get('docId').value));\r\n    this.doDownload(fileIds);\r\n  }\r\n\r\n  downloadAll(): void{\r\n    const fileIds = this.suppDocFilesFormArray.controls.filter(x=> x.get('checkable').value)\r\n    .map(x =>String(x.get('docId').value));\r\n    this.doDownload(fileIds);\r\n  }\r\n\r\n  doDownload(fileIds: string[]):void{\r\n    if(fileIds) {\r\n      if(fileIds.length>1){\r\n        this.fileUploadService.downloadZip(fileIds).subscribe(\r\n          res => {\r\n            if(res) {\r\n              const data = res;\r\n              const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n              const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');        \r\n              const blob = new Blob([data.body], { type: data.headers.get('content-type')});\r\n              const anchor = document.createElement(\"a\");\r\n              anchor.href = URL.createObjectURL(blob);\r\n              anchor.download = fileName;\r\n              anchor.click();\r\n            }\r\n          },\r\n          error => {\r\n            if(error.HttpStatusCode === HttpStatusCode.NotFound) {\r\n              this.toastService.error(error.error?.error_desc);\r\n            }\r\n          }\r\n        );\r\n      }else{\r\n        this.openFileInNewTab(fileIds[0]);\r\n      }\r\n    \r\n    } else {\r\n      console.log(\"no documents\");\r\n    }\r\n  }\r\n}\r\n","<div class=\"field grid\">\r\n    <div class=\"col-7\">\r\n        <h6>Supporting Documents:  {{ suppDocForm.get('indexTimes').value }} Times {{suppDocForm.controls['suppDocFilesFormArray'].value.length}}  Files</h6>\r\n    </div>\r\n    <div class=\"col-5 nsp-align-right\">\r\n        <a href='javascript:' (click)=\"popSuppDoc()\">View All</a>\r\n    </div>\r\n</div>\r\n<hr *ngIf = \"mainView\">\r\n<div class = \"row\" >\r\n    <form [formGroup]=\"suppDocForm\">\r\n        <div formArrayName=\"suppDocFilesFormArray\">\r\n            <p-table [value]=\"suppDocFilesFormArray.controls\"\r\n            [rows]=\"pageSize\"\r\n            [totalRecords] = \"totalRecords\"\r\n            [(selection)] = \"selectedRows\"\r\n            [filterDelay]=\"0\"\r\n            [selectAll]=\"selectAll\"\r\n            (selectAllChange)=\"onSelectAllChange($event)\"\r\n            [loading] = \"loading\"\r\n            styleClass=\"p-datatable-gridlines p-datatable-striped\"\r\n            [lazy] = \"true\"\r\n            (onLazyLoad)=\"getSuppDocFilesData($event)\"\r\n            [scrollHeight]=\"mainView? '70vh':'20vh'\"\r\n            [scrollable]=\"true\"\r\n            sortField = \"indexDt\"\r\n            #supportDocTable\r\n            >\r\n                <ng-template pTemplate=\"caption\">\r\n                    <div class = \"col-6 flex justify-content-start gap-2\" [style]=\"{'padding':'0em'}\">\r\n                        <button pButton  label=\"Download\" (click) = \"download()\" [style]=\"{'margin-bottom': '.5em'}\"\r\n                        [disabled]=\"selectedRows.length<=0\"></button>\r\n                        <button pButton  label=\"Download All\"  (click) = \"downloadAll()\" [style]=\"{'margin-bottom': '.5em'}\"></button>\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"header\" let-columns>\r\n                    <tr *ngIf = \"mainView; else subViewTH\">\r\n                        <th scope=\"col\" style=\"max-width:4em\"><p-tableHeaderCheckbox></p-tableHeaderCheckbox></th>\r\n                        <th scope=\"col\" style=\"max-width:4em\">SN</th>\r\n                        <th scope=\"col\" style=\"max-width:6em\">eClaim</th>\r\n                        <th scope=\"col\" pSortableColumn =\"fileName\">Filename<p-sortIcon field=\"fileName\"></p-sortIcon></th>\r\n                        <th scope=\"col\" pSortableColumn =\"indexDt\">Indexed On<p-sortIcon field=\"indexDt\"></p-sortIcon></th>\r\n                        <th scope=\"col\" pSortableColumn =\"indexByInit\">Indexed By<p-sortIcon field=\"indexByInit\"></p-sortIcon></th>\r\n                    </tr>\r\n                    <ng-template #subViewTH>\r\n                        <tr>\r\n                            <th scope=\"col\" style=\"max-width:4em\"><p-tableHeaderCheckbox></p-tableHeaderCheckbox></th>\r\n                            <th scope=\"col\" style=\"max-width:4em\">SN</th>\r\n                            <th scope=\"col\" style=\"max-width:6em\">eClaim</th>\r\n                            <th scope=\"col\" style=\"max-width:40em\" pSortableColumn =\"fileName\">Filename<p-sortIcon field=\"fileName\"></p-sortIcon></th>\r\n                            <th scope=\"col\" style=\"max-width:8em\" pSortableColumn =\"indexDt\">Indexed On<p-sortIcon field=\"indexDt\"></p-sortIcon></th>\r\n                            <th scope=\"col\" style=\"max-width:8em\" pSortableColumn =\"indexByInit\">Indexed By<p-sortIcon field=\"indexByInit\"></p-sortIcon></th>\r\n                        </tr>\r\n\r\n                    </ng-template>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"body\" let-suppDocFile let-rowIndex = \"rowIndex\" let-columns=\"columns\">\r\n                    <tr [formGroupName]=\"rowIndex\" *ngIf = \"mainView; else subViewTR\">\r\n                        <td style=\"max-width:4em\"><p-tableCheckbox [value]=\"suppDocFile\" [disabled]=\"suppDocFile.value.fileName===null || suppDocFile.value.fileName ===undefined\"></p-tableCheckbox></td>\r\n                        <td style=\"max-width:4em\">{{ rowIndex + 1}}</td>\r\n                        <td  style=\"max-width:6em\"><p-checkbox formControlName=\"eclaimInd\"  [value]=\"suppDocFile.value.eclaimInd === 'Y'\" [binary]=\"true\" [disabled]=\"true\"></p-checkbox></td>\r\n                        <td >\r\n                            <ng-container *ngIf=\"suppDocFile.value.fileName===null || suppDocFile.value.fileName===undefined;else hasFileName\">\r\n                                Index Without Document\r\n                            </ng-container>\r\n                            <ng-template #hasFileName>\r\n                                <ng-container *ngIf=\"unUploadedEClaimSupp && rowIndex === 0; else hyperLink\">\r\n                                    {{ suppDocFile.value.fileName }}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                            <ng-template #hyperLink>\r\n                                <a href='javascript:' (click)=\"openFileInNewTab(suppDocFile.value.docId)\">{{ suppDocFile.value.fileName }}</a>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td >{{ this.dateUtilsService.convertUnixToDateString(suppDocFile.value.indexDt,dateFormat) | defaultString }}</td>\r\n                        <td >{{ suppDocFile.value.indexByInit | defaultString }}</td>\r\n                        <ng-template #IndexWODoc>\r\n                            Index Without Document\r\n                        </ng-template>\r\n                    </tr>\r\n                    <ng-template #subViewTR>\r\n                        <tr [formGroupName]=\"rowIndex\">\r\n                            <td style=\"max-width:4em\"><p-tableCheckbox [value]=\"suppDocFile\" [disabled]=\"suppDocFile.value.fileName===null || suppDocFile.value.fileName ===undefined\"></p-tableCheckbox></td>\r\n                            <td style=\"max-width:4em\">{{ rowIndex + 1}}</td>\r\n                            <td style=\"max-width:6em\"><p-checkbox formControlName=\"eclaimInd\"  [value]=\"suppDocFile.value.eclaimInd === 'Y'\" [binary]=\"true\" [disabled]=\"true\"></p-checkbox></td>\r\n                            <td style=\"max-width:40em\">\r\n                                <ng-container *ngIf=\"suppDocFile.value.fileName===null || suppDocFile.value.fileName===undefined;else hasFileName\">\r\n                                    Index Without Document\r\n                                </ng-container>\r\n                                <ng-template #hasFileName>\r\n                                    <ng-container *ngIf=\"unUploadedEClaimSupp && rowIndex === 0; else hyperLink\">\r\n                                        {{ suppDocFile.value.fileName }}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                                <ng-template #hyperLink>\r\n                                    <a href='javascript:' (click)=\"openFileInNewTab(suppDocFile.value.docId)\">{{ suppDocFile.value.fileName }}</a>\r\n                                </ng-template>\r\n                            </td>\r\n                            <td style=\"max-width:8em\" >{{ this.dateUtilsService.convertUnixToDateString(suppDocFile.value.indexDt,dateFormat) | defaultString }}</td>\r\n                            <td style=\"max-width:8em\" >{{ suppDocFile.value.indexByInit | defaultString }}</td>\r\n                            <ng-template #IndexWODoc>\r\n                                Index Without Document\r\n                            </ng-template>\r\n                        </tr>\r\n\r\n                    </ng-template>\r\n                </ng-template>\r\n                <ng-template pTemplate=\"emptymessage\">\r\n                    <tr>\r\n                        <td colspan=\"6\"><span><i class=\"pi pi-info-circle\"></i>&nbsp;No records found.</span></td>\r\n                    </tr>\r\n                </ng-template>\r\n            </p-table>\r\n        </div>\r\n    </form>\r\n</div>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}