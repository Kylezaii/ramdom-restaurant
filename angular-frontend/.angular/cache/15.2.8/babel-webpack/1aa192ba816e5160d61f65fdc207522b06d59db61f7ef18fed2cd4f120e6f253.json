{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PayrollRejectionHistoryComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../../service/workload-inbox.service\"));\nconst i2 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i3 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i10 = tslib_1.__importStar(require(\"../../../shared/pipe/default-string.pipe\"));\nconst _c0 = [\"dataTable\"];\nconst _c1 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-right\": \".5em\"\n  };\n};\nfunction PayrollRejectionHistoryComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵtext(4, \"\\n                    \");\n    i0.ɵɵelementStart(5, \"p-button\", 8);\n    i0.ɵɵlistener(\"click\", function PayrollRejectionHistoryComponent_ng_template_3_Template_p_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r5.exportCSV(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n\\n        \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(2, _c1));\n  }\n}\nfunction PayrollRejectionHistoryComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"th\", 9);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementStart(6, \"th\", 10);\n    i0.ɵɵtext(7, \"Rej Txn No.\");\n    i0.ɵɵelement(8, \"p-sortIcon\", 11);\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵelement(10, \"p-columnFilter\", 12);\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementStart(13, \"th\", 13);\n    i0.ɵɵtext(14, \"Action By\");\n    i0.ɵɵelement(15, \"p-sortIcon\", 14);\n    i0.ɵɵtext(16, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementStart(18, \"th\", 15);\n    i0.ɵɵtext(19, \"New Txn No.\");\n    i0.ɵɵelement(20, \"p-sortIcon\", 16);\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵelement(22, \"p-columnFilter\", 17);\n    i0.ɵɵtext(23, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                \");\n    i0.ɵɵelementStart(25, \"th\", 18);\n    i0.ɵɵtext(26, \"Type\");\n    i0.ɵɵelement(27, \"p-sortIcon\", 19);\n    i0.ɵɵtext(28, \"\\n                    \");\n    i0.ɵɵelement(29, \"p-columnFilter\", 20);\n    i0.ɵɵtext(30, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵelementStart(32, \"th\", 21);\n    i0.ɵɵtext(33, \"Name\");\n    i0.ɵɵelement(34, \"p-sortIcon\", 22);\n    i0.ɵɵtext(35, \"\\n                    \");\n    i0.ɵɵelement(36, \"p-columnFilter\", 23);\n    i0.ɵɵtext(37, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n                \");\n    i0.ɵɵelementStart(39, \"th\", 24);\n    i0.ɵɵtext(40, \"SubmittedBy\");\n    i0.ɵɵelement(41, \"p-sortIcon\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \"\\n                \");\n    i0.ɵɵelementStart(43, \"th\", 26);\n    i0.ɵɵtext(44, \"Rejected By\");\n    i0.ɵɵelement(45, \"p-sortIcon\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                \");\n    i0.ɵɵelementStart(47, \"th\", 28);\n    i0.ɵɵtext(48, \"Rejected Reason\");\n    i0.ɵɵelement(49, \"p-sortIcon\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n        \");\n  }\n}\nfunction PayrollRejectionHistoryComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n\\n        \");\n    i0.ɵɵelementStart(1, \"tr\", 30);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n            \");\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"defaultString\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n            \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n            \");\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelement(23, \"br\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n            \");\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n            \");\n    i0.ɵɵelementStart(31, \"td\");\n    i0.ɵɵtext(32);\n    i0.ɵɵelement(33, \"br\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n            \");\n    i0.ɵɵelementStart(36, \"td\");\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n    \");\n  }\n  if (rf & 2) {\n    const payRollRejectionHist_r8 = ctx.$implicit;\n    const rowIndex_r9 = ctx.rowIndex;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pSelectableRow\", payRollRejectionHist_r8);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(rowIndex_r9 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payRollRejectionHist_r8.txnNo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", payRollRejectionHist_r8.removedByInit, \" \", ctx_r3.mapRemoveWAction(payRollRejectionHist_r8.removeWAction), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\n                \", ctx_r3.dateUtilsService.convertUnixToDateString(payRollRejectionHist_r8.removeDate, ctx_r3.dateFormat), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 15, payRollRejectionHist_r8.childTxnNo));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(payRollRejectionHist_r8.type);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", payRollRejectionHist_r8.claimantName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", payRollRejectionHist_r8.claimantNRIC, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", payRollRejectionHist_r8.submittedByInit, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.dateUtilsService.convertUnixToDateString(payRollRejectionHist_r8.submittedDate, ctx_r3.dateFormat), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", payRollRejectionHist_r8.rejectedByInit, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"  \", ctx_r3.dateUtilsService.convertUnixToDateString(payRollRejectionHist_r8.rejectedDate, ctx_r3.dateFormat), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payRollRejectionHist_r8.rejectionReason);\n  }\n}\nfunction PayrollRejectionHistoryComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4, \"No records found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n}\nconst _c2 = function () {\n  return [10, 15, 20];\n};\nclass PayrollRejectionHistoryComponent {\n  constructor(workloadService, primengConfig, nspConfirmService, ns2Http, dateUtilsService, toastService, exportUtilsService) {\n    this.workloadService = workloadService;\n    this.primengConfig = primengConfig;\n    this.nspConfirmService = nspConfirmService;\n    this.ns2Http = ns2Http;\n    this.dateUtilsService = dateUtilsService;\n    this.toastService = toastService;\n    this.exportUtilsService = exportUtilsService;\n    this.payrollRejectionHistList = [];\n    this.totalRecords = 0;\n    this.cols = [];\n    this.dateFormat = \"DD-MM-YYYY\";\n    this.pageData = {\n      currentPage: 0\n    };\n    this.pageSize = 10;\n  }\n  ngOnInit() {\n    this.cols = [{\n      field: 'txnNo',\n      header: 'Rej Txn No.',\n      index: 1\n    }, {\n      field: 'actionBy',\n      header: 'Action By.',\n      index: 2\n    }, {\n      field: 'newTxnNo',\n      header: 'New Txn No.',\n      index: 3\n    }, {\n      field: 'type',\n      header: 'Type',\n      index: 2\n    }, {\n      field: 'name',\n      header: 'Name',\n      index: 3\n    }, {\n      field: 'submittedBy',\n      header: 'Submitted By',\n      index: 4\n    }, {\n      field: 'rejectedBy',\n      header: 'Rejected By',\n      index: 5\n    }, {\n      field: 'rejectedReason',\n      header: 'Rejected Reason',\n      index: 6\n    }];\n    this.loading = true;\n  }\n  getPayRollRejectionHistData(event) {\n    this.lastTableLazyLoadEvent = event;\n    this.loading = true;\n    this.pageSize = event.rows;\n    setTimeout(() => {\n      const options = this.ns2Http.convertLazyEvent(event, this.pageData, this.pageSize);\n      this.workloadService.getPayRollRejectionHistData(options).subscribe(resp => {\n        if (resp.body.data) {\n          this.payrollRejectionHistList = resp.body.data.dtoList;\n          this.totalRecords = resp.body.data.total_no_of_elems;\n        }\n        this.loading = false;\n      });\n    }, 0);\n    return this.payrollRejectionHistList;\n  }\n  onPage(event) {\n    console.log(\"pageevent\", event);\n    this.pageData.currentPage = event.first / event.rows;\n  }\n  mapRemoveWAction(code) {\n    switch (code) {\n      case 1:\n        return \"Remove-No-Action\";\n      case 2:\n        return \"Remove-Action\";\n      default:\n        return \"Remove-No-Action\";\n    }\n  }\n  exportCSV(dataTable) {\n    this.workloadService.getPayRollRejectionHistData(null).subscribe(resp => {\n      if (resp.body.data) {\n        const columns = [{\n          field: 'txnNo',\n          header: 'Txn No.',\n          index: 1\n        }, {\n          field: 'removedBy',\n          header: 'Action By',\n          index: 2\n        }, {\n          field: 'removeWAction',\n          header: 'Action',\n          index: 3\n        }, {\n          field: 'removedByDte',\n          header: 'Action By Date',\n          index: 4\n        }, {\n          field: 'childTxnNo',\n          header: 'New Txn No.',\n          index: 5\n        }, {\n          field: 'type',\n          header: 'Type',\n          index: 6\n        }, {\n          field: 'claimantName',\n          header: 'Name',\n          index: 7\n        }, {\n          field: 'claimantNRIC',\n          header: 'NRIC',\n          index: 8\n        }, {\n          field: 'submittedBy',\n          header: 'Submitted By',\n          index: 9\n        }, {\n          field: 'submittedByDte',\n          header: 'Submitted By Date',\n          index: 10\n        }, {\n          field: 'rejectedBy',\n          header: 'Rejected By',\n          index: 11\n        }, {\n          field: 'rejectedByDte',\n          header: 'Rejected By Date',\n          index: 12\n        }, {\n          field: 'rejectionReason',\n          header: 'Rejection Reason',\n          index: 13\n        }];\n        const dtoList = [];\n        resp.body.data.dtoList.forEach(data => {\n          const dto = {\n            txnNo: data.txnNo,\n            removedBy: data.removedByInit,\n            removeWAction: this.mapRemoveWAction(data.removeWAction),\n            removedByDte: this.dateUtilsService.convertUnixToDateString(data.removeDate, this.dateFormat),\n            childTxnNo: data.childTxnNo,\n            type: data.type,\n            claimantName: data.claimantName,\n            claimantNRIC: data.claimantNRIC,\n            submittedBy: data.submittedByInit,\n            submittedByDte: this.dateUtilsService.convertUnixToDateString(data.submittedDate, this.dateFormat),\n            rejectedBy: data.rejectedByInit,\n            rejectedByDte: this.dateUtilsService.convertUnixToDateString(data.rejectedDate, this.dateFormat),\n            rejectionReason: data.rejectionReason\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, resp.body.data.total_no_of_elems, columns, \"payroll_rejection_history\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", 'en-US')));\n        this.loading = false;\n      }\n    });\n  }\n  resetDataTable() {\n    this.table.filters = {};\n    this.pageData.currentPage = 0;\n    this.pageSize = 10;\n    this.table.reset();\n  }\n}\nexports.PayrollRejectionHistoryComponent = PayrollRejectionHistoryComponent;\nPayrollRejectionHistoryComponent.ɵfac = function PayrollRejectionHistoryComponent_Factory(t) {\n  return new (t || PayrollRejectionHistoryComponent)(i0.ɵɵdirectiveInject(i1.WorkloadInboxService), i0.ɵɵdirectiveInject(i2.PrimeNGConfig), i0.ɵɵdirectiveInject(i3.NspConfirmationService), i0.ɵɵdirectiveInject(i4.Ns2HttpService), i0.ɵɵdirectiveInject(i5.DateUtilsService), i0.ɵɵdirectiveInject(i6.CustomToastService), i0.ɵɵdirectiveInject(i7.ExportUtilsService));\n};\nPayrollRejectionHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PayrollRejectionHistoryComponent,\n  selectors: [[\"n2-payroll-rejection-history\"]],\n  viewQuery: function PayrollRejectionHistoryComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n    }\n  },\n  decls: 12,\n  vars: 10,\n  consts: [[\"dataKey\", \"id\", \"styleClass\", \"p-datatable-gridlines p-datatable-striped\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"responsiveLayout\", \"scroll\", \"sortField\", \"txnNo\", 3, \"value\", \"paginator\", \"rows\", \"lazy\", \"showCurrentPageReport\", \"totalRecords\", \"filterDelay\", \"loading\", \"rowsPerPageOptions\", \"onLazyLoad\", \"onPage\"], [\"dataTable\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"grid\"], [1, \"col-6\", \"nsp-align-left\"], [\"icon\", \"pi pi-file-o\", 3, \"click\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"txnNo\"], [\"field\", \"txnNo\"], [\"type\", \"text\", \"field\", \"txnNo\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"removedBy\"], [\"field\", \"removedBy\"], [\"scope\", \"col\", \"pSortableColumn\", \"childTxnNo\"], [\"field\", \"childTxnNo\"], [\"type\", \"text\", \"field\", \"childTxnNo\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"type\"], [\"field\", \"type\"], [\"type\", \"text\", \"field\", \"type\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"claimantNRIC\"], [\"field\", \"claimantNRIC\"], [\"type\", \"text\", \"field\", \"claimantNRIC\", \"display\", \"menu\", \"matchMode\", \"contains\"], [\"scope\", \"col\", \"pSortableColumn\", \"submittedBy\"], [\"field\", \"submittedBy\"], [\"scope\", \"col\", \"pSortableColumn\", \"rejectedBy\"], [\"field\", \"rejectedBy\"], [\"scope\", \"col\", \"pSortableColumn\", \"rejectionReason\"], [\"field\", \"rejectionReason\"], [3, \"pSelectableRow\"], [\"colspan\", \"8\"]],\n  template: function PayrollRejectionHistoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0, 1);\n      i0.ɵɵlistener(\"onLazyLoad\", function PayrollRejectionHistoryComponent_Template_p_table_onLazyLoad_0_listener($event) {\n        return ctx.getPayRollRejectionHistData($event);\n      })(\"onPage\", function PayrollRejectionHistoryComponent_Template_p_table_onPage_0_listener($event) {\n        return ctx.onPage($event);\n      });\n      i0.ɵɵtext(2, \"\\n\\n        \");\n      i0.ɵɵtemplate(3, PayrollRejectionHistoryComponent_ng_template_3_Template, 9, 3, \"ng-template\", 2);\n      i0.ɵɵtext(4, \"\\n        \");\n      i0.ɵɵtemplate(5, PayrollRejectionHistoryComponent_ng_template_5_Template, 52, 0, \"ng-template\", 3);\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵtemplate(7, PayrollRejectionHistoryComponent_ng_template_7_Template, 40, 17, \"ng-template\", 4);\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵtemplate(9, PayrollRejectionHistoryComponent_ng_template_9_Template, 7, 0, \"ng-template\", 5);\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.payrollRejectionHistList)(\"paginator\", true)(\"rows\", ctx.pageSize)(\"lazy\", true)(\"showCurrentPageReport\", true)(\"totalRecords\", ctx.totalRecords)(\"filterDelay\", 0)(\"loading\", ctx.loading)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(9, _c2));\n    }\n  },\n  dependencies: [i2.PrimeTemplate, i8.Button, i9.Table, i9.SortableColumn, i9.SelectableRow, i9.SortIcon, i9.ColumnFilter, i10.DefaultStringPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYXlyb2xsLXJlamVjdGlvbi1oaXN0b3J5LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvd29ya2xvYWQvcGF5cm9sbC12ZXJpZmllci9wYXlyb2xsLXJlamVjdGlvbi1oaXN0b3J5L3BheXJvbGwtcmVqZWN0aW9uLWhpc3RvcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLDRMQUE0TCIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","PayrollRejectionHistoryComponent","constructor","workloadService","primengConfig","nspConfirmService","ns2Http","dateUtilsService","toastService","exportUtilsService","currentPage","ngOnInit","cols","field","header","index","loading","getPayRollRejectionHistData","event","lastTableLazyLoadEvent","pageSize","rows","setTimeout","options","convertLazyEvent","pageData","subscribe","resp","body","data","payrollRejectionHistList","dtoList","totalRecords","total_no_of_elems","onPage","console","log","first","mapRemoveWAction","code","exportCSV","dataTable","columns","forEach","dto","txnNo","removedBy","removedByInit","removeWAction","removedByDte","convertUnixToDateString","removeDate","dateFormat","childTxnNo","type","claimantName","claimantNRIC","submittedBy","submittedByInit","submittedByDte","submittedDate","rejectedBy","rejectedByInit","rejectedByDte","rejectedDate","rejectionReason","push","concat","Date","resetDataTable","table","filters","reset","exports","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\workload\\payroll-verifier\\payroll-rejection-history\\payroll-rejection-history.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\workload\\payroll-verifier\\payroll-rejection-history\\payroll-rejection-history.component.html"],"sourcesContent":["import {Component, EventEmitter, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {DateUtilsService} from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport {CustomToastService} from 'app/layouts/service/customtoast.service';\r\nimport {NspConfirmationService} from 'app/shared/confirm/nsp-confirm.service';\r\nimport {Ns2HttpService} from 'app/shared/service/ns2-http.service';\r\nimport {AnyARecord} from 'dns';\r\nimport {LazyLoadEvent, PrimeNGConfig} from 'primeng/api';\r\nimport { Table } from 'primeng/table';\r\nimport {WorkloadInboxService} from '../../service/workload-inbox.service';\r\nimport { formatDate } from \"@angular/common\";\r\n\r\n@Component({\r\n  selector: 'n2-payroll-rejection-history',\r\n  templateUrl: './payroll-rejection-history.component.html',\r\n  styleUrls: ['./payroll-rejection-history.component.scss']\r\n})\r\nexport class PayrollRejectionHistoryComponent implements OnInit {\r\n\r\n  public payrollRejectionHistList : any[] = [];\r\n  loading!: boolean;\r\n  lastTableLazyLoadEvent: LazyLoadEvent;\r\n\r\n  totalRecords = 0;\r\n  public cols: any [] = [];\r\n  dateFormat = \"DD-MM-YYYY\";\r\n  pageData: {currentPage: number} = {\r\n    currentPage: 0\r\n  }\r\n  pageSize = 10;\r\n  @ViewChild('dataTable') table: Table;\r\n\r\n  constructor(\r\n    private workloadService: WorkloadInboxService,\r\n    private primengConfig: PrimeNGConfig,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private ns2Http: Ns2HttpService,\r\n    public dateUtilsService: DateUtilsService,\r\n    private toastService: CustomToastService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    )\r\n    {}\r\n\r\n    ngOnInit(): void {\r\n      this.cols = [\r\n        { field: 'txnNo', header: 'Rej Txn No.', index: 1 },\r\n        { field: 'actionBy', header: 'Action By.', index: 2 },\r\n        { field: 'newTxnNo', header: 'New Txn No.', index: 3 },\r\n        { field: 'type', header: 'Type', index: 2 },\r\n        { field: 'name', header: 'Name', index: 3 },\r\n        { field: 'submittedBy', header: 'Submitted By', index: 4 },\r\n        { field: 'rejectedBy', header: 'Rejected By', index: 5 },\r\n        { field: 'rejectedReason', header: 'Rejected Reason', index: 6 }\r\n      ];\r\n      this.loading = true;\r\n\r\n\r\n    }\r\n\r\n    getPayRollRejectionHistData(event: any): any[] {\r\n      this.lastTableLazyLoadEvent = event;\r\n      this.loading = true;\r\n      this.pageSize = event.rows;\r\n\r\n      setTimeout(() => {\r\n        const options = this.ns2Http.convertLazyEvent(event, this.pageData, this.pageSize);\r\n        this.workloadService.getPayRollRejectionHistData(options).subscribe((resp:any)=> {\r\n          if(resp.body.data){\r\n              this.payrollRejectionHistList = resp.body.data.dtoList;\r\n              this.totalRecords = resp.body.data.total_no_of_elems;\r\n          }\r\n          this.loading = false;\r\n        });\r\n      }, 0);\r\n      return this.payrollRejectionHistList;\r\n    }\r\n\r\n\r\n  onPage(event:any): void{\r\n    console.log(\"pageevent\", event);\r\n    this.pageData.currentPage = event.first/event.rows;\r\n  }\r\n\r\n  mapRemoveWAction(code: number): string{\r\n    switch(code){\r\n      case 1:\r\n        return \"Remove-No-Action\";\r\n      case 2:\r\n        return \"Remove-Action\";\r\n      default:\r\n        return \"Remove-No-Action\";\r\n    }\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void{\r\n    this.workloadService.getPayRollRejectionHistData(null).subscribe((resp: any) => {\r\n      if (resp.body.data) {\r\n        const columns = \r\n          [\r\n            {field: 'txnNo', header: 'Txn No.', index: 1},\r\n            {field: 'removedBy', header: 'Action By', index: 2},\r\n            {field: 'removeWAction', header: 'Action', index: 3},\r\n            {field: 'removedByDte', header: 'Action By Date', index: 4},\r\n            {field: 'childTxnNo', header: 'New Txn No.', index: 5},\r\n            {field: 'type', header: 'Type', index: 6},\r\n            {field: 'claimantName', header: 'Name', index: 7},\r\n            {field: 'claimantNRIC', header: 'NRIC', index: 8},\r\n            {field: 'submittedBy', header: 'Submitted By', index: 9},\r\n            {field: 'submittedByDte', header: 'Submitted By Date', index: 10},\r\n            {field: 'rejectedBy', header: 'Rejected By', index: 11},\r\n            {field: 'rejectedByDte', header: 'Rejected By Date', index: 12},\r\n            {field: 'rejectionReason', header: 'Rejection Reason', index: 13}\r\n\r\n          ];\r\n        const dtoList:any[] = [];\r\n        resp.body.data.dtoList.forEach((data:any)=>{\r\n          const dto = {\r\n            txnNo: data.txnNo,\r\n            removedBy: data.removedByInit,\r\n            removeWAction: this.mapRemoveWAction(data.removeWAction),\r\n            removedByDte: this.dateUtilsService.convertUnixToDateString(data.removeDate, this.dateFormat),\r\n            childTxnNo: data.childTxnNo,\r\n            type: data.type,\r\n            claimantName: data.claimantName,\r\n            claimantNRIC: data.claimantNRIC,\r\n            submittedBy: data.submittedByInit,\r\n            submittedByDte:  this.dateUtilsService.convertUnixToDateString(data.submittedDate, this.dateFormat),\r\n            rejectedBy: data.rejectedByInit,\r\n            rejectedByDte: this.dateUtilsService.convertUnixToDateString(data.rejectedDate, this.dateFormat),\r\n            rejectionReason: data.rejectionReason\r\n          }\r\n          dtoList.push(dto);\r\n          \r\n        })\r\n        this.exportUtilsService.exportCSV(dataTable, dtoList,resp.body.data.total_no_of_elems, columns, \r\n          \"payroll_rejection_history\".concat(formatDate(new Date(),\"dd-MM-YYYY\", 'en-US')));\r\n      this.loading = false;\r\n    }});\r\n    \r\n  }\r\n\r\n  resetDataTable(): void {\r\n    this.table.filters = {};\r\n    this.pageData.currentPage = 0;\r\n    this.pageSize = 10;\r\n    this.table.reset();\r\n  }\r\n}\r\n","<p-table [value]=\"payrollRejectionHistList\"\r\n            [paginator]=\"true\"\r\n            [rows]=\"pageSize\"\r\n            [lazy] = \"true\"\r\n            [showCurrentPageReport]=\"true\"\r\n            (onLazyLoad)=\"getPayRollRejectionHistData($event)\"\r\n            [totalRecords] = \"totalRecords\"\r\n            dataKey = \"id\"\r\n            [filterDelay]=\"0\"\r\n            [loading] = \"loading\"\r\n            styleClass=\"p-datatable-gridlines p-datatable-striped\"\r\n            [rowsPerPageOptions]=\"[10,15,20]\"\r\n            currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\r\n            responsiveLayout=\"scroll\"\r\n            sortField=\"txnNo\"\r\n            (onPage) = \"onPage($event)\"\r\n            #dataTable\r\n            >\r\n\r\n        <ng-template pTemplate=\"caption\">\r\n            <div class=\"grid\">\r\n                <div class = \"col-6 nsp-align-left\">\r\n                    <p-button icon=\"pi pi-file-o\" [style]=\"{'margin-left': '.5em', 'margin-right': '.5em'}\" (click) = \"exportCSV(dataTable)\"></p-button>\r\n                </div>\r\n            </div>\r\n\r\n        </ng-template>\r\n        <ng-template pTemplate=\"header\" let-columns>\r\n            <tr>\r\n                <th scope=\"col\">SN</th>\r\n                <th scope=\"col\" pSortableColumn = \"txnNo\">Rej Txn No.<p-sortIcon field=\"txnNo\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"txnNo\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn =\"removedBy\">Action By<p-sortIcon field=\"removedBy\"></p-sortIcon>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn = \"childTxnNo\">New Txn No.<p-sortIcon field=\"childTxnNo\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"childTxnNo\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn =\"type\">Type<p-sortIcon field=\"type\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"type\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn =\"claimantNRIC\">Name<p-sortIcon field=\"claimantNRIC\"></p-sortIcon>\r\n                    <p-columnFilter type=\"text\" field=\"claimantNRIC\" display=\"menu\" matchMode=\"contains\"></p-columnFilter>\r\n                </th>\r\n                <th scope=\"col\" pSortableColumn =\"submittedBy\">SubmittedBy<p-sortIcon field=\"submittedBy\"></p-sortIcon></th>\r\n                <th scope=\"col\" pSortableColumn =\"rejectedBy\">Rejected By<p-sortIcon field=\"rejectedBy\"></p-sortIcon></th>\r\n                <th scope=\"col\" pSortableColumn =\"rejectionReason\">Rejected Reason<p-sortIcon field=\"rejectionReason\"></p-sortIcon></th>\r\n\r\n            </tr>\r\n        </ng-template>\r\n    <ng-template pTemplate=\"body\" let-payRollRejectionHist let-rowIndex = \"rowIndex\" let-columns=\"columns\">\r\n\r\n        <tr [pSelectableRow]=\"payRollRejectionHist\">\r\n            <td>{{ rowIndex + 1}}</td>\r\n            <td>{{payRollRejectionHist.txnNo}}</td>\r\n            <td>{{payRollRejectionHist.removedByInit}} {{ mapRemoveWAction(payRollRejectionHist.removeWAction) }} <br/>\r\n                {{ dateUtilsService.convertUnixToDateString(payRollRejectionHist.removeDate, dateFormat) }}</td>\r\n            <td>{{payRollRejectionHist.childTxnNo | defaultString}}</td>\r\n            <td>{{payRollRejectionHist.type }}</td>\r\n            <td>{{payRollRejectionHist.claimantName }} <br/> {{ payRollRejectionHist.claimantNRIC}}</td>\r\n            <td>{{payRollRejectionHist.submittedByInit }} <br/> {{ dateUtilsService.convertUnixToDateString(payRollRejectionHist.submittedDate, dateFormat) }}</td>\r\n            <td>{{payRollRejectionHist.rejectedByInit}} <br/>  {{ dateUtilsService.convertUnixToDateString(payRollRejectionHist.rejectedDate, dateFormat)  }}</td>\r\n            <td>{{payRollRejectionHist.rejectionReason}}</td>\r\n\r\n        </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"emptymessage\">\r\n        <tr>\r\n            <td colspan=\"8\">No records found.</td>\r\n        </tr>\r\n    </ng-template>\r\n</p-table>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}