{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KahRnsaReleaseComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"primeng/tabview\"));\nconst i2 = tslib_1.__importStar(require(\"./release-kah-rnsa-by-nric/release-kah-rnsa-by-nric.component\"));\nconst i3 = tslib_1.__importStar(require(\"./release-kah-rnsa-by-amount/release-kah-rnsa-by-amount.component\"));\nconst _c0 = [\"releaseKahRnsaByAmountComponent\"];\nconst _c1 = [\"releaseKahRnsaByNricComponent\"];\nclass KahRnsaReleaseComponent {\n  constructor() {\n    this.activeIndex = 0;\n    //\n  }\n\n  ngOnInit() {\n    //\n  }\n  isReleaseByAmountFormValid() {\n    return this.releaseKahRnsaByAmountComponent.isFormValid();\n  }\n  isReleaseByNricValid() {\n    // Valid if there is at least 1 NRIC to be released\n    return this.releaseKahRnsaByNricComponent.nricToReleaseMap.size > 0;\n  }\n  isFormValid() {\n    if (this.activeIndex === 0) {\n      return this.releaseKahRnsaByAmountComponent.isFormValid();\n    } else {\n      return this.releaseKahRnsaByNricComponent.nricToReleaseMap.size > 0;\n    }\n  }\n  getRequestValue() {\n    const releaseBy = this.activeIndex === 0 ? 'AMOUNT' : 'NRIC';\n    const value = {\n      releaseMethod: releaseBy\n    };\n    if (releaseBy === 'AMOUNT') {\n      value.amount = this.releaseKahRnsaByAmountComponent.releaseKahRnsaByAmountForm.get('amount').value;\n      value.selectionMethod = this.releaseKahRnsaByAmountComponent.releaseKahRnsaByAmountForm.get('selectionMethod').value;\n    } else {\n      value.nricList = this.releaseKahRnsaByNricComponent.getNricList();\n    }\n    return value;\n  }\n  reset() {\n    this.releaseKahRnsaByNricComponent.reset();\n    this.releaseKahRnsaByAmountComponent.reset();\n  }\n}\nexports.KahRnsaReleaseComponent = KahRnsaReleaseComponent;\nKahRnsaReleaseComponent.ɵfac = function KahRnsaReleaseComponent_Factory(t) {\n  return new (t || KahRnsaReleaseComponent)();\n};\nKahRnsaReleaseComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KahRnsaReleaseComponent,\n  selectors: [[\"n2-kah-rnsa-release\"]],\n  viewQuery: function KahRnsaReleaseComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.releaseKahRnsaByAmountComponent = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.releaseKahRnsaByNricComponent = _t.first);\n    }\n  },\n  decls: 15,\n  vars: 1,\n  consts: [[3, \"activeIndex\", \"activeIndexChange\"], [\"header\", \"Release by Amount\"], [\"releaseKahRnsaByAmountComponent\", \"\"], [\"header\", \"Release by NRIC\"], [\"releaseKahRnsaByNricComponent\", \"\"]],\n  template: function KahRnsaReleaseComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-tabView\", 0);\n      i0.ɵɵlistener(\"activeIndexChange\", function KahRnsaReleaseComponent_Template_p_tabView_activeIndexChange_0_listener($event) {\n        return ctx.activeIndex = $event;\n      });\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"p-tabPanel\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelement(4, \"n2-release-kah-rnsa-by-amount\", null, 2);\n      i0.ɵɵtext(6, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n  \");\n      i0.ɵɵelementStart(8, \"p-tabPanel\", 3);\n      i0.ɵɵtext(9, \"\\n    \");\n      i0.ɵɵelement(10, \"n2-release-kah-rnsa-by-nric\", null, 4);\n      i0.ɵɵtext(12, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"activeIndex\", ctx.activeIndex);\n    }\n  },\n  dependencies: [i1.TabView, i1.TabPanel, i2.ReleaseKahRnsaByNricComponent, i3.ReleaseKahRnsaByAmountComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJrYWgtcm5zYS1yZWxlYXNlLmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5bWVudC9iYW5rZmlsZS1zdG9wLXBheW1lbnQvc3RvcC1wYXltZW50L2thaC1ybnNhLXJlbGVhc2Uva2FoLXJuc2EtcmVsZWFzZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0xBQWdMIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;AASA,MAKaA,uBAAuB;EASlCC;IARA,gBAAW,GAAG,CAAC;IASb;EACF;;EAEAC,QAAQ;IACN;EAAA;EAGFC,0BAA0B;IACxB,OAAO,IAAI,CAACC,+BAA+B,CAACC,WAAW,EAAE;EAC3D;EAEAC,oBAAoB;IAClB;IACA,OAAO,IAAI,CAACC,6BAA6B,CAACC,gBAAgB,CAACC,IAAI,GAAG,CAAC;EACrE;EAEAJ,WAAW;IACT,IAAI,IAAI,CAACK,WAAW,KAAK,CAAC,EAAE;MAC1B,OAAO,IAAI,CAACN,+BAA+B,CAACC,WAAW,EAAE;KAC1D,MAAM;MACL,OAAO,IAAI,CAACE,6BAA6B,CAACC,gBAAgB,CAACC,IAAI,GAAG,CAAC;;EAEvE;EAEAE,eAAe;IACb,MAAMC,SAAS,GAAG,IAAI,CAACF,WAAW,KAAK,CAAC,GAAG,QAAQ,GAAG,MAAM;IAC5D,MAAMG,KAAK,GAAoB;MAC7BC,aAAa,EAAEF;KAChB;IAED,IAAGA,SAAS,KAAK,QAAQ,EAAE;MACzBC,KAAK,CAACE,MAAM,GAAG,IAAI,CAACX,+BAA+B,CAACY,0BAA0B,CAACC,GAAG,CAAC,QAAQ,CAAC,CAACJ,KAAK;MAClGA,KAAK,CAACK,eAAe,GAAG,IAAI,CAACd,+BAA+B,CAACY,0BAA0B,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAACJ,KAAK;KACrH,MAAM;MACLA,KAAK,CAACM,QAAQ,GAAG,IAAI,CAACZ,6BAA6B,CAACa,WAAW,EAAE;;IAGnE,OAAOP,KAAK;EACd;EAEAQ,KAAK;IACH,IAAI,CAACd,6BAA6B,CAACc,KAAK,EAAE;IAC1C,IAAI,CAACjB,+BAA+B,CAACiB,KAAK,EAAE;EAC9C;;AA1DFC;;mBAKatB,uBAAuB;AAAA;;QAAvBA,uBAAuB;EAAAuB;EAAAC;IAAA;;;;;;;;;;;;;;;MCdpCC,oCAAyC;MAA9BA;QAAA;MAAA,EAA6B;MACtCA;MAAAA,qCAAuC;MACrCA;MAAAA,yDAAgG;MAClGA;MAAAA,iBAAa;MACbA;MAAAA,qCAAqC;MACnCA;MAAAA,wDAA0F;MAC5FA;MAAAA,iBAAa;MACfA;MAAAA,iBAAY;MACZA;;;MARWA,6CAA6B","names":["KahRnsaReleaseComponent","constructor","ngOnInit","isReleaseByAmountFormValid","releaseKahRnsaByAmountComponent","isFormValid","isReleaseByNricValid","releaseKahRnsaByNricComponent","nricToReleaseMap","size","activeIndex","getRequestValue","releaseBy","value","releaseMethod","amount","releaseKahRnsaByAmountForm","get","selectionMethod","nricList","getNricList","reset","exports","selectors","viewQuery","i0"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\bankfile-stop-payment\\stop-payment\\kah-rnsa-release\\kah-rnsa-release.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payment\\bankfile-stop-payment\\stop-payment\\kah-rnsa-release\\kah-rnsa-release.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport {\r\n  ReleaseKahRnsaByAmountComponent\r\n} from 'app/payment/bankfile-stop-payment/stop-payment/kah-rnsa-release/release-kah-rnsa-by-amount/release-kah-rnsa-by-amount.component';\r\nimport {\r\n  ReleaseKahRnsaByNricComponent\r\n} from 'app/payment/bankfile-stop-payment/stop-payment/kah-rnsa-release/release-kah-rnsa-by-nric/release-kah-rnsa-by-nric.component';\r\nimport { IReleaseKahRnsa } from '../model/kah-rnsa-release-record.model';\r\n\r\n@Component({\r\n  selector: 'n2-kah-rnsa-release',\r\n  templateUrl: './kah-rnsa-release.component.html',\r\n  styleUrls: ['./kah-rnsa-release.component.scss']\r\n})\r\nexport class KahRnsaReleaseComponent implements OnInit {\r\n  activeIndex = 0;\r\n  \r\n  @ViewChild('releaseKahRnsaByAmountComponent')\r\n  private releaseKahRnsaByAmountComponent!: ReleaseKahRnsaByAmountComponent;\r\n\r\n  @ViewChild('releaseKahRnsaByNricComponent')\r\n  private releaseKahRnsaByNricComponent!: ReleaseKahRnsaByNricComponent;\r\n\r\n  constructor() {\r\n    //\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //\r\n  }\r\n\r\n  isReleaseByAmountFormValid(): boolean {\r\n    return this.releaseKahRnsaByAmountComponent.isFormValid();\r\n  }\r\n\r\n  isReleaseByNricValid(): boolean {\r\n    // Valid if there is at least 1 NRIC to be released\r\n    return this.releaseKahRnsaByNricComponent.nricToReleaseMap.size > 0;\r\n  }\r\n\r\n  isFormValid(): boolean {\r\n    if (this.activeIndex === 0) {\r\n      return this.releaseKahRnsaByAmountComponent.isFormValid() \r\n    } else {\r\n      return this.releaseKahRnsaByNricComponent.nricToReleaseMap.size > 0;\r\n    }\r\n  }\r\n  \r\n  getRequestValue(): IReleaseKahRnsa {\r\n    const releaseBy = this.activeIndex === 0 ? 'AMOUNT' : 'NRIC';\r\n    const value: IReleaseKahRnsa = {\r\n      releaseMethod: releaseBy,\r\n    };\r\n\r\n    if(releaseBy === 'AMOUNT') {\r\n      value.amount = this.releaseKahRnsaByAmountComponent.releaseKahRnsaByAmountForm.get('amount').value;\r\n      value.selectionMethod = this.releaseKahRnsaByAmountComponent.releaseKahRnsaByAmountForm.get('selectionMethod').value;\r\n    } else {\r\n      value.nricList = this.releaseKahRnsaByNricComponent.getNricList();\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  reset(): void {\r\n    this.releaseKahRnsaByNricComponent.reset();\r\n    this.releaseKahRnsaByAmountComponent.reset();\r\n  }\r\n}\r\n","<p-tabView [(activeIndex)]='activeIndex'>\r\n  <p-tabPanel header='Release by Amount'>\r\n    <n2-release-kah-rnsa-by-amount #releaseKahRnsaByAmountComponent></n2-release-kah-rnsa-by-amount>\r\n  </p-tabPanel>\r\n  <p-tabPanel header='Release by NRIC'>\r\n    <n2-release-kah-rnsa-by-nric #releaseKahRnsaByNricComponent></n2-release-kah-rnsa-by-nric>\r\n  </p-tabPanel>\r\n</p-tabView>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}