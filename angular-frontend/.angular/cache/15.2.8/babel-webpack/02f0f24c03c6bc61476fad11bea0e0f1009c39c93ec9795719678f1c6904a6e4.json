{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortByDirective = void 0;\nconst tslib_1 = require(\"tslib\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst angular_fontawesome_1 = require(\"@fortawesome/angular-fontawesome\");\nconst free_solid_svg_icons_1 = require(\"@fortawesome/free-solid-svg-icons\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"./sort.directive\"));\nclass SortByDirective {\n  constructor(sort) {\n    this.sort = sort;\n    this.sortIcon = free_solid_svg_icons_1.faSort;\n    this.sortAscIcon = free_solid_svg_icons_1.faSortUp;\n    this.sortDescIcon = free_solid_svg_icons_1.faSortDown;\n    this.destroy$ = new rxjs_1.Subject();\n    sort.predicateChange.pipe((0, operators_1.takeUntil)(this.destroy$)).subscribe(() => this.updateIconDefinition());\n    sort.ascendingChange.pipe((0, operators_1.takeUntil)(this.destroy$)).subscribe(() => this.updateIconDefinition());\n  }\n  onClick() {\n    this.sort.sort(this.icSortBy);\n  }\n  ngAfterContentInit() {\n    this.updateIconDefinition();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  updateIconDefinition() {\n    if (this.iconComponent) {\n      let icon = this.sortIcon;\n      if (this.sort.predicate === this.icSortBy) {\n        icon = this.sort.ascending ? this.sortAscIcon : this.sortDescIcon;\n      }\n      this.iconComponent.icon = icon.iconName;\n      this.iconComponent.render();\n    }\n  }\n}\nexports.SortByDirective = SortByDirective;\nSortByDirective.ɵfac = function SortByDirective_Factory(t) {\n  return new (t || SortByDirective)(i0.ɵɵdirectiveInject(i1.SortDirective, 1));\n};\nSortByDirective.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: SortByDirective,\n  selectors: [[\"\", \"icSortBy\", \"\"]],\n  contentQueries: function SortByDirective_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, angular_fontawesome_1.FaIconComponent, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.iconComponent = _t.first);\n    }\n  },\n  hostBindings: function SortByDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function SortByDirective_click_HostBindingHandler() {\n        return ctx.onClick();\n      });\n    }\n  },\n  inputs: {\n    icSortBy: \"icSortBy\"\n  }\n});","map":{"version":3,"mappings":";;;;;;;AACA;AACA;AACA;AACA;;;AAIA,MAGaA,eAAe;EAY1BC,YAA4BC,IAAsB;IAAtB,SAAI,GAAJA,IAAI;IANhC,aAAQ,GAAGC,6BAAM;IACjB,gBAAW,GAAGA,+BAAQ;IACtB,iBAAY,GAAGA,iCAAU;IAER,aAAQ,GAAG,IAAIC,cAAO,EAAQ;IAG7CF,IAAI,CAACG,eAAe,CAACC,IAAI,CAAC,yBAAS,EAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,SAAS,CAAC,MAAM,IAAI,CAACC,oBAAoB,EAAE,CAAC;IAChGP,IAAI,CAACQ,eAAe,CAACJ,IAAI,CAAC,yBAAS,EAAC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,SAAS,CAAC,MAAM,IAAI,CAACC,oBAAoB,EAAE,CAAC;EAClG;EAGAE,OAAO;IACL,IAAI,CAACT,IAAI,CAACA,IAAI,CAAC,IAAI,CAACU,QAAQ,CAAC;EAC/B;EAEAC,kBAAkB;IAChB,IAAI,CAACJ,oBAAoB,EAAE;EAC7B;EAEAK,WAAW;IACT,IAAI,CAACP,QAAQ,CAACQ,IAAI,EAAE;IACpB,IAAI,CAACR,QAAQ,CAACS,QAAQ,EAAE;EAC1B;EAEQP,oBAAoB;IAC1B,IAAI,IAAI,CAACQ,aAAa,EAAE;MACtB,IAAIC,IAAI,GAAmB,IAAI,CAACC,QAAQ;MACxC,IAAI,IAAI,CAACjB,IAAI,CAACkB,SAAS,KAAK,IAAI,CAACR,QAAQ,EAAE;QACzCM,IAAI,GAAG,IAAI,CAAChB,IAAI,CAACmB,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,YAAY;;MAEnE,IAAI,CAACN,aAAa,CAACC,IAAI,GAAGA,IAAI,CAACM,QAAQ;MACvC,IAAI,CAACP,aAAa,CAACQ,MAAM,EAAE;;EAE/B;;AA3CFC;;mBAGa1B,eAAe;AAAA;;QAAfA,eAAe;EAAA2B;EAAAC;IAAA;kCAGZC,qCAAe;;;;;;;;;;eAHlBC,aAAS;MAAA","names":["SortByDirective","constructor","sort","free_solid_svg_icons_1","rxjs_1","predicateChange","pipe","destroy$","subscribe","updateIconDefinition","ascendingChange","onClick","icSortBy","ngAfterContentInit","ngOnDestroy","next","complete","iconComponent","icon","sortIcon","predicate","ascending","sortAscIcon","sortDescIcon","iconName","render","exports","selectors","contentQueries","angular_fontawesome_1","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\shared\\sort\\sort-by.directive.ts"],"sourcesContent":["import { AfterContentInit, ContentChild, Directive, Host, HostListener, Input, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { FaIconComponent } from '@fortawesome/angular-fontawesome';\r\nimport { faSort, faSortDown, faSortUp, IconDefinition } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { SortDirective } from './sort.directive';\r\n\r\n@Directive({\r\n  selector: '[icSortBy]',\r\n})\r\nexport class SortByDirective<T> implements AfterContentInit, OnDestroy {\r\n  @Input() icSortBy?: T;\r\n\r\n  @ContentChild(FaIconComponent, { static: true })\r\n  iconComponent?: FaIconComponent;\r\n\r\n  sortIcon = faSort;\r\n  sortAscIcon = faSortUp;\r\n  sortDescIcon = faSortDown;\r\n\r\n  private readonly destroy$ = new Subject<void>();\r\n\r\n  constructor(@Host() private sort: SortDirective<T>) {\r\n    sort.predicateChange.pipe(takeUntil(this.destroy$)).subscribe(() => this.updateIconDefinition());\r\n    sort.ascendingChange.pipe(takeUntil(this.destroy$)).subscribe(() => this.updateIconDefinition());\r\n  }\r\n\r\n  @HostListener('click')\r\n  onClick(): void {\r\n    this.sort.sort(this.icSortBy);\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateIconDefinition();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  private updateIconDefinition(): void {\r\n    if (this.iconComponent) {\r\n      let icon: IconDefinition = this.sortIcon;\r\n      if (this.sort.predicate === this.icSortBy) {\r\n        icon = this.sort.ascending ? this.sortAscIcon : this.sortDescIcon;\r\n      }\r\n      this.iconComponent.icon = icon.iconName;\r\n      this.iconComponent.render();\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}