{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:/Users/D1347074/Desktop/projects 2/nspayiiapp/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GenerateLetterComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst http_1 = require(\"@angular/common/http\");\nconst forms_1 = require(\"@angular/forms\");\nconst type_and_value_directive_1 = require(\"app/shared/validator/type-and-value.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/platform-browser\"));\nconst i3 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i4 = tslib_1.__importStar(require(\"../service/letter.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i7 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/radiobutton\"));\nconst i16 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/accordion\"));\nfunction GenerateLetterComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                            Please select a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                            Please select a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                            Please enter a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    type: a0,\n    id: a1\n  };\n};\nfunction GenerateLetterComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \"\\n                            type id not found. Please check and input the correct type.\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction2(1, _c0, ctx_r3.settingsFormGroup.get(\"searchType\").value, ctx_r3.settingsFormGroup.get(\"searchInput\").value));\n  }\n}\nfunction GenerateLetterComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                            Please select a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                            Please enter a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                            Please enter a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_30_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"label\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"div\", 31);\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementStart(7, \"div\", 38);\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelement(9, \"textarea\", 39);\n    i0.ɵɵtext(10, \"\\n                                \");\n    i0.ɵɵelementStart(11, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_p_accordionTab_65_div_30_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const i_r15 = restoredCtx.index;\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r17.onRemoveParagraph(i_r15));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                \");\n    i0.ɵɵelementStart(13, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_p_accordionTab_65_div_30_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.onAddParagraph());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵtemplate(16, GenerateLetterComponent_p_accordionTab_65_div_30_div_16_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paragraph_r14 = ctx.$implicit;\n    const i_r15 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Paragraph \", i_r15 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"formControl\", paragraph_r14)(\"autoResize\", true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (paragraph_r14 == null ? null : paragraph_r14.hasError(\"required\")) && (paragraph_r14 == null ? null : paragraph_r14.touched));\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_35_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"label\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementStart(5, \"div\", 31);\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementStart(7, \"div\", 38);\n    i0.ɵɵtext(8, \"\\n                                \");\n    i0.ɵɵelement(9, \"textarea\", 43);\n    i0.ɵɵtext(10, \"\\n                                \");\n    i0.ɵɵelementStart(11, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_p_accordionTab_65_div_35_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const i_r21 = restoredCtx.index;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.onRemoveAnnex(i_r21));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                \");\n    i0.ɵɵelementStart(13, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_p_accordionTab_65_div_35_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.onAddAnnex());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵtemplate(16, GenerateLetterComponent_p_accordionTab_65_div_35_div_16_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const annex_r20 = ctx.$implicit;\n    const i_r21 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Annex \", i_r21 + 1, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"formControl\", annex_r20)(\"autoResize\", true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (annex_r20 == null ? null : annex_r20.hasError(\"required\")) && (annex_r20 == null ? null : annex_r20.touched));\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-accordionTab\", 29);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementStart(4, \"label\", 30);\n    i0.ɵɵtext(5, \"Reference Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelementStart(7, \"div\", 31);\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelement(9, \"input\", 32);\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵtemplate(11, GenerateLetterComponent_p_accordionTab_65_div_11_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"div\", 4);\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"label\", 33);\n    i0.ɵɵtext(18, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                    \");\n    i0.ɵɵelementStart(20, \"div\", 31);\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelement(22, \"input\", 34);\n    i0.ɵɵtext(23, \"\\n                        \");\n    i0.ɵɵtemplate(24, GenerateLetterComponent_p_accordionTab_65_div_24_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(25, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n                \");\n    i0.ɵɵelementStart(28, \"div\", 35);\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵtemplate(30, GenerateLetterComponent_p_accordionTab_65_div_30_Template, 19, 4, \"div\", 36);\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n                \");\n    i0.ɵɵelementStart(33, \"div\", 37);\n    i0.ɵɵtext(34, \"\\n                    \");\n    i0.ɵɵtemplate(35, GenerateLetterComponent_p_accordionTab_65_div_35_Template, 19, 4, \"div\", 36);\n    i0.ɵɵtext(36, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵproperty(\"selected\", true);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r5.contentsFormGroup.get(\"referenceNo\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx_r5.contentsFormGroup.get(\"referenceNo\")) == null ? null : tmp_1_0.touched));\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r5.contentsFormGroup.get(\"title\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx_r5.contentsFormGroup.get(\"title\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.paragraphsFormArray.controls);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.annexesFormArray.controls);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"\\n                \", ctx_r5.contentsFormGroup.get(\"referenceNo\").value, \" || \", ctx_r5.contentsFormGroup.get(\"title\").value, \" ||\\n                \", ctx_r5.contentsFormGroup.get(\"paragraphs\").value, \" || \", ctx_r5.contentsFormGroup.get(\"annexes\").value, \"\\n            \");\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"\\n                            Please select a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_116_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_132_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_142_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_155_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_165_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_178_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_div_188_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                                Please enter a value\\n                            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GenerateLetterComponent_p_accordionTab_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-accordionTab\", 44);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"div\", 45);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"label\", 46);\n    i0.ɵɵtext(7, \"NSman Salutation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n    i0.ɵɵelementStart(9, \"div\", 6);\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelement(11, \"input\", 47);\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementStart(14, \"label\", 48);\n    i0.ɵɵtext(15, \"NSman Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                        \");\n    i0.ɵɵelementStart(17, \"div\", 6);\n    i0.ɵɵtext(18, \"\\n                            \");\n    i0.ɵɵelement(19, \"input\", 49);\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementStart(23, \"div\", 4);\n    i0.ɵɵtext(24, \"\\n                        \");\n    i0.ɵɵelementStart(25, \"label\", 50);\n    i0.ɵɵtext(26, \"NSman NRIC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n                        \");\n    i0.ɵɵelementStart(28, \"div\", 6);\n    i0.ɵɵtext(29, \"\\n                            \");\n    i0.ɵɵelement(30, \"input\", 51);\n    i0.ɵɵtext(31, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n                        \");\n    i0.ɵɵelementStart(33, \"label\", 52);\n    i0.ɵɵtext(34, \"NSman Postal Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                        \");\n    i0.ɵɵelementStart(36, \"div\", 6);\n    i0.ɵɵtext(37, \"\\n                            \");\n    i0.ɵɵelement(38, \"input\", 53);\n    i0.ɵɵtext(39, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n                    \");\n    i0.ɵɵelementStart(42, \"div\", 4);\n    i0.ɵɵtext(43, \"\\n                        \");\n    i0.ɵɵelementStart(44, \"label\", 54);\n    i0.ɵɵtext(45, \"NSman Block No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                        \");\n    i0.ɵɵelementStart(47, \"div\", 6);\n    i0.ɵɵtext(48, \"\\n                            \");\n    i0.ɵɵelement(49, \"input\", 55);\n    i0.ɵɵtext(50, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n                        \");\n    i0.ɵɵelementStart(52, \"label\", 56);\n    i0.ɵɵtext(53, \"NSman Street Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                        \");\n    i0.ɵɵelementStart(55, \"div\", 6);\n    i0.ɵɵtext(56, \"\\n                            \");\n    i0.ɵɵelement(57, \"input\", 57);\n    i0.ɵɵtext(58, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(59, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(60, \"\\n                    \");\n    i0.ɵɵelementStart(61, \"div\", 4);\n    i0.ɵɵtext(62, \"\\n                        \");\n    i0.ɵɵelementStart(63, \"label\", 58);\n    i0.ɵɵtext(64, \"NSman House No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                        \");\n    i0.ɵɵelementStart(66, \"div\", 6);\n    i0.ɵɵtext(67, \"\\n                            \");\n    i0.ɵɵelement(68, \"input\", 59);\n    i0.ɵɵtext(69, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n                        \");\n    i0.ɵɵelementStart(71, \"label\", 60);\n    i0.ɵɵtext(72, \"NSman Building Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                        \");\n    i0.ɵɵelementStart(74, \"div\", 6);\n    i0.ɵɵtext(75, \"\\n                            \");\n    i0.ɵɵelement(76, \"input\", 61);\n    i0.ɵɵtext(77, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(79, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(80, \"\\n                \");\n    i0.ɵɵelementStart(81, \"div\", 4);\n    i0.ɵɵtext(82, \"\\n                    \");\n    i0.ɵɵelementStart(83, \"label\", 62);\n    i0.ɵɵtext(84, \"Company Recipient\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n                    \");\n    i0.ɵɵelementStart(86, \"div\", 31);\n    i0.ɵɵtext(87, \"\\n                        \");\n    i0.ɵɵelementStart(88, \"p-dropdown\", 63);\n    i0.ɵɵlistener(\"onChange\", function GenerateLetterComponent_p_accordionTab_67_Template_p_dropdown_onChange_88_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.onChangeCompanyRecipient());\n    });\n    i0.ɵɵtext(89, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(90, \"\\n                        \");\n    i0.ɵɵtemplate(91, GenerateLetterComponent_p_accordionTab_67_div_91_Template, 2, 0, \"div\", 8);\n    i0.ɵɵtext(92, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(93, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(94, \"\\n                \");\n    i0.ɵɵelementStart(95, \"div\", 64);\n    i0.ɵɵtext(96, \"\\n                    \");\n    i0.ɵɵelementStart(97, \"div\", 4);\n    i0.ɵɵtext(98, \"\\n                        \");\n    i0.ɵɵelementStart(99, \"label\", 48);\n    i0.ɵɵtext(100, \"Company Officer Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(101, \"\\n                        \");\n    i0.ɵɵelementStart(102, \"div\", 6);\n    i0.ɵɵtext(103, \"\\n                            \");\n    i0.ɵɵelement(104, \"input\", 49);\n    i0.ɵɵtext(105, \"\\n                            \");\n    i0.ɵɵtemplate(106, GenerateLetterComponent_p_accordionTab_67_div_106_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(107, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(108, \"\\n                        \");\n    i0.ɵɵelementStart(109, \"label\", 65);\n    i0.ɵɵtext(110, \"Company Officer Appointment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(111, \"\\n                        \");\n    i0.ɵɵelementStart(112, \"div\", 6);\n    i0.ɵɵtext(113, \"\\n                            \");\n    i0.ɵɵelement(114, \"input\", 66);\n    i0.ɵɵtext(115, \"\\n                            \");\n    i0.ɵɵtemplate(116, GenerateLetterComponent_p_accordionTab_67_div_116_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(117, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(118, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(119, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(120, \"\\n                \");\n    i0.ɵɵelementStart(121, \"div\", 67);\n    i0.ɵɵtext(122, \"\\n                    \");\n    i0.ɵɵelementStart(123, \"div\", 4);\n    i0.ɵɵtext(124, \"\\n                        \");\n    i0.ɵɵelementStart(125, \"label\", 48);\n    i0.ɵɵtext(126, \"Company Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(127, \"\\n                        \");\n    i0.ɵɵelementStart(128, \"div\", 6);\n    i0.ɵɵtext(129, \"\\n                            \");\n    i0.ɵɵelement(130, \"input\", 49);\n    i0.ɵɵtext(131, \"\\n                            \");\n    i0.ɵɵtemplate(132, GenerateLetterComponent_p_accordionTab_67_div_132_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(133, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(134, \"\\n                        \");\n    i0.ɵɵelementStart(135, \"label\", 52);\n    i0.ɵɵtext(136, \"Company Postal Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(137, \"\\n                        \");\n    i0.ɵɵelementStart(138, \"div\", 6);\n    i0.ɵɵtext(139, \"\\n                            \");\n    i0.ɵɵelement(140, \"input\", 53);\n    i0.ɵɵtext(141, \"\\n                            \");\n    i0.ɵɵtemplate(142, GenerateLetterComponent_p_accordionTab_67_div_142_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(143, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(144, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(145, \"\\n                    \");\n    i0.ɵɵelementStart(146, \"div\", 4);\n    i0.ɵɵtext(147, \"\\n                        \");\n    i0.ɵɵelementStart(148, \"label\", 54);\n    i0.ɵɵtext(149, \"Company Block No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(150, \"\\n                        \");\n    i0.ɵɵelementStart(151, \"div\", 6);\n    i0.ɵɵtext(152, \"\\n                            \");\n    i0.ɵɵelement(153, \"input\", 55);\n    i0.ɵɵtext(154, \"\\n                            \");\n    i0.ɵɵtemplate(155, GenerateLetterComponent_p_accordionTab_67_div_155_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(156, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(157, \"\\n                        \");\n    i0.ɵɵelementStart(158, \"label\", 56);\n    i0.ɵɵtext(159, \"Company Street Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(160, \"\\n                        \");\n    i0.ɵɵelementStart(161, \"div\", 6);\n    i0.ɵɵtext(162, \"\\n                            \");\n    i0.ɵɵelement(163, \"input\", 57);\n    i0.ɵɵtext(164, \"\\n                            \");\n    i0.ɵɵtemplate(165, GenerateLetterComponent_p_accordionTab_67_div_165_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(166, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(167, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(168, \"\\n                    \");\n    i0.ɵɵelementStart(169, \"div\", 4);\n    i0.ɵɵtext(170, \"\\n                        \");\n    i0.ɵɵelementStart(171, \"label\", 58);\n    i0.ɵɵtext(172, \"Company House No.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(173, \"\\n                        \");\n    i0.ɵɵelementStart(174, \"div\", 6);\n    i0.ɵɵtext(175, \"\\n                            \");\n    i0.ɵɵelement(176, \"input\", 59);\n    i0.ɵɵtext(177, \"\\n                            \");\n    i0.ɵɵtemplate(178, GenerateLetterComponent_p_accordionTab_67_div_178_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(179, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(180, \"\\n                        \");\n    i0.ɵɵelementStart(181, \"label\", 60);\n    i0.ɵɵtext(182, \"Company Building Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(183, \"\\n                        \");\n    i0.ɵɵelementStart(184, \"div\", 6);\n    i0.ɵɵtext(185, \"\\n                            \");\n    i0.ɵɵelement(186, \"input\", 61);\n    i0.ɵɵtext(187, \"\\n                            \");\n    i0.ɵɵtemplate(188, GenerateLetterComponent_p_accordionTab_67_div_188_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtext(189, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(190, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(191, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(192);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    let tmp_10_0;\n    i0.ɵɵproperty(\"selected\", true);\n    i0.ɵɵadvance(88);\n    i0.ɵɵproperty(\"options\", ctx_r6.coyRecipientOptions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r6.generateForm.get(\"companyRecipient\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx_r6.generateForm.get(\"companyRecipient\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r6.companyOfficerFormGroup.get(\"name\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx_r6.companyOfficerFormGroup.get(\"name\")) == null ? null : tmp_3_0.touched));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r6.companyOfficerFormGroup.get(\"appt\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx_r6.companyOfficerFormGroup.get(\"appt\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r6.companyFormGroup.get(\"name\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx_r6.companyFormGroup.get(\"name\")) == null ? null : tmp_5_0.touched));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r6.companyFormGroup.get(\"postalCode\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx_r6.companyFormGroup.get(\"postalCode\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r6.companyFormGroup.get(\"blockNo\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx_r6.companyFormGroup.get(\"blockNo\")) == null ? null : tmp_7_0.touched));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx_r6.companyFormGroup.get(\"streetName\")) == null ? null : tmp_8_0.hasError(\"required\")) && ((tmp_8_0 = ctx_r6.companyFormGroup.get(\"streetName\")) == null ? null : tmp_8_0.touched));\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx_r6.companyFormGroup.get(\"houseNo\")) == null ? null : tmp_9_0.hasError(\"required\")) && ((tmp_9_0 = ctx_r6.companyFormGroup.get(\"houseNo\")) == null ? null : tmp_9_0.touched));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx_r6.companyFormGroup.get(\"buildingName\")) == null ? null : tmp_10_0.hasError(\"required\")) && ((tmp_10_0 = ctx_r6.companyFormGroup.get(\"buildingName\")) == null ? null : tmp_10_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolateV([\"\\n                \", ctx_r6.nsmanFormGroup.get(\"salutation\").value, \" || \", ctx_r6.nsmanFormGroup.get(\"name\").value, \" ||\\n                \", ctx_r6.nsmanFormGroup.get(\"nric\").value, \" || \", ctx_r6.nsmanFormGroup.get(\"postalCode\").value, \" ||\\n                \", ctx_r6.nsmanFormGroup.get(\"blockNo\").value, \" || \", ctx_r6.nsmanFormGroup.get(\"streetName\").value, \" ||\\n                \", ctx_r6.nsmanFormGroup.get(\"houseNo\").value, \" || \", ctx_r6.nsmanFormGroup.get(\"buildingName\").value, \" ||\\n                \", ctx_r6.generateForm.get(\"companyRecipient\").value, \" ||\\n                \", ctx_r6.companyOfficerFormGroup.get(\"name\").value, \" || \", ctx_r6.companyOfficerFormGroup.get(\"appt\").value, \" ||\\n                \", ctx_r6.companyFormGroup.get(\"name\").value, \" || \", ctx_r6.companyFormGroup.get(\"postalCode\").value, \" ||\\n                \", ctx_r6.companyFormGroup.get(\"blockNo\").value, \" || \", ctx_r6.companyFormGroup.get(\"streetName\").value, \" ||\\n                \", ctx_r6.companyFormGroup.get(\"houseNo\").value, \" || \", ctx_r6.companyFormGroup.get(\"buildingName\").value, \"\\n            \"]);\n  }\n}\nfunction GenerateLetterComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 68);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_div_69_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.onAmendCompanyDetails());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementStart(4, \"button\", 70);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_div_69_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.onPreviewLetter());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r7.settingsFormGroup.get(\"sendTo\").value === ctx_r7.nsmanOnlyCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.generateForm.valid);\n  }\n}\nfunction GenerateLetterComponent_div_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelement(2, \"object\", 72);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"data\", ctx_r8.previewLetterUrl, i0.ɵɵsanitizeResourceUrl);\n  }\n}\nconst _c1 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction GenerateLetterComponent_ng_template_78_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_ng_template_78_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.displayPreviewLetterDialog.display = false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelement(3, \"p-confirmPopup\", 74);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function GenerateLetterComponent_ng_template_78_Template_button_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.onGenerateLetter($event, \"generateLetter\", ctx_r42.displayPreviewLetterDialog));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c1));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c1));\n  }\n}\nconst _c2 = function () {\n  return {\n    width: \"60vw\",\n    height: \"100%\"\n  };\n};\nclass GenerateLetterComponent {\n  constructor(fb, domSanitizer, codeService, letterService, toastService, nspConfirmationService) {\n    this.fb = fb;\n    this.domSanitizer = domSanitizer;\n    this.codeService = codeService;\n    this.letterService = letterService;\n    this.toastService = toastService;\n    this.nspConfirmationService = nspConfirmationService;\n    this.letterTypes = ['Generic Template with Annex', 'Generic Template without Annex'];\n    this.senders = [];\n    this.sendToOptions = [];\n    this.coyRecipientOptions = [];\n    this.isValidSearch = false;\n    this.previewLetterReq = {};\n    this.displayPreviewLetterDialog = {\n      display: false\n    };\n    this.generateForm = this.fb.group({\n      settings: this.fb.group({\n        letterType: new forms_1.FormControl('', forms_1.Validators.required),\n        sender: new forms_1.FormControl('', forms_1.Validators.required),\n        sendTo: new forms_1.FormControl('', forms_1.Validators.required),\n        searchType: new forms_1.FormControl('', forms_1.Validators.required),\n        searchInput: new forms_1.FormControl('', forms_1.Validators.required)\n      }),\n      contents: this.fb.group({\n        referenceNo: new forms_1.FormControl('', forms_1.Validators.required),\n        title: new forms_1.FormControl('', forms_1.Validators.required),\n        paragraphs: this.fb.array([]),\n        annexes: this.fb.array([])\n      }),\n      nsman: this.fb.group({\n        salutation: new forms_1.FormControl(''),\n        name: new forms_1.FormControl(''),\n        nric: new forms_1.FormControl(''),\n        postalCode: new forms_1.FormControl(''),\n        blockNo: new forms_1.FormControl(''),\n        streetName: new forms_1.FormControl(''),\n        houseNo: new forms_1.FormControl(''),\n        buildingName: new forms_1.FormControl('')\n      }),\n      companyRecipient: new forms_1.FormControl(''),\n      companyOfficer: this.fb.group({\n        name: new forms_1.FormControl(''),\n        appt: new forms_1.FormControl('')\n      }),\n      company: this.fb.group({\n        name: new forms_1.FormControl(''),\n        postalCode: new forms_1.FormControl(''),\n        blockNo: new forms_1.FormControl(''),\n        streetName: new forms_1.FormControl(''),\n        houseNo: new forms_1.FormControl(''),\n        buildingName: new forms_1.FormControl('')\n      })\n    });\n  }\n  get settingsFormGroup() {\n    return this.generateForm.get('settings');\n  }\n  get contentsFormGroup() {\n    return this.generateForm.get('contents');\n  }\n  get paragraphsFormArray() {\n    return this.generateForm.get('contents').get('paragraphs');\n  }\n  get annexesFormArray() {\n    return this.generateForm.get('contents').get('annexes');\n  }\n  get nsmanFormGroup() {\n    return this.generateForm.get('nsman');\n  }\n  get companyRecipientFormControl() {\n    return this.generateForm.get('companyRecipient');\n  }\n  get companyOfficerFormGroup() {\n    return this.generateForm.get('companyOfficer');\n  }\n  get companyFormGroup() {\n    return this.generateForm.get('company');\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // load params and options\n      yield _this.retrieveParams();\n      _this.retrieveLetterSenders();\n      _this.retrieveLetterSendOptions();\n      _this.retrieveCoyRecipientOptions();\n      // load defaults\n      _this.loadDefaults();\n    })();\n  }\n  retrieveParams() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const resp = yield _this2.letterService.getParams(null).toPromise();\n      if (resp.body.data) {\n        _this2.defaultSecondPara = resp.body.data?.default_second_para;\n        _this2.paraLimit = resp.body.data?.rpt_max_para;\n        _this2.annexLimit = resp.body.data?.rpt_max_annex;\n        console.log(\"params retrieved\", resp.body.data);\n      }\n    })();\n  }\n  retrieveLetterSenders() {\n    this.letterService.getLetterSenders(null).subscribe(resp => {\n      if (resp.body.data) {\n        for (const [k, v] of Object.entries(resp.body.data)) {\n          this.senders.push({\n            key: k,\n            value: v\n          });\n        }\n        console.log(\"letter sender options\", this.senders);\n      }\n    });\n  }\n  retrieveLetterSendOptions() {\n    this.codeService.gets('letter_send_option').subscribe(codes => {\n      this.sendToOptions = codes[0].map(x => ({\n        code: x.codeId,\n        desc: x.label['en-US']\n      }));\n      console.log(\"letter send options\", this.sendToOptions);\n    });\n  }\n  retrieveCoyRecipientOptions() {\n    this.codeService.gets('letter_coy_recipient_option').subscribe(codes => {\n      this.coyRecipientOptions = codes[0].map(x => ({\n        code: x.codeId,\n        desc: x.label['en-US']\n      }));\n      console.log(\"letter coy recipient options\", this.coyRecipientOptions);\n    });\n  }\n  loadDefaults() {\n    this.settingsFormGroup.get('letterType').patchValue(this.letterTypes[0]);\n    console.log(\"default letter type option selected\");\n    this.paragraphsFormArray.clear();\n    this.paragraphsFormArray.push(new forms_1.FormControl(''));\n    this.paragraphsFormArray.push(new forms_1.FormControl(this.defaultSecondPara));\n    console.log(\"default paragraphs added\");\n    this.annexesFormArray.clear();\n    this.annexesFormArray.push(new forms_1.FormControl(''));\n    console.log(\"annex added\");\n    this.nsmanFormGroup.disable();\n    console.log(\"nsman details disabled\");\n  }\n  onChangeLetterType() {\n    if (this.settingsFormGroup.get('letterType').value.includes('with Annex') && this.annexesFormArray.length === 0) {\n      this.annexesFormArray.push(new forms_1.FormControl(''));\n      console.log(\"yes annex\");\n    } else {\n      this.annexesFormArray.clear();\n      console.log(\"no annex\");\n    }\n  }\n  onClickSearchType() {\n    if (this.settingsFormGroup.get('searchType').value === 'NRIC') {\n      this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To NSman')?.code);\n      this.settingsFormGroup.get('sendTo').disable();\n      console.log(\"Send To option default to 'To NSman' and disabled\");\n    } else {\n      this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To Employer, CC NSman')?.code);\n      this.settingsFormGroup.get('sendTo').enable();\n      console.log(\"Send To option default to 'To Employer, CC NSman' and enabled\");\n    }\n  }\n  onSearch() {\n    this.setSearchInputValidation();\n    this.nsmanOnlyCode = this.sendToOptions.find(x => x.desc === 'To NSman')?.code.toString(); // used to disable amend button\n    if (this.settingsFormGroup.errors?.['invalidInput']) {\n      // hide letter contents and recipients accordion tabs\n      this.isValidSearch = false;\n      console.log(\"Invalid Search Input and Type\");\n    } else {\n      if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\n        if (this.settingsFormGroup.get('searchInput').value.startsWith('SE')) {\n          this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To NSman')?.code);\n          this.settingsFormGroup.get('sendTo').disable();\n          console.log(\"SE Claim detected... Send To option default to 'To NSman' and disabled\");\n        } else {\n          this.settingsFormGroup.get('sendTo').enable();\n        }\n      }\n      this.searchNsmanDetails();\n    }\n  }\n  setSearchInputValidation() {\n    this.settingsFormGroup.addValidators(type_and_value_directive_1.TypeAndValueValidator.validateTypeAndValue('searchType', 'searchInput'));\n    this.settingsFormGroup.updateValueAndValidity();\n  }\n  searchNsmanDetails() {\n    let params = new http_1.HttpParams();\n    if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\n      params = params.append('caseId', this.settingsFormGroup.get('searchInput').value);\n    } else {\n      params = params.append('claimantNric', this.settingsFormGroup.get('searchInput').value);\n    }\n    this.letterService.getNsmanDetails({\n      params\n    }).subscribe(resp => {\n      if (resp.body.data) {\n        this.nsmanDetails = resp.body.data;\n        console.log(\"nsman details retrieved\", this.nsmanDetails);\n        this.resetRecipients();\n        this.onChangeSendTo();\n        // display letter contents and recipients accordion tabs\n        this.isValidSearch = true;\n      }\n    }, error => {\n      // hide letter contents and recipients accordion tabs\n      this.isValidSearch = false;\n      console.log(\"error is \" + String(error?.error?.error_desc));\n    });\n  }\n  resetRecipients() {\n    // reset recipients accordion tab for every new search\n    this.nsmanFormGroup.reset();\n    this.companyRecipientFormControl.disable();\n    this.companyRecipientFormControl.reset();\n    this.companyOfficerFormGroup.disable();\n    this.companyOfficerFormGroup.reset();\n    this.companyFormGroup.disable();\n    this.companyFormGroup.reset();\n    console.log(\"Recipients Accordion Tab resetted\");\n  }\n  onChangeSendTo() {\n    if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer')?.code) {\n      this.nsmanFormGroup.reset();\n      this.companyRecipientFormControl.addValidators(forms_1.Validators.required);\n      this.companyRecipientFormControl.enable();\n      console.log(\"Recipients Accordion Tab set for 'To Employer' only\");\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman')?.code) {\n      this.patchNsmanDetails();\n      this.resetAndDisableCompanyFields();\n      console.log(\"Recipients Accordion Tab set for 'To NSman' only\");\n    } else {\n      this.patchNsmanDetails();\n      this.companyRecipientFormControl.addValidators(forms_1.Validators.required);\n      this.companyRecipientFormControl.enable();\n      console.log(\"Recipients Accordion Tab set for 'To Employer and NSman'\");\n    }\n  }\n  patchNsmanDetails() {\n    this.nsmanFormGroup.patchValue({\n      salutation: this.nsmanDetails?.salutation,\n      name: this.nsmanDetails?.nsmanCoyOfficerName,\n      nric: this.nsmanDetails?.claimantNric,\n      postalCode: this.nsmanDetails?.postalCode,\n      blockNo: this.nsmanDetails?.blkNo,\n      streetName: this.nsmanDetails?.streetName,\n      houseNo: this.nsmanDetails?.houseNo,\n      buildingName: this.nsmanDetails?.buildingName\n    });\n    console.log(\"nsman details patched\");\n  }\n  resetAndDisableCompanyFields() {\n    this.companyRecipientFormControl.setValidators([]);\n    Object.keys(this.companyOfficerFormGroup.controls).forEach(key => {\n      const abstractControl = this.companyOfficerFormGroup.controls[key];\n      abstractControl.setValidators([]);\n    });\n    Object.keys(this.companyFormGroup.controls).forEach(key => {\n      const abstractControl = this.companyFormGroup.controls[key];\n      abstractControl.setValidators([]);\n    });\n    console.log(\"validation check for company fields removed\");\n    this.companyRecipientFormControl.disable();\n    this.companyRecipientFormControl.reset();\n    this.companyOfficerFormGroup.disable();\n    this.companyOfficerFormGroup.reset();\n    this.companyFormGroup.disable();\n    this.companyFormGroup.reset();\n    console.log(\"company fields resetted and disabled\");\n  }\n  onChangeCompanyRecipient() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.searchCompanyCODetails();\n      _this3.patchCompanyDetails();\n      _this3.companyOfficerFormGroup.reset();\n      if (_this3.companyRecipientFormControl.value === _this3.coyRecipientOptions.find(x => x.desc === 'Blank')?.code) {\n        _this3.companyOfficerFormGroup.controls['name'].addValidators(forms_1.Validators.required);\n        _this3.companyOfficerFormGroup.controls['appt'].addValidators(forms_1.Validators.required);\n        _this3.companyOfficerFormGroup.enable();\n        console.log(\"company officer fields resetted and enabled\");\n      } else {\n        _this3.companyOfficerFormGroup.disable();\n        _this3.companyOfficerFormGroup.patchValue({\n          name: _this3.companyOfficerDetails?.nsmanCoyOfficerName,\n          appt: _this3.companyOfficerDetails?.appt\n        });\n        console.log(\"company officer fields patched and disabled\");\n      }\n    })();\n  }\n  searchCompanyCODetails() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      let params = new http_1.HttpParams();\n      params = params.append('coRole', _this4.companyRecipientFormControl.value);\n      params = params.append('csn', _this4.nsmanDetails?.csn);\n      const resp = yield _this4.letterService.getCompanyCODetails({\n        params\n      }).toPromise();\n      if (resp.body.data) {\n        _this4.companyOfficerDetails = resp.body.data;\n        console.log(\"coy officer details retrieved\", _this4.companyOfficerDetails);\n      }\n    })();\n  }\n  patchCompanyDetails() {\n    this.companyFormGroup.patchValue({\n      name: this.companyOfficerDetails?.companyName,\n      postalCode: this.companyOfficerDetails?.postalCode,\n      blockNo: this.companyOfficerDetails?.blkNo,\n      streetName: this.companyOfficerDetails?.streetName,\n      houseNo: this.companyOfficerDetails?.houseNo,\n      buildingName: this.companyOfficerDetails?.buildingName\n    });\n    console.log(\"company details patched\");\n  }\n  onAmendCompanyDetails() {\n    Object.keys(this.companyFormGroup.controls).forEach(key => {\n      const abstractControl = this.companyFormGroup.controls[key];\n      abstractControl.addValidators(forms_1.Validators.required);\n    });\n    this.companyFormGroup.enable();\n    console.log(\"company details fields enabled with validation check\");\n  }\n  onPreviewLetter() {\n    this.constructPreviewRequest();\n    this.letterService.previewLetter(this.previewLetterReq, {\n      responseType: 'blob'\n    }).subscribe(resp => {\n      if (resp && resp.status === 200) {\n        console.log(\"preview letter blob generated and returned successfully\");\n        const data = resp;\n        this.displayPreviewLetter(data);\n      }\n    }, error => {\n      console.log(\"error is \" + String(error?.error?.error_desc));\n      this.toastService.error(\"Failed to connect to Report Generator, please try again. If the error persists, please contact the NSPAY Helpdesk\");\n    });\n  }\n  displayPreviewLetter(data) {\n    const blob = new Blob([data.body], {\n      type: data.headers.get('content-type')\n    });\n    this.previewLetterUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(blob) + '#toolbar=0');\n    this.displayPreviewLetterDialog.display = true;\n  }\n  constructPreviewRequest() {\n    if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\n      this.previewLetterReq.caseId = this.settingsFormGroup.get('searchInput').value;\n      console.log(\"preview letter caseId\", this.previewLetterReq.caseId);\n    } else {\n      this.previewLetterReq.claimantNRIC = this.settingsFormGroup.get('searchInput').value;\n      console.log(\"preview letter claimantNric\", this.previewLetterReq.claimantNRIC);\n    }\n    this.constructLetterContent();\n    this.constructRecipientList();\n    this.previewLetterReq.senderSubjectId = this.settingsFormGroup.get('sender').value;\n    console.log(\"preview letter senderSubjectId\", this.previewLetterReq.senderSubjectId);\n  }\n  constructLetterContent() {\n    const letterContentMap = new Map();\n    letterContentMap.set('REF_NO', this.contentsFormGroup.get('referenceNo').value);\n    letterContentMap.set('TITLE', this.contentsFormGroup.get('title').value);\n    for (let i = 0; i < this.paragraphsFormArray.length; i++) {\n      if (this.paragraphsFormArray.at(i).value !== '') {\n        letterContentMap.set('PARA'.concat('_', (i + 1).toString()), this.paragraphsFormArray.at(i).value);\n      }\n    }\n    this.previewLetterReq.annexInd = false;\n    if (this.annexesFormArray.length > 0) {\n      for (let i = 0; i < this.annexesFormArray.length; i++) {\n        if (this.annexesFormArray.at(i).value !== '') {\n          letterContentMap.set('ANNEX'.concat('_', (i + 1).toString()), this.annexesFormArray.at(i).value);\n          this.previewLetterReq.annexInd = true;\n        }\n      }\n    }\n    this.previewLetterReq.letterContentMap = Object.fromEntries(letterContentMap);\n    console.log(\"preview letter letterContentMap\", this.previewLetterReq.letterContentMap);\n  }\n  constructRecipientList() {\n    const recipientList = [];\n    if (this.companyRecipientFormControl.value === this.coyRecipientOptions.find(x => x.desc === 'Blank')?.code) {\n      this.companyOfficerDetails.nsmanCoyOfficerName = this.companyOfficerFormGroup.get('name').value;\n      this.companyOfficerDetails.appt = this.companyOfficerFormGroup.get('appt').value;\n    }\n    if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer')?.code) {\n      this.companyOfficerDetails.type = 'EMPLOYER';\n      this.companyOfficerDetails.copyToInd = false;\n      recipientList.push(this.companyOfficerDetails);\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman')?.code) {\n      this.nsmanDetails.type = 'NSMAN';\n      this.nsmanDetails.copyToInd = false;\n      recipientList.push(this.nsmanDetails);\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer, CC NSman')?.code) {\n      this.companyOfficerDetails.type = 'EMPLOYER';\n      this.companyOfficerDetails.copyToInd = false;\n      this.nsmanDetails.type = 'NSMAN';\n      this.nsmanDetails.copyToInd = true;\n      recipientList.push(this.companyOfficerDetails);\n      recipientList.push(this.nsmanDetails);\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman, CC Employer')?.code) {\n      this.companyOfficerDetails.type = 'EMPLOYER';\n      this.companyOfficerDetails.copyToInd = true;\n      this.nsmanDetails.type = 'NSMAN';\n      this.nsmanDetails.copyToInd = false;\n      recipientList.push(this.companyOfficerDetails);\n      recipientList.push(this.nsmanDetails);\n    }\n    this.previewLetterReq.recipientList = recipientList;\n    console.log(\"preview letter recipientList\", this.previewLetterReq.recipientList);\n  }\n  onGenerateLetter(event, key, dialog) {\n    console.log(\"user to confirm decision to generate\");\n    this.nspConfirmationService.onConfirmPopup(event, key, dialog, () => {\n      console.log(\"user confirmed generation, generating...\");\n      this.letterService.generateLetter(this.previewLetterReq, {\n        responseType: 'blob'\n      }).subscribe(resp => {\n        if (resp && resp.status === 200) {\n          console.log(\"letter generated, clearing form...\");\n          this.isValidSearch = false;\n          this.generateForm.reset();\n          this.loadDefaults();\n          this.toastService.success(\"Letter has been sent for Generation\");\n        }\n      }, error => {\n        console.log(\"error is \" + String(error?.error?.error_desc));\n        this.toastService.error(\"Failed to connect to Report Generator, please try again. If the error persists, please contact the NSPAY Helpdesk\");\n      });\n    });\n  }\n  onAddParagraph() {\n    const paragraphs = this.paragraphsFormArray;\n    if (paragraphs.length < this.paraLimit) {\n      paragraphs.push(new forms_1.FormControl(''));\n      console.log(\"paragraph added\");\n    }\n  }\n  onRemoveParagraph(i) {\n    const paragraphs = this.paragraphsFormArray;\n    if (paragraphs.length > 1) {\n      paragraphs.removeAt(i);\n      console.log(\"paragraph removed\");\n    } else {\n      paragraphs.reset();\n    }\n  }\n  onAddAnnex() {\n    const annexes = this.annexesFormArray;\n    if (annexes.length < this.annexLimit) {\n      annexes.push(new forms_1.FormControl(''));\n      console.log(\"annex added\");\n    }\n  }\n  onRemoveAnnex(i) {\n    const annexes = this.annexesFormArray;\n    if (annexes.length > 1) {\n      annexes.removeAt(i);\n      console.log(\"annex removed\");\n    } else {\n      annexes.reset();\n    }\n  }\n}\nexports.GenerateLetterComponent = GenerateLetterComponent;\nGenerateLetterComponent.ɵfac = function GenerateLetterComponent_Factory(t) {\n  return new (t || GenerateLetterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.DomSanitizer), i0.ɵɵdirectiveInject(i3.IcCodeService), i0.ɵɵdirectiveInject(i4.LetterService), i0.ɵɵdirectiveInject(i5.CustomToastService), i0.ɵɵdirectiveInject(i6.NspConfirmationService));\n};\nGenerateLetterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GenerateLetterComponent,\n  selectors: [[\"n2-generate-letter\"]],\n  decls: 81,\n  vars: 28,\n  consts: [[1, \"col-10\", 2, \"margin\", \"0 auto\"], [3, \"formGroup\"], [3, \"multiple\"], [\"header\", \"Generate Letter\", \"formGroupName\", \"settings\", 3, \"selected\"], [1, \"field\", \"grid\"], [\"for\", \"letterType\", 1, \"col-3\"], [1, \"col-3\"], [\"id\", \"letterType\", \"formControlName\", \"letterType\", \"placeholder\", \"Select\", 3, \"options\", \"onChange\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.report.validation.V004\", 4, \"ngIf\"], [\"for\", \"sender\", 1, \"col-3\"], [\"id\", \"sender\", \"formControlName\", \"sender\", \"optionLabel\", \"value\", \"optionValue\", \"key\", \"placeholder\", \"Select\", 3, \"options\"], [\"name\", \"searchType\", \"label\", \"Case ID\", \"value\", \"Case ID\", \"formControlName\", \"searchType\", \"inputId\", \"searchType1\", 1, \"col-1\", 3, \"onClick\"], [\"name\", \"searchType\", \"label\", \"NRIC\", \"value\", \"NRIC\", \"formControlName\", \"searchType\", \"inputId\", \"searchType2\", 1, \"col-1\", 3, \"onClick\"], [\"for\", \"searchInput\", 1, \"col-1\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"searchInput\", \"formControlName\", \"searchInput\", 2, \"width\", \"70%\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-chevron-right\", 1, \"chevron-button\", 2, \"float\", \"right\", \"width\", \"25%\", 3, \"click\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.report.validation.V001\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.report.validation.V007\", 3, \"translateValues\", 4, \"ngIf\"], [\"for\", \"sendTo\", 1, \"col-3\"], [\"id\", \"sendTo\", \"formControlName\", \"sendTo\", \"optionLabel\", \"desc\", \"optionValue\", \"code\", \"placeholder\", \"Select\", 3, \"options\", \"onChange\"], [\"header\", \"Letter Contents\", \"formGroupName\", \"contents\", 3, \"selected\", 4, \"ngIf\"], [\"header\", \"Recipients\", 3, \"selected\", 4, \"ngIf\"], [\"style\", \"float: right; margin-top: 1em;\", 4, \"ngIf\"], [\"header\", \"Preview Letter\", 3, \"visible\", \"modal\", \"dismissableMask\", \"draggable\", \"resizable\", \"visibleChange\"], [\"style\", \"height: 100%\", 4, \"ngIf\"], [\"pTemplate\", \"footer\"], [\"icTranslate\", \"nspay2App.report.validation.V004\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.report.validation.V001\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.report.validation.V007\", 1, \"form-text\", \"text-danger\", 3, \"translateValues\"], [\"header\", \"Letter Contents\", \"formGroupName\", \"contents\", 3, \"selected\"], [\"for\", \"referenceNo\", 1, \"col-3\"], [1, \"col-9\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"referenceNo\", \"formControlName\", \"referenceNo\", 1, \"w-full\"], [\"for\", \"title\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"title\", \"formControlName\", \"title\", 1, \"w-full\"], [\"formArrayName\", \"paragraphs\"], [\"class\", \"field grid\", 4, \"ngFor\", \"ngForOf\"], [\"formArrayName\", \"annexes\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"pInputTextarea\", \"\", 2, \"width\", \"85%\", 3, \"formControl\", \"autoResize\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-minus\", 1, \"custom-remove-button\", \"p-button-rounded\", \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-plus\", 1, \"custom-add-button\", \"p-button-rounded\", \"p-button-primary\", 3, \"click\"], [\"for\", \"annex\", 1, \"col-3\"], [\"pInputTextarea\", \"\", \"id\", \"annex\", 2, \"width\", \"85%\", 3, \"formControl\", \"autoResize\"], [\"header\", \"Recipients\", 3, \"selected\"], [\"formGroupName\", \"nsman\"], [\"for\", \"salutation\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"salutation\", \"formControlName\", \"salutation\", 1, \"w-full\"], [\"for\", \"name\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"w-full\"], [\"for\", \"nric\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"nric\", \"formControlName\", \"nric\", 1, \"w-full\"], [\"for\", \"postalCode\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"postalCode\", \"formControlName\", \"postalCode\", 1, \"w-full\"], [\"for\", \"blockNo\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"blockNo\", \"formControlName\", \"blockNo\", 1, \"w-full\"], [\"for\", \"streetName\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"streetName\", \"formControlName\", \"streetName\", 1, \"w-full\"], [\"for\", \"houseNo\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"houseNo\", \"formControlName\", \"houseNo\", 1, \"w-full\"], [\"for\", \"buildingName\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"buildingName\", \"formControlName\", \"buildingName\", 1, \"w-full\"], [\"for\", \"companyRecipient\", 1, \"col-3\"], [\"id\", \"companyRecipient\", \"formControlName\", \"companyRecipient\", \"optionLabel\", \"desc\", \"optionValue\", \"code\", \"placeholder\", \"Select\", 3, \"options\", \"onChange\"], [\"formGroupName\", \"companyOfficer\"], [\"for\", \"appt\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"appt\", \"formControlName\", \"appt\", 1, \"w-full\"], [\"formGroupName\", \"company\"], [2, \"float\", \"right\", \"margin-top\", \"1em\"], [\"type\", \"button\", \"pButton\", \"\", \"label\", \"Amend\", 3, \"disabled\", \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"label\", \"Preview Letter\", 3, \"disabled\", \"click\"], [2, \"height\", \"100%\"], [\"type\", \"application/pdf\", \"width\", \"100%\", \"height\", \"100%\"], [\"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"key\", \"generateLetter\"], [\"pButton\", \"\", \"label\", \"Generate\", 3, \"click\"]],\n  template: function GenerateLetterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵelementStart(4, \"p-accordion\", 2);\n      i0.ɵɵtext(5, \"\\n            \");\n      i0.ɵɵelementStart(6, \"p-accordionTab\", 3);\n      i0.ɵɵtext(7, \"\\n                \");\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtext(9, \"\\n                    \");\n      i0.ɵɵelementStart(10, \"label\", 5);\n      i0.ɵɵtext(11, \"Letter Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n                    \");\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵtext(14, \"\\n                        \");\n      i0.ɵɵelementStart(15, \"p-dropdown\", 7);\n      i0.ɵɵlistener(\"onChange\", function GenerateLetterComponent_Template_p_dropdown_onChange_15_listener() {\n        return ctx.onChangeLetterType();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \"\\n                        \");\n      i0.ɵɵtemplate(17, GenerateLetterComponent_div_17_Template, 2, 0, \"div\", 8);\n      i0.ɵɵtext(18, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n                    \");\n      i0.ɵɵelementStart(20, \"label\", 9);\n      i0.ɵɵtext(21, \"Sender\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \"\\n                    \");\n      i0.ɵɵelementStart(23, \"div\", 6);\n      i0.ɵɵtext(24, \"\\n                        \");\n      i0.ɵɵelement(25, \"p-dropdown\", 10);\n      i0.ɵɵtext(26, \"\\n                        \");\n      i0.ɵɵtemplate(27, GenerateLetterComponent_div_27_Template, 2, 0, \"div\", 8);\n      i0.ɵɵtext(28, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n                \");\n      i0.ɵɵelementStart(31, \"div\", 4);\n      i0.ɵɵtext(32, \"\\n                    \");\n      i0.ɵɵelementStart(33, \"p-radioButton\", 11);\n      i0.ɵɵlistener(\"onClick\", function GenerateLetterComponent_Template_p_radioButton_onClick_33_listener() {\n        return ctx.onClickSearchType();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n                    \");\n      i0.ɵɵelementStart(35, \"p-radioButton\", 12);\n      i0.ɵɵlistener(\"onClick\", function GenerateLetterComponent_Template_p_radioButton_onClick_35_listener() {\n        return ctx.onClickSearchType();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n                    \");\n      i0.ɵɵelement(37, \"label\", 13);\n      i0.ɵɵtext(38, \"\\n                    \");\n      i0.ɵɵelementStart(39, \"div\", 6);\n      i0.ɵɵtext(40, \"\\n                        \");\n      i0.ɵɵelementStart(41, \"div\");\n      i0.ɵɵtext(42, \"\\n                            \");\n      i0.ɵɵelement(43, \"input\", 14);\n      i0.ɵɵtext(44, \"\\n                            \");\n      i0.ɵɵelementStart(45, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function GenerateLetterComponent_Template_button_click_45_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(46, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n                        \");\n      i0.ɵɵtemplate(48, GenerateLetterComponent_div_48_Template, 2, 0, \"div\", 16);\n      i0.ɵɵtext(49, \"\\n                        \");\n      i0.ɵɵtemplate(50, GenerateLetterComponent_div_50_Template, 2, 4, \"div\", 17);\n      i0.ɵɵtext(51, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n                    \");\n      i0.ɵɵelementStart(53, \"label\", 18);\n      i0.ɵɵtext(54, \"Send To\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n                    \");\n      i0.ɵɵelementStart(56, \"div\", 6);\n      i0.ɵɵtext(57, \"\\n                        \");\n      i0.ɵɵelementStart(58, \"p-dropdown\", 19);\n      i0.ɵɵlistener(\"onChange\", function GenerateLetterComponent_Template_p_dropdown_onChange_58_listener() {\n        return ctx.onChangeSendTo();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n                        \");\n      i0.ɵɵtemplate(60, GenerateLetterComponent_div_60_Template, 2, 0, \"div\", 8);\n      i0.ɵɵtext(61, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(64, \"\\n            \");\n      i0.ɵɵtemplate(65, GenerateLetterComponent_p_accordionTab_65_Template, 38, 9, \"p-accordionTab\", 20);\n      i0.ɵɵtext(66, \"\\n            \");\n      i0.ɵɵtemplate(67, GenerateLetterComponent_p_accordionTab_67_Template, 193, 28, \"p-accordionTab\", 21);\n      i0.ɵɵtext(68, \"\\n            \");\n      i0.ɵɵtemplate(69, GenerateLetterComponent_div_69_Template, 6, 2, \"div\", 22);\n      i0.ɵɵtext(70, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(71, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(72, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n\\n\");\n      i0.ɵɵelementStart(74, \"p-dialog\", 23);\n      i0.ɵɵlistener(\"visibleChange\", function GenerateLetterComponent_Template_p_dialog_visibleChange_74_listener($event) {\n        return ctx.displayPreviewLetterDialog.display = $event;\n      });\n      i0.ɵɵtext(75, \"\\n    \");\n      i0.ɵɵtemplate(76, GenerateLetterComponent_div_76_Template, 4, 1, \"div\", 24);\n      i0.ɵɵtext(77, \"\\n\\n    \");\n      i0.ɵɵtemplate(78, GenerateLetterComponent_ng_template_78_Template, 7, 6, \"ng-template\", 25);\n      i0.ɵɵtext(79, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_4_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      let tmp_10_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.generateForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"multiple\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"selected\", true);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"options\", ctx.letterTypes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.settingsFormGroup.get(\"letterType\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx.settingsFormGroup.get(\"letterType\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"options\", ctx.senders);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.settingsFormGroup.get(\"sender\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx.settingsFormGroup.get(\"sender\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.settingsFormGroup.get(\"searchInput\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx.settingsFormGroup.get(\"searchInput\")) == null ? null : tmp_7_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.settingsFormGroup.errors == null ? null : ctx.settingsFormGroup.errors[\"invalidInput\"]) && (((tmp_8_0 = ctx.settingsFormGroup.get(\"searchType\")) == null ? null : tmp_8_0.dirty) || ((tmp_8_0 = ctx.settingsFormGroup.get(\"searchInput\")) == null ? null : tmp_8_0.dirty)));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"options\", ctx.sendToOptions);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.settingsFormGroup.get(\"sendTo\")) == null ? null : tmp_10_0.hasError(\"required\")) && ((tmp_10_0 = ctx.settingsFormGroup.get(\"sendTo\")) == null ? null : tmp_10_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate5(\"\\n                \", ctx.settingsFormGroup.get(\"letterType\").value, \" || \", ctx.settingsFormGroup.get(\"sender\").value, \" ||\\n                \", ctx.settingsFormGroup.get(\"searchType\").value, \" || \", ctx.settingsFormGroup.get(\"searchInput\").value, \" ||\\n                \", ctx.settingsFormGroup.get(\"sendTo\").value, \"\\n            \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isValidSearch);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isValidSearch);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isValidSearch);\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c2));\n      i0.ɵɵproperty(\"visible\", ctx.displayPreviewLetterDialog.display)(\"modal\", true)(\"dismissableMask\", true)(\"draggable\", false)(\"resizable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.previewLetterUrl != undefined);\n    }\n  },\n  dependencies: [i7.NgForOf, i7.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlDirective, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName, i8.PrimeTemplate, i9.ButtonDirective, i10.Dropdown, i11.InputText, i12.Dialog, i13.InputTextarea, i14.ConfirmPopup, i15.RadioButton, i16.TranslateDirective, i17.Accordion, i17.AccordionTab],\n  styles: [\"[_nghost-%COMP%]     .p-dropdown {\\n  width: 100%;\\n}\\n\\n[_nghost-%COMP%]     .custom-remove-button {\\n  margin-left: 1rem;\\n}\\n\\n[_nghost-%COMP%]     .custom-remove-button.p-button.p-button-icon-only.p-button-rounded {\\n  height: 2rem;\\n}\\n\\n[_nghost-%COMP%]     .custom-remove-button.p-button.p-button-icon-only {\\n  width: 2rem;\\n}\\n\\n[_nghost-%COMP%]     .custom-add-button {\\n  margin-left: 1rem;\\n}\\n\\n[_nghost-%COMP%]     .custom-add-button.p-button.p-button-icon-only.p-button-rounded {\\n  height: 2rem;\\n}\\n\\n[_nghost-%COMP%]     .custom-add-button.p-button.p-button-icon-only {\\n  width: 2rem;\\n}\\n\\n[_nghost-%COMP%]     .p-inputtext.ng-touched.ng-invalid {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     p-dropdown.ng-touched.ng-invalid > .p-dropdown {\\n  border-color: #e24c4c !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYXRlLWxldHRlci5jb21wb25lbnQuc2NzcyIsIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxccmVwb3J0LWxldHRlclxcbGV0dGVyXFxnZW5lcmF0ZS1sZXR0ZXJcXGdlbmVyYXRlLWxldHRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0oiLCJmaWxlIjoiZ2VuZXJhdGUtbGV0dGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5wLWRyb3Bkb3duIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1yZW1vdmUtYnV0dG9uIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1yZW1vdmUtYnV0dG9uLnAtYnV0dG9uLnAtYnV0dG9uLWljb24tb25seS5wLWJ1dHRvbi1yb3VuZGVkIHtcclxuICAgIGhlaWdodDogMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tcmVtb3ZlLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkge1xyXG4gICAgd2lkdGg6IDJyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLWFkZC1idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDFyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLWFkZC1idXR0b24ucC1idXR0b24ucC1idXR0b24taWNvbi1vbmx5LnAtYnV0dG9uLXJvdW5kZWQge1xyXG4gICAgaGVpZ2h0OiAycmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1hZGQtYnV0dG9uLnAtYnV0dG9uLnAtYnV0dG9uLWljb24tb25seSB7XHJcbiAgICB3aWR0aDogMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCBwLWRyb3Bkb3duLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWRyb3Bkb3duIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59IiwiOmhvc3QgOjpuZy1kZWVwIC5wLWRyb3Bkb3duIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLXJlbW92ZS1idXR0b24ge1xuICBtYXJnaW4tbGVmdDogMXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tcmVtb3ZlLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkucC1idXR0b24tcm91bmRlZCB7XG4gIGhlaWdodDogMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tcmVtb3ZlLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkge1xuICB3aWR0aDogMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tYWRkLWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxcmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1hZGQtYnV0dG9uLnAtYnV0dG9uLnAtYnV0dG9uLWljb24tb25seS5wLWJ1dHRvbi1yb3VuZGVkIHtcbiAgaGVpZ2h0OiAycmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1hZGQtYnV0dG9uLnAtYnV0dG9uLnAtYnV0dG9uLWljb24tb25seSB7XG4gIHdpZHRoOiAycmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtaW5wdXR0ZXh0Lm5nLXRvdWNoZWQubmctaW52YWxpZCB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgcC1kcm9wZG93bi5uZy10b3VjaGVkLm5nLWludmFsaWQgPiAucC1kcm9wZG93biB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcmVwb3J0LWxldHRlci9sZXR0ZXIvZ2VuZXJhdGUtbGV0dGVyL2dlbmVyYXRlLWxldHRlci5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL3Byb2plY3RzJTIwMi9uc3BheWlpYXBwL3NyYy9tYWluL3dlYmFwcC9hcHAvcmVwb3J0LWxldHRlci9sZXR0ZXIvZ2VuZXJhdGUtbGV0dGVyL2dlbmVyYXRlLWxldHRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0o7QURDQSxvMUZBQW8xRiIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAucC1kcm9wZG93biB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tcmVtb3ZlLWJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogMXJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tcmVtb3ZlLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkucC1idXR0b24tcm91bmRlZCB7XHJcbiAgICBoZWlnaHQ6IDJyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLXJlbW92ZS1idXR0b24ucC1idXR0b24ucC1idXR0b24taWNvbi1vbmx5IHtcclxuICAgIHdpZHRoOiAycmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1hZGQtYnV0dG9uIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1hZGQtYnV0dG9uLnAtYnV0dG9uLnAtYnV0dG9uLWljb24tb25seS5wLWJ1dHRvbi1yb3VuZGVkIHtcclxuICAgIGhlaWdodDogMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tYWRkLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkge1xyXG4gICAgd2lkdGg6IDJyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1pbnB1dHRleHQubmctdG91Y2hlZC5uZy1pbnZhbGlkIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgcC1kcm9wZG93bi5uZy10b3VjaGVkLm5nLWludmFsaWQgPiAucC1kcm9wZG93biB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufSIsIjpob3N0IDo6bmctZGVlcCAucC1kcm9wZG93biB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmN1c3RvbS1yZW1vdmUtYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDFyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLXJlbW92ZS1idXR0b24ucC1idXR0b24ucC1idXR0b24taWNvbi1vbmx5LnAtYnV0dG9uLXJvdW5kZWQge1xuICBoZWlnaHQ6IDJyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLXJlbW92ZS1idXR0b24ucC1idXR0b24ucC1idXR0b24taWNvbi1vbmx5IHtcbiAgd2lkdGg6IDJyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY3VzdG9tLWFkZC1idXR0b24ge1xuICBtYXJnaW4tbGVmdDogMXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tYWRkLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkucC1idXR0b24tcm91bmRlZCB7XG4gIGhlaWdodDogMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jdXN0b20tYWRkLWJ1dHRvbi5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkge1xuICB3aWR0aDogMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIHAtZHJvcGRvd24ubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtZHJvcGRvd24ge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;AACA;AACA;AAOA;;;;;;;;;;;;;;;;;;;;;ICAwBA,+BACiF;IAC7EA,6FACJ;IAAAA,iBAAM;;;;;IAMNA,+BACiF;IAC7EA,6FACJ;IAAAA,iBAAM;;;;;IAeNA,+BACiF;IAC7EA,4FACJ;IAAAA,iBAAM;;;;;;;;;;;IACNA,+BAI6H;IACzHA,mIACJ;IAAAA,iBAAM;;;;IAFFA,iKAAwH;;;;;IAQ5HA,+BACiF;IAC7EA,6FACJ;IAAAA,iBAAM;;;;;IAYNA,+BACiF;IAC7EA,4FACJ;IAAAA,iBAAM;;;;;IAONA,+BACiF;IAC7EA,4FACJ;IAAAA,iBAAM;;;;;IAcFA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;;IAbdA,8BAA8F;IAC1FA;IAAAA,gCAAqB;IAAAA,YAAmB;IAAAA,iBAAQ;IAChDA;IAAAA,+BAAmB;IACfA;IAAAA,+BAAgD;IAC5CA;IAAAA,+BAA2G;IAC3GA;IAAAA,mCACkE;IADjBA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAoB;IAAA,EAAC;IACbA,iBAAS;IAC3EA;IAAAA,mCACgE;IADhBA;MAAAA;MAAA;MAAA,OAASA,uCAAgB;IAAA,EAAC;IACVA,iBAAS;IAC7EA;IAAAA,iBAAM;IACNA;IAAAA,oGAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;;;;;IAdmBA,eAAmB;IAAnBA,kDAAmB;IAGPA,eAA+B;IAA/BA,2CAA+B;IAMtDA,eAA2D;IAA3DA,oJAA2D;;;;;IAkBjEA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;;IAbdA,8BAAuF;IACnFA;IAAAA,iCAAiC;IAAAA,YAAe;IAAAA,iBAAQ;IACxDA;IAAAA,+BAAmB;IACfA;IAAAA,+BAAgD;IAC5CA;IAAAA,+BAAkH;IAClHA;IAAAA,mCACkE;IADjBA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAgB;IAAA,EAAC;IACTA,iBAAS;IAC3EA;IAAAA,mCACgE;IADhBA;MAAAA;MAAA;MAAA,OAASA,mCAAY;IAAA,EAAC;IACNA,iBAAS;IAC7EA;IAAAA,iBAAM;IACNA;IAAAA,oGAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;;;;;IAd+BA,eAAe;IAAfA,8CAAe;IAGJA,eAA2B;IAA3BA,uCAA2B;IAM7DA,eAAmD;IAAnDA,oIAAmD;;;;;IAlDzEA,0CAA0G;IACtGA;IAAAA,8BAAwB;IACpBA;IAAAA,iCAAuC;IAAAA,gCAAgB;IAAAA,iBAAQ;IAC/DA;IAAAA,+BAAmB;IACfA;IAAAA,4BAA4F;IAC5FA;IAAAA,6FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAAiC;IAAAA,sBAAK;IAAAA,iBAAQ;IAC9CA;IAAAA,gCAAmB;IACfA;IAAAA,6BAAgF;IAChFA;IAAAA,6FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,gCAAgC;IAC5BA;IAAAA,8FAeM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,gCAA6B;IACzBA;IAAAA,8FAeM;IACVA;IAAAA,iBAAM;IACNA,aAEJ;IAAAA,iBAAiB;;;;;;IA3DuEA,+BAAiB;IAKvFA,gBAAiH;IAAjHA,4NAAiH;IAUjHA,gBAAqG;IAArGA,gNAAqG;IAOjEA,eAAiC;IAAjCA,6DAAiC;IAkBrCA,eAA8B;IAA9BA,0DAA8B;IAiB5EA,eAEJ;IAFIA,uSAEJ;;;;;IAkDYA,+BACiF;IAC7EA,6FACJ;IAAAA,iBAAM;;;;;IAQFA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAKNA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IASNA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAKNA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAONA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAKNA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAONA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;IAKNA,+BACiF;IAC7EA,oGACJ;IAAAA,iBAAM;;;;;;IA/HtBA,0CAA4E;IACxEA;IAAAA,+BAA2B;IACvBA;IAAAA,8BAAwB;IACpBA;IAAAA,iCAAsC;IAAAA,gCAAgB;IAAAA,iBAAQ;IAC9DA;IAAAA,8BAAmB;IACfA;IAAAA,6BAA0F;IAC9FA;IAAAA,iBAAM;IACNA;IAAAA,kCAAgC;IAAAA,2BAAU;IAAAA,iBAAQ;IAClDA;IAAAA,+BAAmB;IACfA;IAAAA,6BAA8E;IAClFA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAAgC;IAAAA,2BAAU;IAAAA,iBAAQ;IAClDA;IAAAA,+BAAmB;IACfA;IAAAA,6BAA8E;IAClFA;IAAAA,iBAAM;IACNA;IAAAA,kCAAsC;IAAAA,kCAAiB;IAAAA,iBAAQ;IAC/DA;IAAAA,+BAAmB;IACfA;IAAAA,6BAA0F;IAC9FA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAAmC;IAAAA,gCAAe;IAAAA,iBAAQ;IAC1DA;IAAAA,+BAAmB;IACfA;IAAAA,6BAAoF;IACxFA;IAAAA,iBAAM;IACNA;IAAAA,kCAAsC;IAAAA,kCAAiB;IAAAA,iBAAQ;IAC/DA;IAAAA,+BAAmB;IACfA;IAAAA,6BAA0F;IAC9FA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAAmC;IAAAA,gCAAe;IAAAA,iBAAQ;IAC1DA;IAAAA,+BAAmB;IACfA;IAAAA,6BAAoF;IACxFA;IAAAA,iBAAM;IACNA;IAAAA,kCAAwC;IAAAA,oCAAmB;IAAAA,iBAAQ;IACnEA;IAAAA,+BAAmB;IACfA;IAAAA,6BAA8F;IAClGA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAA4C;IAAAA,kCAAiB;IAAAA,iBAAQ;IACrEA;IAAAA,gCAAmB;IACfA;IAAAA,uCACuG;IAA7DA;MAAAA;MAAA;MAAA,OAAYA,iDAA0B;IAAA,EAAC;IACjFA;IAAAA,iBAAa;IACbA;IAAAA,4FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,gCAAoC;IAChCA;IAAAA,+BAAwB;IACpBA;IAAAA,kCAAgC;IAAAA,sCAAoB;IAAAA,iBAAQ;IAC5DA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA8E;IAC9EA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,mCAAgC;IAAAA,6CAA2B;IAAAA,iBAAQ;IACnEA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA8E;IAC9EA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,iCAA6B;IACzBA;IAAAA,gCAAwB;IACpBA;IAAAA,mCAAgC;IAAAA,8BAAY;IAAAA,iBAAQ;IACpDA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA8E;IAC9EA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,mCAAsC;IAAAA,qCAAmB;IAAAA,iBAAQ;IACjEA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA0F;IAC1FA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,gCAAwB;IACpBA;IAAAA,mCAAmC;IAAAA,mCAAiB;IAAAA,iBAAQ;IAC5DA;IAAAA,gCAAmB;IACfA;IAAAA,8BAAoF;IACpFA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,mCAAsC;IAAAA,qCAAmB;IAAAA,iBAAQ;IACjEA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA0F;IAC1FA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,gCAAwB;IACpBA;IAAAA,mCAAmC;IAAAA,mCAAiB;IAAAA,iBAAQ;IAC5DA;IAAAA,gCAAmB;IACfA;IAAAA,8BAAoF;IACpFA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACNA;IAAAA,mCAAwC;IAAAA,uCAAqB;IAAAA,iBAAQ;IACrEA;IAAAA,gCAAmB;IACfA;IAAAA,8BAA8F;IAC9FA;IAAAA,+FAGM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;IACNA,cASJ;IAAAA,iBAAiB;;;;;;;;;;;;;IA5IyCA,+BAAiB;IA8CnDA,gBAA+B;IAA/BA,oDAA+B;IAGrCA,eAAiH;IAAjHA,4NAAiH;IAW7GA,gBAA+G;IAA/GA,0NAA+G;IAQ/GA,gBAA+G;IAA/GA,0NAA+G;IAY/GA,gBAAiG;IAAjGA,4MAAiG;IAQjGA,gBAA6G;IAA7GA,wNAA6G;IAU7GA,gBAAuG;IAAvGA,kNAAuG;IAQvGA,gBAA6G;IAA7GA,wNAA6G;IAU7GA,gBAAuG;IAAvGA,kNAAuG;IAQvGA,gBAAiH;IAAjHA,gOAAiH;IAOnIA,eASJ;IATIA,kmCASJ;;;;;;IACAA,+BAAkE;IAC9DA;IAAAA,kCACyE;IAD7BA;MAAAA;MAAA;MAAA,OAASA,8CAAuB;IAAA,EAAC;IACJA,iBAAS;IAClFA;IAAAA,kCACqC;IADgBA;MAAAA;MAAA;MAAA,OAASA,wCAAiB;IAAA,EAAC;IAC3CA,iBAAS;IAClDA;IAAAA,iBAAM;;;;IAHEA,eAAoE;IAApEA,gGAAoE;IAEpEA,eAAgC;IAAhCA,qDAAgC;;;;;IAQhDA,+BAAgE;IAC5DA;IAAAA,6BAAkG;IACtGA;IAAAA,iBAAM;;;;IADMA,eAA8B;IAA9BA,yEAA8B;;;;;;;;;;;;IAItCA;IAAAA,kCACoE;IADbA;MAAAA;MAAA;MAAA,OAASA,4DAAmC,KAAK;IAAA,EAAC;IACrCA,iBAAS;IAC7EA;IAAAA,qCAAsD;IACtDA;IAAAA,kCAEoE;IAD5DA;MAAAA;MAAA;MAAA,OAASA,gDAAyB,gBAAgB,qCAA6B;IAAA,EAAC;IACpBA,iBAAS;IACjFA;;;IALYA,eAA2D;IAA3DA,yCAA2D;IAI3DA,eAA2D;IAA3DA,yCAA2D;;;;;;;;;ADlR3E,MAKaC,uBAAuB;EA0DlCC,YACUC,EAAe,EACfC,YAA0B,EAC1BC,WAA0B,EAC1BC,aAA4B,EAC5BC,YAAgC,EAChCC,sBAA8C;IAL9C,OAAE,GAAFL,EAAE;IACF,iBAAY,GAAZC,YAAY;IACZ,gBAAW,GAAXC,WAAW;IACX,kBAAa,GAAbC,aAAa;IACb,iBAAY,GAAZC,YAAY;IACZ,2BAAsB,GAAtBC,sBAAsB;IA9DhC,gBAAW,GAAG,CAAC,6BAA6B,EAAE,gCAAgC,CAAC;IAC/E,YAAO,GAAU,EAAE;IACnB,kBAAa,GAAU,EAAE;IACzB,wBAAmB,GAAU,EAAE;IAM/B,kBAAa,GAAG,KAAK;IAIrB,qBAAgB,GAAsB,EAAE;IAExC,+BAA0B,GAAQ;MAAEC,OAAO,EAAE;IAAK,CAAE;IAEpD,iBAAY,GAAc,IAAI,CAACN,EAAE,CAACO,KAAK,CAAC;MACtCC,QAAQ,EAAE,IAAI,CAACR,EAAE,CAACO,KAAK,CAAC;QACtBE,UAAU,EAAE,IAAIC,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QACpDC,MAAM,EAAE,IAAIF,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QAChDE,MAAM,EAAE,IAAIH,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QAChDG,UAAU,EAAE,IAAIJ,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QACpDI,WAAW,EAAE,IAAIL,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ;OACrD,CAAC;MACFK,QAAQ,EAAE,IAAI,CAAChB,EAAE,CAACO,KAAK,CAAC;QACtBU,WAAW,EAAE,IAAIP,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QACrDO,KAAK,EAAE,IAAIR,mBAAW,CAAC,EAAE,EAAEA,kBAAU,CAACC,QAAQ,CAAC;QAC/CQ,UAAU,EAAE,IAAI,CAACnB,EAAE,CAACoB,KAAK,CAAC,EAAE,CAAC;QAC7BC,OAAO,EAAE,IAAI,CAACrB,EAAE,CAACoB,KAAK,CAAC,EAAE;OAC1B,CAAC;MACFE,KAAK,EAAE,IAAI,CAACtB,EAAE,CAACO,KAAK,CAAC;QACnBgB,UAAU,EAAE,IAAIb,mBAAW,CAAC,EAAE,CAAC;QAC/Bc,IAAI,EAAE,IAAId,mBAAW,CAAC,EAAE,CAAC;QACzBe,IAAI,EAAE,IAAIf,mBAAW,CAAC,EAAE,CAAC;QACzBgB,UAAU,EAAE,IAAIhB,mBAAW,CAAC,EAAE,CAAC;QAC/BiB,OAAO,EAAE,IAAIjB,mBAAW,CAAC,EAAE,CAAC;QAC5BkB,UAAU,EAAE,IAAIlB,mBAAW,CAAC,EAAE,CAAC;QAC/BmB,OAAO,EAAE,IAAInB,mBAAW,CAAC,EAAE,CAAC;QAC5BoB,YAAY,EAAE,IAAIpB,mBAAW,CAAC,EAAE;OACjC,CAAC;MACFqB,gBAAgB,EAAE,IAAIrB,mBAAW,CAAC,EAAE,CAAC;MACrCsB,cAAc,EAAE,IAAI,CAAChC,EAAE,CAACO,KAAK,CAAC;QAC5BiB,IAAI,EAAE,IAAId,mBAAW,CAAC,EAAE,CAAC;QACzBuB,IAAI,EAAE,IAAIvB,mBAAW,CAAC,EAAE;OACzB,CAAC;MACFwB,OAAO,EAAE,IAAI,CAAClC,EAAE,CAACO,KAAK,CAAC;QACrBiB,IAAI,EAAE,IAAId,mBAAW,CAAC,EAAE,CAAC;QACzBgB,UAAU,EAAE,IAAIhB,mBAAW,CAAC,EAAE,CAAC;QAC/BiB,OAAO,EAAE,IAAIjB,mBAAW,CAAC,EAAE,CAAC;QAC5BkB,UAAU,EAAE,IAAIlB,mBAAW,CAAC,EAAE,CAAC;QAC/BmB,OAAO,EAAE,IAAInB,mBAAW,CAAC,EAAE,CAAC;QAC5BoB,YAAY,EAAE,IAAIpB,mBAAW,CAAC,EAAE;OACjC;KACF,CAAC;EASC;EAEH,IAAIyB,iBAAiB;IACnB,OAAO,IAAI,CAACC,YAAY,CAACC,GAAG,CAAC,UAAU,CAAc;EACvD;EAEA,IAAIC,iBAAiB;IACnB,OAAO,IAAI,CAACF,YAAY,CAACC,GAAG,CAAC,UAAU,CAAc;EACvD;EAEA,IAAIE,mBAAmB;IACrB,OAAO,IAAI,CAACH,YAAY,CAACC,GAAG,CAAC,UAAU,CAAC,CAACA,GAAG,CAAC,YAAY,CAAc;EACzE;EAEA,IAAIG,gBAAgB;IAClB,OAAO,IAAI,CAACJ,YAAY,CAACC,GAAG,CAAC,UAAU,CAAC,CAACA,GAAG,CAAC,SAAS,CAAc;EACtE;EAEA,IAAII,cAAc;IAChB,OAAO,IAAI,CAACL,YAAY,CAACC,GAAG,CAAC,OAAO,CAAc;EACpD;EAEA,IAAIK,2BAA2B;IAC7B,OAAO,IAAI,CAACN,YAAY,CAACC,GAAG,CAAC,kBAAkB,CAAgB;EACjE;EAEA,IAAIM,uBAAuB;IACzB,OAAO,IAAI,CAACP,YAAY,CAACC,GAAG,CAAC,gBAAgB,CAAc;EAC7D;EAEA,IAAIO,gBAAgB;IAClB,OAAO,IAAI,CAACR,YAAY,CAACC,GAAG,CAAC,SAAS,CAAc;EACtD;EAEAQ,QAAQ;IACN,IAAI,CAACC,IAAI,EAAE;EACb;EAEMA,IAAI;IAAA;IAAA;MACR;MACA,MAAM,KAAI,CAACC,cAAc,EAAE;MAC3B,KAAI,CAACC,qBAAqB,EAAE;MAC5B,KAAI,CAACC,yBAAyB,EAAE;MAChC,KAAI,CAACC,2BAA2B,EAAE;MAElC;MACA,KAAI,CAACC,YAAY,EAAE;IAAC;EACtB;EAEMJ,cAAc;IAAA;IAAA;MAClB,MAAMK,IAAI,SAAS,MAAI,CAACjD,aAAa,CAACkD,SAAS,CAAC,IAAI,CAAC,CAACC,SAAS,EAAE;MACjE,IAAIF,IAAI,CAACG,IAAI,CAACC,IAAI,EAAE;QAClB,MAAI,CAACC,iBAAiB,GAAGL,IAAI,CAACG,IAAI,CAACC,IAAI,EAAEE,mBAAmB;QAC5D,MAAI,CAACC,SAAS,GAAGP,IAAI,CAACG,IAAI,CAACC,IAAI,EAAEI,YAAY;QAC7C,MAAI,CAACC,UAAU,GAAGT,IAAI,CAACG,IAAI,CAACC,IAAI,EAAEM,aAAa;QAC/CC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEZ,IAAI,CAACG,IAAI,CAACC,IAAI,CAAC;;IAChD;EACH;EAEAR,qBAAqB;IACnB,IAAI,CAAC7C,aAAa,CAAC8D,gBAAgB,CAAC,IAAI,CAAC,CAACC,SAAS,CAACd,IAAI,IAAG;MACzD,IAAIA,IAAI,CAACG,IAAI,CAACC,IAAI,EAAE;QAClB,KAAK,MAAM,CAACW,CAAC,EAAEC,CAAC,CAAC,IAAIC,MAAM,CAACC,OAAO,CAAClB,IAAI,CAACG,IAAI,CAACC,IAAI,CAAC,EAAE;UACnD,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC;YAChBC,GAAG,EAAEN,CAAC;YACNO,KAAK,EAAEN;WACR,CAAC;;QAEJL,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAACO,OAAO,CAAC;;IAEtD,CAAC,CAAC;EACJ;EAEAtB,yBAAyB;IACvB,IAAI,CAAC/C,WAAW,CAACyE,IAAI,CAAC,oBAAoB,CAAC,CAC1CT,SAAS,CAAEU,KAAY,IAAI;MAC1B,IAAI,CAACC,aAAa,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACE,GAAG,CAAEC,CAAK,KAAI;QAC1CC,IAAI,EAAED,CAAC,CAACE,MAAM;QACdC,IAAI,EAAEH,CAAC,CAACI,KAAK,CAAC,OAAO;OACtB,CAAC,CAAC;MACHpB,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAACa,aAAa,CAAC;IACxD,CAAC,CAAC;EACJ;EAEA3B,2BAA2B;IACzB,IAAI,CAAChD,WAAW,CAACyE,IAAI,CAAC,6BAA6B,CAAC,CACnDT,SAAS,CAAEU,KAAY,IAAI;MAC1B,IAAI,CAACQ,mBAAmB,GAAGR,KAAK,CAAC,CAAC,CAAC,CAACE,GAAG,CAAEC,CAAK,KAAI;QAChDC,IAAI,EAAED,CAAC,CAACE,MAAM;QACdC,IAAI,EAAEH,CAAC,CAACI,KAAK,CAAC,OAAO;OACtB,CAAC,CAAC;MACHpB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAACoB,mBAAmB,CAAC;IACvE,CAAC,CAAC;EACJ;EAEAjC,YAAY;IACV,IAAI,CAAChB,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACgD,UAAU,CAAC,IAAI,CAACC,WAAW,CAAC,CAAC,CAAC,CAAC;IACxEvB,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;IAElD,IAAI,CAACzB,mBAAmB,CAACgD,KAAK,EAAE;IAChC,IAAI,CAAChD,mBAAmB,CAACiC,IAAI,CAAC,IAAI9D,mBAAW,CAAC,EAAE,CAAC,CAAC;IAClD,IAAI,CAAC6B,mBAAmB,CAACiC,IAAI,CAAC,IAAI9D,mBAAW,CAAC,IAAI,CAAC+C,iBAAiB,CAAC,CAAC;IACtEM,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IAEvC,IAAI,CAACxB,gBAAgB,CAAC+C,KAAK,EAAE;IAC7B,IAAI,CAAC/C,gBAAgB,CAACgC,IAAI,CAAC,IAAI9D,mBAAW,CAAC,EAAE,CAAC,CAAC;IAC/CqD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAE1B,IAAI,CAACvB,cAAc,CAAC+C,OAAO,EAAE;IAC7BzB,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;EACvC;EAEAyB,kBAAkB;IAChB,IAAI,IAAI,CAACtD,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACqC,KAAK,CAACgB,QAAQ,CAAC,YAAY,CAAC,IAAI,IAAI,CAAClD,gBAAgB,CAACmD,MAAM,KAAK,CAAC,EAAE;MAC/G,IAAI,CAACnD,gBAAgB,CAACgC,IAAI,CAAC,IAAI9D,mBAAW,CAAC,EAAE,CAAC,CAAC;MAC/CqD,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;KACzB,MAAM;MACL,IAAI,CAACxB,gBAAgB,CAAC+C,KAAK,EAAE;MAC7BxB,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;;EAE3B;EAEA4B,iBAAiB;IACf,IAAI,IAAI,CAACzD,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACqC,KAAK,KAAK,MAAM,EAAE;MAC3D,IAAI,CAACvC,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACgD,UAAU,CAAC,IAAI,CAACR,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,UAAU,CAAC,EAAEF,IAAI,CAAC;MAC1G,IAAI,CAAC7C,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACmD,OAAO,EAAE;MAC9CzB,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;KACnE,MAAM;MACH,IAAI,CAAC7B,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACgD,UAAU,CAAC,IAAI,CAACR,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,uBAAuB,CAAC,EAAEF,IAAI,CAAC;MACvH,IAAI,CAAC7C,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACyD,MAAM,EAAE;MAC7C/B,OAAO,CAACC,GAAG,CAAC,+DAA+D,CAAC;;EAElF;EAEA+B,QAAQ;IACN,IAAI,CAACC,wBAAwB,EAAE;IAC/B,IAAI,CAACC,aAAa,GAAG,IAAI,CAACpB,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,UAAU,CAAC,EAAEF,IAAI,CAACkB,QAAQ,EAAE,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC/D,iBAAiB,CAACgE,MAAM,GAAG,cAAc,CAAC,EAAE;MACnD;MACA,IAAI,CAACC,aAAa,GAAG,KAAK;MAC1BrC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;KAC7C,MAAM;MACL,IAAI,IAAI,CAAC7B,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACqC,KAAK,KAAK,SAAS,EAAE;QAChE,IAAI,IAAI,CAACvC,iBAAiB,CAACE,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK,CAAC2B,UAAU,CAAC,IAAI,CAAC,EAAE;UACpE,IAAI,CAAClE,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACgD,UAAU,CAAC,IAAI,CAACR,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,UAAU,CAAC,EAAEF,IAAI,CAAC;UAC1G,IAAI,CAAC7C,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACmD,OAAO,EAAE;UAC9CzB,OAAO,CAACC,GAAG,CAAC,wEAAwE,CAAC;SACtF,MAAM;UACL,IAAI,CAAC7B,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACyD,MAAM,EAAE;;;MAGjD,IAAI,CAACQ,kBAAkB,EAAE;;EAE7B;EAEAN,wBAAwB;IACtB,IAAI,CAAC7D,iBAAiB,CAACoE,aAAa,CAACC,gDAAqB,CAACC,oBAAoB,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;IAC7G,IAAI,CAACtE,iBAAiB,CAACuE,sBAAsB,EAAE;EACjD;EAEAJ,kBAAkB;IAChB,IAAIK,MAAM,GAAG,IAAIC,iBAAU,EAAE;IAC7B,IAAI,IAAI,CAACzE,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACqC,KAAK,KAAK,SAAS,EAAE;MAChEiC,MAAM,GAAGA,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC1E,iBAAiB,CAACE,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK,CAAC;KAClF,MAAM;MACLiC,MAAM,GAAGA,MAAM,CAACE,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC1E,iBAAiB,CAACE,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK,CAAC;;IAGzF,IAAI,CAACvE,aAAa,CAAC2G,eAAe,CAAC;MAACH;IAAM,CAAC,CAAC,CAACzC,SAAS,CAACd,IAAI,IAAG;MAC5D,IAAIA,IAAI,CAACG,IAAI,CAACC,IAAI,EAAE;QAClB,IAAI,CAACuD,YAAY,GAAG3D,IAAI,CAACG,IAAI,CAACC,IAAI;QAClCO,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC+C,YAAY,CAAC;QACzD,IAAI,CAACC,eAAe,EAAE;QACtB,IAAI,CAACC,cAAc,EAAE;QACrB;QACA,IAAI,CAACb,aAAa,GAAG,IAAI;;IAE7B,CAAC,EACAc,KAAU,IAAI;MACb;MACA,IAAI,CAACd,aAAa,GAAG,KAAK;MAC1BrC,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGmD,MAAM,CAACD,KAAK,EAAEA,KAAK,EAAEE,UAAU,CAAC,CAAC;IAC7D,CAAC,CAAC;EACJ;EAEAJ,eAAe;IACb;IACA,IAAI,CAACvE,cAAc,CAAC4E,KAAK,EAAE;IAC3B,IAAI,CAAC3E,2BAA2B,CAAC8C,OAAO,EAAE;IAC1C,IAAI,CAAC9C,2BAA2B,CAAC2E,KAAK,EAAE;IACxC,IAAI,CAAC1E,uBAAuB,CAAC6C,OAAO,EAAE;IACtC,IAAI,CAAC7C,uBAAuB,CAAC0E,KAAK,EAAE;IACpC,IAAI,CAACzE,gBAAgB,CAAC4C,OAAO,EAAE;IAC/B,IAAI,CAAC5C,gBAAgB,CAACyE,KAAK,EAAE;IAC7BtD,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;EAClD;EAEAiD,cAAc;IACZ,IAAI,IAAI,CAAC9E,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,aAAa,CAAC,EAAEF,IAAI,EAAE;MAC/G,IAAI,CAACvC,cAAc,CAAC4E,KAAK,EAAE;MAC3B,IAAI,CAAC3E,2BAA2B,CAAC6D,aAAa,CAAC7F,kBAAU,CAACC,QAAQ,CAAC;MACnE,IAAI,CAAC+B,2BAA2B,CAACoD,MAAM,EAAE;MACzC/B,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;KACnE,MAAM,IAAI,IAAI,CAAC7B,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,UAAU,CAAC,EAAEF,IAAI,EAAE;MACnH,IAAI,CAACsC,iBAAiB,EAAE;MACxB,IAAI,CAACC,4BAA4B,EAAE;MACnCxD,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;KAChE,MAAM;MACL,IAAI,CAACsD,iBAAiB,EAAE;MACxB,IAAI,CAAC5E,2BAA2B,CAAC6D,aAAa,CAAC7F,kBAAU,CAACC,QAAQ,CAAC;MACnE,IAAI,CAAC+B,2BAA2B,CAACoD,MAAM,EAAE;MACzC/B,OAAO,CAACC,GAAG,CAAC,0DAA0D,CAAC;;EAE3E;EAEAsD,iBAAiB;IACf,IAAI,CAAC7E,cAAc,CAAC4C,UAAU,CAAC;MAC7B9D,UAAU,EAAE,IAAI,CAACwF,YAAY,EAAExF,UAAU;MACzCC,IAAI,EAAE,IAAI,CAACuF,YAAY,EAAES,mBAAmB;MAC5C/F,IAAI,EAAE,IAAI,CAACsF,YAAY,EAAEU,YAAY;MACrC/F,UAAU,EAAE,IAAI,CAACqF,YAAY,EAAErF,UAAU;MACzCC,OAAO,EAAE,IAAI,CAACoF,YAAY,EAAEW,KAAK;MACjC9F,UAAU,EAAE,IAAI,CAACmF,YAAY,EAAEnF,UAAU;MACzCC,OAAO,EAAE,IAAI,CAACkF,YAAY,EAAElF,OAAO;MACnCC,YAAY,EAAE,IAAI,CAACiF,YAAY,EAAEjF;KAClC,CAAC;IACFiC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACtC;EAEAuD,4BAA4B;IAC1B,IAAI,CAAC7E,2BAA2B,CAACiF,aAAa,CAAC,EAAE,CAAC;IAClDtD,MAAM,CAACuD,IAAI,CAAC,IAAI,CAACjF,uBAAuB,CAACkF,QAAQ,CAAC,CAACC,OAAO,CAAErD,GAAW,IAAI;MACzE,MAAMsD,eAAe,GAAG,IAAI,CAACpF,uBAAuB,CAACkF,QAAQ,CAACpD,GAAG,CAAC;MAClEsD,eAAe,CAACJ,aAAa,CAAC,EAAE,CAAC;IACnC,CAAC,CAAC;IACFtD,MAAM,CAACuD,IAAI,CAAC,IAAI,CAAChF,gBAAgB,CAACiF,QAAQ,CAAC,CAACC,OAAO,CAAErD,GAAW,IAAI;MAClE,MAAMsD,eAAe,GAAG,IAAI,CAACnF,gBAAgB,CAACiF,QAAQ,CAACpD,GAAG,CAAC;MAC3DsD,eAAe,CAACJ,aAAa,CAAC,EAAE,CAAC;IACnC,CAAC,CAAC;IACF5D,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;IAE1D,IAAI,CAACtB,2BAA2B,CAAC8C,OAAO,EAAE;IAC1C,IAAI,CAAC9C,2BAA2B,CAAC2E,KAAK,EAAE;IACxC,IAAI,CAAC1E,uBAAuB,CAAC6C,OAAO,EAAE;IACtC,IAAI,CAAC7C,uBAAuB,CAAC0E,KAAK,EAAE;IACpC,IAAI,CAACzE,gBAAgB,CAAC4C,OAAO,EAAE;IAC/B,IAAI,CAAC5C,gBAAgB,CAACyE,KAAK,EAAE;IAC7BtD,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;EACrD;EAEMgE,wBAAwB;IAAA;IAAA;MAC5B,MAAM,MAAI,CAACC,sBAAsB,EAAE;MACnC,MAAI,CAACC,mBAAmB,EAAE;MAC1B,MAAI,CAACvF,uBAAuB,CAAC0E,KAAK,EAAE;MACpC,IAAI,MAAI,CAAC3E,2BAA2B,CAACgC,KAAK,KAAK,MAAI,CAACU,mBAAmB,CAACS,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,OAAO,CAAC,EAAEF,IAAI,EAAE;QAC3G,MAAI,CAACrC,uBAAuB,CAACkF,QAAQ,CAAC,MAAM,CAAC,CAACtB,aAAa,CAAC7F,kBAAU,CAACC,QAAQ,CAAC;QAChF,MAAI,CAACgC,uBAAuB,CAACkF,QAAQ,CAAC,MAAM,CAAC,CAACtB,aAAa,CAAC7F,kBAAU,CAACC,QAAQ,CAAC;QAChF,MAAI,CAACgC,uBAAuB,CAACmD,MAAM,EAAE;QACrC/B,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;OAC3D,MAAM;QACL,MAAI,CAACrB,uBAAuB,CAAC6C,OAAO,EAAE;QACtC,MAAI,CAAC7C,uBAAuB,CAAC0C,UAAU,CAAC;UACtC7D,IAAI,EAAE,MAAI,CAAC2G,qBAAqB,EAAEX,mBAAmB;UACrDvF,IAAI,EAAE,MAAI,CAACkG,qBAAqB,EAAElG;SACnC,CAAC;QACF8B,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;;IAC3D;EACH;EAEMiE,sBAAsB;IAAA;IAAA;MAC1B,IAAItB,MAAM,GAAG,IAAIC,iBAAU,EAAE;MAC7BD,MAAM,GAAGA,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAE,MAAI,CAACnE,2BAA2B,CAACgC,KAAK,CAAC;MACxEiC,MAAM,GAAGA,MAAM,CAACE,MAAM,CAAC,KAAK,EAAE,MAAI,CAACE,YAAY,EAAEqB,GAAG,CAAC;MAErD,MAAMhF,IAAI,SAAS,MAAI,CAACjD,aAAa,CAACkI,mBAAmB,CAAC;QAAC1B;MAAM,CAAC,CAAC,CAACrD,SAAS,EAAE;MAC/E,IAAIF,IAAI,CAACG,IAAI,CAACC,IAAI,EAAE;QAClB,MAAI,CAAC2E,qBAAqB,GAAG/E,IAAI,CAACG,IAAI,CAACC,IAAI;QAC3CO,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAE,MAAI,CAACmE,qBAAqB,CAAC;;IACzE;EACH;EAEAD,mBAAmB;IACjB,IAAI,CAACtF,gBAAgB,CAACyC,UAAU,CAAC;MAC/B7D,IAAI,EAAE,IAAI,CAAC2G,qBAAqB,EAAEG,WAAW;MAC7C5G,UAAU,EAAE,IAAI,CAACyG,qBAAqB,EAAEzG,UAAU;MAClDC,OAAO,EAAE,IAAI,CAACwG,qBAAqB,EAAET,KAAK;MAC1C9F,UAAU,EAAE,IAAI,CAACuG,qBAAqB,EAAEvG,UAAU;MAClDC,OAAO,EAAE,IAAI,CAACsG,qBAAqB,EAAEtG,OAAO;MAC5CC,YAAY,EAAE,IAAI,CAACqG,qBAAqB,EAAErG;KAC3C,CAAC;IACFiC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;EACxC;EAEAuE,qBAAqB;IACnBlE,MAAM,CAACuD,IAAI,CAAC,IAAI,CAAChF,gBAAgB,CAACiF,QAAQ,CAAC,CAACC,OAAO,CAAErD,GAAW,IAAI;MAClE,MAAMsD,eAAe,GAAG,IAAI,CAACnF,gBAAgB,CAACiF,QAAQ,CAACpD,GAAG,CAAC;MAC3DsD,eAAe,CAACxB,aAAa,CAAC7F,kBAAU,CAACC,QAAQ,CAAC;IACpD,CAAC,CAAC;IACF,IAAI,CAACiC,gBAAgB,CAACkD,MAAM,EAAE;IAC9B/B,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;EACrE;EAEAwE,eAAe;IACb,IAAI,CAACC,uBAAuB,EAAE;IAC9B,IAAI,CAACtI,aAAa,CAACuI,aAAa,CAAC,IAAI,CAACC,gBAAgB,EAAE;MAAEC,YAAY,EAAE;IAAM,CAAE,CAAC,CAAC1E,SAAS,CAACd,IAAI,IAAG;MACjG,IAAIA,IAAI,IAAIA,IAAI,CAACyF,MAAM,KAAK,GAAG,EAAE;QAC/B9E,OAAO,CAACC,GAAG,CAAC,yDAAyD,CAAC;QACtE,MAAMR,IAAI,GAAGJ,IAAI;QACjB,IAAI,CAAC0F,oBAAoB,CAACtF,IAAI,CAAC;;IAEnC,CAAC,EACA0D,KAAU,IAAI;MACbnD,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGmD,MAAM,CAACD,KAAK,EAAEA,KAAK,EAAEE,UAAU,CAAC,CAAC;MAC3D,IAAI,CAAChH,YAAY,CAAC8G,KAAK,CACrB,mHAAmH,CAAC;IACxH,CAAC,CAAC;EACJ;EAEA4B,oBAAoB,CAACtF,IAAS;IAC5B,MAAMuF,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACxF,IAAI,CAACD,IAAI,CAAC,EAAE;MAAC0F,IAAI,EAAEzF,IAAI,CAAC0F,OAAO,CAAC7G,GAAG,CAAC,cAAc;IAAC,CAAC,CAAC;IAC5E,IAAI,CAAC8G,gBAAgB,GAAG,IAAI,CAAClJ,YAAY,CAACmJ,8BAA8B,CAACC,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC,GAAC,YAAY,CAAC;IAChH,IAAI,CAACQ,0BAA0B,CAACjJ,OAAO,GAAG,IAAI;EAChD;EAEAmI,uBAAuB;IACrB,IAAI,IAAI,CAACtG,iBAAiB,CAACE,GAAG,CAAC,YAAY,CAAC,CAACqC,KAAK,KAAK,SAAS,EAAE;MAChE,IAAI,CAACiE,gBAAgB,CAACa,MAAM,GAAG,IAAI,CAACrH,iBAAiB,CAACE,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK;MAC9EX,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC2E,gBAAgB,CAACa,MAAM,CAAC;KACnE,MAAM;MACL,IAAI,CAACb,gBAAgB,CAACc,YAAY,GAAG,IAAI,CAACtH,iBAAiB,CAACE,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK;MACpFX,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC2E,gBAAgB,CAACc,YAAY,CAAC;;IAEhF,IAAI,CAACC,sBAAsB,EAAE;IAC7B,IAAI,CAACC,sBAAsB,EAAE;IAC7B,IAAI,CAAChB,gBAAgB,CAACiB,eAAe,GAAG,IAAI,CAACzH,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK;IAClFX,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAE,IAAI,CAAC2E,gBAAgB,CAACiB,eAAe,CAAC;EACtF;EAEAF,sBAAsB;IACpB,MAAMG,gBAAgB,GAAG,IAAIC,GAAG,EAAkB;IAClDD,gBAAgB,CAACE,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACzH,iBAAiB,CAACD,GAAG,CAAC,aAAa,CAAC,CAACqC,KAAK,CAAC;IAC/EmF,gBAAgB,CAACE,GAAG,CAAC,OAAO,EAAE,IAAI,CAACzH,iBAAiB,CAACD,GAAG,CAAC,OAAO,CAAC,CAACqC,KAAK,CAAC;IACxE,KAAK,IAAIsF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACzH,mBAAmB,CAACoD,MAAM,EAAEqE,CAAC,EAAE,EAAE;MACxD,IAAI,IAAI,CAACzH,mBAAmB,CAAC0H,EAAE,CAACD,CAAC,CAAC,CAACtF,KAAK,KAAK,EAAE,EAAE;QAC/CmF,gBAAgB,CAACE,GAAG,CAAC,MAAM,CAACG,MAAM,CAAC,GAAG,EAAE,CAACF,CAAC,GAAC,CAAC,EAAE9D,QAAQ,EAAE,CAAC,EAAE,IAAI,CAAC3D,mBAAmB,CAAC0H,EAAE,CAACD,CAAC,CAAC,CAACtF,KAAK,CAAC;;;IAGpG,IAAI,CAACiE,gBAAgB,CAACwB,QAAQ,GAAG,KAAK;IACtC,IAAI,IAAI,CAAC3H,gBAAgB,CAACmD,MAAM,GAAG,CAAC,EAAE;MACpC,KAAK,IAAIqE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACxH,gBAAgB,CAACmD,MAAM,EAAEqE,CAAC,EAAE,EAAE;QACrD,IAAI,IAAI,CAACxH,gBAAgB,CAACyH,EAAE,CAACD,CAAC,CAAC,CAACtF,KAAK,KAAK,EAAE,EAAE;UAC5CmF,gBAAgB,CAACE,GAAG,CAAC,OAAO,CAACG,MAAM,CAAC,GAAG,EAAE,CAACF,CAAC,GAAC,CAAC,EAAE9D,QAAQ,EAAE,CAAC,EAAE,IAAI,CAAC1D,gBAAgB,CAACyH,EAAE,CAACD,CAAC,CAAC,CAACtF,KAAK,CAAC;UAC9F,IAAI,CAACiE,gBAAgB,CAACwB,QAAQ,GAAG,IAAI;;;;IAI3C,IAAI,CAACxB,gBAAgB,CAACkB,gBAAgB,GAAGxF,MAAM,CAAC+F,WAAW,CAACP,gBAAgB,CAAC;IAC7E9F,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAE,IAAI,CAAC2E,gBAAgB,CAACkB,gBAAgB,CAAC;EACxF;EAEAF,sBAAsB;IACpB,MAAMU,aAAa,GAAG,EAAE;IACxB,IAAI,IAAI,CAAC3H,2BAA2B,CAACgC,KAAK,KAAK,IAAI,CAACU,mBAAmB,CAACS,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,OAAO,CAAC,EAAEF,IAAI,EAAE;MAC3G,IAAI,CAACmD,qBAAqB,CAACX,mBAAmB,GAAG,IAAI,CAAC7E,uBAAuB,CAACN,GAAG,CAAC,MAAM,CAAC,CAACqC,KAAK;MAC/F,IAAI,CAACyD,qBAAqB,CAAClG,IAAI,GAAG,IAAI,CAACU,uBAAuB,CAACN,GAAG,CAAC,MAAM,CAAC,CAACqC,KAAK;;IAGlF,IAAI,IAAI,CAACvC,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,aAAa,CAAC,EAAEF,IAAI,EAAE;MAC/G,IAAI,CAACmD,qBAAqB,CAACc,IAAI,GAAG,UAAU;MAC5C,IAAI,CAACd,qBAAqB,CAACmC,SAAS,GAAG,KAAK;MAC5CD,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAAC2D,qBAAqB,CAAC;KAC/C,MAAM,IAAI,IAAI,CAAChG,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,UAAU,CAAC,EAAEF,IAAI,EAAE;MACnH,IAAI,CAAC+B,YAAY,CAACkC,IAAI,GAAG,OAAO;MAChC,IAAI,CAAClC,YAAY,CAACuD,SAAS,GAAG,KAAK;MACnCD,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAACuC,YAAY,CAAC;KACtC,MAAM,IAAI,IAAI,CAAC5E,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,uBAAuB,CAAC,EAAEF,IAAI,EAAE;MAChI,IAAI,CAACmD,qBAAqB,CAACc,IAAI,GAAG,UAAU;MAC5C,IAAI,CAACd,qBAAqB,CAACmC,SAAS,GAAG,KAAK;MAC5C,IAAI,CAACvD,YAAY,CAACkC,IAAI,GAAG,OAAO;MAChC,IAAI,CAAClC,YAAY,CAACuD,SAAS,GAAG,IAAI;MAClCD,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAAC2D,qBAAqB,CAAC;MAC9CkC,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAACuC,YAAY,CAAC;KACtC,MAAM,IAAI,IAAI,CAAC5E,iBAAiB,CAACE,GAAG,CAAC,QAAQ,CAAC,CAACqC,KAAK,KAAK,IAAI,CAACG,aAAa,CAACgB,IAAI,CAACd,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK,uBAAuB,CAAC,EAAEF,IAAI,EAAE;MAChI,IAAI,CAACmD,qBAAqB,CAACc,IAAI,GAAG,UAAU;MAC5C,IAAI,CAACd,qBAAqB,CAACmC,SAAS,GAAG,IAAI;MAC3C,IAAI,CAACvD,YAAY,CAACkC,IAAI,GAAG,OAAO;MAChC,IAAI,CAAClC,YAAY,CAACuD,SAAS,GAAG,KAAK;MACnCD,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAAC2D,qBAAqB,CAAC;MAC9CkC,aAAa,CAAC7F,IAAI,CAAC,IAAI,CAACuC,YAAY,CAAC;;IAEvC,IAAI,CAAC4B,gBAAgB,CAAC0B,aAAa,GAAGA,aAAa;IACnDtG,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC2E,gBAAgB,CAAC0B,aAAa,CAAC;EAClF;EAEAE,gBAAgB,CAACC,KAAY,EAAE/F,GAAW,EAAEgG,MAAW;IACrD1G,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IACnD,IAAI,CAAC3D,sBAAsB,CAACqK,cAAc,CAACF,KAAK,EAAE/F,GAAG,EAAEgG,MAAM,EAAE,MAAK;MAClE1G,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;MACvD,IAAI,CAAC7D,aAAa,CAACwK,cAAc,CAAC,IAAI,CAAChC,gBAAgB,EAAE;QAAEC,YAAY,EAAE;MAAM,CAAE,CAAC,CAAC1E,SAAS,CAACd,IAAI,IAAG;QAClG,IAAIA,IAAI,IAAIA,IAAI,CAACyF,MAAM,KAAK,GAAG,EAAE;UAC/B9E,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;UACjD,IAAI,CAACoC,aAAa,GAAG,KAAK;UAC1B,IAAI,CAAChE,YAAY,CAACiF,KAAK,EAAE;UACzB,IAAI,CAAClE,YAAY,EAAE;UACnB,IAAI,CAAC/C,YAAY,CAACwK,OAAO,CAAC,qCAAqC,CAAC;;MAEpE,CAAC,EACA1D,KAAU,IAAI;QACbnD,OAAO,CAACC,GAAG,CAAC,WAAW,GAAGmD,MAAM,CAACD,KAAK,EAAEA,KAAK,EAAEE,UAAU,CAAC,CAAC;QAC3D,IAAI,CAAChH,YAAY,CAAC8G,KAAK,CACrB,mHAAmH,CAAC;MACxH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEA2D,cAAc;IACZ,MAAM1J,UAAU,GAAG,IAAI,CAACoB,mBAAmB;IAC3C,IAAIpB,UAAU,CAACwE,MAAM,GAAG,IAAI,CAAChC,SAAS,EAAE;MACtCxC,UAAU,CAACqD,IAAI,CAAC,IAAI9D,mBAAW,CAAC,EAAE,CAAC,CAAC;MACpCqD,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;;EAElC;EAEA8G,iBAAiB,CAACd,CAAS;IACzB,MAAM7I,UAAU,GAAG,IAAI,CAACoB,mBAAmB;IAC3C,IAAIpB,UAAU,CAACwE,MAAM,GAAG,CAAC,EAAE;MACzBxE,UAAU,CAAC4J,QAAQ,CAACf,CAAC,CAAC;MACtBjG,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;KACjC,MAAM;MACL7C,UAAU,CAACkG,KAAK,EAAE;;EAEtB;EAEA2D,UAAU;IACR,MAAM3J,OAAO,GAAG,IAAI,CAACmB,gBAAgB;IACrC,IAAInB,OAAO,CAACsE,MAAM,GAAG,IAAI,CAAC9B,UAAU,EAAE;MACpCxC,OAAO,CAACmD,IAAI,CAAC,IAAI9D,mBAAW,CAAC,EAAE,CAAC,CAAC;MACjCqD,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;;EAE9B;EAEAiH,aAAa,CAACjB,CAAS;IACrB,MAAM3I,OAAO,GAAG,IAAI,CAACmB,gBAAgB;IACrC,IAAInB,OAAO,CAACsE,MAAM,GAAG,CAAC,EAAE;MACtBtE,OAAO,CAAC0J,QAAQ,CAACf,CAAC,CAAC;MACnBjG,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;KAC7B,MAAM;MACL3C,OAAO,CAACgG,KAAK,EAAE;;EAEnB;;AAvgBF6D;;mBAKapL,uBAAuB;AAAA;;QAAvBA,uBAAuB;EAAAqL;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MChBpC1L,8BAA2C;MACvCA;MAAAA,+BAAiC;MAC7BA;MAAAA,sCAA+B;MAC3BA;MAAAA,yCAAoF;MAChFA;MAAAA,8BAAwB;MACpBA;MAAAA,iCAAsC;MAAAA,4BAAW;MAAAA,iBAAQ;MACzDA;MAAAA,+BAAmB;MACfA;MAAAA,sCACsC;MAAlCA;QAAA,OAAY2L,wBAAoB;MAAA,EAAC;MAAC3L,iBAAa;MACnDA;MAAAA,0EAGM;MACVA;MAAAA,iBAAM;MACNA;MAAAA,iCAAkC;MAAAA,uBAAM;MAAAA,iBAAQ;MAChDA;MAAAA,+BAAmB;MACfA;MAAAA,kCACsC;MACtCA;MAAAA,0EAGM;MACVA;MAAAA,iBAAM;MACVA;MAAAA,iBAAM;MACNA;MAAAA,+BAAwB;MACpBA;MAAAA,0CAC0D;MAAhCA;QAAA,OAAW2L,uBAAmB;MAAA,EAAC;MAAC3L,iBAAgB;MAC1EA;MAAAA,0CAC0D;MAAhCA;QAAA,OAAW2L,uBAAmB;MAAA,EAAC;MAAC3L,iBAAgB;MAC1EA;MAAAA,6BAA+C;MAC/CA;MAAAA,+BAAmB;MACfA;MAAAA,4BAAK;MACDA;MAAAA,6BAAiG;MACjGA;MAAAA,mCACsC;MAD0CA;QAAA,OAAS2L,cAAU;MAAA,EAAC;MAC9D3L,iBAAS;MACnDA;MAAAA,iBAAM;MACNA;MAAAA,2EAGM;MACNA;MAAAA,2EAMM;MACVA;MAAAA,iBAAM;MACNA;MAAAA,kCAAkC;MAAAA,wBAAO;MAAAA,iBAAQ;MACjDA;MAAAA,+BAAmB;MACfA;MAAAA,uCACuD;MAA9BA;QAAA,OAAY2L,oBAAgB;MAAA,EAAC;MAAC3L,iBAAa;MACpEA;MAAAA,0EAGM;MACVA;MAAAA,iBAAM;MACVA;MAAAA,iBAAM;MACNA,aAGJ;MAAAA,iBAAiB;MACjBA;MAAAA,kGA2DiB;MACjBA;MAAAA,oGA4IiB;MACjBA;MAAAA,2EAKM;MACVA;MAAAA,iBAAc;MAClBA;MAAAA,iBAAO;MACXA;MAAAA,iBAAM;MAENA;MAAAA,qCACqH;MADnFA;QAAA;MAAA,EAAgD;MAE9EA;MAAAA,2EAEM;MAENA;MAAAA,2FAOc;MAClBA;MAAAA,iBAAW;MACXA;;;;;;;;MA/RUA,eAA0B;MAA1BA,4CAA0B;MACfA,eAAiB;MAAjBA,+BAAiB;MACwCA,eAAiB;MAAjBA,+BAAiB;MAI3DA,eAAuB;MAAvBA,yCAAuB;MAE7BA,eAA+G;MAA/GA,oNAA+G;MAOzGA,eAAmB;MAAnBA,qCAAmB;MAEzBA,eAAuG;MAAvGA,4MAAuG;MAkBvGA,gBAAiH;MAAjHA,sNAAiH;MAIjHA,eACyC;MADzCA,sSACyC;MASnCA,eAAyB;MAAzBA,2CAAyB;MAE/BA,eAAuG;MAAvGA,gNAAuG;MAMrHA,eAGJ;MAHIA,mWAGJ;MACmEA,eAAmB;MAAnBA,wCAAmB;MA4DjDA,eAAmB;MAAnBA,wCAAmB;MA6IlDA,eAAmB;MAAnBA,wCAAmB;MAW3BA,eAAwC;MAAxCA,0CAAwC;MADhBA,gEAAgD;MAExEA,eAAmC;MAAnCA,wDAAmC","names":["i0","GenerateLetterComponent","constructor","fb","domSanitizer","codeService","letterService","toastService","nspConfirmationService","display","group","settings","letterType","forms_1","required","sender","sendTo","searchType","searchInput","contents","referenceNo","title","paragraphs","array","annexes","nsman","salutation","name","nric","postalCode","blockNo","streetName","houseNo","buildingName","companyRecipient","companyOfficer","appt","company","settingsFormGroup","generateForm","get","contentsFormGroup","paragraphsFormArray","annexesFormArray","nsmanFormGroup","companyRecipientFormControl","companyOfficerFormGroup","companyFormGroup","ngOnInit","load","retrieveParams","retrieveLetterSenders","retrieveLetterSendOptions","retrieveCoyRecipientOptions","loadDefaults","resp","getParams","toPromise","body","data","defaultSecondPara","default_second_para","paraLimit","rpt_max_para","annexLimit","rpt_max_annex","console","log","getLetterSenders","subscribe","k","v","Object","entries","senders","push","key","value","gets","codes","sendToOptions","map","x","code","codeId","desc","label","coyRecipientOptions","patchValue","letterTypes","clear","disable","onChangeLetterType","includes","length","onClickSearchType","find","enable","onSearch","setSearchInputValidation","nsmanOnlyCode","toString","errors","isValidSearch","startsWith","searchNsmanDetails","addValidators","type_and_value_directive_1","validateTypeAndValue","updateValueAndValidity","params","http_1","append","getNsmanDetails","nsmanDetails","resetRecipients","onChangeSendTo","error","String","error_desc","reset","patchNsmanDetails","resetAndDisableCompanyFields","nsmanCoyOfficerName","claimantNric","blkNo","setValidators","keys","controls","forEach","abstractControl","onChangeCompanyRecipient","searchCompanyCODetails","patchCompanyDetails","companyOfficerDetails","csn","getCompanyCODetails","companyName","onAmendCompanyDetails","onPreviewLetter","constructPreviewRequest","previewLetter","previewLetterReq","responseType","status","displayPreviewLetter","blob","Blob","type","headers","previewLetterUrl","bypassSecurityTrustResourceUrl","URL","createObjectURL","displayPreviewLetterDialog","caseId","claimantNRIC","constructLetterContent","constructRecipientList","senderSubjectId","letterContentMap","Map","set","i","at","concat","annexInd","fromEntries","recipientList","copyToInd","onGenerateLetter","event","dialog","onConfirmPopup","generateLetter","success","onAddParagraph","onRemoveParagraph","removeAt","onAddAnnex","onRemoveAnnex","exports","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\report-letter\\letter\\generate-letter\\generate-letter.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\report-letter\\letter\\generate-letter\\generate-letter.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser'\r\nimport { IcCodeService } from 'app/ng-connect';\r\nimport { LetterService } from '../service/letter.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport { IPreviewLetterReq, IRecipient } from '../model/letter.model';\r\nimport { TypeAndValueValidator } from 'app/shared/validator/type-and-value.directive';\r\n\r\n@Component({\r\n  selector: 'n2-generate-letter',\r\n  templateUrl: './generate-letter.component.html',\r\n  styleUrls: ['./generate-letter.component.scss']\r\n})\r\nexport class GenerateLetterComponent implements OnInit {\r\n\r\n  letterTypes = ['Generic Template with Annex', 'Generic Template without Annex'];\r\n  senders: any[] = [];\r\n  sendToOptions: any[] = [];\r\n  coyRecipientOptions: any[] = [];\r\n  defaultSecondPara: string;\r\n  paraLimit: number;\r\n  annexLimit: number;\r\n  nsmanOnlyCode: string;\r\n  \r\n  isValidSearch = false;\r\n  nsmanDetails: IRecipient;\r\n  companyOfficerDetails: IRecipient;\r\n  \r\n  previewLetterReq: IPreviewLetterReq = {};\r\n  previewLetterUrl: SafeResourceUrl;\r\n  displayPreviewLetterDialog: any = { display: false };\r\n\r\n  generateForm: FormGroup = this.fb.group({\r\n    settings: this.fb.group({\r\n      letterType: new FormControl('', Validators.required),\r\n      sender: new FormControl('', Validators.required),\r\n      sendTo: new FormControl('', Validators.required),\r\n      searchType: new FormControl('', Validators.required),\r\n      searchInput: new FormControl('', Validators.required)\r\n    }),\r\n    contents: this.fb.group({\r\n      referenceNo: new FormControl('', Validators.required),\r\n      title: new FormControl('', Validators.required),\r\n      paragraphs: this.fb.array([]),\r\n      annexes: this.fb.array([])\r\n    }),\r\n    nsman: this.fb.group({\r\n      salutation: new FormControl(''),\r\n      name: new FormControl(''),\r\n      nric: new FormControl(''),\r\n      postalCode: new FormControl(''),\r\n      blockNo: new FormControl(''),\r\n      streetName: new FormControl(''),\r\n      houseNo: new FormControl(''),\r\n      buildingName: new FormControl('')\r\n    }),\r\n    companyRecipient: new FormControl(''),\r\n    companyOfficer: this.fb.group({\r\n      name: new FormControl(''),\r\n      appt: new FormControl(''),\r\n    }),\r\n    company: this.fb.group({\r\n      name: new FormControl(''),\r\n      postalCode: new FormControl(''),\r\n      blockNo: new FormControl(''),\r\n      streetName: new FormControl(''),\r\n      houseNo: new FormControl(''),\r\n      buildingName: new FormControl('')\r\n    })\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private domSanitizer: DomSanitizer,\r\n    private codeService: IcCodeService,\r\n    private letterService: LetterService,\r\n    private toastService: CustomToastService,\r\n    private nspConfirmationService: NspConfirmationService\r\n  ) {}\r\n\r\n  get settingsFormGroup(): FormGroup {\r\n    return this.generateForm.get('settings') as FormGroup;\r\n  }\r\n\r\n  get contentsFormGroup(): FormGroup {\r\n    return this.generateForm.get('contents') as FormGroup;\r\n  }\r\n\r\n  get paragraphsFormArray(): FormArray {\r\n    return this.generateForm.get('contents').get('paragraphs') as FormArray;\r\n  }\r\n\r\n  get annexesFormArray(): FormArray {\r\n    return this.generateForm.get('contents').get('annexes') as FormArray;\r\n  }\r\n\r\n  get nsmanFormGroup(): FormGroup {\r\n    return this.generateForm.get('nsman') as FormGroup;\r\n  }\r\n\r\n  get companyRecipientFormControl(): FormControl {\r\n    return this.generateForm.get('companyRecipient') as FormControl;\r\n  }\r\n\r\n  get companyOfficerFormGroup(): FormGroup {\r\n    return this.generateForm.get('companyOfficer') as FormGroup;\r\n  }\r\n\r\n  get companyFormGroup(): FormGroup {\r\n    return this.generateForm.get('company') as FormGroup;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.load();\r\n  }\r\n\r\n  async load(): Promise<void> {\r\n    // load params and options\r\n    await this.retrieveParams();\r\n    this.retrieveLetterSenders();\r\n    this.retrieveLetterSendOptions();\r\n    this.retrieveCoyRecipientOptions();\r\n    \r\n    // load defaults\r\n    this.loadDefaults();\r\n  }\r\n\r\n  async retrieveParams(): Promise<void> {\r\n    const resp = await this.letterService.getParams(null).toPromise();\r\n    if (resp.body.data) {\r\n      this.defaultSecondPara = resp.body.data?.default_second_para;\r\n      this.paraLimit = resp.body.data?.rpt_max_para;\r\n      this.annexLimit = resp.body.data?.rpt_max_annex;\r\n      console.log(\"params retrieved\", resp.body.data);\r\n    }\r\n  }\r\n\r\n  retrieveLetterSenders(): void {\r\n    this.letterService.getLetterSenders(null).subscribe(resp => {\r\n      if (resp.body.data) {\r\n        for (const [k, v] of Object.entries(resp.body.data)) {\r\n          this.senders.push({\r\n            key: k,\r\n            value: v\r\n          });\r\n        }\r\n        console.log(\"letter sender options\", this.senders);\r\n      }\r\n    });\r\n  }\r\n\r\n  retrieveLetterSendOptions(): void {\r\n    this.codeService.gets('letter_send_option')\r\n    .subscribe((codes: any[]) => {\r\n      this.sendToOptions = codes[0].map((x:any)=>({\r\n        code: x.codeId,\r\n        desc: x.label['en-US']\r\n      }));\r\n      console.log(\"letter send options\", this.sendToOptions);\r\n    });\r\n  }\r\n\r\n  retrieveCoyRecipientOptions(): void {\r\n    this.codeService.gets('letter_coy_recipient_option')\r\n    .subscribe((codes: any[]) => {\r\n      this.coyRecipientOptions = codes[0].map((x:any)=>({\r\n        code: x.codeId,\r\n        desc: x.label['en-US']\r\n      }));\r\n      console.log(\"letter coy recipient options\", this.coyRecipientOptions);\r\n    });\r\n  }\r\n\r\n  loadDefaults(): void {\r\n    this.settingsFormGroup.get('letterType').patchValue(this.letterTypes[0]);\r\n    console.log(\"default letter type option selected\");\r\n\r\n    this.paragraphsFormArray.clear();\r\n    this.paragraphsFormArray.push(new FormControl(''));\r\n    this.paragraphsFormArray.push(new FormControl(this.defaultSecondPara));\r\n    console.log(\"default paragraphs added\");\r\n\r\n    this.annexesFormArray.clear();\r\n    this.annexesFormArray.push(new FormControl(''));\r\n    console.log(\"annex added\");\r\n\r\n    this.nsmanFormGroup.disable();\r\n    console.log(\"nsman details disabled\");\r\n  }\r\n\r\n  onChangeLetterType(): void {\r\n    if (this.settingsFormGroup.get('letterType').value.includes('with Annex') && this.annexesFormArray.length === 0) {\r\n      this.annexesFormArray.push(new FormControl(''));\r\n      console.log(\"yes annex\");\r\n    } else {\r\n      this.annexesFormArray.clear();\r\n      console.log(\"no annex\");\r\n    }\r\n  }\r\n\r\n  onClickSearchType(): void {\r\n    if (this.settingsFormGroup.get('searchType').value === 'NRIC') {\r\n        this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To NSman')?.code);\r\n        this.settingsFormGroup.get('sendTo').disable();\r\n        console.log(\"Send To option default to 'To NSman' and disabled\");\r\n    } else {\r\n        this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To Employer, CC NSman')?.code);\r\n        this.settingsFormGroup.get('sendTo').enable();\r\n        console.log(\"Send To option default to 'To Employer, CC NSman' and enabled\");\r\n    }\r\n  }\r\n\r\n  onSearch(): void {\r\n    this.setSearchInputValidation();\r\n    this.nsmanOnlyCode = this.sendToOptions.find(x => x.desc === 'To NSman')?.code.toString(); // used to disable amend button\r\n    if (this.settingsFormGroup.errors?.['invalidInput']) {\r\n      // hide letter contents and recipients accordion tabs\r\n      this.isValidSearch = false;\r\n      console.log(\"Invalid Search Input and Type\");\r\n    } else {\r\n      if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\r\n        if (this.settingsFormGroup.get('searchInput').value.startsWith('SE')) {\r\n          this.settingsFormGroup.get('sendTo').patchValue(this.sendToOptions.find(x => x.desc === 'To NSman')?.code);\r\n          this.settingsFormGroup.get('sendTo').disable();\r\n          console.log(\"SE Claim detected... Send To option default to 'To NSman' and disabled\");\r\n        } else {\r\n          this.settingsFormGroup.get('sendTo').enable();\r\n        }\r\n      }\r\n      this.searchNsmanDetails();\r\n    }    \r\n  }\r\n\r\n  setSearchInputValidation(): void {\r\n    this.settingsFormGroup.addValidators(TypeAndValueValidator.validateTypeAndValue('searchType', 'searchInput'));\r\n    this.settingsFormGroup.updateValueAndValidity();\r\n  }\r\n\r\n  searchNsmanDetails(): void {\r\n    let params = new HttpParams();\r\n    if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\r\n      params = params.append('caseId', this.settingsFormGroup.get('searchInput').value);\r\n    } else {\r\n      params = params.append('claimantNric', this.settingsFormGroup.get('searchInput').value);\r\n    }\r\n\r\n    this.letterService.getNsmanDetails({params}).subscribe(resp => {\r\n      if (resp.body.data) {\r\n        this.nsmanDetails = resp.body.data;\r\n        console.log(\"nsman details retrieved\", this.nsmanDetails);\r\n        this.resetRecipients();\r\n        this.onChangeSendTo();\r\n        // display letter contents and recipients accordion tabs\r\n        this.isValidSearch = true;\r\n      }\r\n    },\r\n    (error: any) => {\r\n      // hide letter contents and recipients accordion tabs\r\n      this.isValidSearch = false;\r\n      console.log(\"error is \" + String(error?.error?.error_desc));\r\n    });\r\n  }\r\n\r\n  resetRecipients(): void {\r\n    // reset recipients accordion tab for every new search\r\n    this.nsmanFormGroup.reset();\r\n    this.companyRecipientFormControl.disable();\r\n    this.companyRecipientFormControl.reset();\r\n    this.companyOfficerFormGroup.disable();\r\n    this.companyOfficerFormGroup.reset();\r\n    this.companyFormGroup.disable();\r\n    this.companyFormGroup.reset();\r\n    console.log(\"Recipients Accordion Tab resetted\");\r\n  }\r\n\r\n  onChangeSendTo(): void {\r\n    if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer')?.code) {\r\n      this.nsmanFormGroup.reset();\r\n      this.companyRecipientFormControl.addValidators(Validators.required);\r\n      this.companyRecipientFormControl.enable();\r\n      console.log(\"Recipients Accordion Tab set for 'To Employer' only\");\r\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman')?.code) {\r\n      this.patchNsmanDetails();\r\n      this.resetAndDisableCompanyFields();\r\n      console.log(\"Recipients Accordion Tab set for 'To NSman' only\");\r\n    } else {\r\n      this.patchNsmanDetails();\r\n      this.companyRecipientFormControl.addValidators(Validators.required);\r\n      this.companyRecipientFormControl.enable();\r\n      console.log(\"Recipients Accordion Tab set for 'To Employer and NSman'\");\r\n    } \r\n  }\r\n\r\n  patchNsmanDetails(): void {\r\n    this.nsmanFormGroup.patchValue({\r\n      salutation: this.nsmanDetails?.salutation,\r\n      name: this.nsmanDetails?.nsmanCoyOfficerName,\r\n      nric: this.nsmanDetails?.claimantNric,\r\n      postalCode: this.nsmanDetails?.postalCode,\r\n      blockNo: this.nsmanDetails?.blkNo,\r\n      streetName: this.nsmanDetails?.streetName,\r\n      houseNo: this.nsmanDetails?.houseNo,\r\n      buildingName: this.nsmanDetails?.buildingName,\r\n    })\r\n    console.log(\"nsman details patched\");\r\n  }\r\n\r\n  resetAndDisableCompanyFields(): void {\r\n    this.companyRecipientFormControl.setValidators([]);\r\n    Object.keys(this.companyOfficerFormGroup.controls).forEach((key: string) => {\r\n      const abstractControl = this.companyOfficerFormGroup.controls[key];\r\n      abstractControl.setValidators([]);\r\n    });\r\n    Object.keys(this.companyFormGroup.controls).forEach((key: string) => {\r\n      const abstractControl = this.companyFormGroup.controls[key];\r\n      abstractControl.setValidators([]);\r\n    });\r\n    console.log(\"validation check for company fields removed\");\r\n\r\n    this.companyRecipientFormControl.disable();\r\n    this.companyRecipientFormControl.reset();\r\n    this.companyOfficerFormGroup.disable();\r\n    this.companyOfficerFormGroup.reset();\r\n    this.companyFormGroup.disable();\r\n    this.companyFormGroup.reset();\r\n    console.log(\"company fields resetted and disabled\")\r\n  }\r\n  \r\n  async onChangeCompanyRecipient(): Promise<void> {\r\n    await this.searchCompanyCODetails();\r\n    this.patchCompanyDetails();\r\n    this.companyOfficerFormGroup.reset();\r\n    if (this.companyRecipientFormControl.value === this.coyRecipientOptions.find(x => x.desc === 'Blank')?.code) {\r\n      this.companyOfficerFormGroup.controls['name'].addValidators(Validators.required);\r\n      this.companyOfficerFormGroup.controls['appt'].addValidators(Validators.required);\r\n      this.companyOfficerFormGroup.enable();\r\n      console.log(\"company officer fields resetted and enabled\");\r\n    } else {\r\n      this.companyOfficerFormGroup.disable();\r\n      this.companyOfficerFormGroup.patchValue({\r\n        name: this.companyOfficerDetails?.nsmanCoyOfficerName,\r\n        appt: this.companyOfficerDetails?.appt,\r\n      })\r\n      console.log(\"company officer fields patched and disabled\");\r\n    }\r\n  }\r\n\r\n  async searchCompanyCODetails(): Promise<void> {\r\n    let params = new HttpParams();\r\n    params = params.append('coRole', this.companyRecipientFormControl.value);\r\n    params = params.append('csn', this.nsmanDetails?.csn);\r\n\r\n    const resp = await this.letterService.getCompanyCODetails({params}).toPromise();\r\n    if (resp.body.data) {\r\n      this.companyOfficerDetails = resp.body.data;\r\n      console.log(\"coy officer details retrieved\", this.companyOfficerDetails);\r\n    }\r\n  }\r\n\r\n  patchCompanyDetails(): void {\r\n    this.companyFormGroup.patchValue({\r\n      name: this.companyOfficerDetails?.companyName,\r\n      postalCode: this.companyOfficerDetails?.postalCode,\r\n      blockNo: this.companyOfficerDetails?.blkNo,\r\n      streetName: this.companyOfficerDetails?.streetName,\r\n      houseNo: this.companyOfficerDetails?.houseNo,\r\n      buildingName: this.companyOfficerDetails?.buildingName,\r\n    })\r\n    console.log(\"company details patched\");\r\n  }\r\n\r\n  onAmendCompanyDetails(): void {\r\n    Object.keys(this.companyFormGroup.controls).forEach((key: string) => {\r\n      const abstractControl = this.companyFormGroup.controls[key];\r\n      abstractControl.addValidators(Validators.required);\r\n    });\r\n    this.companyFormGroup.enable();\r\n    console.log(\"company details fields enabled with validation check\")\r\n  }\r\n\r\n  onPreviewLetter(): void {\r\n    this.constructPreviewRequest();\r\n    this.letterService.previewLetter(this.previewLetterReq, { responseType: 'blob' }).subscribe(resp => {\r\n      if (resp && resp.status === 200) {\r\n        console.log(\"preview letter blob generated and returned successfully\");\r\n        const data = resp;\r\n        this.displayPreviewLetter(data);\r\n      }\r\n    },\r\n    (error: any) => {\r\n      console.log(\"error is \" + String(error?.error?.error_desc));\r\n      this.toastService.error(\r\n        \"Failed to connect to Report Generator, please try again. If the error persists, please contact the NSPAY Helpdesk\");\r\n    });\r\n  }\r\n\r\n  displayPreviewLetter(data: any): void {\r\n    const blob = new Blob([data.body], {type: data.headers.get('content-type')});\r\n    this.previewLetterUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(blob)+'#toolbar=0');\r\n    this.displayPreviewLetterDialog.display = true;\r\n  }\r\n\r\n  constructPreviewRequest(): void {\r\n    if (this.settingsFormGroup.get('searchType').value === 'Case ID') {\r\n      this.previewLetterReq.caseId = this.settingsFormGroup.get('searchInput').value;\r\n      console.log(\"preview letter caseId\", this.previewLetterReq.caseId);\r\n    } else {\r\n      this.previewLetterReq.claimantNRIC = this.settingsFormGroup.get('searchInput').value;\r\n      console.log(\"preview letter claimantNric\", this.previewLetterReq.claimantNRIC);\r\n    }\r\n    this.constructLetterContent();\r\n    this.constructRecipientList();\r\n    this.previewLetterReq.senderSubjectId = this.settingsFormGroup.get('sender').value;\r\n    console.log(\"preview letter senderSubjectId\", this.previewLetterReq.senderSubjectId);\r\n  }\r\n\r\n  constructLetterContent(): void {\r\n    const letterContentMap = new Map<string, object>();\r\n    letterContentMap.set('REF_NO', this.contentsFormGroup.get('referenceNo').value)\r\n    letterContentMap.set('TITLE', this.contentsFormGroup.get('title').value);\r\n    for (let i = 0; i < this.paragraphsFormArray.length; i++) {\r\n      if (this.paragraphsFormArray.at(i).value !== '') {\r\n        letterContentMap.set('PARA'.concat('_', (i+1).toString()), this.paragraphsFormArray.at(i).value);\r\n      }\r\n    }\r\n    this.previewLetterReq.annexInd = false;\r\n    if (this.annexesFormArray.length > 0) {\r\n      for (let i = 0; i < this.annexesFormArray.length; i++) {\r\n        if (this.annexesFormArray.at(i).value !== '') {\r\n          letterContentMap.set('ANNEX'.concat('_', (i+1).toString()), this.annexesFormArray.at(i).value);\r\n          this.previewLetterReq.annexInd = true;\r\n        }\r\n      }\r\n    }\r\n    this.previewLetterReq.letterContentMap = Object.fromEntries(letterContentMap);\r\n    console.log(\"preview letter letterContentMap\", this.previewLetterReq.letterContentMap);\r\n  }\r\n\r\n  constructRecipientList(): void {\r\n    const recipientList = [];\r\n    if (this.companyRecipientFormControl.value === this.coyRecipientOptions.find(x => x.desc === 'Blank')?.code) {\r\n      this.companyOfficerDetails.nsmanCoyOfficerName = this.companyOfficerFormGroup.get('name').value;\r\n      this.companyOfficerDetails.appt = this.companyOfficerFormGroup.get('appt').value;\r\n    }\r\n\r\n    if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer')?.code) {\r\n      this.companyOfficerDetails.type = 'EMPLOYER';\r\n      this.companyOfficerDetails.copyToInd = false;\r\n      recipientList.push(this.companyOfficerDetails);\r\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman')?.code) {\r\n      this.nsmanDetails.type = 'NSMAN';\r\n      this.nsmanDetails.copyToInd = false;\r\n      recipientList.push(this.nsmanDetails);\r\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To Employer, CC NSman')?.code) {\r\n      this.companyOfficerDetails.type = 'EMPLOYER';\r\n      this.companyOfficerDetails.copyToInd = false;\r\n      this.nsmanDetails.type = 'NSMAN';\r\n      this.nsmanDetails.copyToInd = true;\r\n      recipientList.push(this.companyOfficerDetails);\r\n      recipientList.push(this.nsmanDetails);\r\n    } else if (this.settingsFormGroup.get('sendTo').value === this.sendToOptions.find(x => x.desc === 'To NSman, CC Employer')?.code) {\r\n      this.companyOfficerDetails.type = 'EMPLOYER';\r\n      this.companyOfficerDetails.copyToInd = true;\r\n      this.nsmanDetails.type = 'NSMAN';\r\n      this.nsmanDetails.copyToInd = false;\r\n      recipientList.push(this.companyOfficerDetails);\r\n      recipientList.push(this.nsmanDetails);\r\n    }\r\n    this.previewLetterReq.recipientList = recipientList;\r\n    console.log(\"preview letter recipientList\", this.previewLetterReq.recipientList);\r\n  }\r\n\r\n  onGenerateLetter(event: Event, key: string, dialog: any): void {\r\n    console.log(\"user to confirm decision to generate\");\r\n    this.nspConfirmationService.onConfirmPopup(event, key, dialog, () => {\r\n      console.log(\"user confirmed generation, generating...\");\r\n      this.letterService.generateLetter(this.previewLetterReq, { responseType: 'blob' }).subscribe(resp => {\r\n        if (resp && resp.status === 200) {\r\n          console.log(\"letter generated, clearing form...\");\r\n          this.isValidSearch = false;\r\n          this.generateForm.reset();\r\n          this.loadDefaults();\r\n          this.toastService.success(\"Letter has been sent for Generation\");\r\n        }\r\n      },\r\n      (error: any) => {\r\n        console.log(\"error is \" + String(error?.error?.error_desc));\r\n        this.toastService.error(\r\n          \"Failed to connect to Report Generator, please try again. If the error persists, please contact the NSPAY Helpdesk\");\r\n      });\r\n    });\r\n  }\r\n\r\n  onAddParagraph(): void {\r\n    const paragraphs = this.paragraphsFormArray;\r\n    if (paragraphs.length < this.paraLimit) {\r\n      paragraphs.push(new FormControl(''));\r\n      console.log(\"paragraph added\");\r\n    }\r\n  }\r\n\r\n  onRemoveParagraph(i: number): void {\r\n    const paragraphs = this.paragraphsFormArray;\r\n    if (paragraphs.length > 1) {\r\n      paragraphs.removeAt(i);\r\n      console.log(\"paragraph removed\");\r\n    } else {\r\n      paragraphs.reset();\r\n    }\r\n  }\r\n\r\n  onAddAnnex(): void {\r\n    const annexes = this.annexesFormArray;\r\n    if (annexes.length < this.annexLimit) {\r\n      annexes.push(new FormControl(''));\r\n      console.log(\"annex added\");\r\n    }\r\n  }\r\n\r\n  onRemoveAnnex(i: number): void {\r\n    const annexes = this.annexesFormArray;\r\n    if (annexes.length > 1) {\r\n      annexes.removeAt(i);\r\n      console.log(\"annex removed\");\r\n    } else {\r\n      annexes.reset();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class='col-10' style=\"margin: 0 auto\">\r\n    <form [formGroup]=\"generateForm\">\r\n        <p-accordion [multiple]=\"true\">\r\n            <p-accordionTab header=\"Generate Letter\" formGroupName=\"settings\" [selected]=\"true\">\r\n                <div class=\"field grid\">\r\n                    <label class=\"col-3\" for=\"letterType\">Letter Type</label>\r\n                    <div class=\"col-3\">\r\n                        <p-dropdown [options]=\"letterTypes\" id=\"letterType\" formControlName=\"letterType\" placeholder=\"Select\"\r\n                            (onChange)=\"onChangeLetterType()\"></p-dropdown>\r\n                        <div *ngIf=\"settingsFormGroup.get('letterType')?.hasError('required') && settingsFormGroup.get('letterType')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V004\">\r\n                            Please select a value\r\n                        </div>\r\n                    </div>\r\n                    <label class=\"col-3\" for=\"sender\">Sender</label>\r\n                    <div class=\"col-3\">\r\n                        <p-dropdown [options]=\"senders\" id=\"sender\" formControlName=\"sender\" optionLabel=\"value\" optionValue=\"key\"\r\n                            placeholder=\"Select\"></p-dropdown>\r\n                        <div *ngIf=\"settingsFormGroup.get('sender')?.hasError('required') && settingsFormGroup.get('sender')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V004\">\r\n                            Please select a value\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field grid\">\r\n                    <p-radioButton class=\"col-1\" name=\"searchType\" label=\"Case ID\" value=\"Case ID\" formControlName=\"searchType\" \r\n                        inputId=\"searchType1\" (onClick)=\"onClickSearchType()\"></p-radioButton>\r\n                    <p-radioButton class=\"col-1\" name=\"searchType\" label=\"NRIC\" value=\"NRIC\" formControlName=\"searchType\" \r\n                        inputId=\"searchType2\" (onClick)=\"onClickSearchType()\"></p-radioButton>\r\n                    <label class=\"col-1\" for=\"searchInput\"></label>\r\n                    <div class=\"col-3\">\r\n                        <div>\r\n                            <input type=\"text\" pInputText id=\"searchInput\" formControlName=\"searchInput\" style=\"width: 70%;\">\r\n                            <button type=\"button\" pButton class=\"chevron-button\" icon=\"pi pi-chevron-right\" (click)=\"onSearch()\"\r\n                                style=\"float: right; width: 25%;\"></button>\r\n                        </div>\r\n                        <div *ngIf=\"settingsFormGroup.get('searchInput')?.hasError('required') && settingsFormGroup.get('searchInput')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                            Please enter a value\r\n                        </div>\r\n                        <div *ngIf=\"settingsFormGroup.errors?.['invalidInput'] && (settingsFormGroup.get('searchType')?.dirty || \r\n                            settingsFormGroup.get('searchInput')?.dirty)\" \r\n                            class=\"form-text text-danger\" \r\n                            icTranslate=\"nspay2App.report.validation.V007\" \r\n                            [translateValues]=\"{ type: settingsFormGroup.get('searchType').value , id: settingsFormGroup.get('searchInput').value }\">\r\n                            type id not found. Please check and input the correct type.\r\n                        </div>\r\n                    </div>\r\n                    <label class=\"col-3\" for=\"sendTo\">Send To</label>\r\n                    <div class=\"col-3\">\r\n                        <p-dropdown [options]=\"sendToOptions\" id=\"sendTo\" formControlName=\"sendTo\" optionLabel=\"desc\" optionValue=\"code\" \r\n                            placeholder=\"Select\" (onChange)=\"onChangeSendTo()\"></p-dropdown>\r\n                        <div *ngIf=\"settingsFormGroup.get('sendTo')?.hasError('required') && settingsFormGroup.get('sendTo')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V004\">\r\n                            Please select a value\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {{ this.settingsFormGroup.get('letterType').value }} || {{ this.settingsFormGroup.get('sender').value }} ||\r\n                {{ this.settingsFormGroup.get('searchType').value }} || {{ this.settingsFormGroup.get('searchInput').value }} ||\r\n                {{ this.settingsFormGroup.get('sendTo').value }}\r\n            </p-accordionTab>\r\n            <p-accordionTab header=\"Letter Contents\" formGroupName=\"contents\" *ngIf=\"isValidSearch\" [selected]=\"true\">\r\n                <div class=\"field grid\">\r\n                    <label class=\"col-3\" for=\"referenceNo\">Reference Number</label>\r\n                    <div class=\"col-9\">\r\n                        <input type=\"text\" pInputText id=\"referenceNo\" formControlName=\"referenceNo\" class=\"w-full\">\r\n                        <div *ngIf=\"contentsFormGroup.get('referenceNo')?.hasError('required') && contentsFormGroup.get('referenceNo')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                            Please enter a value\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field grid\">\r\n                    <label class=\"col-3\" for=\"title\">Title</label>\r\n                    <div class=\"col-9\">\r\n                        <input type=\"text\" pInputText id=\"title\" formControlName=\"title\" class=\"w-full\">\r\n                        <div *ngIf=\"contentsFormGroup.get('title')?.hasError('required') && contentsFormGroup.get('title')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                            Please enter a value\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div formArrayName=\"paragraphs\">\r\n                    <div class=\"field grid\" *ngFor=\"let paragraph of paragraphsFormArray.controls; let i = index\">\r\n                        <label class=\"col-3\">Paragraph {{ i+1 }}</label>\r\n                        <div class=\"col-9\">\r\n                            <div style=\"display: flex; align-items: center\">\r\n                                <textarea pInputTextarea [formControl]=\"$any(paragraph)\" [autoResize]=\"true\" style=\"width: 85%\"></textarea>\r\n                                <button pButton type=\"button\" icon=\"pi pi-minus\" (click)=\"onRemoveParagraph(i)\"\r\n                                    class=\"custom-remove-button p-button-rounded p-button-danger\"></button>\r\n                                <button pButton type=\"button\" icon=\"pi pi-plus\" (click)=\"onAddParagraph()\"\r\n                                    class=\"custom-add-button p-button-rounded p-button-primary\"></button>\r\n                            </div>\r\n                            <div *ngIf=\"paragraph?.hasError('required') && paragraph?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div formArrayName=\"annexes\">\r\n                    <div class=\"field grid\" *ngFor=\"let annex of annexesFormArray.controls; let i = index\">\r\n                        <label class=\"col-3\" for=\"annex\">Annex {{ i+1 }}</label>\r\n                        <div class=\"col-9\">\r\n                            <div style=\"display: flex; align-items: center\">\r\n                                <textarea pInputTextarea id=\"annex\" [formControl]=\"$any(annex)\" [autoResize]=\"true\" style=\"width: 85%\"></textarea>\r\n                                <button pButton type=\"button\" icon=\"pi pi-minus\" (click)=\"onRemoveAnnex(i)\"\r\n                                    class=\"custom-remove-button p-button-rounded p-button-danger\"></button>\r\n                                <button pButton type=\"button\" icon=\"pi pi-plus\" (click)=\"onAddAnnex()\"\r\n                                    class=\"custom-add-button p-button-rounded p-button-primary\"></button>\r\n                            </div>\r\n                            <div *ngIf=\"annex?.hasError('required') && annex?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {{ this.contentsFormGroup.get('referenceNo').value }} || {{ this.contentsFormGroup.get('title').value }} ||\r\n                {{ this.contentsFormGroup.get('paragraphs').value }} || {{ this.contentsFormGroup.get('annexes').value }}\r\n            </p-accordionTab>\r\n            <p-accordionTab header=\"Recipients\" *ngIf=\"isValidSearch\" [selected]=\"true\">\r\n                <div formGroupName=\"nsman\">\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"salutation\">NSman Salutation</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"salutation\" formControlName=\"salutation\" class=\"w-full\">\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"name\">NSman Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"name\" formControlName=\"name\" class=\"w-full\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"nric\">NSman NRIC</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"nric\" formControlName=\"nric\" class=\"w-full\">\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"postalCode\">NSman Postal Code</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"postalCode\" formControlName=\"postalCode\" class=\"w-full\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"blockNo\">NSman Block No.</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"blockNo\" formControlName=\"blockNo\" class=\"w-full\">\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"streetName\">NSman Street Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"streetName\" formControlName=\"streetName\" class=\"w-full\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"houseNo\">NSman House No.</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"houseNo\" formControlName=\"houseNo\" class=\"w-full\">\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"buildingName\">NSman Building Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"buildingName\" formControlName=\"buildingName\" class=\"w-full\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"field grid\">\r\n                    <label class=\"col-3\" for=\"companyRecipient\">Company Recipient</label>\r\n                    <div class=\"col-9\">\r\n                        <p-dropdown [options]=\"coyRecipientOptions\" id=\"companyRecipient\" formControlName=\"companyRecipient\" \r\n                            optionLabel=\"desc\" optionValue=\"code\" (onChange)=\"onChangeCompanyRecipient()\" placeholder=\"Select\">\r\n                        </p-dropdown>\r\n                        <div *ngIf=\"generateForm.get('companyRecipient')?.hasError('required') && generateForm.get('companyRecipient')?.touched\"\r\n                            class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V004\">\r\n                            Please select a value\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div formGroupName=\"companyOfficer\">\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"name\">Company Officer Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"name\" formControlName=\"name\" class=\"w-full\">\r\n                            <div *ngIf=\"companyOfficerFormGroup.get('name')?.hasError('required') && companyOfficerFormGroup.get('name')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"appt\">Company Officer Appointment</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"appt\" formControlName=\"appt\" class=\"w-full\">\r\n                            <div *ngIf=\"companyOfficerFormGroup.get('appt')?.hasError('required') && companyOfficerFormGroup.get('appt')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div formGroupName=\"company\">\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"name\">Company Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"name\" formControlName=\"name\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('name')?.hasError('required') && companyFormGroup.get('name')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"postalCode\">Company Postal Code</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"postalCode\" formControlName=\"postalCode\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('postalCode')?.hasError('required') && companyFormGroup.get('postalCode')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"blockNo\">Company Block No.</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"blockNo\" formControlName=\"blockNo\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('blockNo')?.hasError('required') && companyFormGroup.get('blockNo')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"streetName\">Company Street Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"streetName\" formControlName=\"streetName\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('streetName')?.hasError('required') && companyFormGroup.get('streetName')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field grid\">\r\n                        <label class=\"col-3\" for=\"houseNo\">Company House No.</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"houseNo\" formControlName=\"houseNo\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('houseNo')?.hasError('required') && companyFormGroup.get('houseNo')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                        <label class=\"col-3\" for=\"buildingName\">Company Building Name</label>\r\n                        <div class=\"col-3\">\r\n                            <input type=\"text\" pInputText id=\"buildingName\" formControlName=\"buildingName\" class=\"w-full\">\r\n                            <div *ngIf=\"companyFormGroup.get('buildingName')?.hasError('required') && companyFormGroup.get('buildingName')?.touched\"\r\n                                class=\"form-text text-danger\" icTranslate=\"nspay2App.report.validation.V001\">\r\n                                Please enter a value\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {{ this.nsmanFormGroup.get('salutation').value }} || {{ this.nsmanFormGroup.get('name').value }} ||\r\n                {{ this.nsmanFormGroup.get('nric').value }} || {{ this.nsmanFormGroup.get('postalCode').value }} ||\r\n                {{ this.nsmanFormGroup.get('blockNo').value }} || {{ this.nsmanFormGroup.get('streetName').value }} ||\r\n                {{ this.nsmanFormGroup.get('houseNo').value }} || {{ this.nsmanFormGroup.get('buildingName').value }} ||\r\n                {{ this.generateForm.get('companyRecipient').value }} ||\r\n                {{ this.companyOfficerFormGroup.get('name').value }} || {{ this.companyOfficerFormGroup.get('appt').value }} ||\r\n                {{ this.companyFormGroup.get('name').value }} || {{ this.companyFormGroup.get('postalCode').value }} ||\r\n                {{ this.companyFormGroup.get('blockNo').value }} || {{ this.companyFormGroup.get('streetName').value }} ||\r\n                {{ this.companyFormGroup.get('houseNo').value }} || {{ this.companyFormGroup.get('buildingName').value }}\r\n            </p-accordionTab>\r\n            <div *ngIf=\"isValidSearch\" style=\"float: right; margin-top: 1em;\">\r\n                <button type=\"button\" pButton label=\"Amend\" (click)=\"onAmendCompanyDetails()\" \r\n                    [disabled]=\"settingsFormGroup.get('sendTo').value === nsmanOnlyCode\"></button>\r\n                <button type=\"button\" pButton label=\"Preview Letter\" (click)=\"onPreviewLetter()\"\r\n                    [disabled]=\"!generateForm.valid\"></button>\r\n            </div>\r\n        </p-accordion>\r\n    </form>\r\n</div>\r\n\r\n<p-dialog header=\"Preview Letter\" [(visible)]=\"displayPreviewLetterDialog.display\" [modal]=\"true\"\r\n          [style]=\"{width: '60vw', height:'100%'}\" [dismissableMask]=\"true\" [draggable]=\"false\" [resizable]=\"false\" >\r\n    <div *ngIf=\"previewLetterUrl != undefined\" style=\"height: 100%\">\r\n        <object [attr.data]=\"previewLetterUrl\" type=\"application/pdf\" width=\"100%\" height=\"100%\"></object>\r\n    </div>\r\n\r\n    <ng-template pTemplate=\"footer\">\r\n        <button pButton class=\"p-button-danger\" label=\"Cancel\" (click)=\"displayPreviewLetterDialog.display=false\"\r\n                [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n        <p-confirmPopup key=\"generateLetter\"></p-confirmPopup>\r\n        <button pButton label=\"Generate\"\r\n                (click)=\"onGenerateLetter($event, 'generateLetter', displayPreviewLetterDialog)\"\r\n                [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n    </ng-template>\r\n</p-dialog>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}