{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreatePayrollComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst forms_1 = require(\"@angular/forms\");\nconst date_validator_directive_1 = require(\"app/shared/validator/date-validator.directive\");\nconst fileupload2_directive_1 = require(\"app/shared/validator/fileupload2.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"../service/create-payroll.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i6 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i9 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/messages\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/inputnumber\"));\nconst i16 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i17 = tslib_1.__importStar(require(\"../../../shared/component/file-upload/file-upload.component\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst _c0 = [\"supportingDocsUpload\"];\nfunction CreatePayrollComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 49);\n  }\n}\nfunction CreatePayrollComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 50);\n  }\n}\nfunction CreatePayrollComponent_span_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r2.personalParticulars.gender, \")\");\n  }\n}\nfunction CreatePayrollComponent_span_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 13);\n    i0.ɵɵtext(1, \"CAB:\\n                \");\n    i0.ɵɵelementStart(2, \"span\", 52);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementStart(4, \"a\", 53);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.personalParticulars.cab);\n  }\n}\nfunction CreatePayrollComponent_p_messages_91_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelement(1, \"i\", 56);\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"div\", 57);\n    i0.ɵɵtext(7, \"\\n                                Overlapping Attendance with Vocation Allowance will be nullified\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                        \");\n  }\n}\nfunction CreatePayrollComponent_p_messages_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-messages\", 54);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵtemplate(2, CreatePayrollComponent_p_messages_91_ng_template_2_Template, 9, 0, \"ng-template\", 55);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreatePayrollComponent_span_135_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_span_142_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_span_151_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_span_153_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 59);\n  }\n}\nfunction CreatePayrollComponent_span_160_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_span_167_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1, \"\\\\\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreatePayrollComponent_span_169_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 60);\n    i0.ɵɵtext(1, \"\\\\\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreatePayrollComponent_div_174_span_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_div_174_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 60);\n  }\n}\nfunction CreatePayrollComponent_div_174_span_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 58);\n  }\n}\nfunction CreatePayrollComponent_div_174_span_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 60);\n  }\n}\nconst _c1 = function () {\n  return {\n    \"width\": \"100%\"\n  };\n};\nfunction CreatePayrollComponent_div_174_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementStart(2, \"div\", 27);\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementStart(4, \"div\", 18);\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"div\", 62);\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9, \"Component\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"div\", 62);\n    i0.ɵɵtext(13, \"\\n                                \");\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementStart(19, \"div\", 18);\n    i0.ɵɵtext(20, \"\\n                            \");\n    i0.ɵɵelementStart(21, \"div\", 63);\n    i0.ɵɵtext(22, \"\\n                                \");\n    i0.ɵɵelementStart(23, \"span\");\n    i0.ɵɵtext(24, \"Service Pay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                            \");\n    i0.ɵɵelementStart(27, \"div\", 63);\n    i0.ɵɵtext(28, \"\\n                                \");\n    i0.ɵɵelementStart(29, \"p-inputNumber\", 64);\n    i0.ɵɵlistener(\"onBlur\", function CreatePayrollComponent_div_174_Template_p_inputNumber_onBlur_29_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.computeAmountPayable());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                                \");\n    i0.ɵɵtemplate(31, CreatePayrollComponent_div_174_span_31_Template, 1, 0, \"span\", 32);\n    i0.ɵɵtext(32, \"\\n                                \");\n    i0.ɵɵtemplate(33, CreatePayrollComponent_div_174_span_33_Template, 1, 0, \"span\", 39);\n    i0.ɵɵtext(34, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                        \");\n    i0.ɵɵelementStart(37, \"div\", 18);\n    i0.ɵɵtext(38, \"\\n                            \");\n    i0.ɵɵelementStart(39, \"div\", 63);\n    i0.ɵɵtext(40, \"\\n                                \");\n    i0.ɵɵelementStart(41, \"span\");\n    i0.ɵɵtext(42, \"NS Top Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \"\\n                            \");\n    i0.ɵɵelementStart(45, \"div\", 63);\n    i0.ɵɵtext(46, \"\\n                                \");\n    i0.ɵɵelementStart(47, \"p-inputNumber\", 65);\n    i0.ɵɵlistener(\"onBlur\", function CreatePayrollComponent_div_174_Template_p_inputNumber_onBlur_47_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.computeAmountPayable());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n                                \");\n    i0.ɵɵtemplate(49, CreatePayrollComponent_div_174_span_49_Template, 1, 0, \"span\", 32);\n    i0.ɵɵtext(50, \"\\n                                \");\n    i0.ɵɵtemplate(51, CreatePayrollComponent_div_174_span_51_Template, 1, 0, \"span\", 39);\n    i0.ɵɵtext(52, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_6_0;\n    let tmp_7_0;\n    i0.ɵɵadvance(29);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(10, _c1));\n    i0.ɵɵproperty(\"maxFractionDigits\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r12.createPayrollForm.get(\"servicePayAmt\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx_r12.createPayrollForm.get(\"servicePayAmt\")) == null ? null : tmp_2_0.dirty));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx_r12.createPayrollForm.get(\"servicePayAmt\")) == null ? null : tmp_3_0.hasError(\"pattern\")) && ((tmp_3_0 = ctx_r12.createPayrollForm.get(\"amount\")) == null ? null : tmp_3_0.dirty));\n    i0.ɵɵadvance(14);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(11, _c1));\n    i0.ɵɵproperty(\"maxFractionDigits\", 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r12.createPayrollForm.get(\"nsTopUpAmt\")) == null ? null : tmp_6_0.hasError(\"required\")) && ((tmp_6_0 = ctx_r12.createPayrollForm.get(\"nsTopUpAmt\")) == null ? null : tmp_6_0.dirty));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r12.createPayrollForm.get(\"nsTopUpAmt\")) == null ? null : tmp_7_0.hasError(\"pattern\")) && ((tmp_7_0 = ctx_r12.createPayrollForm.get(\"amount\")) == null ? null : tmp_7_0.dirty));\n  }\n}\nfunction CreatePayrollComponent_span_189_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 66);\n  }\n}\nclass CreatePayrollComponent {\n  constructor(fb, toastService, createPayrollService, nspConfirmService, codeService) {\n    this.fb = fb;\n    this.toastService = toastService;\n    this.createPayrollService = createPayrollService;\n    this.nspConfirmService = nspConfirmService;\n    this.codeService = codeService;\n    // Search by Nric Form\n    this.searchNricForm = this.fb.group({\n      nric: new forms_1.FormControl('', [forms_1.Validators.required, forms_1.Validators.pattern('^[STFG]\\\\d{7}[A-Z]$')])\n    }, {});\n    // Personal Particulars by NRIC\n    this.personalParticulars = {\n      nric: '',\n      rank: '',\n      name: '',\n      service: '',\n      gender: '',\n      cab: ''\n    };\n    this.displayParticulars = false;\n    // Create Payroll Form\n    this.createPayrollForm = this.fb.group({\n      payrollCategory: new forms_1.FormControl(null, forms_1.Validators.required),\n      payrollDescription: new forms_1.FormControl(null, forms_1.Validators.required),\n      trgStartDate: new forms_1.FormControl(null, forms_1.Validators.required),\n      trgStartTime: new forms_1.FormControl(null, forms_1.Validators.required),\n      trgEndDate: new forms_1.FormControl(null, forms_1.Validators.required),\n      trgEndTime: new forms_1.FormControl(null, forms_1.Validators.required),\n      servicePayAmt: new forms_1.FormControl(0, [forms_1.Validators.required, forms_1.Validators.pattern('^[0-9]*$')]),\n      nsTopUpAmt: new forms_1.FormControl(0, [forms_1.Validators.required, forms_1.Validators.pattern('^[0-9]*$')]),\n      remarks: new forms_1.FormControl(\"\", [forms_1.Validators.maxLength(2000)]),\n      amount: new forms_1.FormControl(null, [forms_1.Validators.required, forms_1.Validators.pattern('^[0-9]*$')])\n    }, {\n      validators: date_validator_directive_1.DateValidator.dateLessThan(\"trgStartDate\", \"trgEndDate\")\n    });\n    // Supporting Documents Upload Form\n    this.supportingDocsUploadForm = this.fb.group({\n      file: new forms_1.FormControl([], [fileupload2_directive_1.FileUploadValidator2.allowableExtension(\".pdf\")])\n    }, {});\n  }\n  // On initialisation\n  ngOnInit() {\n    console.log('ngOnInit');\n    this.OTToggle = false;\n    this.FlyingAircrewToggle = false;\n    this.loadDropDownPayrollType();\n  }\n  // Loads personal particulars data through GET request\n  loadData() {\n    console.log('loadData');\n    const nric = this.searchNricForm.get('nric').value;\n    setTimeout(() => {\n      this.createPayrollService.getPersonalParticularsByNric(nric).subscribe(res => {\n        console.log(res);\n        // Write personal particulars retrieved from NRIC search\n        const data = res.body.data;\n        this.personalParticulars = data;\n        this.personalParticulars.cab = \"Y\";\n        this.displayParticulars = true;\n        console.log(this.personalParticulars);\n      }, error => {\n        console.log(error);\n        // Clear existing personal particulars\n        this.toastService.error(error.error?.error_desc);\n        this.personalParticulars.nric = '';\n        this.personalParticulars.rank = '';\n        this.personalParticulars.name = '';\n        this.personalParticulars.service = '';\n        this.personalParticulars.gender = '';\n        this.personalParticulars.cab = '';\n      });\n    }, 1000);\n  }\n  // Load payroll category dropdown\n  loadDropDownPayrollType() {\n    console.log('loadDropDownPayrollType');\n    this.codeService.gets('PRL_PAYROLL_TYPE').subscribe(codes => {\n      console.log(codes);\n      this.payroll_typeValues = codes[0];\n      console.log(this.selectedPayrollType.codeId);\n      // Load respective Payroll Category Description\n      if (this.selectedPayrollType.codeId === \"ATTENDANCE\") {\n        this.loadDropDownPayrollDesc('PRL_ATTD_CODE');\n      } else if (this.selectedPayrollType.codeId === \"AWARDS\") {\n        this.loadDropDownPayrollDesc('PRL_AWD_CODE');\n      } else if (this.selectedPayrollType.codeId === \"ALLOWANCES\") {\n        this.loadDropDownPayrollDesc('PRL_ALLW_CODE');\n      }\n    });\n  }\n  // onChange handler of payroll type dropdown menu \n  parsePayrollType($event) {\n    console.log('parsePayrollType');\n    const caForm = this.createPayrollForm;\n    const dropdownVal = $event.value;\n    const payrollTypes = this.payroll_typeValues;\n    // Iterate through payroll type list\n    Object.keys(payrollTypes).forEach(key => {\n      if (payrollTypes[Number(key)].codeId === dropdownVal) {\n        // Set selected payroll type & formcontrol payrollCategory to chosen value\n        console.log(\"Selected Payroll Type is \" + String(payrollTypes[Number(key)].codeId));\n        this.selectedPayrollType = payrollTypes[Number(key)];\n        caForm.controls['payrollCategory'].setValue(payrollTypes[Number(key)]);\n        this.resetStartEndTimes();\n        this.disableTimeByPayrollCategory(String(payrollTypes[Number(key)].codeId));\n      }\n      ;\n    });\n    // Load respective Payroll Category Description\n    if (dropdownVal === \"ATTENDANCE\") {\n      this.loadDropDownPayrollDesc('PRL_ATTD_CODE');\n    } else if (dropdownVal === \"AWARDS\") {\n      this.loadDropDownPayrollDesc('PRL_AWD_CODE');\n    } else if (dropdownVal === \"ALLOWANCES\") {\n      this.loadDropDownPayrollDesc('PRL_ALLW_CODE');\n    }\n  }\n  // disable/enable time fields by payroll category\n  disableTimeByPayrollCategory(isPayroll) {\n    console.log('disableTimeByPayrollCategory');\n    console.log(\"Chosen Payroll Category codeId is \" + isPayroll);\n    const payrollCategoryVal = this.createPayrollForm.get('payrollCategory').value.codeId;\n    if (payrollCategoryVal === \"ATTENDANCE\") {\n      this.createPayrollForm.get('trgStartTime').enable();\n      this.createPayrollForm.get('trgEndTime').enable();\n      console.log(\"Selected AWARDS:\" + String(payrollCategoryVal) + \"\\nEnabling Time inputs\");\n    } else {\n      this.createPayrollForm.get('trgStartTime').disable();\n      this.createPayrollForm.get('trgEndTime').disable();\n      console.log(\"Selected AWARDS:\" + String(payrollCategoryVal) + \"\\nDisabling Time inputs\");\n    }\n  }\n  // Reset start and end time p-calendar inputs\n  resetStartEndTimes() {\n    console.log('resetStartEndTimes');\n    const caForm = this.createPayrollForm;\n    const zeroTime = new Date();\n    zeroTime.setHours(0, 0, 0, 0);\n    if (this.createPayrollForm.get('trgStartTime') !== null) {\n      caForm.controls['trgStartTime'].setValue(zeroTime);\n    }\n    if (this.createPayrollForm.get('trgEndTime') !== null) {\n      caForm.controls['trgEndTime'].setValue(zeroTime);\n    }\n  }\n  // Toggle variable to toggle display of other training inputs\n  toggleWarnings() {\n    console.log('toggleWarnings');\n    const caForm = this.createPayrollForm;\n    if (caForm.get('payrollDescription').value.codeId === \"10\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\n      this.FlyingAircrewToggle = true;\n    } else if (caForm.get('payrollDescription').value.codeId === \"11\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\n      this.FlyingAircrewToggle = true;\n    } else {\n      this.FlyingAircrewToggle = false;\n    }\n    console.log(this.FlyingAircrewToggle);\n  }\n  // Toggle variable to toggle display of other training inputs\n  toggleOtherTrainingInputs() {\n    console.log('toggleOtherTrainingInputs');\n    const caForm = this.createPayrollForm;\n    caForm.controls['amount'].setValue(null);\n    caForm.controls['servicePayAmt'].setValue(0);\n    caForm.controls['nsTopUpAmt'].setValue(0);\n    caForm.controls['amount'].markAsPristine();\n    caForm.controls['servicePayAmt'].markAsPristine();\n    caForm.controls['nsTopUpAmt'].markAsPristine();\n    if (caForm.get('payrollDescription').value.codeId === \"12\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\n      this.OTToggle = true;\n    } else {\n      this.OTToggle = false;\n    }\n    console.log(this.OTToggle);\n  }\n  // Compute final amount payable\n  computeAmountPayable() {\n    console.log('computeAmountPayable');\n    const caForm = this.createPayrollForm;\n    console.log(caForm.get('servicePayAmt').value);\n    console.log(caForm.get('nsTopUpAmt').value);\n    const svcPayable = caForm.get('servicePayAmt').value;\n    const nsPayable = caForm.get('nsTopUpAmt').value;\n    const amtPayable = svcPayable + nsPayable;\n    console.log(amtPayable);\n    caForm.controls['amount'].setValue(amtPayable);\n  }\n  // on change handler for setting of drop down menu selected value\n  parsePayrollDescription($event) {\n    console.log('parsePayrollDescription');\n    const caForm = this.createPayrollForm;\n    const dropdownVal = $event.value;\n    const payrollDescs = this.payroll_descValues;\n    // iterate through payroll description list\n    Object.keys(payrollDescs).forEach(key => {\n      if (payrollDescs[Number(key)].codeId === dropdownVal) {\n        console.log(\"Selected Payroll Description is \" + String(payrollDescs[Number(key)].codeId));\n        this.selectedPayrollDesc = payrollDescs[Number(key)];\n        caForm.controls['payrollDescription'].setValue(payrollDescs[Number(key)]);\n        console.log(caForm.get('payrollCategory').value);\n        console.log(caForm.get('payrollDescription').value);\n        this.toggleOtherTrainingInputs();\n        this.toggleWarnings();\n      }\n      ;\n    });\n  }\n  // fill payroll description drop down menu respectively\n  loadDropDownPayrollDesc(desc) {\n    console.log('loadDropDownPayrollDesc');\n    console.log(\"Chosen Payroll Category is \" + desc);\n    this.codeService.gets(desc).subscribe(codes => {\n      this.payroll_descValues = codes[0];\n    });\n  }\n  // onChange handler of change in start date to autofill end date\n  changeTrgStartDate() {\n    console.log('changeTrgStartDate');\n    const caForm = this.createPayrollForm;\n    caForm.controls['trgStartDate'].setValue(new Date(caForm.get('trgStartDate').value));\n    caForm.controls['trgStartTime'].setValue(new Date(caForm.get('trgStartDate').value));\n    caForm.controls['trgEndDate'].setValue(new Date(caForm.get('trgStartDate').value));\n    caForm.controls['trgEndTime'].setValue(new Date(caForm.get('trgStartDate').value));\n  }\n  // confirmation function to approve actual submission of form\n  onApprove(event, key) {\n    console.log('onApprove');\n    this.nspConfirmService.onConfirmPopup(event, key, null, () => {\n      this.submit();\n    });\n  }\n  // submission of form function\n  submit() {\n    console.log('submit');\n    const fileTxnId = this.supportingDocsUpload.verifiedFiles.map(x => String(x.meta_data.id));\n    const caForm = this.createPayrollForm;\n    const startISODT = this.dateTimeISOSplicer(caForm.get('trgStartDate').value, caForm.get('trgStartTime').value);\n    const endISODT = this.dateTimeISOSplicer(caForm.get('trgEndDate').value, caForm.get('trgEndTime').value);\n    const request = {\n      nric: this.personalParticulars.nric,\n      payrollType: this.createPayrollForm.get('payrollCategory').value.codeId,\n      payrollDesc: this.createPayrollForm.get('payrollDescription').value.codeId,\n      trgStartDt: startISODT,\n      trgEndDt: endISODT,\n      payableAmt: this.createPayrollForm.get('amount').value,\n      servicePayAmt: null,\n      nsTopUpAmt: null,\n      remarks: this.createPayrollForm.get('remarks').value,\n      supportingDocs: fileTxnId\n    };\n    if (this.OTToggle) {\n      request.servicePayAmt = this.createPayrollForm.get('servicePayAmt').value;\n      request.nsTopUpAmt = this.createPayrollForm.get('nsTopUpAmt').value;\n    }\n    console.log(request);\n    setTimeout(() => {\n      if (this.createPayrollForm.get('amount').value >= 500 || this.createPayrollForm.get('amount').value <= 0) {\n        this.toastService.error(\"Unsuccessful invalid payroll amount (PRL-E002)\");\n      } else {\n        this.createPayrollService.postCreatePayrollRequest(request).subscribe(res => {\n          console.log(res);\n          this.toastService.success(\"Successfully created Payroll Record\");\n        }, error => {\n          console.log(error);\n          this.toastService.error(error.error.error_desc);\n        });\n      }\n    }, 1000);\n  }\n  // ----------  UTILS ---------- //\n  // splices 2 datetime objects together and converts to ISO String\n  dateTimeISOSplicer(dt, tm) {\n    console.log('dateTimeISOSplicer');\n    console.log(dt);\n    console.log(tm);\n    const newDate = new Date(dt);\n    let timeString = [];\n    if (this.createPayrollForm.get('trgStartTime').pristine && this.createPayrollForm.get(\"trgEndTime\").pristine) {\n      newDate.setHours(0, 0, 0, 0);\n    } else {\n      timeString = tm.split(\":\");\n      newDate.setHours(Number(timeString[0]), Number(timeString[1]), 0, 0);\n    }\n    const splicedISODT = newDate.toISOString();\n    console.log(\"Spliced DT as ISO String: \" + splicedISODT);\n    return splicedISODT;\n  }\n  // change input fields custom invalid UI\n  checkInputField(inputField) {\n    let customClass = '';\n    const caForm = this.createPayrollForm;\n    // const startDate = caForm.get('trgStartDate');\n    const endDate = caForm.get('trgEndDate');\n    // const startTime = caForm.get('trgStartTime');\n    // const endTime = caForm.get('trgEndTime');\n    const amount = caForm.get('amount');\n    if (inputField === 'trgEndDate') {\n      if (caForm.errors?.['invalidDateLessThanOrEquals'] && endDate.dirty) {\n        customClass = 'ng-invalid ng-dirty';\n      }\n    }\n    // if (inputField === 'trgStartDate') {\n    //   if (startDate.hasError('required') && startDate.touched) {\n    //     customClass = 'ng-invalid ng-dirty'\n    //   }\n    // } \n    // else if (inputField === 'trgEndDate') {\n    //   if ((endDate.hasError('required') && endDate.touched) || (caForm.errors?.['invalidDateLessThanOrEquals'] && endDate.dirty)) {\n    //     customClass = 'ng-invalid ng-dirty'\n    //   }\n    // } \n    // else if (inputField === 'trgStartTime') {\n    //   if (startTime.hasError('required') && startTime.touched) {\n    //     customClass = 'ng-invalid ng-dirty'\n    //   }\n    // } \n    // else if (inputField === 'trgEndTime') {\n    //   if (endTime.hasError('required') && endTime.touched) {\n    //     customClass = 'ng-invalid ng-dirty'\n    //   }\n    // }\n    // else if (inputField === 'amount') {\n    //   if (amount.hasError('required') && amount.touched) {\n    //     customClass = 'ng-invalid ng-dirty'\n    //   }\n    // }\n    return customClass;\n  }\n}\nexports.CreatePayrollComponent = CreatePayrollComponent;\nCreatePayrollComponent.ɵfac = function CreatePayrollComponent_Factory(t) {\n  return new (t || CreatePayrollComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.CreatePayrollService), i0.ɵɵdirectiveInject(i4.NspConfirmationService), i0.ɵɵdirectiveInject(i5.IcCodeService));\n};\nCreatePayrollComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreatePayrollComponent,\n  selectors: [[\"n2-create-payroll\"]],\n  viewQuery: function CreatePayrollComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.supportingDocsUpload = _t.first);\n    }\n  },\n  decls: 209,\n  vars: 47,\n  consts: [[1, \"grid\"], [1, \"col-12\"], [\"header\", \"Search\"], [3, \"formGroup\"], [1, \"formgroup-inline\"], [1, \"field\"], [\"for\", \"nric\", 1, \"search-label\"], [\"type\", \"text\", \"id\", \"nric\", \"formControlName\", \"nric\", \"pInputText\", \"\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.payroll.validation.empty\", \"style\", \"padding-left: 48px;\", 4, \"ngIf\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.payroll.validation.nricFormat\", \"style\", \"padding-left: 48px;\", 4, \"ngIf\"], [\"pButton\", \"\", \"label\", \"Insert new payroll\", 3, \"disabled\", \"click\"], [\"header\", \"Personal Particulars\"], [1, \"text-blue-500\", \"font-semibold\", \"inline-block\", \"text-center\", \"mr-3\", 2, \"font-size\", \"35px\"], [1, \"font-medium\", \"inline-block\", \"text-center\", 2, \"font-size\", \"18px\"], [\"class\", \"font-medium inline-block text-center mr-3\", \"style\", \"font-size:18px;\", 4, \"ngIf\"], [\"class\", \"font-medium inline-block text-center \", \"style\", \"font-size:18px;\", 4, \"ngIf\"], [1, \"col-8\"], [1, \"container\", 2, \"padding-left\", \"8px\", \"padding-right\", \"0px\"], [1, \"row\", 2, \"margin\", \"auto\"], [1, \"col\", \"col-header\", \"col-4\"], [1, \"col\", \"col-header\", \"col-8\"], [1, \"col\", \"col-content\", \"col-4\"], [\"placeholder\", \"Select a Payroll Category\", \"optionLabel\", \"label.en-US\", \"optionValue\", \"codeId\", \"autoWidth\", \"false\", 3, \"options\", \"onChange\"], [1, \"col\", \"col-content\", \"col-8\"], [\"placeholder\", \"Select a Payroll Description\", \"optionLabel\", \"label.en-US\", \"optionValue\", \"codeId\", \"autoWidth\", \"false\", 3, \"options\", \"onChange\"], [1, \"col-offset-4\", \"col-8\", 2, \"padding-left\", \"28px\", \"padding-right\", \"22px\"], [\"severity\", \"warn\", 4, \"ngIf\"], [1, \"container\", 2, \"padding-left\", \"0px\", \"padding-right\", \"0px\"], [1, \"col\", \"col-header\", \"col-3\"], [1, \"col\", \"col-header\", \"col-2\"], [1, \"col\", \"col-content\", \"col-3\"], [\"id\", \"trgStartDate\", \"formControlName\", \"trgStartDate\", \"dateFormat\", \"dd-mm-yy\", \"styleClass\", \"dateTimeField\", 2, \"width\", \"100%\", 3, \"readonlyInput\", \"onSelect\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.payroll.validation.empty\", 4, \"ngIf\"], [1, \"col\", \"col-content\", \"col-2\"], [\"id\", \"trgStartTime\", \"formControlName\", \"trgStartTime\", \"dateFormat\", \"dd-mm-yy\", \"styleClass\", \"dateTimeField\", \"dataType\", \"string\", 2, \"width\", \"100%\", 3, \"showTime\", \"timeOnly\", \"readonlyInput\"], [\"id\", \"trgEndDate\", \"formControlName\", \"trgEndDate\", \"dateFormat\", \"dd-mm-yy\", \"styleClass\", \"dateTimeField\", 2, \"width\", \"100%\", 3, \"inputStyleClass\", \"readonlyInput\"], [\"icTranslate\", \"nspay2App.payroll.validation.PRL-V006\", \"class\", \"p-error\", 4, \"ngIf\"], [\"id\", \"trgEndTime\", \"formControlName\", \"trgEndTime\", \"dateFormat\", \"dd-mm-yy\", \"styleClass\", \"dateTimeField\", \"dataType\", \"string\", 2, \"width\", \"100%\", 3, \"showTime\", \"timeOnly\", \"readonlyInput\"], [\"id\", \"amount\", \"formControlName\", \"amount\", \"styleClass\", \"full-width\", \"mode\", \"decimal\", 3, \"disabled\", \"maxFractionDigits\"], [\"icTranslate\", \"nspay2App.payroll.validation.PRL-V009\", \"class\", \"p-error\", 4, \"ngIf\"], [\"class\", \"col-4 col-offset-8\", 4, \"ngIf\"], [1, \"col-4\", 2, \"padding-left\", \"10px\", \"padding-right\", \"10px\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"remarks\", \"formControlName\", \"remarks\", \"rows\", \"5\", \"maxlength\", \"2000\", 1, \"w-full\"], [\"class\", \"p-error\", \"icTranslate\", \"nspay2App.payroll.validation.PRL-V001\", 4, \"ngIf\"], [\"styleClass\", \"custombar2\", \"formControlName\", \"file\", \"id\", \"file\", 3, \"contentHeight\"], [\"supportingDocsUpload\", \"\"], [1, \"col-3\", \"col-offset-9\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Submit\", 2, \"float\", \"right\", 3, \"disabled\", \"click\"], [\"key\", \"createPayrollSubmit\"], [\"icTranslate\", \"nspay2App.payroll.validation.empty\", 1, \"p-error\", 2, \"padding-left\", \"48px\"], [\"icTranslate\", \"nspay2App.payroll.validation.nricFormat\", 1, \"p-error\", 2, \"padding-left\", \"48px\"], [1, \"font-medium\", \"inline-block\", \"text-center\", \"mr-3\", 2, \"font-size\", \"18px\"], [1, \"mr-1\"], [3, \"routerLink\"], [\"severity\", \"warn\"], [\"pTemplate\", \"\"], [1, \"pi\", \"pi-exclamation-triangle\", 2, \"font-size\", \"2rem\"], [1, \"ml-2\"], [\"icTranslate\", \"nspay2App.payroll.validation.empty\", 1, \"p-error\"], [\"icTranslate\", \"nspay2App.payroll.validation.PRL-V006\", 1, \"p-error\"], [\"icTranslate\", \"nspay2App.payroll.validation.PRL-V009\", 1, \"p-error\"], [1, \"col-4\", \"col-offset-8\"], [1, \"col\", \"col-header\", \"col-6\"], [1, \"col\", \"col-content\", \"col-6\"], [\"id\", \"servicePayAmt\", \"formControlName\", \"servicePayAmt\", \"styleClass\", \"full-width\", \"mode\", \"decimal\", 3, \"maxFractionDigits\", \"onBlur\"], [\"id\", \"nsTopUpAmt\", \"formControlName\", \"nsTopUpAmt\", \"styleClass\", \"full-width\", \"mode\", \"decimal\", 3, \"maxFractionDigits\", \"onBlur\"], [\"icTranslate\", \"nspay2App.payroll.validation.PRL-V001\", 1, \"p-error\"]],\n  template: function CreatePayrollComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\\n    \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵelementStart(4, \"p-panel\", 2);\n      i0.ɵɵtext(5, \"\\n            \");\n      i0.ɵɵelementStart(6, \"form\", 3);\n      i0.ɵɵtext(7, \"\\n                \");\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtext(9, \"\\n                    \");\n      i0.ɵɵelementStart(10, \"div\", 5);\n      i0.ɵɵtext(11, \"\\n                        \");\n      i0.ɵɵelementStart(12, \"label\", 6);\n      i0.ɵɵtext(13, \"NRIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n                        \");\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵtext(16, \"\\n                        \");\n      i0.ɵɵelement(17, \"br\");\n      i0.ɵɵtext(18, \"\\n                        \");\n      i0.ɵɵtemplate(19, CreatePayrollComponent_span_19_Template, 1, 0, \"span\", 8);\n      i0.ɵɵtext(20, \"\\n                        \");\n      i0.ɵɵtemplate(21, CreatePayrollComponent_span_21_Template, 1, 0, \"span\", 9);\n      i0.ɵɵtext(22, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"\\n                    \");\n      i0.ɵɵelementStart(24, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CreatePayrollComponent_Template_button_click_24_listener() {\n        return ctx.loadData();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(28, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n\\n    \");\n      i0.ɵɵelementStart(30, \"div\", 1);\n      i0.ɵɵtext(31, \"\\n        \");\n      i0.ɵɵelementStart(32, \"p-panel\", 11);\n      i0.ɵɵtext(33, \"\\n            \");\n      i0.ɵɵelementStart(34, \"span\", 12);\n      i0.ɵɵtext(35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n            \");\n      i0.ɵɵelementStart(37, \"span\", 12);\n      i0.ɵɵtext(38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n            \");\n      i0.ɵɵelementStart(40, \"span\", 12);\n      i0.ɵɵtext(41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n            \");\n      i0.ɵɵelementStart(43, \"span\", 13);\n      i0.ɵɵtext(44);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n            \");\n      i0.ɵɵtemplate(46, CreatePayrollComponent_span_46_Template, 2, 1, \"span\", 14);\n      i0.ɵɵtext(47, \"\\n            \");\n      i0.ɵɵtemplate(48, CreatePayrollComponent_span_48_Template, 8, 1, \"span\", 15);\n      i0.ɵɵtext(49, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n\\n    \");\n      i0.ɵɵelementStart(52, \"div\", 16);\n      i0.ɵɵtext(53, \"\\n        \");\n      i0.ɵɵelementStart(54, \"div\", 0);\n      i0.ɵɵtext(55, \"\\n            \");\n      i0.ɵɵelementStart(56, \"form\", 3);\n      i0.ɵɵtext(57, \"\\n\\n                \");\n      i0.ɵɵelementStart(58, \"div\", 17);\n      i0.ɵɵtext(59, \"\\n                    \");\n      i0.ɵɵelementStart(60, \"div\", 18);\n      i0.ɵɵtext(61, \"\\n                        \");\n      i0.ɵɵelementStart(62, \"div\", 19);\n      i0.ɵɵtext(63, \"\\n                            \");\n      i0.ɵɵelementStart(64, \"span\");\n      i0.ɵɵtext(65, \"Payroll Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(66, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(67, \"\\n                        \");\n      i0.ɵɵelementStart(68, \"div\", 20);\n      i0.ɵɵtext(69, \"\\n                            \");\n      i0.ɵɵelementStart(70, \"span\");\n      i0.ɵɵtext(71, \"Payroll Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(72, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \"\\n                    \");\n      i0.ɵɵelementStart(75, \"div\", 18);\n      i0.ɵɵtext(76, \"\\n                        \");\n      i0.ɵɵelementStart(77, \"div\", 21);\n      i0.ɵɵtext(78, \"\\n                            \");\n      i0.ɵɵelementStart(79, \"p-dropdown\", 22);\n      i0.ɵɵlistener(\"onChange\", function CreatePayrollComponent_Template_p_dropdown_onChange_79_listener($event) {\n        return ctx.parsePayrollType($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n                        \");\n      i0.ɵɵelementStart(82, \"div\", 23);\n      i0.ɵɵtext(83, \"\\n                            \");\n      i0.ɵɵelementStart(84, \"p-dropdown\", 24);\n      i0.ɵɵlistener(\"onChange\", function CreatePayrollComponent_Template_p_dropdown_onChange_84_listener($event) {\n        return ctx.parsePayrollDescription($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(85, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(86, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(87, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(88, \"\\n\\n                \");\n      i0.ɵɵelementStart(89, \"div\", 25);\n      i0.ɵɵtext(90, \"\\n                    \");\n      i0.ɵɵtemplate(91, CreatePayrollComponent_p_messages_91_Template, 4, 0, \"p-messages\", 26);\n      i0.ɵɵtext(92, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(93, \"\\n\\n                \");\n      i0.ɵɵelementStart(94, \"div\", 27);\n      i0.ɵɵtext(95, \"\\n                    \");\n      i0.ɵɵelementStart(96, \"div\", 18);\n      i0.ɵɵtext(97, \"\\n                        \");\n      i0.ɵɵelementStart(98, \"div\", 28);\n      i0.ɵɵtext(99, \"\\n                            \");\n      i0.ɵɵelementStart(100, \"span\");\n      i0.ɵɵtext(101, \"Trg Start Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(102, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(103, \"\\n                        \");\n      i0.ɵɵelementStart(104, \"div\", 29);\n      i0.ɵɵtext(105, \"\\n                            \");\n      i0.ɵɵelementStart(106, \"span\");\n      i0.ɵɵtext(107, \"Trg Start Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(108, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(109, \"\\n                        \");\n      i0.ɵɵelementStart(110, \"div\", 28);\n      i0.ɵɵtext(111, \"\\n                            \");\n      i0.ɵɵelementStart(112, \"span\");\n      i0.ɵɵtext(113, \"Trg End Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(114, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(115, \"\\n                        \");\n      i0.ɵɵelementStart(116, \"div\", 29);\n      i0.ɵɵtext(117, \"\\n                            \");\n      i0.ɵɵelementStart(118, \"span\");\n      i0.ɵɵtext(119, \"Trg End Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(120, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(121, \"\\n                        \");\n      i0.ɵɵelementStart(122, \"div\", 29);\n      i0.ɵɵtext(123, \"\\n                            \");\n      i0.ɵɵelementStart(124, \"span\");\n      i0.ɵɵtext(125, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(126, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(127, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(128, \"\\n                    \");\n      i0.ɵɵelementStart(129, \"div\", 18);\n      i0.ɵɵtext(130, \"\\n                        \");\n      i0.ɵɵelementStart(131, \"div\", 30);\n      i0.ɵɵtext(132, \"\\n                            \");\n      i0.ɵɵelementStart(133, \"p-calendar\", 31);\n      i0.ɵɵlistener(\"onSelect\", function CreatePayrollComponent_Template_p_calendar_onSelect_133_listener() {\n        return ctx.changeTrgStartDate();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(134, \"\\n                            \");\n      i0.ɵɵtemplate(135, CreatePayrollComponent_span_135_Template, 1, 0, \"span\", 32);\n      i0.ɵɵtext(136, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(137, \"\\n                        \");\n      i0.ɵɵelementStart(138, \"div\", 33);\n      i0.ɵɵtext(139, \"\\n                            \");\n      i0.ɵɵelement(140, \"p-calendar\", 34);\n      i0.ɵɵtext(141, \"\\n                            \");\n      i0.ɵɵtemplate(142, CreatePayrollComponent_span_142_Template, 1, 0, \"span\", 32);\n      i0.ɵɵtext(143, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(144, \"\\n                        \");\n      i0.ɵɵelementStart(145, \"div\", 30);\n      i0.ɵɵtext(146, \"\\n                            \");\n      i0.ɵɵtext(147, \"\\n                            \");\n      i0.ɵɵelement(148, \"p-calendar\", 35)(149, \"br\");\n      i0.ɵɵtext(150, \"\\n                            \");\n      i0.ɵɵtemplate(151, CreatePayrollComponent_span_151_Template, 1, 0, \"span\", 32);\n      i0.ɵɵtext(152, \"\\n                            \");\n      i0.ɵɵtemplate(153, CreatePayrollComponent_span_153_Template, 1, 0, \"span\", 36);\n      i0.ɵɵtext(154, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(155, \"\\n                        \");\n      i0.ɵɵelementStart(156, \"div\", 33);\n      i0.ɵɵtext(157, \"\\n                            \");\n      i0.ɵɵelement(158, \"p-calendar\", 37);\n      i0.ɵɵtext(159, \"\\n                            \");\n      i0.ɵɵtemplate(160, CreatePayrollComponent_span_160_Template, 1, 0, \"span\", 32);\n      i0.ɵɵtext(161, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(162, \"\\n                        \");\n      i0.ɵɵelementStart(163, \"div\", 33);\n      i0.ɵɵtext(164, \"\\n                            \");\n      i0.ɵɵelement(165, \"p-inputNumber\", 38);\n      i0.ɵɵtext(166, \"\\n                            \");\n      i0.ɵɵtemplate(167, CreatePayrollComponent_span_167_Template, 2, 0, \"span\", 32);\n      i0.ɵɵtext(168, \"\\n                            \");\n      i0.ɵɵtemplate(169, CreatePayrollComponent_span_169_Template, 2, 0, \"span\", 39);\n      i0.ɵɵtext(170, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(171, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(172, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(173, \"\\n                \");\n      i0.ɵɵtemplate(174, CreatePayrollComponent_div_174_Template, 56, 12, \"div\", 40);\n      i0.ɵɵtext(175, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(176, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(177, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(178, \"\\n\\n    \");\n      i0.ɵɵelementStart(179, \"div\", 41);\n      i0.ɵɵtext(180, \"\\n        \");\n      i0.ɵɵelementStart(181, \"form\", 3);\n      i0.ɵɵtext(182, \"\\n            \");\n      i0.ɵɵelementStart(183, \"span\");\n      i0.ɵɵtext(184, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(185, \"\\n            \");\n      i0.ɵɵelement(186, \"textarea\", 42);\n      i0.ɵɵtext(187, \"\\n            \");\n      i0.ɵɵtext(188, \"\\n            \");\n      i0.ɵɵtemplate(189, CreatePayrollComponent_span_189_Template, 1, 0, \"span\", 43);\n      i0.ɵɵtext(190, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(191, \"\\n        \");\n      i0.ɵɵelementStart(192, \"form\", 3);\n      i0.ɵɵtext(193, \"\\n            \");\n      i0.ɵɵelementStart(194, \"span\");\n      i0.ɵɵtext(195, \"Supporting Documents\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(196, \"\\n            \");\n      i0.ɵɵelement(197, \"n2-file-upload\", 44, 45);\n      i0.ɵɵtext(199, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(200, \"\\n        \");\n      i0.ɵɵelementStart(201, \"div\", 46);\n      i0.ɵɵtext(202, \"\\n            \");\n      i0.ɵɵelementStart(203, \"button\", 47);\n      i0.ɵɵlistener(\"click\", function CreatePayrollComponent_Template_button_click_203_listener($event) {\n        return ctx.onApprove($event, \"createPayrollSubmit\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(204, \"\\n            \");\n      i0.ɵɵelement(205, \"p-confirmPopup\", 48);\n      i0.ɵɵtext(206, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(207, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(208, \"\\n\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_17_0;\n      let tmp_21_0;\n      let tmp_24_0;\n      let tmp_25_0;\n      let tmp_29_0;\n      let tmp_33_0;\n      let tmp_34_0;\n      let tmp_37_0;\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchNricForm);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.searchNricForm.get(\"nric\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx.searchNricForm.get(\"nric\")) == null ? null : tmp_1_0.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.searchNricForm.get(\"nric\")) == null ? null : tmp_2_0.hasError(\"pattern\")) && ((tmp_2_0 = ctx.searchNricForm.get(\"nric\")) == null ? null : tmp_2_0.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.searchNricForm.valid);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate(ctx.personalParticulars.nric);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.personalParticulars.rank);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.personalParticulars.name);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.personalParticulars.service);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.personalParticulars.gender !== \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.personalParticulars.cab !== \"\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.createPayrollForm);\n      i0.ɵɵadvance(23);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(44, _c1));\n      i0.ɵɵproperty(\"options\", ctx.payroll_typeValues);\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(45, _c1));\n      i0.ɵɵproperty(\"options\", ctx.payroll_descValues);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.FlyingAircrewToggle);\n      i0.ɵɵadvance(42);\n      i0.ɵɵproperty(\"readonlyInput\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_17_0 = ctx.createPayrollForm.get(\"trgStartDate\")) == null ? null : tmp_17_0.hasError(\"required\")) && ((tmp_17_0 = ctx.createPayrollForm.get(\"trgStartDate\")) == null ? null : tmp_17_0.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"showTime\", true)(\"timeOnly\", true)(\"readonlyInput\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_21_0 = ctx.createPayrollForm.get(\"trgStartTime\")) == null ? null : tmp_21_0.hasError(\"required\")) && ((tmp_21_0 = ctx.createPayrollForm.get(\"trgStartTime\")) == null ? null : tmp_21_0.dirty));\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate(\"inputStyleClass\", ctx.checkInputField(\"trgEndDate\"));\n      i0.ɵɵproperty(\"readonlyInput\", true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_24_0 = ctx.createPayrollForm.get(\"trgEndDate\")) == null ? null : tmp_24_0.hasError(\"required\")) && ((tmp_24_0 = ctx.createPayrollForm.get(\"trgEndDate\")) == null ? null : tmp_24_0.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.createPayrollForm.errors == null ? null : ctx.createPayrollForm.errors[\"invalidDateLessThan\"]) && ((tmp_25_0 = ctx.createPayrollForm.get(\"trgEndDate\")) == null ? null : tmp_25_0.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"showTime\", true)(\"timeOnly\", true)(\"readonlyInput\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_29_0 = ctx.createPayrollForm.get(\"trgEndTime\")) == null ? null : tmp_29_0.hasError(\"required\")) && ((tmp_29_0 = ctx.createPayrollForm.get(\"trgEndTime\")) == null ? null : tmp_29_0.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(46, _c1));\n      i0.ɵɵproperty(\"disabled\", ctx.OTToggle)(\"maxFractionDigits\", 2);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_33_0 = ctx.createPayrollForm.get(\"amount\")) == null ? null : tmp_33_0.hasError(\"required\")) && ((tmp_33_0 = ctx.createPayrollForm.get(\"amount\")) == null ? null : tmp_33_0.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_34_0 = ctx.createPayrollForm.get(\"amount\")) == null ? null : tmp_34_0.hasError(\"pattern\")) && ((tmp_34_0 = ctx.createPayrollForm.get(\"amount\")) == null ? null : tmp_34_0.dirty));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.OTToggle);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.createPayrollForm);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_37_0 = ctx.createPayrollForm.get(\"remarks\")) == null ? null : tmp_37_0.hasError(\"maxlength\")) && ((tmp_37_0 = ctx.createPayrollForm.get(\"remarks\")) == null ? null : tmp_37_0.dirty));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.supportingDocsUploadForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"contentHeight\", \"100px\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"disabled\", !ctx.createPayrollForm.valid || !ctx.supportingDocsUploadForm.valid);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i6.NgIf, i1.FormGroupDirective, i1.FormControlName, i7.PrimeTemplate, i8.ButtonDirective, i9.RouterLink, i10.Dropdown, i11.InputText, i12.ConfirmPopup, i13.Messages, i14.Calendar, i15.InputNumber, i16.TranslateDirective, i17.FileUploadComponent, i18.Panel],\n  styles: [\"[_nghost-%COMP%]     .full-width .p-inputtext {\\n  width: 100%;\\n}\\n\\n.col-header[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  border: 1px solid #dee2e6;\\n  padding: 1.25rem;\\n  background: #f8f9fa;\\n  color: #343a40;\\n}\\n\\n.col-content[_ngcontent-%COMP%] {\\n  border: 1px solid #dee2e6;\\n  padding: 1.25rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1wYXlyb2xsLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFxwYXlyb2xsXFxwYXlyb2xsXFxjcmVhdGUtcGF5cm9sbFxcY3JlYXRlLXBheXJvbGwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FETUE7RUFDSSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUNISjs7QURNQTtFQUNJLHlCQUFBO0VBQ0EsZ0JBQUE7QUNISiIsImZpbGUiOiJjcmVhdGUtcGF5cm9sbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAuZnVsbC13aWR0aCAucC1pbnB1dHRleHQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8vIDpob3N0IDo6bmctZGVlcCAucC1pbnB1dHRleHQubmctdG91Y2hlZC5uZy1pbnZhbGlkIHtcclxuLy8gICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG4vLyB9XHJcblxyXG4uY29sLWhlYWRlciB7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcclxuICAgIHBhZGRpbmc6IDEuMjVyZW07XHJcbiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xyXG4gICAgY29sb3I6ICMzNDNhNDA7XHJcbn1cclxuXHJcbi5jb2wtY29udGVudCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gICAgcGFkZGluZzogMS4yNXJlbTtcclxufSIsIjpob3N0IDo6bmctZGVlcCAuZnVsbC13aWR0aCAucC1pbnB1dHRleHQge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmNvbC1oZWFkZXIge1xuICBmb250LXdlaWdodDogNjAwO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xuICBwYWRkaW5nOiAxLjI1cmVtO1xuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xuICBjb2xvcjogIzM0M2E0MDtcbn1cblxuLmNvbC1jb250ZW50IHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjtcbiAgcGFkZGluZzogMS4yNXJlbTtcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5cm9sbC9wYXlyb2xsL2NyZWF0ZS1wYXlyb2xsL2NyZWF0ZS1wYXlyb2xsLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9wYXlyb2xsL3BheXJvbGwvY3JlYXRlLXBheXJvbGwvY3JlYXRlLXBheXJvbGwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0FDQ0o7O0FETUE7RUFDSSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUNISjs7QURNQTtFQUNJLHlCQUFBO0VBQ0EsZ0JBQUE7QUNISjtBRENBLGdnREFBZ2dEIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIC5wLWlucHV0dGV4dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLy8gOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xyXG4vLyAgICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi5jb2wtaGVhZGVyIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xyXG4gICAgcGFkZGluZzogMS4yNXJlbTtcclxuICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7XHJcbiAgICBjb2xvcjogIzM0M2E0MDtcclxufVxyXG5cclxuLmNvbC1jb250ZW50IHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XHJcbiAgICBwYWRkaW5nOiAxLjI1cmVtO1xyXG59IiwiOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIC5wLWlucHV0dGV4dCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY29sLWhlYWRlciB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTY7XG4gIHBhZGRpbmc6IDEuMjVyZW07XG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XG4gIGNvbG9yOiAjMzQzYTQwO1xufVxuXG4uY29sLWNvbnRlbnQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xuICBwYWRkaW5nOiAxLjI1cmVtO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CreatePayrollComponent","constructor","fb","toastService","createPayrollService","nspConfirmService","codeService","group","nric","forms_1","required","pattern","rank","name","service","gender","cab","payrollCategory","payrollDescription","trgStartDate","trgStartTime","trgEndDate","trgEndTime","servicePayAmt","nsTopUpAmt","remarks","maxLength","amount","validators","date_validator_directive_1","dateLessThan","file","fileupload2_directive_1","allowableExtension","ngOnInit","console","log","OTToggle","FlyingAircrewToggle","loadDropDownPayrollType","loadData","searchNricForm","get","value","setTimeout","getPersonalParticularsByNric","subscribe","res","data","body","personalParticulars","displayParticulars","error","error_desc","gets","codes","payroll_typeValues","selectedPayrollType","codeId","loadDropDownPayrollDesc","parsePayrollType","$event","caForm","createPayrollForm","dropdownVal","payrollTypes","Object","keys","forEach","key","Number","String","controls","setValue","resetStartEndTimes","disableTimeByPayrollCategory","isPayroll","payrollCategoryVal","enable","disable","zeroTime","Date","setHours","toggleWarnings","codetypeId","toggleOtherTrainingInputs","markAsPristine","computeAmountPayable","svcPayable","nsPayable","amtPayable","parsePayrollDescription","payrollDescs","payroll_descValues","selectedPayrollDesc","desc","changeTrgStartDate","onApprove","event","onConfirmPopup","submit","fileTxnId","supportingDocsUpload","verifiedFiles","map","x","meta_data","id","startISODT","dateTimeISOSplicer","endISODT","request","payrollType","payrollDesc","trgStartDt","trgEndDt","payableAmt","supportingDocs","postCreatePayrollRequest","success","dt","tm","newDate","timeString","pristine","split","splicedISODT","toISOString","checkInputField","inputField","customClass","endDate","errors","dirty","exports","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\payroll\\create-payroll\\create-payroll.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\payroll\\create-payroll\\create-payroll.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { ICreatePayrollRecord } from '../model/create-payroll.model';\r\nimport { CreatePayrollService } from '../service/create-payroll.service';\r\nimport { Table } from 'primeng/table';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport { FileUploadComponent } from 'app/shared/component/file-upload/file-upload.component';\r\nimport { FileUploadValidator2 } from 'app/shared/validator/fileupload2.directive';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { NRICValidator } from 'app/shared/validator/nric.directive';\r\nimport { Router } from '@angular/router';\r\nimport { IcCodeService } from 'app/ng-connect';\r\n\r\n@Component({\r\n  selector: 'n2-create-payroll',\r\n  templateUrl: './create-payroll.component.html',\r\n  styleUrls: ['./create-payroll.component.scss']\r\n})\r\n\r\nexport class CreatePayrollComponent implements OnInit {\r\n\r\n  // Dynamic Element Booleans\r\n  OTToggle: boolean;\r\n  FlyingAircrewToggle: boolean;\r\n\r\n  // Payroll Type(Category)\r\n  payroll_typeValues: any[];\r\n  selectedPayrollType: any;\r\n\r\n  // Payroll Description\r\n  payroll_descValues: any[];\r\n  selectedPayrollDesc: any;\r\n\r\n  // Search by Nric Form\r\n  searchNricForm: FormGroup = this.fb.group({\r\n    nric: new FormControl('', [Validators.required, Validators.pattern('^[STFG]\\\\d{7}[A-Z]$')]),\r\n  }, {\r\n  }\r\n  );\r\n\r\n  // Personal Particulars by NRIC\r\n  personalParticulars: ICreatePayrollRecord = {\r\n    nric: '',\r\n    rank: '',\r\n    name: '',\r\n    service: '',\r\n    gender: '',\r\n    cab: ''\r\n  };\r\n  displayParticulars = false;\r\n\r\n  // Create Payroll Form\r\n  createPayrollForm: FormGroup = this.fb.group({\r\n\r\n    payrollCategory: new FormControl(null, Validators.required),\r\n    payrollDescription: new FormControl(null, Validators.required),\r\n\r\n    trgStartDate: new FormControl(null, Validators.required),\r\n    trgStartTime: new FormControl(null, Validators.required),\r\n    trgEndDate: new FormControl(null, Validators.required),\r\n    trgEndTime: new FormControl(null, Validators.required),\r\n\r\n    servicePayAmt: new FormControl(0, [Validators.required, Validators.pattern('^[0-9]*$')]),\r\n    nsTopUpAmt: new FormControl(0, [Validators.required, Validators.pattern('^[0-9]*$')]),\r\n\r\n    remarks: new FormControl(\"\", [Validators.maxLength(2000)]),\r\n\r\n    amount: new FormControl(null, [Validators.required, Validators.pattern('^[0-9]*$')]),\r\n  }, {\r\n    validators: DateValidator.dateLessThan(\"trgStartDate\", \"trgEndDate\")\r\n  }\r\n  );\r\n\r\n  // Supporting Documents Upload Form\r\n  supportingDocsUploadForm: FormGroup = this.fb.group({\r\n    file: new FormControl([], [FileUploadValidator2.allowableExtension(\".pdf\")])\r\n  }, {});\r\n\r\n  @ViewChild(\"supportingDocsUpload\", { static: true })\r\n  private supportingDocsUpload!: FileUploadComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private toastService: CustomToastService,\r\n    private createPayrollService: CreatePayrollService,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private codeService: IcCodeService\r\n  ) {\r\n  }\r\n\r\n  // On initialisation\r\n  ngOnInit(): void {\r\n    console.log('ngOnInit');\r\n    this.OTToggle = false;\r\n    this.FlyingAircrewToggle = false;\r\n    this.loadDropDownPayrollType();\r\n  }\r\n\r\n  // Loads personal particulars data through GET request\r\n  loadData(): void {\r\n    console.log('loadData');\r\n\r\n    const nric = this.searchNricForm.get('nric').value as string;\r\n\r\n    setTimeout(() => {\r\n      this.createPayrollService.getPersonalParticularsByNric(nric).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          console.log(res);\r\n          // Write personal particulars retrieved from NRIC search\r\n          const data: ICreatePayrollRecord = res.body.data;\r\n          this.personalParticulars = data;\r\n          this.personalParticulars.cab = \"Y\";\r\n\r\n          this.displayParticulars = true;\r\n\r\n          console.log(this.personalParticulars);\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error);\r\n          // Clear existing personal particulars\r\n          this.toastService.error(error.error?.error_desc)\r\n          this.personalParticulars.nric = '';\r\n          this.personalParticulars.rank = '';\r\n          this.personalParticulars.name = '';\r\n          this.personalParticulars.service = '';\r\n          this.personalParticulars.gender = '';\r\n          this.personalParticulars.cab = '';\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n\r\n  // Load payroll category dropdown\r\n  loadDropDownPayrollType(): void {\r\n    console.log('loadDropDownPayrollType');\r\n    this.codeService.gets('PRL_PAYROLL_TYPE').subscribe((codes: any[]) => {\r\n      console.log(codes);\r\n      this.payroll_typeValues = codes[0];\r\n\r\n      console.log(this.selectedPayrollType.codeId);\r\n      // Load respective Payroll Category Description\r\n      if (this.selectedPayrollType.codeId === \"ATTENDANCE\") {\r\n        this.loadDropDownPayrollDesc('PRL_ATTD_CODE');\r\n      }\r\n      else if (this.selectedPayrollType.codeId === \"AWARDS\") {\r\n        this.loadDropDownPayrollDesc('PRL_AWD_CODE');\r\n      }\r\n      else if (this.selectedPayrollType.codeId === \"ALLOWANCES\") {\r\n        this.loadDropDownPayrollDesc('PRL_ALLW_CODE');\r\n      }\r\n    });\r\n  }\r\n\r\n  // onChange handler of payroll type dropdown menu \r\n  parsePayrollType($event: any): void {\r\n    console.log('parsePayrollType');\r\n\r\n    const caForm = this.createPayrollForm;\r\n    const dropdownVal = $event.value;\r\n    const payrollTypes = this.payroll_typeValues;\r\n\r\n    // Iterate through payroll type list\r\n    Object.keys(payrollTypes).forEach((key) => {\r\n      if (payrollTypes[Number(key)].codeId === dropdownVal) {\r\n        // Set selected payroll type & formcontrol payrollCategory to chosen value\r\n        console.log(\"Selected Payroll Type is \" + String(payrollTypes[Number(key)].codeId));\r\n\r\n        this.selectedPayrollType = payrollTypes[Number(key)];\r\n        caForm.controls['payrollCategory'].setValue(payrollTypes[Number(key)]);\r\n\r\n        this.resetStartEndTimes();\r\n        this.disableTimeByPayrollCategory(String(payrollTypes[Number(key)].codeId));\r\n      };\r\n    });\r\n\r\n    // Load respective Payroll Category Description\r\n    if (dropdownVal === \"ATTENDANCE\") {\r\n      this.loadDropDownPayrollDesc('PRL_ATTD_CODE');\r\n    }\r\n    else if (dropdownVal === \"AWARDS\") {\r\n      this.loadDropDownPayrollDesc('PRL_AWD_CODE');\r\n    }\r\n    else if (dropdownVal === \"ALLOWANCES\") {\r\n      this.loadDropDownPayrollDesc('PRL_ALLW_CODE');\r\n    }\r\n\r\n  }\r\n\r\n  // disable/enable time fields by payroll category\r\n  disableTimeByPayrollCategory(isPayroll: string): void {\r\n    console.log('disableTimeByPayrollCategory');\r\n    console.log(\"Chosen Payroll Category codeId is \" + isPayroll);\r\n    const payrollCategoryVal = this.createPayrollForm.get('payrollCategory').value.codeId;\r\n\r\n    if (payrollCategoryVal === \"ATTENDANCE\") {\r\n      this.createPayrollForm.get('trgStartTime').enable();\r\n      this.createPayrollForm.get('trgEndTime').enable();\r\n      console.log(\"Selected AWARDS:\" + String(payrollCategoryVal) + \"\\nEnabling Time inputs\");\r\n    }\r\n    else {\r\n      this.createPayrollForm.get('trgStartTime').disable();\r\n      this.createPayrollForm.get('trgEndTime').disable();\r\n      console.log(\"Selected AWARDS:\" + String(payrollCategoryVal) + \"\\nDisabling Time inputs\");\r\n    }\r\n  }\r\n\r\n  // Reset start and end time p-calendar inputs\r\n  resetStartEndTimes(): void {\r\n    console.log('resetStartEndTimes');\r\n    const caForm = this.createPayrollForm;\r\n    const zeroTime = new Date();\r\n    zeroTime.setHours(0, 0, 0, 0);\r\n\r\n    if (this.createPayrollForm.get('trgStartTime') !== null) {\r\n      caForm.controls['trgStartTime'].setValue(zeroTime);\r\n    }\r\n    if (this.createPayrollForm.get('trgEndTime') !== null) {\r\n      caForm.controls['trgEndTime'].setValue(zeroTime);\r\n    }\r\n  }\r\n\r\n  // Toggle variable to toggle display of other training inputs\r\n  toggleWarnings(): void {\r\n    console.log('toggleWarnings');\r\n    const caForm = this.createPayrollForm;\r\n\r\n    if (caForm.get('payrollDescription').value.codeId === \"10\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\r\n      this.FlyingAircrewToggle = true;\r\n    }\r\n    else if (caForm.get('payrollDescription').value.codeId === \"11\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\r\n      this.FlyingAircrewToggle = true;\r\n    }\r\n    else {\r\n      this.FlyingAircrewToggle = false;\r\n    }\r\n    console.log(this.FlyingAircrewToggle);\r\n  }\r\n\r\n  // Toggle variable to toggle display of other training inputs\r\n  toggleOtherTrainingInputs(): void {\r\n    console.log('toggleOtherTrainingInputs');\r\n    const caForm = this.createPayrollForm;\r\n\r\n    caForm.controls['amount'].setValue(null);\r\n    caForm.controls['servicePayAmt'].setValue(0);\r\n    caForm.controls['nsTopUpAmt'].setValue(0);\r\n\r\n    caForm.controls['amount'].markAsPristine();\r\n    caForm.controls['servicePayAmt'].markAsPristine();\r\n    caForm.controls['nsTopUpAmt'].markAsPristine();\r\n\r\n    if (caForm.get('payrollDescription').value.codeId === \"12\" && caForm.get('payrollDescription').value.codetypeId === \"PRL_ALLW_CODE\") {\r\n      this.OTToggle = true;\r\n    }\r\n    else {\r\n      this.OTToggle = false;\r\n    }\r\n    console.log(this.OTToggle);\r\n  }\r\n\r\n  // Compute final amount payable\r\n  computeAmountPayable(): void {\r\n    console.log('computeAmountPayable');\r\n\r\n    const caForm = this.createPayrollForm;\r\n    console.log(caForm.get('servicePayAmt').value);\r\n    console.log(caForm.get('nsTopUpAmt').value);\r\n\r\n    const svcPayable = caForm.get('servicePayAmt').value as number;\r\n    const nsPayable = caForm.get('nsTopUpAmt').value as number;\r\n\r\n    const amtPayable = svcPayable + nsPayable;\r\n    console.log(amtPayable);\r\n    caForm.controls['amount'].setValue(amtPayable);\r\n  }\r\n\r\n  // on change handler for setting of drop down menu selected value\r\n  parsePayrollDescription($event: any): void {\r\n    console.log('parsePayrollDescription');\r\n\r\n    const caForm = this.createPayrollForm;\r\n    const dropdownVal = $event.value;\r\n    const payrollDescs = this.payroll_descValues;\r\n\r\n    // iterate through payroll description list\r\n    Object.keys(payrollDescs).forEach((key) => {\r\n      if (payrollDescs[Number(key)].codeId === dropdownVal) {\r\n        console.log(\"Selected Payroll Description is \" + String(payrollDescs[Number(key)].codeId));\r\n\r\n        this.selectedPayrollDesc = payrollDescs[Number(key)];\r\n        caForm.controls['payrollDescription'].setValue(payrollDescs[Number(key)]);\r\n\r\n        console.log(caForm.get('payrollCategory').value);\r\n        console.log(caForm.get('payrollDescription').value);\r\n\r\n        this.toggleOtherTrainingInputs();\r\n        this.toggleWarnings();\r\n      };\r\n    });\r\n  }\r\n\r\n  // fill payroll description drop down menu respectively\r\n  loadDropDownPayrollDesc(desc: string): void {\r\n    console.log('loadDropDownPayrollDesc');\r\n    console.log(\"Chosen Payroll Category is \" + desc);\r\n    this.codeService.gets(desc).subscribe((codes: any[]) => {\r\n      this.payroll_descValues = codes[0];\r\n    });\r\n  }\r\n\r\n  // onChange handler of change in start date to autofill end date\r\n  changeTrgStartDate(): void {\r\n    console.log('changeTrgStartDate');\r\n\r\n    const caForm = this.createPayrollForm;\r\n    caForm.controls['trgStartDate'].setValue(new Date(caForm.get('trgStartDate').value));\r\n    caForm.controls['trgStartTime'].setValue(new Date(caForm.get('trgStartDate').value));\r\n    caForm.controls['trgEndDate'].setValue(new Date(caForm.get('trgStartDate').value));\r\n    caForm.controls['trgEndTime'].setValue(new Date(caForm.get('trgStartDate').value));\r\n  }\r\n\r\n\r\n  // confirmation function to approve actual submission of form\r\n  onApprove(event: Event, key: string): void {\r\n    console.log('onApprove');\r\n\r\n    this.nspConfirmService.onConfirmPopup(event, key, null, () => {\r\n      this.submit();\r\n    })\r\n  }\r\n\r\n  // submission of form function\r\n  submit(): void {\r\n    console.log('submit');\r\n    const fileTxnId = this.supportingDocsUpload.verifiedFiles.map(x => String(x.meta_data.id));\r\n    const caForm = this.createPayrollForm;\r\n\r\n    const startISODT = this.dateTimeISOSplicer(caForm.get('trgStartDate').value, caForm.get('trgStartTime').value);\r\n    const endISODT = this.dateTimeISOSplicer(caForm.get('trgEndDate').value, caForm.get('trgEndTime').value);\r\n\r\n    const request = {\r\n      nric: this.personalParticulars.nric,\r\n      payrollType: this.createPayrollForm.get('payrollCategory').value.codeId as string,\r\n      payrollDesc: this.createPayrollForm.get('payrollDescription').value.codeId as string,\r\n      trgStartDt: startISODT,\r\n      trgEndDt: endISODT,\r\n      payableAmt: this.createPayrollForm.get('amount').value as number,\r\n      servicePayAmt: null as number,\r\n      nsTopUpAmt: null as number,\r\n      remarks: this.createPayrollForm.get('remarks').value as string,\r\n      supportingDocs: fileTxnId\r\n    }\r\n\r\n    if (this.OTToggle) {\r\n      request.servicePayAmt = this.createPayrollForm.get('servicePayAmt').value as number;\r\n      request.nsTopUpAmt = this.createPayrollForm.get('nsTopUpAmt').value as number;\r\n    }\r\n\r\n    console.log(request);\r\n\r\n    setTimeout(() => {\r\n      if (this.createPayrollForm.get('amount').value >= 500 || this.createPayrollForm.get('amount').value <= 0) {\r\n        this.toastService.error(\"Unsuccessful invalid payroll amount (PRL-E002)\");\r\n      }\r\n      else {\r\n        this.createPayrollService.postCreatePayrollRequest(request).subscribe(\r\n          (res: HttpResponse<any>) => {\r\n            console.log(res);\r\n            this.toastService.success(\"Successfully created Payroll Record\");\r\n          },\r\n          (error: HttpErrorResponse) => {\r\n            console.log(error);\r\n            this.toastService.error(error.error.error_desc);\r\n          }\r\n        );\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  // ----------  UTILS ---------- //\r\n\r\n  // splices 2 datetime objects together and converts to ISO String\r\n  dateTimeISOSplicer(dt: any, tm: any): string {\r\n    console.log('dateTimeISOSplicer');\r\n    console.log(dt);\r\n    console.log(tm);\r\n\r\n    const newDate = new Date(dt);\r\n    let timeString = [];\r\n    if (this.createPayrollForm.get('trgStartTime').pristine && this.createPayrollForm.get(\"trgEndTime\").pristine) {\r\n      newDate.setHours(0, 0, 0, 0);\r\n    } else {\r\n      timeString = tm.split(\":\");\r\n      newDate.setHours(Number(timeString[0]), Number(timeString[1]), 0, 0);\r\n    }\r\n\r\n\r\n\r\n    const splicedISODT = newDate.toISOString();\r\n    console.log(\"Spliced DT as ISO String: \" + splicedISODT);\r\n    return splicedISODT;\r\n  }\r\n\r\n  // change input fields custom invalid UI\r\n  checkInputField(inputField: string): string {\r\n    let customClass = '';\r\n    const caForm = this.createPayrollForm\r\n\r\n    // const startDate = caForm.get('trgStartDate');\r\n    const endDate = caForm.get('trgEndDate');\r\n    // const startTime = caForm.get('trgStartTime');\r\n    // const endTime = caForm.get('trgEndTime');\r\n\r\n    const amount = caForm.get('amount');\r\n    if (inputField === 'trgEndDate') {\r\n      if (caForm.errors?.['invalidDateLessThanOrEquals'] && endDate.dirty) {\r\n        customClass = 'ng-invalid ng-dirty'\r\n      }\r\n    }\r\n    // if (inputField === 'trgStartDate') {\r\n    //   if (startDate.hasError('required') && startDate.touched) {\r\n    //     customClass = 'ng-invalid ng-dirty'\r\n    //   }\r\n    // } \r\n    // else if (inputField === 'trgEndDate') {\r\n    //   if ((endDate.hasError('required') && endDate.touched) || (caForm.errors?.['invalidDateLessThanOrEquals'] && endDate.dirty)) {\r\n    //     customClass = 'ng-invalid ng-dirty'\r\n    //   }\r\n    // } \r\n    // else if (inputField === 'trgStartTime') {\r\n    //   if (startTime.hasError('required') && startTime.touched) {\r\n    //     customClass = 'ng-invalid ng-dirty'\r\n    //   }\r\n    // } \r\n    // else if (inputField === 'trgEndTime') {\r\n    //   if (endTime.hasError('required') && endTime.touched) {\r\n    //     customClass = 'ng-invalid ng-dirty'\r\n    //   }\r\n    // }\r\n    // else if (inputField === 'amount') {\r\n    //   if (amount.hasError('required') && amount.touched) {\r\n    //     customClass = 'ng-invalid ng-dirty'\r\n    //   }\r\n    // }\r\n    return customClass;\r\n  }\r\n}\r\n","<div class=\"grid\">\r\n\r\n    <div class=\"col-12\">\r\n        <p-panel header='Search'>\r\n            <form [formGroup]=\"searchNricForm\">\r\n                <div class=\"formgroup-inline\">\r\n                    <div class=\"field\">\r\n                        <label class='search-label' for=\"nric\">NRIC</label>\r\n                        <input type=\"text\" id=\"nric\" formControlName=\"nric\" pInputText />\r\n                        <br />\r\n                        <span class=\"p-error\"\r\n                            *ngIf=\"searchNricForm.get('nric')?.hasError('required') && searchNricForm.get('nric')?.dirty\"\r\n                            icTranslate=\"nspay2App.payroll.validation.empty\" style=\"padding-left: 48px;\"></span>\r\n                        <span class=\"p-error\"\r\n                            *ngIf=\"searchNricForm.get('nric')?.hasError('pattern') && searchNricForm.get('nric')?.dirty\"\r\n                            icTranslate=\"nspay2App.payroll.validation.nricFormat\" style=\"padding-left: 48px;\"></span>\r\n                    </div>\r\n                    <button pButton label='Insert new payroll' [disabled]=\"(!searchNricForm.valid)\"\r\n                        (click)='loadData()'></button>\r\n                </div>\r\n            </form>\r\n        </p-panel>\r\n    </div>\r\n\r\n    <div class=\"col-12\">\r\n        <p-panel header='Personal Particulars'>\r\n            <span class=\"text-blue-500 font-semibold inline-block text-center mr-3\"\r\n                style=\"font-size:35px\">{{personalParticulars.nric}}</span>\r\n            <span class=\"text-blue-500 font-semibold inline-block text-center mr-3\"\r\n                style=\"font-size:35px\">{{personalParticulars.rank}}</span>\r\n            <span class=\"text-blue-500 font-semibold inline-block text-center mr-3\"\r\n                style=\"font-size:35px\">{{personalParticulars.name}}</span>\r\n            <span class=\"font-medium inline-block text-center\"\r\n                style=\"font-size:18px;\">{{personalParticulars.service}}</span>\r\n            <span class=\"font-medium inline-block text-center mr-3\" style=\"font-size:18px;\"\r\n                *ngIf=\"personalParticulars.gender!==''\">({{personalParticulars.gender}})</span>\r\n            <span class=\"font-medium inline-block text-center \" style=\"font-size:18px;\"\r\n                *ngIf=\"personalParticulars.cab!==''\">CAB:\r\n                <span class=\"mr-1\">\r\n                    <a [routerLink]=\"\">{{personalParticulars.cab}}</a>\r\n                </span>\r\n            </span>\r\n        </p-panel>\r\n    </div>\r\n\r\n    <div class=\"col-8\">\r\n        <div class=\"grid\">\r\n            <form [formGroup]=\"createPayrollForm\">\r\n\r\n                <div class=\"container\" style=\"padding-left: 8px; padding-right: 0px\">\r\n                    <div class=\"row\" style=\"margin:auto\">\r\n                        <div class=\"col col-header col-4\">\r\n                            <span>Payroll Category</span>\r\n                        </div>\r\n                        <div class=\"col col-header col-8\">\r\n                            <span>Payroll Description</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\" style=\"margin:auto\">\r\n                        <div class=\"col col-content col-4\">\r\n                            <p-dropdown [options]='payroll_typeValues' placeholder=\"Select a Payroll Category\"\r\n                                optionLabel=\"label.en-US\" optionValue=\"codeId\" autoWidth=\"false\"\r\n                                [style]=\"{'width':'100%'}\" (onChange)=\"parsePayrollType($event)\"></p-dropdown>\r\n                        </div>\r\n                        <div class=\"col col-content col-8\">\r\n                            <p-dropdown [options]='payroll_descValues' placeholder=\"Select a Payroll Description\"\r\n                                optionLabel=\"label.en-US\" optionValue=\"codeId\" autoWidth=\"false\"\r\n                                [style]=\"{'width':'100%'}\" (onChange)=\"parsePayrollDescription($event)\"></p-dropdown>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-offset-4 col-8\" style=\"padding-left: 28px; padding-right: 22px\">\r\n                    <p-messages severity=\"warn\" *ngIf=\"FlyingAircrewToggle\">\r\n                        <ng-template pTemplate=''>\r\n                            <i class=\"pi pi-exclamation-triangle\" style=\"font-size: 2rem\"></i>\r\n                            <span>Warning</span>\r\n                            <div class=\"ml-2\">\r\n                                Overlapping Attendance with Vocation Allowance will be nullified\r\n                            </div>\r\n                        </ng-template>\r\n                    </p-messages>\r\n                </div>\r\n\r\n                <div class=\"container\" style=\"padding-left: 0px; padding-right: 0px\">\r\n                    <div class=\"row\" style=\"margin:auto\">\r\n                        <div class=\"col col-header col-3\">\r\n                            <span>Trg Start Date</span>\r\n                        </div>\r\n                        <div class=\"col col-header col-2\">\r\n                            <span>Trg Start Time</span>\r\n                        </div>\r\n                        <div class=\"col col-header col-3\">\r\n                            <span>Trg End Date</span>\r\n                        </div>\r\n                        <div class=\"col col-header col-2\">\r\n                            <span>Trg End Time</span>\r\n                        </div>\r\n                        <div class=\"col col-header col-2\">\r\n                            <span>Amount</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\" style=\"margin:auto\">\r\n                        <div class=\"col col-content col-3\">\r\n                            <p-calendar id=\"trgStartDate\" formControlName=\"trgStartDate\" dateFormat=\"dd-mm-yy\"\r\n                                styleClass=\"dateTimeField\" (onSelect)=\"changeTrgStartDate()\" [readonlyInput]=\"true\"\r\n                                style=\"width:100%\"></p-calendar>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('trgStartDate')?.hasError('required') && createPayrollForm.get('trgStartDate')?.dirty\"\r\n                                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                        </div>\r\n                        <div class=\"col col-content col-2\">\r\n                            <p-calendar id=\"trgStartTime\" formControlName=\"trgStartTime\" dateFormat=\"dd-mm-yy\"\r\n                                styleClass=\"dateTimeField\" [showTime]=\"true\" [timeOnly]=\"true\" dataType=\"string\"\r\n                                [readonlyInput]=\"true\" style=\"width:100%\"></p-calendar>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('trgStartTime')?.hasError('required') && createPayrollForm.get('trgStartTime')?.dirty\"\r\n                                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                        </div>\r\n                        <div class=\"col col-content col-3\">\r\n                            <!-- TODO: unable to get input field to turn red for invalidDateLessThan -->\r\n                            <p-calendar id=\"trgEndDate\" formControlName=\"trgEndDate\" dateFormat=\"dd-mm-yy\"\r\n                                styleClass=\"dateTimeField\" inputStyleClass=\"{{checkInputField('trgEndDate')}}\"\r\n                                [readonlyInput]=\"true\" style=\"width:100%\"></p-calendar><br>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('trgEndDate')?.hasError('required') && createPayrollForm.get('trgEndDate')?.dirty\"\r\n                                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.errors?.['invalidDateLessThan'] && createPayrollForm.get('trgEndDate')?.dirty\"\r\n                                icTranslate=\"nspay2App.payroll.validation.PRL-V006\" class=\"p-error\"></span>\r\n                        </div>\r\n                        <div class=\"col col-content col-2\">\r\n                            <p-calendar id=\"trgEndTime\" formControlName=\"trgEndTime\" dateFormat=\"dd-mm-yy\"\r\n                                styleClass=\"dateTimeField\" [showTime]=\"true\" [timeOnly]=\"true\" dataType=\"string\"\r\n                                [readonlyInput]=\"true\" style=\"width:100%\"></p-calendar>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('trgEndTime')?.hasError('required') && createPayrollForm.get('trgEndTime')?.dirty\"\r\n                                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                        </div>\r\n                        <div class=\"col col-content col-2\">\r\n                            <p-inputNumber id=\"amount\" formControlName=\"amount\" styleClass=\"full-width\"\r\n                                [style]=\"{'width':'100%'}\" [disabled]=\"OTToggle\" mode=\"decimal\"\r\n                                [maxFractionDigits]=\"2\"></p-inputNumber>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('amount')?.hasError('required') && createPayrollForm.get('amount')?.dirty\"\r\n                                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\">\\</span>\r\n                            <span\r\n                                *ngIf=\"createPayrollForm.get('amount')?.hasError('pattern') && createPayrollForm.get('amount')?.dirty\"\r\n                                icTranslate=\"nspay2App.payroll.validation.PRL-V009\" class=\"p-error\">\\</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-4 col-offset-8\" *ngIf=\"OTToggle\">\r\n                    <div class=\"container\" style=\"padding-left: 0px; padding-right: 0px\">\r\n                        <div class=\"row\" style=\"margin:auto;\">\r\n                            <div class=\"col col-header col-6\">\r\n                                <span>Component</span>\r\n                            </div>\r\n                            <div class=\"col col-header col-6\">\r\n                                <span>Amount</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\" style=\"margin:auto;\">\r\n                            <div class=\"col col-content col-6\">\r\n                                <span>Service Pay</span>\r\n                            </div>\r\n                            <div class=\"col col-content col-6\">\r\n                                <p-inputNumber id=\"servicePayAmt\" formControlName=\"servicePayAmt\"\r\n                                    styleClass=\"full-width\" [style]=\"{'width':'100%'}\" mode=\"decimal\"\r\n                                    [maxFractionDigits]=\"2\" (onBlur)=\"computeAmountPayable()\"></p-inputNumber>\r\n                                <span\r\n                                    *ngIf=\"createPayrollForm.get('servicePayAmt')?.hasError('required') && createPayrollForm.get('servicePayAmt')?.dirty\"\r\n                                    class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                                <span\r\n                                    *ngIf=\"createPayrollForm.get('servicePayAmt')?.hasError('pattern') && createPayrollForm.get('amount')?.dirty\"\r\n                                    icTranslate=\"nspay2App.payroll.validation.PRL-V009\" class=\"p-error\"></span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\" style=\"margin:auto;\">\r\n                            <div class=\"col col-content col-6\">\r\n                                <span>NS Top Up</span>\r\n                            </div>\r\n                            <div class=\"col col-content col-6\">\r\n                                <p-inputNumber id=\"nsTopUpAmt\" formControlName=\"nsTopUpAmt\" styleClass=\"full-width\"\r\n                                    [style]=\"{'width':'100%'}\" mode=\"decimal\" [maxFractionDigits]=\"2\"\r\n                                    (onBlur)=\"computeAmountPayable()\"></p-inputNumber>\r\n                                <span\r\n                                    *ngIf=\"createPayrollForm.get('nsTopUpAmt')?.hasError('required') && createPayrollForm.get('nsTopUpAmt')?.dirty\"\r\n                                    class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span>\r\n                                <span\r\n                                    *ngIf=\"createPayrollForm.get('nsTopUpAmt')?.hasError('pattern') && createPayrollForm.get('amount')?.dirty\"\r\n                                    icTranslate=\"nspay2App.payroll.validation.PRL-V009\" class=\"p-error\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"col-4\" style=\"padding-left: 10px; padding-right: 10px\">\r\n        <form [formGroup]=\"createPayrollForm\">\r\n            <span>Remarks</span>\r\n            <textarea type=\"text\" pInputText id=\"remarks\" formControlName=\"remarks\" rows=\"5\" maxlength=\"2000\"\r\n                class=\"w-full\"></textarea>\r\n            <!-- <span *ngIf=\"createPayrollForm.get('remarks')?.hasError('required') && createPayrollForm.get('remarks')?.dirty\" class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.empty\"></span> -->\r\n            <span\r\n                *ngIf=\"createPayrollForm.get('remarks')?.hasError('maxlength') && createPayrollForm.get('remarks')?.dirty\"\r\n                class=\"p-error\" icTranslate=\"nspay2App.payroll.validation.PRL-V001\"></span>\r\n        </form>\r\n        <form [formGroup]=\"supportingDocsUploadForm\">\r\n            <span>Supporting Documents</span>\r\n            <n2-file-upload [contentHeight]=\"'100px'\" #supportingDocsUpload styleClass=\"custombar2\"\r\n                formControlName=\"file\" id=\"file\"></n2-file-upload>\r\n        </form>\r\n        <div class=\"col-3 col-offset-9\">\r\n            <button pButton type=\"button\" label=\"Submit\"\r\n                [disabled]=\"(!createPayrollForm.valid || !supportingDocsUploadForm.valid)\"\r\n                (click)=\"onApprove($event, 'createPayrollSubmit')\" style=\"float: right;\"></button>\r\n            <p-confirmPopup key='createPayrollSubmit'></p-confirmPopup>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"script","externalDependencies":[]}