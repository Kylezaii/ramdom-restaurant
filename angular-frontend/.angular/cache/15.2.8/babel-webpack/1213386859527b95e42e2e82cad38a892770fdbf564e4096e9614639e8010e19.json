{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JvmThreadsComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst metrics_modal_threads_component_1 = require(\"../metrics-modal-threads/metrics-modal-threads.component\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@ng-bootstrap/ng-bootstrap\"));\nconst i2 = tslib_1.__importStar(require(\"../../../../shared/language/translate.directive\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/common\"));\nclass JvmThreadsComponent {\n  set threads(threads) {\n    this._threads = threads;\n    threads?.forEach(thread => {\n      if (thread.threadState === 'RUNNABLE') {\n        this.threadStats.threadDumpRunnable += 1;\n      } else if (thread.threadState === 'WAITING') {\n        this.threadStats.threadDumpWaiting += 1;\n      } else if (thread.threadState === 'TIMED_WAITING') {\n        this.threadStats.threadDumpTimedWaiting += 1;\n      } else if (thread.threadState === 'BLOCKED') {\n        this.threadStats.threadDumpBlocked += 1;\n      }\n    });\n    this.threadStats.threadDumpAll = this.threadStats.threadDumpRunnable + this.threadStats.threadDumpWaiting + this.threadStats.threadDumpTimedWaiting + this.threadStats.threadDumpBlocked;\n  }\n  get threads() {\n    return this._threads;\n  }\n  constructor(modalService) {\n    this.modalService = modalService;\n    this.threadStats = {\n      threadDumpAll: 0,\n      threadDumpRunnable: 0,\n      threadDumpTimedWaiting: 0,\n      threadDumpWaiting: 0,\n      threadDumpBlocked: 0\n    };\n  }\n  open() {\n    const modalRef = this.modalService.open(metrics_modal_threads_component_1.MetricsModalThreadsComponent);\n    modalRef.componentInstance.threads = this.threads;\n  }\n}\nexports.JvmThreadsComponent = JvmThreadsComponent;\nJvmThreadsComponent.ɵfac = function JvmThreadsComponent_Factory(t) {\n  return new (t || JvmThreadsComponent)(i0.ɵɵdirectiveInject(i1.NgbModal));\n};\nJvmThreadsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JvmThreadsComponent,\n  selectors: [[\"ic-jvm-threads\"]],\n  inputs: {\n    threads: \"threads\"\n  },\n  decls: 60,\n  vars: 37,\n  consts: [[\"icTranslate\", \"metrics.jvm.threads.title\"], [\"icTranslate\", \"metrics.jvm.threads.runnable\"], [\"type\", \"success\", 3, \"value\", \"max\", \"striped\", \"animated\"], [\"icTranslate\", \"metrics.jvm.threads.timedwaiting\"], [\"type\", \"warning\", 3, \"value\", \"max\", \"striped\", \"animated\"], [\"icTranslate\", \"metrics.jvm.threads.waiting\"], [\"icTranslate\", \"metrics.jvm.threads.blocked\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#threadDump\", 1, \"hand\", \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"]],\n  template: function JvmThreadsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h4\", 0);\n      i0.ɵɵtext(1, \"Threads\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\n\\n\");\n      i0.ɵɵelementStart(3, \"span\")(4, \"span\", 1);\n      i0.ɵɵtext(5, \"Runnable\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\\n\");\n      i0.ɵɵelementStart(8, \"ngb-progressbar\", 2);\n      i0.ɵɵtext(9, \"\\n  \");\n      i0.ɵɵelementStart(10, \"span\");\n      i0.ɵɵtext(11);\n      i0.ɵɵpipe(12, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\\n\");\n      i0.ɵɵelementStart(15, \"span\")(16, \"span\", 3);\n      i0.ɵɵtext(17, \"Timed Waiting\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n\\n\");\n      i0.ɵɵelementStart(20, \"ngb-progressbar\", 4);\n      i0.ɵɵtext(21, \"\\n  \");\n      i0.ɵɵelementStart(22, \"span\");\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n\\n\");\n      i0.ɵɵelementStart(27, \"span\")(28, \"span\", 5);\n      i0.ɵɵtext(29, \"Waiting\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n\\n\");\n      i0.ɵɵelementStart(32, \"ngb-progressbar\", 4);\n      i0.ɵɵtext(33, \"\\n  \");\n      i0.ɵɵelementStart(34, \"span\");\n      i0.ɵɵtext(35);\n      i0.ɵɵpipe(36, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n\\n\");\n      i0.ɵɵelementStart(39, \"span\")(40, \"span\", 6);\n      i0.ɵɵtext(41, \"Blocked\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(43, \"\\n\\n\");\n      i0.ɵɵelementStart(44, \"ngb-progressbar\", 2);\n      i0.ɵɵtext(45, \"\\n  \");\n      i0.ɵɵelementStart(46, \"span\");\n      i0.ɵɵtext(47);\n      i0.ɵɵpipe(48, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(49, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \"\\n\\n\");\n      i0.ɵɵelementStart(51, \"div\");\n      i0.ɵɵtext(52);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n\\n\");\n      i0.ɵɵelementStart(54, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function JvmThreadsComponent_Template_button_click_54_listener() {\n        return ctx.open();\n      });\n      i0.ɵɵtext(55, \"\\n  \");\n      i0.ɵɵelementStart(56, \"span\");\n      i0.ɵɵtext(57, \"Expand\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.threadStats.threadDumpRunnable, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.threadStats.threadDumpRunnable)(\"max\", ctx.threadStats.threadDumpAll)(\"striped\", true)(\"animated\", false);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(12, 25, ctx.threadStats.threadDumpRunnable * 100 / ctx.threadStats.threadDumpAll, \"1.0-0\"), \"%\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" (\", ctx.threadStats.threadDumpTimedWaiting, \")\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.threadStats.threadDumpTimedWaiting)(\"max\", ctx.threadStats.threadDumpAll)(\"striped\", true)(\"animated\", false);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(24, 28, ctx.threadStats.threadDumpTimedWaiting * 100 / ctx.threadStats.threadDumpAll, \"1.0-0\"), \"%\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" (\", ctx.threadStats.threadDumpWaiting, \")\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.threadStats.threadDumpWaiting)(\"max\", ctx.threadStats.threadDumpAll)(\"striped\", true)(\"animated\", false);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(36, 31, ctx.threadStats.threadDumpWaiting * 100 / ctx.threadStats.threadDumpAll, \"1.0-0\"), \"%\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" (\", ctx.threadStats.threadDumpBlocked, \")\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.threadStats.threadDumpBlocked)(\"max\", ctx.threadStats.threadDumpAll)(\"striped\", true)(\"animated\", false);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(48, 34, ctx.threadStats.threadDumpBlocked * 100 / ctx.threadStats.threadDumpAll, \"1.0-0\"), \"%\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"Total: \", ctx.threadStats.threadDumpAll, \"\");\n    }\n  },\n  dependencies: [i1.NgbProgressbar, i2.TranslateDirective, i3.DecimalPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["JvmThreadsComponent","threads","_threads","forEach","thread","threadState","threadStats","threadDumpRunnable","threadDumpWaiting","threadDumpTimedWaiting","threadDumpBlocked","threadDumpAll","constructor","modalService","open","modalRef","metrics_modal_threads_component_1","componentInstance","exports","selectors","inputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\metrics\\blocks\\jvm-threads\\jvm-threads.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\metrics\\blocks\\jvm-threads\\jvm-threads.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { Thread } from 'app/admin/metrics/metrics.model';\r\nimport { MetricsModalThreadsComponent } from '../metrics-modal-threads/metrics-modal-threads.component';\r\n\r\n@Component({\r\n  selector: 'ic-jvm-threads',\r\n  templateUrl: './jvm-threads.component.html',\r\n})\r\nexport class JvmThreadsComponent {\r\n  threadStats = {\r\n    threadDumpAll: 0,\r\n    threadDumpRunnable: 0,\r\n    threadDumpTimedWaiting: 0,\r\n    threadDumpWaiting: 0,\r\n    threadDumpBlocked: 0,\r\n  };\r\n\r\n  @Input()\r\n  set threads(threads: Thread[] | undefined) {\r\n    this._threads = threads;\r\n\r\n    threads?.forEach(thread => {\r\n      if (thread.threadState === 'RUNNABLE') {\r\n        this.threadStats.threadDumpRunnable += 1;\r\n      } else if (thread.threadState === 'WAITING') {\r\n        this.threadStats.threadDumpWaiting += 1;\r\n      } else if (thread.threadState === 'TIMED_WAITING') {\r\n        this.threadStats.threadDumpTimedWaiting += 1;\r\n      } else if (thread.threadState === 'BLOCKED') {\r\n        this.threadStats.threadDumpBlocked += 1;\r\n      }\r\n    });\r\n\r\n    this.threadStats.threadDumpAll =\r\n      this.threadStats.threadDumpRunnable +\r\n      this.threadStats.threadDumpWaiting +\r\n      this.threadStats.threadDumpTimedWaiting +\r\n      this.threadStats.threadDumpBlocked;\r\n  }\r\n\r\n  get threads(): Thread[] | undefined {\r\n    return this._threads;\r\n  }\r\n\r\n  private _threads: Thread[] | undefined;\r\n\r\n  constructor(private modalService: NgbModal) {}\r\n\r\n  open(): void {\r\n    const modalRef = this.modalService.open(MetricsModalThreadsComponent);\r\n    modalRef.componentInstance.threads = this.threads;\r\n  }\r\n}\r\n","<h4 icTranslate=\"metrics.jvm.threads.title\">Threads</h4>\r\n\r\n<span><span icTranslate=\"metrics.jvm.threads.runnable\">Runnable</span> {{ threadStats.threadDumpRunnable }}</span>\r\n\r\n<ngb-progressbar\r\n  [value]=\"threadStats.threadDumpRunnable\"\r\n  [max]=\"threadStats.threadDumpAll\"\r\n  [striped]=\"true\"\r\n  [animated]=\"false\"\r\n  type=\"success\"\r\n>\r\n  <span>{{ (threadStats.threadDumpRunnable * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\r\n</ngb-progressbar>\r\n\r\n<span><span icTranslate=\"metrics.jvm.threads.timedwaiting\">Timed Waiting</span> ({{ threadStats.threadDumpTimedWaiting }})</span>\r\n\r\n<ngb-progressbar\r\n  [value]=\"threadStats.threadDumpTimedWaiting\"\r\n  [max]=\"threadStats.threadDumpAll\"\r\n  [striped]=\"true\"\r\n  [animated]=\"false\"\r\n  type=\"warning\"\r\n>\r\n  <span>{{ (threadStats.threadDumpTimedWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\r\n</ngb-progressbar>\r\n\r\n<span><span icTranslate=\"metrics.jvm.threads.waiting\">Waiting</span> ({{ threadStats.threadDumpWaiting }})</span>\r\n\r\n<ngb-progressbar\r\n  [value]=\"threadStats.threadDumpWaiting\"\r\n  [max]=\"threadStats.threadDumpAll\"\r\n  [striped]=\"true\"\r\n  [animated]=\"false\"\r\n  type=\"warning\"\r\n>\r\n  <span>{{ (threadStats.threadDumpWaiting * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\r\n</ngb-progressbar>\r\n\r\n<span><span icTranslate=\"metrics.jvm.threads.blocked\">Blocked</span> ({{ threadStats.threadDumpBlocked }})</span>\r\n\r\n<ngb-progressbar\r\n  [value]=\"threadStats.threadDumpBlocked\"\r\n  [max]=\"threadStats.threadDumpAll\"\r\n  [striped]=\"true\"\r\n  [animated]=\"false\"\r\n  type=\"success\"\r\n>\r\n  <span>{{ (threadStats.threadDumpBlocked * 100) / threadStats.threadDumpAll | number: '1.0-0' }}%</span>\r\n</ngb-progressbar>\r\n\r\n<div>Total: {{ threadStats.threadDumpAll }}</div>\r\n\r\n<button class=\"hand btn btn-primary btn-sm\" (click)=\"open()\" data-bs-toggle=\"modal\" data-bs-target=\"#threadDump\">\r\n  <span>Expand</span>\r\n</button>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}