{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewLatestOwnerEcComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst http_1 = require(\"@angular/common/http\");\nconst common_1 = require(\"@angular/common\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i2 = tslib_1.__importStar(require(\"app/claim/ec-claim/service/ec-claim.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nfunction ViewLatestOwnerEcComponent_ng_template_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"th\", 8);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"p-button\", 9);\n    i0.ɵɵlistener(\"click\", function ViewLatestOwnerEcComponent_ng_template_53_Template_p_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(51);\n      return i0.ɵɵresetView(ctx_r4.exportToCsv(_r0));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n    \");\n    i0.ɵɵelementStart(9, \"tr\");\n    i0.ɵɵtext(10, \"\\n      \");\n    i0.ɵɵelementStart(11, \"th\", 10);\n    i0.ɵɵtext(12, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n      \");\n    i0.ɵɵelementStart(14, \"th\", 11);\n    i0.ɵɵtext(15, \"\\n        Item \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 12);\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n      \");\n    i0.ɵɵelementStart(19, \"th\", 13);\n    i0.ɵɵtext(20, \"\\n        Data Entry \");\n    i0.ɵɵelement(21, \"p-sortIcon\", 14);\n    i0.ɵɵtext(22, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n      \");\n    i0.ɵɵelementStart(24, \"th\", 15);\n    i0.ɵɵtext(25, \"\\n        Verifier \");\n    i0.ɵɵelement(26, \"p-sortIcon\", 16);\n    i0.ɵɵtext(27, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n      \");\n    i0.ɵɵelementStart(29, \"th\", 17);\n    i0.ɵɵtext(30, \"\\n        Approver \");\n    i0.ɵɵelement(31, \"p-sortIcon\", 18);\n    i0.ɵɵtext(32, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n  \");\n  }\n}\nfunction ViewLatestOwnerEcComponent_ng_template_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n      \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n      \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n        \");\n    i0.ɵɵelementStart(14, \"div\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n      \");\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19, \"\\n        \");\n    i0.ɵɵelementStart(20, \"div\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n        \");\n    i0.ɵɵelementStart(23, \"div\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n      \");\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵtext(28, \"\\n        \");\n    i0.ɵɵelementStart(29, \"div\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n        \");\n    i0.ɵɵelementStart(32, \"div\");\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n  \");\n  }\n  if (rf & 2) {\n    const itemOwner_r6 = ctx.$implicit;\n    const rowIndex_r7 = ctx.rowIndex;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(rowIndex_r7 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\n        \", itemOwner_r6.itemName, \"\\n      \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(itemOwner_r6.dataEntryName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.dateUtilsService.convertUnixToDateString(itemOwner_r6.dataEntryDt, \"DD-MM-YYYY\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(itemOwner_r6.verifierName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.dateUtilsService.convertUnixToDateString(itemOwner_r6.verifierDt, \"DD-MM-YYYY\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(itemOwner_r6.firstApproverName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.dateUtilsService.convertUnixToDateString(itemOwner_r6.firstApproverDt, \"DD-MM-YYYY\"), \"\");\n  }\n}\nfunction ViewLatestOwnerEcComponent_ng_template_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"\\n              \");\n    i0.ɵɵelement(7, \"i\", 19);\n    i0.ɵɵtext(8, \"\\n              No records found.\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n  \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"colspan\", 5);\n  }\n}\nclass ViewLatestOwnerEcComponent {\n  constructor(route, ecClaimService, dateUtilsService, exportUtilsService, localeId) {\n    this.route = route;\n    this.ecClaimService = ecClaimService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.localeId = localeId;\n    console.log(\"test\");\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.params = params;\n      let httpParams = new http_1.HttpParams();\n      httpParams = httpParams.append(\"claimId\", this.params.claimId);\n      this.ecClaimService.retrieveLatestOwners(httpParams).subscribe(res => {\n        if (res.data) {\n          this.latestClaimOwner = res.data;\n        }\n      });\n    });\n  }\n  exportToCsv(dataTable) {\n    const columns = [{\n      field: 'sn',\n      header: 'SN',\n      index: 0\n    }, {\n      field: 'itemName',\n      header: 'Item',\n      index: 1\n    }, {\n      field: 'dataEntry',\n      header: 'Data Entry',\n      index: 2\n    }, {\n      field: 'verifier',\n      header: 'Verifier',\n      index: 3\n    }, {\n      field: 'firstApprover',\n      header: 'Approver 1',\n      index: 4\n    }];\n    const dtoList = [];\n    this.latestClaimOwner.latestItemOwnerList.forEach((latestItemOwner, index) => {\n      dtoList.push({\n        sn: index + 1,\n        itemName: latestItemOwner.itemName,\n        dataEntry: latestItemOwner.dataEntryName,\n        verifier: latestItemOwner.verifierName,\n        firstApprover: latestItemOwner.firstApproverName\n      });\n      dtoList.push({\n        sn: '',\n        itemName: '',\n        dataEntry: this.dateUtilsService.convertUnixToDateString(latestItemOwner.dataEntryDt, \"DD-MM-YYYY\"),\n        verifier: this.dateUtilsService.convertUnixToDateString(latestItemOwner.verifierDt, \"DD-MM-YYYY\"),\n        firstApprover: this.dateUtilsService.convertUnixToDateString(latestItemOwner.firstApproverDt, \"DD-MM-YYYY\")\n      });\n    });\n    this.exportUtilsService.exportCSV(dataTable, dtoList, this.latestClaimOwner.latestItemOwnerList.length * 2, columns, \"latest_owner_data_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n  }\n}\nexports.ViewLatestOwnerEcComponent = ViewLatestOwnerEcComponent;\nViewLatestOwnerEcComponent.ɵfac = function ViewLatestOwnerEcComponent_Factory(t) {\n  return new (t || ViewLatestOwnerEcComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ECClaimService), i0.ɵɵdirectiveInject(i3.DateUtilsService), i0.ɵɵdirectiveInject(i4.ExportUtilsService), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nViewLatestOwnerEcComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewLatestOwnerEcComponent,\n  selectors: [[\"n2-view-latest-owner-ec\"]],\n  decls: 60,\n  vars: 6,\n  consts: [[1, \"field\", \"grid\"], [1, \"col-1\"], [1, \"col-2\"], [\"styleClass\", \"p-datatable-gridlines p-datatable-striped\", 3, \"value\"], [\"dt\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"scope\", \"colgroup\", \"colspan\", \"5\"], [\"icon\", \"pi pi-file-o\", 3, \"click\"], [\"scope\", \"col\"], [\"scope\", \"col\", \"pSortableColumn\", \"itemName\"], [\"field\", \"itemName\"], [\"scope\", \"col\", \"pSortableColumn\", \"dataEntryDt\"], [\"field\", \"dataEntryDt\"], [\"scope\", \"col\", \"pSortableColumn\", \"verifierDt\"], [\"field\", \"verifierDt\"], [\"scope\", \"col\", \"pSortableColumn\", \"firstApproverDt\"], [\"field\", \"firstApproverDt\"], [1, \"pi\", \"pi-info-circle\"]],\n  template: function ViewLatestOwnerEcComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n    NRIC:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n  \");\n      i0.ɵɵelementStart(5, \"div\", 2);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n  \");\n      i0.ɵɵelementStart(8, \"div\", 1);\n      i0.ɵɵtext(9, \"\\n    Name:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementStart(11, \"div\", 2);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n  \");\n      i0.ɵɵelementStart(14, \"div\", 1);\n      i0.ɵɵtext(15, \"\\n    Case ID:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \"\\n  \");\n      i0.ɵɵelementStart(17, \"div\", 2);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n\");\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵtext(22, \"\\n\");\n      i0.ɵɵelementStart(23, \"h6\");\n      i0.ɵɵtext(24, \"Latest Claim Owner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n\");\n      i0.ɵɵelement(26, \"hr\");\n      i0.ɵɵtext(27, \"\\n\");\n      i0.ɵɵelementStart(28, \"div\", 0);\n      i0.ɵɵtext(29, \"\\n  \");\n      i0.ɵɵelementStart(30, \"div\", 1);\n      i0.ɵɵtext(31, \"\\n    Verifier:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \"\\n  \");\n      i0.ɵɵelementStart(33, \"div\", 2);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n  \");\n      i0.ɵɵelementStart(36, \"div\", 1);\n      i0.ɵɵtext(37, \"\\n    Approver:\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n  \");\n      i0.ɵɵelementStart(39, \"div\", 2);\n      i0.ɵɵtext(40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n\");\n      i0.ɵɵelement(43, \"br\");\n      i0.ɵɵtext(44, \"\\n\");\n      i0.ɵɵelementStart(45, \"h6\");\n      i0.ɵɵtext(46, \"Latest Item Owner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n\");\n      i0.ɵɵelement(48, \"hr\");\n      i0.ɵɵtext(49, \"\\n\");\n      i0.ɵɵelementStart(50, \"p-table\", 3, 4);\n      i0.ɵɵtext(52, \"\\n  \");\n      i0.ɵɵtemplate(53, ViewLatestOwnerEcComponent_ng_template_53_Template, 35, 0, \"ng-template\", 5);\n      i0.ɵɵtext(54, \"\\n  \");\n      i0.ɵɵtemplate(55, ViewLatestOwnerEcComponent_ng_template_55_Template, 37, 8, \"ng-template\", 6);\n      i0.ɵɵtext(56, \"\\n  \");\n      i0.ɵɵtemplate(57, ViewLatestOwnerEcComponent_ng_template_57_Template, 12, 1, \"ng-template\", 7);\n      i0.ɵɵtext(58, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.nric, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.name, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.params.caseId, \"\\n  \");\n      i0.ɵɵadvance(16);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.latestClaimOwner.verifierName, \"\\n  \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n    \", ctx.latestClaimOwner.firstApproverName, \"\\n  \");\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"value\", ctx.latestClaimOwner.latestItemOwnerList);\n    }\n  },\n  dependencies: [i5.PrimeTemplate, i6.Button, i7.Table, i7.SortableColumn, i7.SortIcon],\n  styles: [\"tr[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:not(:first-child) {\\n  width: 24%;\\n}\\n\\ntr[_ngcontent-%COMP%]    > [_ngcontent-%COMP%]:first-child {\\n  width: 4%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZXctbGF0ZXN0LW93bmVyLWVjLmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxcY2xhaW1cXGVjLWNsYWltXFxwb3AtdXBcXHZpZXctbGF0ZXN0LW93bmVyLWVjXFx2aWV3LWxhdGVzdC1vd25lci1lYy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7QUNDRjs7QURDQTtFQUNFLFNBQUE7QUNFRiIsImZpbGUiOiJ2aWV3LWxhdGVzdC1vd25lci1lYy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRyID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcclxuICB3aWR0aCA6IDI0JTtcclxufVxyXG50ciA+IDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGggOiA0JTtcclxufVxyXG4iLCJ0ciA+IDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gIHdpZHRoOiAyNCU7XG59XG5cbnRyID4gOmZpcnN0LWNoaWxkIHtcbiAgd2lkdGg6IDQlO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY2xhaW0vZWMtY2xhaW0vcG9wLXVwL3ZpZXctbGF0ZXN0LW93bmVyLWVjL3ZpZXctbGF0ZXN0LW93bmVyLWVjLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9jbGFpbS9lYy1jbGFpbS9wb3AtdXAvdmlldy1sYXRlc3Qtb3duZXItZWMvdmlldy1sYXRlc3Qtb3duZXItZWMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxTQUFBO0FDRUY7QURDQSx3eEJBQXd4QiIsInNvdXJjZXNDb250ZW50IjpbInRyID4gOm5vdCg6Zmlyc3QtY2hpbGQpIHtcclxuICB3aWR0aCA6IDI0JTtcclxufVxyXG50ciA+IDpmaXJzdC1jaGlsZCB7XHJcbiAgd2lkdGggOiA0JTtcclxufVxyXG4iLCJ0ciA+IDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gIHdpZHRoOiAyNCU7XG59XG5cbnRyID4gOmZpcnN0LWNoaWxkIHtcbiAgd2lkdGg6IDQlO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ViewLatestOwnerEcComponent","constructor","route","ecClaimService","dateUtilsService","exportUtilsService","localeId","console","log","ngOnInit","queryParams","subscribe","params","httpParams","http_1","append","claimId","retrieveLatestOwners","res","data","latestClaimOwner","exportToCsv","dataTable","columns","field","header","index","dtoList","latestItemOwnerList","forEach","latestItemOwner","push","sn","itemName","dataEntry","dataEntryName","verifier","verifierName","firstApprover","firstApproverName","convertUnixToDateString","dataEntryDt","verifierDt","firstApproverDt","exportCSV","length","concat","Date","exports","core_1","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\pop-up\\view-latest-owner-ec\\view-latest-owner-ec.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\claim\\ec-claim\\pop-up\\view-latest-owner-ec\\view-latest-owner-ec.component.html"],"sourcesContent":["import {Component, Inject, LOCALE_ID, OnInit} from '@angular/core';\r\nimport {LatestClaimOwner} from \"app/claim/model/latest-claim-owner.model\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {DateUtilsService} from \"app/core/util/date-utils.service\";\r\nimport {ExportUtilsService} from \"app/core/util/export-utils.service\";\r\nimport {HttpParams} from \"@angular/common/http\";\r\nimport {Table} from \"primeng/table\";\r\nimport {LatestItemOwner} from \"app/claim/model/latest-item-owner.model\";\r\nimport {formatDate} from \"@angular/common\";\r\nimport {ECClaimService} from \"app/claim/ec-claim/service/ec-claim.service\";\r\n\r\n@Component({\r\n  selector: 'n2-view-latest-owner-ec',\r\n  templateUrl: './view-latest-owner-ec.component.html',\r\n  styleUrls: ['./view-latest-owner-ec.component.scss']\r\n})\r\nexport class ViewLatestOwnerEcComponent implements OnInit {\r\n\r\n  params: any;\r\n  latestClaimOwner: LatestClaimOwner;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private ecClaimService: ECClaimService,\r\n    public dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    @Inject(LOCALE_ID) protected localeId: string) {\r\n    console.log(\"test\");\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.params = params;\r\n\r\n      let httpParams = new HttpParams();\r\n      httpParams = httpParams.append(\"claimId\",this.params.claimId);\r\n\r\n      this.ecClaimService.retrieveLatestOwners(httpParams).subscribe((res) => {\r\n        if(res.data){\r\n          this.latestClaimOwner = res.data;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  exportToCsv(dataTable: Table): void{\r\n    const columns =\r\n      [\r\n        {field: 'sn', header: 'SN', index: 0},\r\n        {field: 'itemName', header: 'Item', index: 1},\r\n        {field: 'dataEntry', header: 'Data Entry', index: 2},\r\n        {field: 'verifier', header: 'Verifier', index: 3},\r\n        {field: 'firstApprover',  header: 'Approver 1', index: 4},\r\n      ];\r\n\r\n    const dtoList:any[] = [];\r\n\r\n    this.latestClaimOwner.latestItemOwnerList.forEach((latestItemOwner:LatestItemOwner, index:number) => {\r\n      dtoList.push({\r\n        sn: index + 1,\r\n        itemName: latestItemOwner.itemName,\r\n        dataEntry: latestItemOwner.dataEntryName,\r\n        verifier: latestItemOwner.verifierName,\r\n        firstApprover: latestItemOwner.firstApproverName,\r\n      })\r\n      dtoList.push({\r\n        sn: '',\r\n        itemName: '',\r\n        dataEntry: this.dateUtilsService.convertUnixToDateString(latestItemOwner.dataEntryDt,\"DD-MM-YYYY\"),\r\n        verifier: this.dateUtilsService.convertUnixToDateString(latestItemOwner.verifierDt,\"DD-MM-YYYY\"),\r\n        firstApprover: this.dateUtilsService.convertUnixToDateString(latestItemOwner.firstApproverDt,\"DD-MM-YYYY\"),\r\n        })\r\n    });\r\n\r\n    this.exportUtilsService.exportCSV(dataTable, dtoList,this.latestClaimOwner.latestItemOwnerList.length * 2, columns,\r\n      \"latest_owner_data_\".concat(formatDate(new Date(),\"dd-MM-YYYY\", this.localeId)));\r\n  }\r\n\r\n}\r\n","<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    NRIC:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.nric}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Name:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.name}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Case ID:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.params.caseId}}\r\n  </div>\r\n</div>\r\n<br>\r\n<h6>Latest Claim Owner</h6>\r\n<hr>\r\n<div class = \"field grid\">\r\n  <div class=\"col-1\">\r\n    Verifier:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.latestClaimOwner.verifierName}}\r\n  </div>\r\n  <div class=\"col-1\">\r\n    Approver:\r\n  </div>\r\n  <div class=\"col-2\">\r\n    {{this.latestClaimOwner.firstApproverName}}\r\n  </div>\r\n</div>\r\n<br>\r\n<h6>Latest Item Owner</h6>\r\n<hr>\r\n<p-table #dt [value] = latestClaimOwner.latestItemOwnerList\r\n         styleClass=\"p-datatable-gridlines p-datatable-striped\">\r\n  <ng-template pTemplate=\"header\">\r\n    <tr>\r\n      <th scope=\"colgroup\" colspan = \"5\">\r\n        <p-button (click) = \"exportToCsv(dt)\" icon=\"pi pi-file-o\"></p-button>\r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th scope=\"col\">SN</th>\r\n      <th scope=\"col\" pSortableColumn=\"itemName\">\r\n        Item <p-sortIcon field=\"itemName\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"dataEntryDt\">\r\n        Data Entry <p-sortIcon field=\"dataEntryDt\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"verifierDt\">\r\n        Verifier <p-sortIcon field=\"verifierDt\"></p-sortIcon>\r\n      </th>\r\n      <th scope=\"col\" pSortableColumn=\"firstApproverDt\">\r\n        Approver <p-sortIcon field=\"firstApproverDt\"></p-sortIcon>\r\n      </th>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"body\" let-itemOwner let-rowIndex = \"rowIndex\">\r\n    <tr>\r\n      <td>{{rowIndex + 1}}</td>\r\n      <td>\r\n        {{itemOwner.itemName}}\r\n      </td>\r\n      <td>\r\n        <div>{{itemOwner.dataEntryName}}</div>\r\n        <div>{{this.dateUtilsService.convertUnixToDateString(itemOwner.dataEntryDt, \"DD-MM-YYYY\")}}</div>\r\n      </td>\r\n      <td>\r\n        <div>{{itemOwner.verifierName}}</div>\r\n        <div>{{this.dateUtilsService.convertUnixToDateString(itemOwner.verifierDt, \"DD-MM-YYYY\")}}</div>\r\n      </td>\r\n      <td>\r\n        <div>{{itemOwner.firstApproverName}}</div>\r\n        <div> {{this.dateUtilsService.convertUnixToDateString(itemOwner.firstApproverDt, \"DD-MM-YYYY\")}}</div>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"emptymessage\">\r\n    <tr>\r\n      <td [attr.colspan] = \"5\">\r\n            <span>\r\n              <i class=\"pi pi-info-circle\"></i>\r\n              No records found.\r\n            </span>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n</p-table>\r\n\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}