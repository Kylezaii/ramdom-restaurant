{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AmendVesRequestComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@angular/common\");\nconst core_1 = require(\"@angular/core\");\nconst forms_1 = require(\"@angular/forms\");\nconst date_validator_directive_1 = require(\"app/shared/validator/date-validator.directive\");\nconst fileupload2_directive_1 = require(\"app/shared/validator/fileupload2.directive\");\nconst nric_directive_1 = require(\"app/shared/validator/nric.directive\");\nconst email_directive_1 = require(\"app/shared/validator/email.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i3 = tslib_1.__importStar(require(\"app/shared/service/ns2-http.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"../service/create-ves.service\"));\nconst i8 = tslib_1.__importStar(require(\"app/shared/service/file-upload.service\"));\nconst i9 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/inputtextarea\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i19 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i20 = tslib_1.__importStar(require(\"../../../shared/component/file-upload/file-upload.component\"));\nconst i21 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst _c0 = [\"fileTable\"];\nconst _c1 = [\"vesFileUpload\"];\nfunction AmendVesRequestComponent_ng_template_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelement(1, \"span\", 43);\n    i0.ɵɵtext(2, \"\\n                        \");\n  }\n}\nfunction AmendVesRequestComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Please enter a value\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Invalid NRIC format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Please enter a value\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Please enter a value\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Please enter a value\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                                        Report Start Date needs to be greater than Report End Date\\n                                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_ng_template_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                            \");\n    i0.ɵɵelement(1, \"span\", 43);\n    i0.ɵɵtext(2, \"\\n                        \");\n  }\n}\nfunction AmendVesRequestComponent_ng_template_97_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"th\", 45);\n    i0.ɵɵtext(4, \"NRIC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                    \");\n    i0.ɵɵelementStart(6, \"th\", 45);\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵelementStart(9, \"th\", 45);\n    i0.ɵɵtext(10, \" Start of Extension\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                                    \");\n    i0.ɵɵelementStart(12, \"th\", 45);\n    i0.ɵɵtext(13, \" End of Extension\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                                    \");\n    i0.ɵɵelementStart(15, \"th\", 46);\n    i0.ɵɵtext(16, \" \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                            \");\n  }\n}\nfunction AmendVesRequestComponent_ng_template_99_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                    \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                    \");\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                                    \");\n    i0.ɵɵelementStart(17, \"td\", 47);\n    i0.ɵɵtext(18, \"\\n                                        \");\n    i0.ɵɵelementStart(19, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_ng_template_99_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const i_r21 = restoredCtx.rowIndex;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.removeRecord(i_r21));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const record_r20 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(record_r20.nric);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r20.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 4, record_r20.extensionStartDt, \"dd-MM-yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 7, record_r20.extensionEndDt, \"dd-MM-yyyy\"));\n  }\n}\nfunction AmendVesRequestComponent_ng_template_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                    \");\n    i0.ɵɵelement(1, \"span\", 43);\n    i0.ɵɵtext(2, \"\\n                \");\n  }\n}\nfunction AmendVesRequestComponent_div_121_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                            Please enter a value\\n                        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_div_123_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \"\\n                            Invalid Email format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AmendVesRequestComponent_ng_template_130_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"div\", 49);\n    i0.ɵɵtext(4, \"\\n                                \");\n    i0.ɵɵelementStart(5, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_ng_template_130_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      const _r13 = i0.ɵɵreference(128);\n      return i0.ɵɵresetView(ctx_r24.exportCSV(_r13));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                    \");\n  }\n}\nfunction AmendVesRequestComponent_ng_template_132_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"th\", 51);\n    i0.ɵɵtext(4, \"Filename\");\n    i0.ɵɵelementStart(5, \"p-sortIcon\", 52);\n    i0.ɵɵtext(6, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"th\", 53);\n    i0.ɵɵtext(10, \"Uploaded On\");\n    i0.ɵɵelementStart(11, \"p-sortIcon\", 54);\n    i0.ɵɵtext(12, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                            \");\n    i0.ɵɵelementStart(15, \"th\", 55);\n    i0.ɵɵtext(16, \"Uploaded By\");\n    i0.ɵɵelementStart(17, \"p-sortIcon\", 56);\n    i0.ɵɵtext(18, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                    \");\n  }\n}\nfunction AmendVesRequestComponent_ng_template_134_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"td\")(4, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_ng_template_134_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const record_r26 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.downloadDoc(record_r26.documentId));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const record_r26 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(record_r26.filename);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 3, record_r26.createdDt, \"dd-MM-YYYY (HHmm)\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(record_r26.createdBy);\n  }\n}\nfunction AmendVesRequestComponent_div_166_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const change_r30 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n        \", change_r30, \"\\n    \");\n  }\n}\nconst _c2 = function () {\n  return {\n    \"margin-left\": \".5em\",\n    \"margin-bottom\": \".5em\"\n  };\n};\nfunction AmendVesRequestComponent_ng_template_178_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"button\", 58);\n    i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_ng_template_178_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.confirmationDialog.display = false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelement(3, \"p-confirmPopup\", 59);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_ng_template_178_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.addRequest());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(4, _c2));\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(5, _c2));\n  }\n}\nconst _c3 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\nconst _c4 = function () {\n  return {\n    \"960px\": \"75vw\"\n  };\n};\nclass AmendVesRequestComponent {\n  constructor(fb, toastService, n2httpService, nspConfirmService, dateUtilsService, exportUtilsService, createVesService, fileUploadService, route, router, localeId) {\n    this.fb = fb;\n    this.toastService = toastService;\n    this.n2httpService = n2httpService;\n    this.nspConfirmService = nspConfirmService;\n    this.dateUtilsService = dateUtilsService;\n    this.exportUtilsService = exportUtilsService;\n    this.createVesService = createVesService;\n    this.fileUploadService = fileUploadService;\n    this.route = route;\n    this.router = router;\n    this.localeId = localeId;\n    this.remarksList = [];\n    this.supportingDocsList = [];\n    this.changes = [];\n    this.emails = [];\n    this.recordList = [];\n    this.oldLists = [];\n    this.generateForm = this.fb.group({\n      nric: new forms_1.FormControl('', [forms_1.Validators.required, (0, nric_directive_1.NRICValidator)()]),\n      name: new forms_1.FormControl('', forms_1.Validators.required),\n      remarks: new forms_1.FormControl('', forms_1.Validators.required),\n      extensionStartDt: new forms_1.FormControl(null, forms_1.Validators.required),\n      extensionEndDt: new forms_1.FormControl(null, forms_1.Validators.required)\n    }, {\n      validators: date_validator_directive_1.DateValidator.dateLessThanOrEquals(\"extensionStartDt\", \"extensionEndDt\")\n    });\n    this.uploadForm = this.fb.group({\n      file: new forms_1.FormControl([], [fileupload2_directive_1.FileUploadValidator2.allowableExtension(\".pdf\")])\n    }, {});\n    this.emailForm = this.fb.group({\n      adminEmail: new forms_1.FormControl('', [forms_1.Validators.required, (0, email_directive_1.EmailValidator)()])\n    }, {});\n    this.remarksForm = this.fb.group({\n      remarks: new forms_1.FormControl('')\n    }, {});\n    this.isFileVerified = false;\n    this.confirmationDialog = {\n      display: false\n    };\n    this.currentDate = new Date();\n  }\n  ngOnInit() {\n    console.log(\"VES Request ID: \", this.route.snapshot.paramMap.get(\"id\"));\n    this.requestId = this.route.snapshot.paramMap.get(\"id\");\n    this.generateForm.get('name').patchValue(\"-\");\n    this.loadData();\n    this.confirmationChange();\n  }\n  checkNRIC() {\n    let value = true;\n    for (let i = 0; i < this.recordList.length; i++) {\n      if (this.recordList[i].nric === this.generateForm.get('nric').value) {\n        value = false;\n      }\n    }\n    return value;\n  }\n  checkInput(input) {\n    const nric = this.generateForm.get('nric').value;\n    const extensionStartDt = this.generateForm.get('extensionStartDt').value;\n    const extensionEndDt = this.generateForm.get('extensionEndDt').value;\n    const extensionStartDts = String(this.dateUtilsService.formatStrDate(extensionStartDt, \"DD-MM-YYYY\"));\n    const extensionEndDts = String(this.dateUtilsService.formatStrDate(extensionEndDt, \"DD-MM-YYYY\"));\n    let orange = '';\n    for (let i = 0; i < this.oldLists.length; i++) {\n      if (this.oldLists[i].nric === nric) {\n        if (input === \"endDate\") {\n          if (String(this.dateUtilsService.formatStrDate(this.oldLists[i].extensionEndDt, \"DD-MM-YYYY\")) !== extensionEndDts && this.generateForm.get('extensionEndDt').dirty) {\n            orange = 'border-dashed border-yellow-500';\n          }\n        }\n        if (input === \"startDate\") {\n          if (String(this.dateUtilsService.formatStrDate(this.oldLists[i].extensionStartDt, \"DD-MM-YYYY\")) !== extensionStartDts && this.generateForm.get('extensionStartDt').dirty) {\n            orange = 'border-dashed border-yellow-500';\n          }\n        }\n      }\n    }\n    return orange;\n  }\n  confirmationChange() {\n    this.changes = [];\n    this.changes.push(\"[System]\");\n    for (let i = 0; i < this.recordList.length; i++) {\n      for (let j = 0; j < this.oldLists.length; j++) {\n        if (this.oldLists[j].nric !== this.recordList[i].nric) {\n          this.changes.push(\"Added \" + String(this.recordList[i].nric) + \" with Start of Extension for \" + String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")) + \" to End of Extension \" + String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")));\n        }\n      }\n    }\n    if (this.emails[0] !== this.emailForm.get('adminEmail').value) {\n      this.changes.push(\"Changed Email \" + String(this.emails[0]) + \" to \" + String(this.emailForm.get('adminEmail').value));\n    }\n    for (let i = 0; i < this.recordList.length; i++) {\n      for (let j = 0; j < this.oldLists.length; j++) {\n        if (this.recordList[i].nric === this.oldLists[j].nric) {\n          if (String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")) !== String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionStartDt, \"DD-MM-YYYY\"))) {\n            this.changes.push(\"Start of Extension for \" + this.recordList[i].nric + \" changed from \" + String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionStartDt, \"DD-MM-YYYY\")) + \" to \" + String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")));\n          }\n          if (String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")) !== String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionEndDt, \"DD-MM-YYYY\"))) {\n            this.changes.push(\"End of Extension for \" + this.recordList[i].nric + \" changed from \" + String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionEndDt, \"DD-MM-YYYY\")) + \" to \" + String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")));\n          }\n        }\n      }\n    }\n  }\n  addRecord() {\n    const id = this.generateForm.get('nric').value;\n    this.createVesService.checkIfNricHasVesActive(id).subscribe(res => {\n      this.status = res.body.data;\n    });\n    if (this.checkNRIC() === true) {\n      if (!this.status) {\n        if (this.generateForm.get('name').value === '') {\n          this.toastService.error(\"No Name Added\");\n        } else {\n          const record = {\n            nric: this.generateForm.get('nric').value,\n            name: this.generateForm.get('name').value,\n            remarks: this.generateForm.get('remarks').value,\n            extensionStartDt: this.generateForm.get('extensionStartDt').value,\n            extensionEndDt: this.generateForm.get('extensionEndDt').value\n          };\n          this.recordList.push(record);\n          this.generateForm.reset();\n          this.generateForm.get('name').patchValue(\"-\");\n        }\n      } else {\n        this.toastService.error(\"PRL-E37206\");\n      }\n    } else {\n      this.toastService.error(\"Duplicated NRIC\");\n    }\n  }\n  removeRecord(id) {\n    this.recordList.splice(id, 1);\n  }\n  onCancel() {\n    this.toastService.info('Cancelled');\n    this.createVesService.getById(this.requestId).subscribe(res => {\n      this.getrequest = res.body.data;\n      this.recordList = res.body.data.records;\n      this.supportingDocsList = res.body.data.supportingDocs;\n      this.remarksList = res.body.data.remarks;\n      this.emailForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\n    }, error => {\n      console.log(error.message);\n      console.log(this.getrequest);\n    });\n    this.generateForm.markAsPristine();\n    this.emailForm.markAsPristine();\n    this.generateForm.reset({\n      nric: null,\n      name: null,\n      remarks: null,\n      extensionStartDt: null,\n      extensionEndDt: null\n    });\n    this.vesFileUpload.pFileUpload.clear();\n    this.vesFileUpload.selectedFiles = [];\n    this.vesFileUpload.onChange(this.vesFileUpload.pFileUpload.files);\n    this.vesFileUpload.selectedFiles = [];\n    this.vesFileUpload.pFileUpload.files = [];\n    this.vesFileUpload.verifiedFiles = [];\n    this.vesFileUpload.baseFilesObj = [];\n    this.vesFileUpload.selectedFilesObj = [];\n    this.vesFileUpload.selectedFiles = [];\n    this.vesFileUpload.errCount = 0;\n    this.vesFileUpload.ngOnDestroy();\n    this.generateForm.get('name').patchValue(\"-\");\n  }\n  addRequest() {\n    const fileTxnId = this.vesFileUpload.verifiedFiles.map(x => String(x.meta_data.id));\n    const request = {\n      adminEmail: this.emailForm.get('adminEmail').value,\n      supportingDocs: fileTxnId,\n      records: this.recordList,\n      vesRequestId: this.requestId,\n      remarks: this.remarksForm.get('remarks').value\n    };\n    if (this.emailForm.get('adminEmail')?.hasError('adminEmail')) {\n      this.toastService.error(\"Email Invalid\");\n    } else {\n      setTimeout(() => {\n        this.createVesService.postAmendRequest(request).subscribe(res => {\n          if (res.body) {\n            this.isFileVerified = res.body?.data;\n            if (this.isFileVerified) {\n              this.vesFileUpload.disableButtons(true);\n            }\n            this.toastService.success(\"Created successfully\");\n            this.router.navigate(['payroll/ves']);\n          } else {\n            this.toastService.warn(\"Unsuccessful\");\n          }\n        }, error => {\n          this.toastService.error(error.error.error_desc);\n          this.confirmationDialog.display = false;\n        });\n      }, 1000);\n    }\n  }\n  onOpen(dialog) {\n    dialog.display = true;\n  }\n  loadData() {\n    setTimeout(() => {\n      this.createVesService.getById(this.requestId).subscribe(res => {\n        console.log(res);\n        if (res.body.data.status === \"PENDING_APPROVAL\") {\n          this.toastService.info(\"Request is already pending approval\");\n          this.router.navigate(['payroll/ves']);\n        }\n        this.getrequest = res.body.data;\n        //console.log(this.getrequest.adminEmail);\n        this.recordList = res.body.data.records;\n        this.supportingDocsList = res.body.data.supportingDocs;\n        this.remarksList = res.body.data.remarks;\n        this.emailForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\n        this.emails.push(this.recordList[0].adminEmail);\n        for (let i = 0; i < this.recordList.length; i++) {\n          console.log(this.recordList[i]);\n          this.oldLists.push(this.recordList[i]);\n        }\n      }, error => {\n        console.log(error.message);\n      });\n    }, 1000);\n  }\n  displayRemarksList() {\n    let displayRemarks = \"\";\n    for (const remark of this.remarksList) {\n      displayRemarks += remark.remarks + \"\\n\\n\";\n    }\n    return displayRemarks;\n  }\n  delete() {\n    this.createVesService.deleteVesRequest(this.requestId).subscribe(res => {\n      this.toastService.error(\"Deleted\");\n    }, error => {\n      console.log(error);\n    });\n  }\n  downloadDoc(docId) {\n    if (docId) {\n      this.fileUploadService.downloadTxnId(docId).subscribe(res => {\n        if (res) {\n          const data = res;\n          const contentDispositionHeader = data.headers.get('content-disposition');\n          const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\n          const blob = new Blob([data.body], {\n            type: data.headers.get('content-type')\n          });\n          const anchor = document.createElement(\"a\");\n          anchor.href = URL.createObjectURL(blob);\n          anchor.download = fileName;\n          anchor.click();\n        }\n      }, error => {\n        console.log(error);\n        this.toastService.error(error.error?.error_desc);\n      });\n    }\n  }\n  exportCSV(dataTable) {\n    this.createVesService.getById(this.requestId).subscribe(res => {\n      if (res.body.data.supportingDocs) {\n        const data = res.body.data.supportingDocs;\n        const columns = [{\n          field: 'filename',\n          header: 'File Name',\n          index: 0\n        }, {\n          field: 'createdDt',\n          header: 'Created Date',\n          index: 1\n        }, {\n          field: 'createdBy',\n          header: 'Created By',\n          index: 2\n        }];\n        const dtoList = [];\n        console.log(\"data\", data);\n        data.forEach((record, index) => {\n          const dto = {\n            filename: `${String(record.filename)}`,\n            createdDt: `${String(this.dateUtilsService.formatStrDate(record.createdDt, \"DD-MM-YYYY\"))}`,\n            createdBy: `${String(record.createdBy)}`\n          };\n          dtoList.push(dto);\n        });\n        this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns, \"data_\".concat((0, common_1.formatDate)(new Date(), \"dd-MM-YYYY\", this.localeId)));\n      }\n    }, error => {\n      console.log(error.error?.error_desc);\n    });\n  }\n}\nexports.AmendVesRequestComponent = AmendVesRequestComponent;\nAmendVesRequestComponent.ɵfac = function AmendVesRequestComponent_Factory(t) {\n  return new (t || AmendVesRequestComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CustomToastService), i0.ɵɵdirectiveInject(i3.Ns2HttpService), i0.ɵɵdirectiveInject(i4.NspConfirmationService), i0.ɵɵdirectiveInject(i5.DateUtilsService), i0.ɵɵdirectiveInject(i6.ExportUtilsService), i0.ɵɵdirectiveInject(i7.CreateVesService), i0.ɵɵdirectiveInject(i8.FileUploadService), i0.ɵɵdirectiveInject(i9.ActivatedRoute), i0.ɵɵdirectiveInject(i9.Router), i0.ɵɵdirectiveInject(core_1.LOCALE_ID));\n};\nAmendVesRequestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AmendVesRequestComponent,\n  selectors: [[\"n2-amend-ves-request\"]],\n  viewQuery: function AmendVesRequestComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vesFileUpload = _t.first);\n    }\n  },\n  decls: 181,\n  vars: 29,\n  consts: [[\"header\", \"Approve/Reject: Amend VES Request\"], [1, \"grid\"], [1, \"col-6\"], [1, \"col-12\"], [\"header\", \"Request Remarks\", 1, \"remarksPanel\"], [\"pInputTextarea\", \"\", \"disabled\", \"true\", \"rows\", \"8\", 1, \"form-control\"], [\"header\", \"VES Detail\"], [\"pTemplate\", \"header\"], [3, \"formGroup\"], [1, \"formgrid\", \"grid\"], [1, \"field\", \"col-12\", \"md:col-6\"], [\"for\", \"nric\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"nric\", \"formControlName\", \"nric\", 1, \"w-full\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"for\", \"extensionStartDt\"], [\"id\", \"extensionStartDt\", \"formControlName\", \"extensionStartDt\", \"dateFormat\", \"dd-mm-yy\", \"inputId\", \"dateformat\", \"styleClass\", \"dateTimeField\", 3, \"inputStyleClass\"], [\"for\", \"name\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"w-full\", 3, \"readonly\"], [\"for\", \"extensionEndDt\"], [\"id\", \"extensionEndDt\", \"formControlName\", \"extensionEndDt\", \"dateFormat\", \"dd-mm-yy\", \"styleClass\", \"dateTimeField\", 3, \"inputStyleClass\"], [1, \"field\", \"col-12\"], [\"for\", \"remarks\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"remarks\", \"formControlName\", \"remarks\", \"rows\", \"4\", 1, \"text-base\", \"text-color\", \"surface-overlay\", \"p-2\", \"border-1\", \"border-solid\", \"surface-border\", \"border-round\", \"appearance-none\", \"outline-none\", \"focus:border-primary\", \"w-full\"], [1, \"flex\", \"justify-content-end\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Add Another Record\", 3, \"click\"], [\"header\", \"Added NSmen\"], [\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\"], [\"pTemplate\", \"body\"], [\"header\", \"Unit Administrator\"], [\"for\", \"adminEmail\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"adminEmail\", \"formControlName\", \"adminEmail\", 1, \"text-base\", \"text-color\", \"surface-overlay\", \"p-2\", \"border-1\", \"border-solid\", \"surface-border\", \"border-round\", \"appearance-none\", \"outline-none\", \"focus:border-primary\", \"w-full\"], [\"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"fileTable\", \"\"], [\"pTemplate\", \"caption\"], [\"styleClass\", \"custombar2\", \"formControlName\", \"file\"], [\"vesFileUpload\", \"\"], [1, \"flex\", \"justify-content-end\", \"align-items-center\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Remove\", 1, \"p-button-outlined\", \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Submit\", 3, \"disabled\", \"click\"], [\"header\", \"Amend Request Confirmation\", 3, \"visible\", \"breakpoints\", \"draggable\", \"resizable\", \"modal\", \"visibleChange\"], [4, \"ngFor\", \"ngForOf\"], [\"pTemplate\", \"footer\"], [1, \"p-panel-title\"], [1, \"form-text\", \"text-danger\"], [\"scope\", \"col\", 2, \"width\", \"20%\"], [\"scope\", \"col\", 2, \"width\", \"10%\"], [2, \"text-align\", \"center\", \"vertical-align\", \"middle\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-times\", 1, \"p-button-raised\", \"p-button-rounded\", \"p-button-danger\", 3, \"click\"], [1, \"col-6\", \"nsp-align-left\", \"flex\", \"justify-content-start\", \"align-items-center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", \"pSortableColumn\", \"filename\"], [\"field\", \"filename\"], [\"scope\", \"col\", \"pSortableColumn\", \"uploadedon\"], [\"field\", \"uploadedon\"], [\"scope\", \"col\", \"pSortableColumn\", \"uploadedby\"], [\"field\", \"uploadedby\"], [1, \"underline\", \"text-blue-500\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"key\", \"FileUpload\"], [\"pButton\", \"\", \"label\", \"Submit\", 3, \"click\"]],\n  template: function AmendVesRequestComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-panel\", 0);\n      i0.ɵɵtext(1, \"\\n\\n    \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n            \");\n      i0.ɵɵelementStart(6, \"div\", 1);\n      i0.ɵɵtext(7, \"\\n                \");\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵtext(9, \"\\n                    \");\n      i0.ɵɵelementStart(10, \"p-panel\", 4);\n      i0.ɵɵtext(11, \"\\n                        \");\n      i0.ɵɵelementStart(12, \"textarea\", 5);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n                    \");\n      i0.ɵɵelement(16, \"p\");\n      i0.ɵɵtext(17, \"\\n                    \");\n      i0.ɵɵelementStart(18, \"p-panel\", 6);\n      i0.ɵɵtext(19, \"\\n                        \");\n      i0.ɵɵtemplate(20, AmendVesRequestComponent_ng_template_20_Template, 3, 0, \"ng-template\", 7);\n      i0.ɵɵtext(21, \"\\n                        \");\n      i0.ɵɵelementStart(22, \"form\", 8);\n      i0.ɵɵtext(23, \"\\n                            \");\n      i0.ɵɵelementStart(24, \"div\", 9);\n      i0.ɵɵtext(25, \"\\n                                \");\n      i0.ɵɵelementStart(26, \"div\", 10);\n      i0.ɵɵtext(27, \"\\n                                    \");\n      i0.ɵɵelementStart(28, \"label\", 11);\n      i0.ɵɵtext(29, \"NRIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(30, \"\\n                                    \");\n      i0.ɵɵelement(31, \"input\", 12);\n      i0.ɵɵtext(32, \"\\n                                    \");\n      i0.ɵɵtemplate(33, AmendVesRequestComponent_div_33_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(34, \"\\n                                    \");\n      i0.ɵɵtemplate(35, AmendVesRequestComponent_div_35_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(36, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n                                \");\n      i0.ɵɵelementStart(38, \"div\", 10);\n      i0.ɵɵtext(39, \"\\n                                    \");\n      i0.ɵɵelementStart(40, \"label\", 14);\n      i0.ɵɵtext(41, \"Start of Extension\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n                                    \");\n      i0.ɵɵelementStart(43, \"p-calendar\", 15);\n      i0.ɵɵtext(44, \"\\n                                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(45, \"\\n                                    \");\n      i0.ɵɵtemplate(46, AmendVesRequestComponent_div_46_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(47, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(48, \"\\n                                \");\n      i0.ɵɵelementStart(49, \"div\", 10);\n      i0.ɵɵtext(50, \"\\n                                    \");\n      i0.ɵɵelementStart(51, \"label\", 16);\n      i0.ɵɵtext(52, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n                                    \");\n      i0.ɵɵelement(54, \"input\", 17);\n      i0.ɵɵtext(55, \"\\n                                    \");\n      i0.ɵɵtemplate(56, AmendVesRequestComponent_div_56_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(57, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n                                \");\n      i0.ɵɵelementStart(59, \"div\", 10);\n      i0.ɵɵtext(60, \"\\n                                    \");\n      i0.ɵɵelementStart(61, \"label\", 18);\n      i0.ɵɵtext(62, \"End of Extension\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n                                    \");\n      i0.ɵɵelementStart(64, \"p-calendar\", 19);\n      i0.ɵɵtext(65, \"\\n                                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(66, \"\\n                                    \");\n      i0.ɵɵtemplate(67, AmendVesRequestComponent_div_67_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(68, \"\\n                                    \");\n      i0.ɵɵtemplate(69, AmendVesRequestComponent_div_69_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(70, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(71, \"\\n                                \");\n      i0.ɵɵelementStart(72, \"div\", 20);\n      i0.ɵɵtext(73, \"\\n                                    \");\n      i0.ɵɵelementStart(74, \"label\", 21);\n      i0.ɵɵtext(75, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(76, \"\\n                                    \");\n      i0.ɵɵelement(77, \"textarea\", 22);\n      i0.ɵɵtext(78, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(79, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n\\n                        \");\n      i0.ɵɵelementStart(82, \"div\", 23);\n      i0.ɵɵtext(83, \"\\n                            \");\n      i0.ɵɵelementStart(84, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_Template_button_click_84_listener() {\n        return ctx.addRecord();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(85, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(86, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(87, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(88, \"\\n                \");\n      i0.ɵɵelementStart(89, \"div\", 3);\n      i0.ɵɵtext(90, \"\\n                    \");\n      i0.ɵɵelementStart(91, \"p-panel\", 25);\n      i0.ɵɵtext(92, \"\\n                        \");\n      i0.ɵɵtemplate(93, AmendVesRequestComponent_ng_template_93_Template, 3, 0, \"ng-template\", 7);\n      i0.ɵɵtext(94, \"\\n\\n                        \");\n      i0.ɵɵelementStart(95, \"p-table\", 26);\n      i0.ɵɵtext(96, \"\\n                            \");\n      i0.ɵɵtemplate(97, AmendVesRequestComponent_ng_template_97_Template, 19, 0, \"ng-template\", 7);\n      i0.ɵɵtext(98, \"\\n                            \");\n      i0.ɵɵtemplate(99, AmendVesRequestComponent_ng_template_99_Template, 23, 10, \"ng-template\", 27);\n      i0.ɵɵtext(100, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(101, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(102, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(103, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(104, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(105, \"\\n        \");\n      i0.ɵɵelementStart(106, \"div\", 2);\n      i0.ɵɵtext(107, \"\\n            \");\n      i0.ɵɵelementStart(108, \"p-panel\", 28);\n      i0.ɵɵtext(109, \"\\n                \");\n      i0.ɵɵtemplate(110, AmendVesRequestComponent_ng_template_110_Template, 3, 0, \"ng-template\", 7);\n      i0.ɵɵtext(111, \"\\n                \");\n      i0.ɵɵelementStart(112, \"form\", 8);\n      i0.ɵɵtext(113, \"\\n                    \");\n      i0.ɵɵelementStart(114, \"div\", 20);\n      i0.ɵɵtext(115, \"\\n                        \");\n      i0.ɵɵelementStart(116, \"label\", 29);\n      i0.ɵɵtext(117, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(118, \"\\n                        \");\n      i0.ɵɵelement(119, \"input\", 30);\n      i0.ɵɵtext(120, \"\\n                        \");\n      i0.ɵɵtemplate(121, AmendVesRequestComponent_div_121_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(122, \"\\n                        \");\n      i0.ɵɵtemplate(123, AmendVesRequestComponent_div_123_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(124, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(125, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(126, \"\\n                \");\n      i0.ɵɵelementStart(127, \"p-table\", 31, 32);\n      i0.ɵɵtext(129, \"\\n                    \");\n      i0.ɵɵtemplate(130, AmendVesRequestComponent_ng_template_130_Template, 9, 0, \"ng-template\", 33);\n      i0.ɵɵtext(131, \"\\n                    \");\n      i0.ɵɵtemplate(132, AmendVesRequestComponent_ng_template_132_Template, 22, 0, \"ng-template\", 7);\n      i0.ɵɵtext(133, \"\\n                    \");\n      i0.ɵɵtemplate(134, AmendVesRequestComponent_ng_template_134_Template, 15, 6, \"ng-template\", 27);\n      i0.ɵɵtext(135, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(136, \"\\n                \");\n      i0.ɵɵelement(137, \"p\");\n      i0.ɵɵtext(138, \"\\n                \");\n      i0.ɵɵelementStart(139, \"form\", 8);\n      i0.ɵɵtext(140, \"\\n                    \");\n      i0.ɵɵelement(141, \"n2-file-upload\", 34, 35);\n      i0.ɵɵtext(143, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(144, \"\\n                \");\n      i0.ɵɵelementStart(145, \"p\");\n      i0.ɵɵtext(146, \"Note: The uploaded supporting document above will be attached to all the VES records created in this\\n                    transaction.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(147, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(148, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(149, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(150, \"\\n\\n    \");\n      i0.ɵɵelementStart(151, \"div\", 36);\n      i0.ɵɵtext(152, \"\\n        \");\n      i0.ɵɵelementStart(153, \"div\");\n      i0.ɵɵtext(154, \"\\n            \");\n      i0.ɵɵelementStart(155, \"button\", 37);\n      i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_Template_button_click_155_listener() {\n        return ctx.delete();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(156, \"\\n            \");\n      i0.ɵɵelementStart(157, \"button\", 38);\n      i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_Template_button_click_157_listener() {\n        return ctx.onCancel();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(158, \"\\n            \");\n      i0.ɵɵelementStart(159, \"button\", 39);\n      i0.ɵɵlistener(\"click\", function AmendVesRequestComponent_Template_button_click_159_listener() {\n        return ctx.onOpen(ctx.confirmationDialog);\n      })(\"click\", function AmendVesRequestComponent_Template_button_click_159_listener() {\n        return ctx.confirmationChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(160, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(161, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(162, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(163, \"\\n\\n\");\n      i0.ɵɵelementStart(164, \"p-dialog\", 40);\n      i0.ɵɵlistener(\"visibleChange\", function AmendVesRequestComponent_Template_p_dialog_visibleChange_164_listener($event) {\n        return ctx.confirmationDialog.display = $event;\n      });\n      i0.ɵɵtext(165, \"\\n    \");\n      i0.ɵɵtemplate(166, AmendVesRequestComponent_div_166_Template, 2, 1, \"div\", 41);\n      i0.ɵɵtext(167, \"\\n    \");\n      i0.ɵɵelement(168, \"p\");\n      i0.ɵɵtext(169, \"\\n    \");\n      i0.ɵɵelementStart(170, \"form\", 8);\n      i0.ɵɵtext(171, \"\\n        \");\n      i0.ɵɵelementStart(172, \"label\", 21);\n      i0.ɵɵtext(173, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(174, \"\\n        \");\n      i0.ɵɵelement(175, \"textarea\", 22);\n      i0.ɵɵtext(176, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(177, \"\\n    \");\n      i0.ɵɵtemplate(178, AmendVesRequestComponent_ng_template_178_Template, 7, 6, \"ng-template\", 42);\n      i0.ɵɵtext(179, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(180, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_5_0;\n      let tmp_7_0;\n      let tmp_9_0;\n      let tmp_10_0;\n      let tmp_13_0;\n      let tmp_14_0;\n      i0.ɵɵadvance(13);\n      i0.ɵɵtextInterpolate1(\"\", ctx.displayRemarksList(), \"\\n                        \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formGroup\", ctx.generateForm);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.generateForm.get(\"nric\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.generateForm.get(\"nric\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.generateForm.get(\"nric\")) == null ? null : tmp_3_0.hasError(\"nric\")) && ((tmp_3_0 = ctx.generateForm.get(\"nric\")) == null ? null : tmp_3_0.dirty));\n      i0.ɵɵadvance(8);\n      i0.ɵɵpropertyInterpolate(\"inputStyleClass\", ctx.checkInput(\"startDate\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.generateForm.get(\"extensionStartDt\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx.generateForm.get(\"extensionStartDt\")) == null ? null : tmp_5_0.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"readonly\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.generateForm.get(\"name\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx.generateForm.get(\"name\")) == null ? null : tmp_7_0.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵpropertyInterpolate(\"inputStyleClass\", ctx.checkInput(\"endDate\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.generateForm.get(\"extensionEndDt\")) == null ? null : tmp_9_0.hasError(\"required\")) && ((tmp_9_0 = ctx.generateForm.get(\"extensionEndDt\")) == null ? null : tmp_9_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.generateForm.errors == null ? null : ctx.generateForm.errors[\"invalidDateLessThanOrEquals\"]) && ((tmp_10_0 = ctx.generateForm.get(\"extensionEndDt\")) == null ? null : tmp_10_0.dirty));\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"value\", ctx.recordList);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"formGroup\", ctx.emailForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_13_0 = ctx.emailForm.get(\"adminEmail\")) == null ? null : tmp_13_0.hasError(\"required\")) && ((tmp_13_0 = ctx.emailForm.get(\"adminEmail\")) == null ? null : tmp_13_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_14_0 = ctx.emailForm.get(\"adminEmail\")) == null ? null : tmp_14_0.hasError(\"adminEmail\")) && ((tmp_14_0 = ctx.emailForm.get(\"adminEmail\")) == null ? null : tmp_14_0.dirty));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"value\", ctx.supportingDocsList);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"formGroup\", ctx.uploadForm);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"disabled\", !ctx.uploadForm.valid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(27, _c3));\n      i0.ɵɵproperty(\"visible\", ctx.confirmationDialog.display)(\"breakpoints\", i0.ɵɵpureFunction0(28, _c4))(\"draggable\", false)(\"resizable\", false)(\"modal\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.changes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.remarksForm);\n    }\n  },\n  dependencies: [i10.NgForOf, i10.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i11.PrimeTemplate, i12.ButtonDirective, i13.Tooltip, i14.Table, i14.SortableColumn, i14.SortIcon, i15.InputText, i16.Dialog, i17.InputTextarea, i18.ConfirmPopup, i19.Calendar, i20.FileUploadComponent, i21.Panel, i10.DatePipe],\n  styles: [\"[_nghost-%COMP%]     .n2-file-upload {\\n  height: 10%;\\n  width: 10%;\\n}\\n\\n[_nghost-%COMP%]     .fa-circle-check {\\n  color: var(--green-500) !important;\\n  font-size: 2em;\\n}\\n\\n[_nghost-%COMP%]     .dateTimeField input {\\n  vertical-align: middle;\\n  width: 500px;\\n}\\n\\n[_nghost-%COMP%]     .fa-circle-xmark {\\n  color: #e24c4c;\\n  font-size: 2em;\\n}\\n\\n[_nghost-%COMP%]     .fa-rotate {\\n  background: var(--yellow-300) !important;\\n  color: #000000;\\n  font-size: 1.4em;\\n  border-radius: 2em;\\n}\\n\\n[_nghost-%COMP%]     .fa-0 {\\n  background: var(--blue-300) !important;\\n  color: #ffffff;\\n  font-size: 1.4em;\\n  border-radius: 2em;\\n}\\n\\n[_nghost-%COMP%]     .p-panel .p-dropdown {\\n  width: 75%;\\n}\\n\\n[_nghost-%COMP%]     .p-inputtext.ng-touched.ng-invalid {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     p-dropdown.ng-touched.ng-invalid > .p-dropdown {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     p-calendar.ng-touched.ng-invalid > .p-calendar > .p-inputtext {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     .red-border > .p-calendar > .p-inputtext {\\n  border-color: #e24c4c !important;\\n}\\n\\n.p-scrollpanel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  padding: 0.5rem;\\n  line-height: 1.5;\\n  margin: 0;\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-wrapper[_ngcontent-%COMP%] {\\n  border-right: 9px solid var(--layer-1);\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-bar[_ngcontent-%COMP%] {\\n  background-color: var(--primary-color);\\n  opacity: 1;\\n  transition: background-color 0.2s;\\n}\\n.p-scrollpanel.custombar1[_ngcontent-%COMP%]   .p-scrollpanel-bar[_ngcontent-%COMP%]:hover {\\n  background-color: #007ad9;\\n}\\n\\n[_nghost-%COMP%]     .remarksPanel .p-panel-content {\\n  padding: 0px;\\n  border: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFtZW5kLXZlcy1yZXF1ZXN0LmNvbXBvbmVudC5zY3NzIiwiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFxwYXlyb2xsXFx2ZXNcXGFtZW5kLXZlcy1yZXF1ZXN0XFxhbWVuZC12ZXMtcmVxdWVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxVQUFBO0FDQ0o7O0FERUE7RUFDSSxrQ0FBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLHNCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLHdDQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLHNDQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURHQTtFQUNJLGdDQUFBO0FDQUo7O0FESUk7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxTQUFBO0FDRFI7QURLUTtFQUNJLHNDQUFBO0FDSFo7QURNUTtFQUNJLHNDQUFBO0VBQ0EsVUFBQTtFQUNBLGlDQUFBO0FDSlo7QURNWTtFQUNJLHlCQUFBO0FDSmhCOztBRFVBO0VBQ0ksWUFBQTtFQUNBLFlBQUE7QUNQSiIsImZpbGUiOiJhbWVuZC12ZXMtcmVxdWVzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAubjItZmlsZS11cGxvYWQge1xyXG4gICAgaGVpZ2h0OiAxMCU7XHJcbiAgICB3aWR0aDogMTAlO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZhLWNpcmNsZS1jaGVjayB7XHJcbiAgICBjb2xvcjogdmFyKC0tZ3JlZW4tNTAwKSAhaW1wb3J0YW50O1xyXG4gICAgZm9udC1zaXplOiAyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZGF0ZVRpbWVGaWVsZCBpbnB1dCB7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgd2lkdGg6IDUwMHB4O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZhLWNpcmNsZS14bWFyayB7XHJcbiAgICBjb2xvcjogI2UyNGM0YztcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZhLXJvdGF0ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS15ZWxsb3ctMzAwKSAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICBmb250LXNpemU6IDEuNGVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZhLTAge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZS0zMDApICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgIGZvbnQtc2l6ZTogMS40ZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1wYW5lbCAucC1kcm9wZG93biB7XHJcbiAgICB3aWR0aDogNzUlO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnAtaW5wdXR0ZXh0Lm5nLXRvdWNoZWQubmctaW52YWxpZCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIHAtZHJvcGRvd24ubmctdG91Y2hlZC5uZy1pbnZhbGlkPi5wLWRyb3Bkb3duIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgcC1jYWxlbmRhci5uZy10b3VjaGVkLm5nLWludmFsaWQ+LnAtY2FsZW5kYXI+LnAtaW5wdXR0ZXh0IHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4vLyBpZiBSZXBvcnQgRW5kIERhdGUgZ3JlYXRlciB0aGFuIFJlcG9ydCBTdGFydCBEYXRlXHJcbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlcj4ucC1jYWxlbmRhcj4ucC1pbnB1dHRleHQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wLXNjcm9sbHBhbmVsIHtcclxuICAgIHAge1xyXG4gICAgICAgIHBhZGRpbmc6IC41cmVtO1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgfVxyXG5cclxuICAgICYuY3VzdG9tYmFyMSB7XHJcbiAgICAgICAgLnAtc2Nyb2xscGFuZWwtd3JhcHBlciB7XHJcbiAgICAgICAgICAgIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHZhcigtLWxheWVyLTEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnAtc2Nyb2xscGFuZWwtYmFyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjJzO1xyXG5cclxuICAgICAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWQ5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnJlbWFya3NQYW5lbCAucC1wYW5lbC1jb250ZW50IHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxufSIsIjpob3N0IDo6bmctZGVlcCAubjItZmlsZS11cGxvYWQge1xuICBoZWlnaHQ6IDEwJTtcbiAgd2lkdGg6IDEwJTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUtY2hlY2sge1xuICBjb2xvcjogdmFyKC0tZ3JlZW4tNTAwKSAhaW1wb3J0YW50O1xuICBmb250LXNpemU6IDJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5kYXRlVGltZUZpZWxkIGlucHV0IHtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgd2lkdGg6IDUwMHB4O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmZhLWNpcmNsZS14bWFyayB7XG4gIGNvbG9yOiAjZTI0YzRjO1xuICBmb250LXNpemU6IDJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS1yb3RhdGUge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS15ZWxsb3ctMzAwKSAhaW1wb3J0YW50O1xuICBjb2xvcjogIzAwMDAwMDtcbiAgZm9udC1zaXplOiAxLjRlbTtcbiAgYm9yZGVyLXJhZGl1czogMmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmZhLTAge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1ibHVlLTMwMCkgIWltcG9ydGFudDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGZvbnQtc2l6ZTogMS40ZW07XG4gIGJvcmRlci1yYWRpdXM6IDJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLXBhbmVsIC5wLWRyb3Bkb3duIHtcbiAgd2lkdGg6IDc1JTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIHAtZHJvcGRvd24ubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtZHJvcGRvd24ge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIHAtY2FsZW5kYXIubmctdG91Y2hlZC5uZy1pbnZhbGlkID4gLnAtY2FsZW5kYXIgPiAucC1pbnB1dHRleHQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5yZWQtYm9yZGVyID4gLnAtY2FsZW5kYXIgPiAucC1pbnB1dHRleHQge1xuICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcbn1cblxuLnAtc2Nyb2xscGFuZWwgcCB7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgbWFyZ2luOiAwO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC13cmFwcGVyIHtcbiAgYm9yZGVyLXJpZ2h0OiA5cHggc29saWQgdmFyKC0tbGF5ZXItMSk7XG59XG4ucC1zY3JvbGxwYW5lbC5jdXN0b21iYXIxIC5wLXNjcm9sbHBhbmVsLWJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG59XG4ucC1zY3JvbGxwYW5lbC5jdXN0b21iYXIxIC5wLXNjcm9sbHBhbmVsLWJhcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdhZDk7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucmVtYXJrc1BhbmVsIC5wLXBhbmVsLWNvbnRlbnQge1xuICBwYWRkaW5nOiAwcHg7XG4gIGJvcmRlcjogbm9uZTtcbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5cm9sbC92ZXMvYW1lbmQtdmVzLXJlcXVlc3QvYW1lbmQtdmVzLXJlcXVlc3QuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi9wcm9qZWN0cyUyMDIvbnNwYXlpaWFwcC9zcmMvbWFpbi93ZWJhcHAvYXBwL3BheXJvbGwvdmVzL2FtZW5kLXZlcy1yZXF1ZXN0L2FtZW5kLXZlcy1yZXF1ZXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFVBQUE7QUNDSjs7QURFQTtFQUNJLGtDQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksc0JBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksd0NBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksc0NBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksVUFBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQ0FBQTtBQ0NKOztBREdBO0VBQ0ksZ0NBQUE7QUNBSjs7QURJSTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7QUNEUjtBREtRO0VBQ0ksc0NBQUE7QUNIWjtBRE1RO0VBQ0ksc0NBQUE7RUFDQSxVQUFBO0VBQ0EsaUNBQUE7QUNKWjtBRE1ZO0VBQ0kseUJBQUE7QUNKaEI7O0FEVUE7RUFDSSxZQUFBO0VBQ0EsWUFBQTtBQ1BKO0FEQ0Esb3RMQUFvdEwiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAgLm4yLWZpbGUtdXBsb2FkIHtcclxuICAgIGhlaWdodDogMTAlO1xyXG4gICAgd2lkdGg6IDEwJTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUtY2hlY2sge1xyXG4gICAgY29sb3I6IHZhcigtLWdyZWVuLTUwMCkgIWltcG9ydGFudDtcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmRhdGVUaW1lRmllbGQgaW5wdXQge1xyXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgIHdpZHRoOiA1MDBweDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUteG1hcmsge1xyXG4gICAgY29sb3I6ICNlMjRjNGM7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS1yb3RhdGUge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0teWVsbG93LTMwMCkgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgZm9udC1zaXplOiAxLjRlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5mYS0wIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLWJsdWUtMzAwKSAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICNmZmZmZmY7XHJcbiAgICBmb250LXNpemU6IDEuNGVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMmVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnAtcGFuZWwgLnAtZHJvcGRvd24ge1xyXG4gICAgd2lkdGg6IDc1JTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWlucHV0dGV4dC5uZy10b3VjaGVkLm5nLWludmFsaWQge1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCBwLWRyb3Bkb3duLm5nLXRvdWNoZWQubmctaW52YWxpZD4ucC1kcm9wZG93biB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIHAtY2FsZW5kYXIubmctdG91Y2hlZC5uZy1pbnZhbGlkPi5wLWNhbGVuZGFyPi5wLWlucHV0dGV4dCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufVxyXG5cclxuLy8gaWYgUmVwb3J0IEVuZCBEYXRlIGdyZWF0ZXIgdGhhbiBSZXBvcnQgU3RhcnQgRGF0ZVxyXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXI+LnAtY2FsZW5kYXI+LnAtaW5wdXR0ZXh0IHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucC1zY3JvbGxwYW5lbCB7XHJcbiAgICBwIHtcclxuICAgICAgICBwYWRkaW5nOiAuNXJlbTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgIH1cclxuXHJcbiAgICAmLmN1c3RvbWJhcjEge1xyXG4gICAgICAgIC5wLXNjcm9sbHBhbmVsLXdyYXBwZXIge1xyXG4gICAgICAgICAgICBib3JkZXItcmlnaHQ6IDlweCBzb2xpZCB2YXIoLS1sYXllci0xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5wLXNjcm9sbHBhbmVsLWJhciB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4ycztcclxuXHJcbiAgICAgICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2FkOTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5yZW1hcmtzUGFuZWwgLnAtcGFuZWwtY29udGVudCB7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbn0iLCI6aG9zdCA6Om5nLWRlZXAgLm4yLWZpbGUtdXBsb2FkIHtcbiAgaGVpZ2h0OiAxMCU7XG4gIHdpZHRoOiAxMCU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZmEtY2lyY2xlLWNoZWNrIHtcbiAgY29sb3I6IHZhcigtLWdyZWVuLTUwMCkgIWltcG9ydGFudDtcbiAgZm9udC1zaXplOiAyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZGF0ZVRpbWVGaWVsZCBpbnB1dCB7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHdpZHRoOiA1MDBweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS1jaXJjbGUteG1hcmsge1xuICBjb2xvcjogI2UyNGM0YztcbiAgZm9udC1zaXplOiAyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZmEtcm90YXRlIHtcbiAgYmFja2dyb3VuZDogdmFyKC0teWVsbG93LTMwMCkgIWltcG9ydGFudDtcbiAgY29sb3I6ICMwMDAwMDA7XG4gIGZvbnQtc2l6ZTogMS40ZW07XG4gIGJvcmRlci1yYWRpdXM6IDJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5mYS0wIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmx1ZS0zMDApICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBmb250LXNpemU6IDEuNGVtO1xuICBib3JkZXItcmFkaXVzOiAyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1wYW5lbCAucC1kcm9wZG93biB7XG4gIHdpZHRoOiA3NSU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1pbnB1dHRleHQubmctdG91Y2hlZC5uZy1pbnZhbGlkIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCBwLWRyb3Bkb3duLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWRyb3Bkb3duIHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCBwLWNhbGVuZGFyLm5nLXRvdWNoZWQubmctaW52YWxpZCA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlciA+IC5wLWNhbGVuZGFyID4gLnAtaW5wdXR0ZXh0IHtcbiAgYm9yZGVyLWNvbG9yOiAjZTI0YzRjICFpbXBvcnRhbnQ7XG59XG5cbi5wLXNjcm9sbHBhbmVsIHAge1xuICBwYWRkaW5nOiAwLjVyZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIG1hcmdpbjogMDtcbn1cbi5wLXNjcm9sbHBhbmVsLmN1c3RvbWJhcjEgLnAtc2Nyb2xscGFuZWwtd3JhcHBlciB7XG4gIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHZhcigtLWxheWVyLTEpO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC1iYXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xufVxuLnAtc2Nyb2xscGFuZWwuY3VzdG9tYmFyMSAucC1zY3JvbGxwYW5lbC1iYXI6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWQ5O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnJlbWFya3NQYW5lbCAucC1wYW5lbC1jb250ZW50IHtcbiAgcGFkZGluZzogMHB4O1xuICBib3JkZXI6IG5vbmU7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AmendVesRequestComponent","constructor","fb","toastService","n2httpService","nspConfirmService","dateUtilsService","exportUtilsService","createVesService","fileUploadService","route","router","localeId","group","nric","forms_1","required","name","remarks","extensionStartDt","extensionEndDt","validators","date_validator_directive_1","dateLessThanOrEquals","file","fileupload2_directive_1","allowableExtension","adminEmail","display","currentDate","Date","ngOnInit","console","log","snapshot","paramMap","get","requestId","generateForm","patchValue","loadData","confirmationChange","checkNRIC","value","i","recordList","length","checkInput","input","extensionStartDts","String","formatStrDate","extensionEndDts","orange","oldLists","dirty","changes","push","j","emails","emailForm","addRecord","id","checkIfNricHasVesActive","subscribe","res","status","body","data","error","record","reset","removeRecord","splice","onCancel","info","getById","getrequest","records","supportingDocsList","supportingDocs","remarksList","message","markAsPristine","vesFileUpload","pFileUpload","clear","selectedFiles","onChange","files","verifiedFiles","baseFilesObj","selectedFilesObj","errCount","ngOnDestroy","addRequest","fileTxnId","map","x","meta_data","request","vesRequestId","remarksForm","hasError","setTimeout","postAmendRequest","isFileVerified","disableButtons","success","navigate","warn","error_desc","confirmationDialog","onOpen","dialog","displayRemarksList","displayRemarks","remark","delete","deleteVesRequest","downloadDoc","docId","downloadTxnId","contentDispositionHeader","headers","fileName","split","trim","replace","blob","Blob","type","anchor","document","createElement","href","URL","createObjectURL","download","click","exportCSV","dataTable","columns","field","header","index","dtoList","forEach","dto","filename","createdDt","createdBy","totalElements","concat","exports","core_1","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\amend-ves-request\\amend-ves-request.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\payroll\\ves\\amend-ves-request\\amend-ves-request.component.html"],"sourcesContent":["import { formatDate } from '@angular/common';\r\nimport { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { Ns2HttpService } from 'app/shared/service/ns2-http.service';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport { FileUploadComponent } from 'app/shared/component/file-upload/file-upload.component';\r\nimport { FileUploadValidator2 } from 'app/shared/validator/fileupload2.directive';\r\nimport { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport { NRICValidator } from 'app/shared/validator/nric.directive';\r\nimport { EmailValidator } from 'app/shared/validator/email.directive';\r\nimport { IQueryVES } from '../model/create-ves-request.model';\r\nimport { IQueryAmendVES, RecordList, RemarksList, SupportingDocsList, OldLists } from '../model/amend-ves-request.model';\r\nimport { CreateVesService } from '../service/create-ves.service';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { LazyLoadEvent } from \"primeng/api\";\r\nimport { identifierName } from '@angular/compiler';\r\nimport { Table } from 'primeng/table';\r\nimport { FileUploadService } from 'app/shared/service/file-upload.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'n2-amend-ves-request',\r\n  templateUrl: './amend-ves-request.component.html',\r\n  styleUrls: ['./amend-ves-request.component.scss']\r\n})\r\nexport class AmendVesRequestComponent implements OnInit {\r\n\r\n  getrequest: IQueryAmendVES;\r\n  remarksList: RemarksList[] = [];\r\n  supportingDocsList: SupportingDocsList[] = [];\r\n  changes: string[] = [];\r\n  status: boolean;\r\n  emails: string[] = [];\r\n  requestId: string;\r\n\r\n  recordList: RecordList[] = [];\r\n  oldLists: OldLists[] = [];\r\n\r\n  generateForm: FormGroup = this.fb.group({\r\n    nric: new FormControl('', [Validators.required, NRICValidator()]),\r\n    name: new FormControl('', Validators.required),\r\n    remarks: new FormControl('', Validators.required),\r\n    extensionStartDt: new FormControl(null, Validators.required),\r\n    extensionEndDt: new FormControl(null, Validators.required),\r\n  }, {\r\n    validators: DateValidator.dateLessThanOrEquals(\"extensionStartDt\", \"extensionEndDt\")\r\n  }\r\n  );\r\n\r\n  uploadForm: FormGroup = this.fb.group({\r\n    file: new FormControl([], [FileUploadValidator2.allowableExtension(\".pdf\")])\r\n  }, {});\r\n\r\n  emailForm: FormGroup = this.fb.group({\r\n    adminEmail: new FormControl('', [Validators.required, EmailValidator()]),\r\n  }, {});\r\n\r\n  remarksForm: FormGroup = this.fb.group({\r\n    remarks: new FormControl(''),\r\n  }, {});\r\n\r\n  currentDate: Date;\r\n\r\n  isFileVerified = false;\r\n\r\n  confirmationDialog: any = { display: false };\r\n\r\n  @ViewChild('fileTable') table: Table;\r\n\r\n  @ViewChild(\"vesFileUpload\", { static: true })\r\n  private vesFileUpload!: FileUploadComponent;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private toastService: CustomToastService,\r\n    private n2httpService: Ns2HttpService,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private dateUtilsService: DateUtilsService,\r\n    private exportUtilsService: ExportUtilsService,\r\n    private createVesService: CreateVesService,\r\n    private fileUploadService: FileUploadService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    @Inject(LOCALE_ID) protected localeId: string,\r\n\r\n  ) {\r\n\r\n    this.currentDate = new Date();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"VES Request ID: \", this.route.snapshot.paramMap.get(\"id\"));\r\n    this.requestId = this.route.snapshot.paramMap.get(\"id\");\r\n    this.generateForm.get('name').patchValue(\"-\");\r\n    this.loadData();\r\n    this.confirmationChange();\r\n  }\r\n\r\n  checkNRIC(): boolean {\r\n    let value = true;\r\n    for (let i = 0; i < this.recordList.length; i++) {\r\n      if (this.recordList[i].nric === this.generateForm.get('nric').value as string) {\r\n        value = false;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  checkInput(input: string): string {\r\n    const nric = this.generateForm.get('nric').value;\r\n    const extensionStartDt = this.generateForm.get('extensionStartDt').value;\r\n    const extensionEndDt = this.generateForm.get('extensionEndDt').value;\r\n\r\n    const extensionStartDts = String(this.dateUtilsService.formatStrDate(extensionStartDt, \"DD-MM-YYYY\"))\r\n    const extensionEndDts = String(this.dateUtilsService.formatStrDate(extensionEndDt, \"DD-MM-YYYY\"))\r\n    let orange = '';\r\n\r\n    for (let i = 0; i < this.oldLists.length; i++) {\r\n      if (this.oldLists[i].nric === nric) {\r\n        if (input === \"endDate\") {\r\n          if (String(this.dateUtilsService.formatStrDate(this.oldLists[i].extensionEndDt, \"DD-MM-YYYY\")) !== extensionEndDts &&\r\n            this.generateForm.get('extensionEndDt').dirty) {\r\n            orange = 'border-dashed border-yellow-500';\r\n          }\r\n        }\r\n\r\n        if (input === \"startDate\") {\r\n          if (String(this.dateUtilsService.formatStrDate(this.oldLists[i].extensionStartDt, \"DD-MM-YYYY\")) !== extensionStartDts &&\r\n            this.generateForm.get('extensionStartDt').dirty) {\r\n            orange = 'border-dashed border-yellow-500';\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n    return orange;\r\n  }\r\n\r\n  confirmationChange() {\r\n    this.changes = [];\r\n    this.changes.push(\"[System]\");\r\n\r\n    for (let i = 0; i < this.recordList.length; i++) {\r\n      for (let j = 0; j < this.oldLists.length; j++) {\r\n        if (this.oldLists[j].nric !== this.recordList[i].nric) {\r\n          this.changes.push(\"Added \" + String(this.recordList[i].nric) + \" with Start of Extension for \" +\r\n            String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")) + \" to End of Extension \" +\r\n            String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")))\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.emails[0] !== this.emailForm.get('adminEmail').value as string) {\r\n      this.changes.push(\"Changed Email \" + String(this.emails[0]) + \" to \" + String(this.emailForm.get('adminEmail').value))\r\n    }\r\n\r\n    for (let i = 0; i < this.recordList.length; i++) {\r\n      for (let j = 0; j < this.oldLists.length; j++) {\r\n\r\n        if (this.recordList[i].nric === this.oldLists[j].nric) {\r\n          if (String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")) !==\r\n            String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionStartDt, \"DD-MM-YYYY\"))) {\r\n            this.changes.push(\"Start of Extension for \" + this.recordList[i].nric + \" changed from \" +\r\n              String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionStartDt, \"DD-MM-YYYY\")) + \" to \" +\r\n              String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionStartDt, \"DD-MM-YYYY\")));\r\n          }\r\n\r\n          if (String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")) !==\r\n            String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionEndDt, \"DD-MM-YYYY\"))) {\r\n\r\n            this.changes.push(\"End of Extension for \" + this.recordList[i].nric + \" changed from \" +\r\n              String(this.dateUtilsService.formatStrDate(this.oldLists[j].extensionEndDt, \"DD-MM-YYYY\")) + \" to \" +\r\n              String(this.dateUtilsService.formatStrDate(this.recordList[i].extensionEndDt, \"DD-MM-YYYY\")));\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  addRecord(): void {\r\n    const id = this.generateForm.get('nric').value as string;\r\n    this.createVesService.checkIfNricHasVesActive(id).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.status = res.body.data\r\n      }\r\n    );\r\n\r\n    if (this.checkNRIC() === true) {\r\n      if (!this.status) {\r\n        if (this.generateForm.get('name').value as string === '') {\r\n          this.toastService.error(\"No Name Added\");\r\n        }\r\n        else {\r\n          const record: RecordList = {\r\n            nric: this.generateForm.get('nric').value as string,\r\n            name: this.generateForm.get('name').value as string,\r\n            remarks: this.generateForm.get('remarks').value as string,\r\n            extensionStartDt: this.generateForm.get('extensionStartDt').value as Date,\r\n            extensionEndDt: this.generateForm.get('extensionEndDt').value as Date\r\n          }\r\n          this.recordList.push(record);\r\n\r\n          this.generateForm.reset();\r\n          this.generateForm.get('name').patchValue(\"-\");\r\n        }\r\n      }\r\n      else {\r\n        this.toastService.error(\"PRL-E37206\");\r\n      }\r\n    }\r\n    else {\r\n      this.toastService.error(\"Duplicated NRIC\");\r\n    }\r\n  }\r\n\r\n  removeRecord(id: any) {\r\n    this.recordList.splice(id, 1);\r\n  }\r\n\r\n  onCancel(): void {\r\n    this.toastService.info('Cancelled');\r\n\r\n    this.createVesService.getById(this.requestId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.getrequest = res.body.data;\r\n        this.recordList = res.body.data.records;\r\n        this.supportingDocsList = res.body.data.supportingDocs;\r\n        this.remarksList = res.body.data.remarks;\r\n        this.emailForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error.message);\r\n        console.log(this.getrequest);\r\n      }\r\n    );\r\n\r\n    this.generateForm.markAsPristine();\r\n    this.emailForm.markAsPristine();\r\n    this.generateForm.reset({\r\n      nric: null,\r\n      name: null,\r\n      remarks: null,\r\n      extensionStartDt: null,\r\n      extensionEndDt: null,\r\n    });\r\n\r\n    this.vesFileUpload.pFileUpload.clear();\r\n    this.vesFileUpload.selectedFiles = [];\r\n    this.vesFileUpload.onChange(this.vesFileUpload.pFileUpload.files);\r\n    this.vesFileUpload.selectedFiles = [];\r\n    this.vesFileUpload.pFileUpload.files = [];\r\n    this.vesFileUpload.verifiedFiles = [];\r\n    this.vesFileUpload.baseFilesObj = [];\r\n    this.vesFileUpload.selectedFilesObj = [];\r\n    this.vesFileUpload.selectedFiles = [];\r\n    this.vesFileUpload.errCount = 0;\r\n    this.vesFileUpload.ngOnDestroy();\r\n    this.generateForm.get('name').patchValue(\"-\");\r\n  }\r\n\r\n\r\n  addRequest(): void {\r\n    const fileTxnId = this.vesFileUpload.verifiedFiles.map(x => String(x.meta_data.id));\r\n    const request = {\r\n      adminEmail: this.emailForm.get('adminEmail').value as string,\r\n      supportingDocs: fileTxnId,\r\n      records: this.recordList,\r\n      vesRequestId: this.requestId,\r\n      remarks: this.remarksForm.get('remarks').value as string\r\n    }\r\n    if (this.emailForm.get('adminEmail')?.hasError('adminEmail')) {\r\n      this.toastService.error(\"Email Invalid\");\r\n    } else {\r\n      setTimeout(() => {\r\n        this.createVesService.postAmendRequest(request).subscribe(\r\n          (res: HttpResponse<any>) => {\r\n            if (res.body) {\r\n              this.isFileVerified = res.body?.data;\r\n              if (this.isFileVerified) {\r\n                this.vesFileUpload.disableButtons(true);\r\n              }\r\n              this.toastService.success(\"Created successfully\");\r\n              this.router.navigate(['payroll/ves']);\r\n            }\r\n            else {\r\n              this.toastService.warn(\"Unsuccessful\");\r\n            }\r\n          },\r\n          (error: HttpErrorResponse) => {\r\n            this.toastService.error(error.error.error_desc)\r\n            this.confirmationDialog.display = false;\r\n          }\r\n        );\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  onOpen(dialog: any): void {\r\n    dialog.display = true;\r\n  }\r\n\r\n  loadData(): void {\r\n    setTimeout(() => {\r\n      this.createVesService.getById(this.requestId).subscribe(\r\n        (res: HttpResponse<any>) => {\r\n          console.log(res);\r\n          if (res.body.data.status === \"PENDING_APPROVAL\") {\r\n            this.toastService.info(\"Request is already pending approval\");\r\n            this.router.navigate(['payroll/ves']);\r\n          }\r\n          this.getrequest = res.body.data;\r\n          //console.log(this.getrequest.adminEmail);\r\n          this.recordList = res.body.data.records;\r\n          this.supportingDocsList = res.body.data.supportingDocs;\r\n          this.remarksList = res.body.data.remarks;\r\n          this.emailForm.get('adminEmail').patchValue(this.recordList[0].adminEmail);\r\n          this.emails.push(this.recordList[0].adminEmail);\r\n\r\n          for (let i = 0; i < this.recordList.length; i++) {\r\n            console.log(this.recordList[i]);\r\n            this.oldLists.push(this.recordList[i]);\r\n          }\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n          console.log(error.message);\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n\r\n  displayRemarksList(): string {\r\n    let displayRemarks = \"\";\r\n    for (const remark of this.remarksList) {\r\n      displayRemarks += remark.remarks + \"\\n\\n\";\r\n    }\r\n\r\n    return displayRemarks;\r\n  }\r\n\r\n  delete() {\r\n    this.createVesService.deleteVesRequest(this.requestId).subscribe(\r\n      (res: HttpResponse<any>) => {\r\n        this.toastService.error(\"Deleted\");\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        console.log(error);\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n  downloadDoc(docId: string): void {\r\n    if (docId) {\r\n      this.fileUploadService.downloadTxnId(docId).subscribe(\r\n        res => {\r\n          if (res) {\r\n            const data = res;\r\n            const contentDispositionHeader: string = data.headers.get('content-disposition');\r\n            const fileName = contentDispositionHeader.split(';')[1].trim().split('=')[1].replace(/\"/g, '');\r\n            const blob = new Blob([data.body], { type: data.headers.get('content-type') });\r\n            const anchor = document.createElement(\"a\");\r\n            anchor.href = URL.createObjectURL(blob);\r\n            anchor.download = fileName;\r\n            anchor.click();\r\n          }\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          this.toastService.error(error.error?.error_desc);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    this.createVesService.getById(this.requestId).subscribe(\r\n      res => {\r\n        if (res.body.data.supportingDocs) {\r\n          const data = res.body.data.supportingDocs;\r\n          const columns =\r\n            [\r\n              { field: 'filename', header: 'File Name', index: 0 },\r\n              { field: 'createdDt', header: 'Created Date', index: 1 },\r\n              { field: 'createdBy', header: 'Created By', index: 2 }\r\n            ];\r\n\r\n          const dtoList: any[] = [];\r\n          console.log(\"data\", data);\r\n          data.forEach((record: SupportingDocsList, index: number) => {\r\n            const dto = {\r\n              filename: `${String(record.filename)}`,\r\n              createdDt: `${String(this.dateUtilsService.formatStrDate(record.createdDt, \"DD-MM-YYYY\"))}`,\r\n              createdBy: `${String(record.createdBy)}`\r\n            }\r\n            dtoList.push(dto);\r\n          });\r\n          this.exportUtilsService.exportCSV(dataTable, dtoList, res.body.data.totalElements, columns,\r\n            \"data_\".concat(formatDate(new Date(), \"dd-MM-YYYY\", this.localeId)));\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error.error?.error_desc);\r\n      })\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","<p-panel header=\"Approve/Reject: Amend VES Request\">\r\n\r\n    <div class=\"grid\">\r\n        <div class=\"col-6\">\r\n            <div class=\"grid\">\r\n                <div class=\"col-12\">\r\n                    <p-panel class=\"remarksPanel\" header='Request Remarks'>\r\n                        <textarea pInputTextarea disabled=\"true\" class=\"form-control\" rows=\"8\">{{displayRemarksList()}}\r\n                        </textarea>\r\n                    </p-panel>\r\n                    <p></p>\r\n                    <p-panel header='VES Detail'>\r\n                        <ng-template pTemplate='header'>\r\n                            <span class='p-panel-title'></span>\r\n                        </ng-template>\r\n                        <form [formGroup]=\"generateForm\">\r\n                            <div class=\"formgrid grid\">\r\n                                <div class=\"field col-12 md:col-6\">\r\n                                    <label for=\"nric\">NRIC</label>\r\n                                    <input type=\"text\" pInputText id=\"nric\" formControlName=\"nric\" class=\"w-full\">\r\n                                    <div *ngIf=\"generateForm.get('nric')?.hasError('required') && generateForm.get('nric')?.touched\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Please enter a value</div>\r\n                                    <div *ngIf=\"generateForm.get('nric')?.hasError('nric') && generateForm.get('nric')?.dirty\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Invalid NRIC format</div>\r\n                                </div>\r\n                                <div class=\"field col-12 md:col-6\">\r\n                                    <label for=\"extensionStartDt\">Start of Extension</label>\r\n                                    <p-calendar id=\"extensionStartDt\" formControlName=\"extensionStartDt\"\r\n                                        dateFormat=\"dd-mm-yy\" inputId=\"dateformat\" styleClass=\"dateTimeField\"\r\n                                        inputStyleClass=\"{{checkInput('startDate')}}\">\r\n                                    </p-calendar>\r\n                                    <div *ngIf=\"generateForm.get('extensionStartDt')?.hasError('required') && generateForm.get('extensionStartDt')?.touched\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Please enter a value\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"field col-12 md:col-6\">\r\n                                    <label for=\"name\">Name</label>\r\n                                    <input type=\"text\" pInputText id=\"name\" [readonly]=\"true\" formControlName=\"name\"\r\n                                        class=\"w-full\">\r\n                                    <div *ngIf=\"generateForm.get('name')?.hasError('required') && generateForm.get('name')?.touched\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Please enter a value\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"field col-12 md:col-6\">\r\n                                    <label for=\"extensionEndDt\">End of Extension</label>\r\n                                    <p-calendar id=\"extensionEndDt\" formControlName=\"extensionEndDt\"\r\n                                        dateFormat=\"dd-mm-yy\" styleClass=\"dateTimeField\"\r\n                                        inputStyleClass=\"{{checkInput('endDate')}}\">\r\n                                    </p-calendar>\r\n                                    <div *ngIf=\"generateForm.get('extensionEndDt')?.hasError('required') && generateForm.get('extensionEndDt')?.touched\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Please enter a value\r\n                                    </div>\r\n                                    <div *ngIf=\"generateForm.errors?.['invalidDateLessThanOrEquals'] && generateForm.get('extensionEndDt')?.dirty\"\r\n                                        class=\"form-text text-danger\">\r\n                                        Report Start Date needs to be greater than Report End Date\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"field col-12\">\r\n                                    <label for=\"remarks\">Remarks</label>\r\n                                    <textarea type=\"text\" pInputText id=\"remarks\" formControlName=\"remarks\" rows=\"4\"\r\n                                        class=\"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full\"></textarea>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n\r\n                        <div class=\"flex justify-content-end\">\r\n                            <button pButton type=\"button\" label=\"Add Another Record\" (click)=\"addRecord()\"></button>\r\n                        </div>\r\n                    </p-panel>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <p-panel header='Added NSmen'>\r\n                        <ng-template pTemplate='header'>\r\n                            <span class='p-panel-title'></span>\r\n                        </ng-template>\r\n\r\n                        <p-table [value]=\"recordList\" styleClass=\"p-datatable-gridlines\"\r\n                            currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\">\r\n                            <ng-template pTemplate=\"header\">\r\n                                <tr>\r\n                                    <th scope=\"col\" style=\"width: 20%\">NRIC</th>\r\n                                    <th scope=\"col\" style=\"width: 20%\">Name</th>\r\n                                    <th scope=\"col\" style=\"width: 20%\"> Start of Extension</th>\r\n                                    <th scope=\"col\" style=\"width: 20%\"> End of Extension</th>\r\n                                    <th scope=\"col\" style=\"width: 10%\"> </th>\r\n                                </tr>\r\n                            </ng-template>\r\n                            <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n                                <tr>\r\n                                    <td>{{ record.nric }}</td>\r\n                                    <td>{{ record.name }}</td>\r\n                                    <td>{{ record.extensionStartDt | date: 'dd-MM-yyyy' }}</td>\r\n                                    <td>{{ record.extensionEndDt | date: 'dd-MM-yyyy' }}</td>\r\n                                    <td style=\"text-align: center; vertical-align: middle;\">\r\n                                        <button (click)=\"removeRecord(i)\" pButton type=\"button\"\r\n                                            class=\"p-button-raised p-button-rounded p-button-danger\"\r\n                                            icon=\"pi pi-times\"></button>\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-template>\r\n                        </p-table>\r\n                    </p-panel>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-6\">\r\n            <p-panel header='Unit Administrator'>\r\n                <ng-template pTemplate='header'>\r\n                    <span class='p-panel-title'></span>\r\n                </ng-template>\r\n                <form [formGroup]=\"emailForm\">\r\n                    <div class=\"field col-12\">\r\n                        <label for=\"adminEmail\">Email</label>\r\n                        <input type=\"text\" pInputText id=\"adminEmail\" formControlName=\"adminEmail\"\r\n                            class=\"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full\">\r\n                        <div *ngIf=\"emailForm.get('adminEmail')?.hasError('required') && emailForm.get('adminEmail')?.touched\"\r\n                            class=\"form-text text-danger\">\r\n                            Please enter a value\r\n                        </div>\r\n                        <div *ngIf=\"emailForm.get('adminEmail')?.hasError('adminEmail') && emailForm.get('adminEmail')?.dirty\"\r\n                            class=\"form-text text-danger\">\r\n                            Invalid Email format</div>\r\n                    </div>\r\n                </form>\r\n                <p-table #fileTable styleClass='p-datatable-gridlines' [value]=\"supportingDocsList\">\r\n                    <ng-template pTemplate='caption'>\r\n                        <div class='grid'>\r\n                            <div class='col-6 nsp-align-left flex justify-content-start align-items-center'>\r\n                                <button type='button' pButton pRipple icon='pi pi-file-o' pTooltip='Export as CSV'\r\n                                    tooltipPosition='bottom' (click)=\"exportCSV(fileTable)\"></button>\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n                    <ng-template pTemplate='header'>\r\n                        <tr>\r\n                            <th scope=\"col\" pSortableColumn='filename'>Filename<p-sortIcon field='filename'>\r\n                                </p-sortIcon>\r\n                            </th>\r\n                            <th scope=\"col\" pSortableColumn='uploadedon'>Uploaded On<p-sortIcon field='uploadedon'>\r\n                                </p-sortIcon>\r\n                            </th>\r\n                            <th scope=\"col\" pSortableColumn='uploadedby'>Uploaded By<p-sortIcon field='uploadedby'>\r\n                                </p-sortIcon>\r\n                            </th>\r\n                        </tr>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n                        <tr>\r\n                            <td><a class=\"underline text-blue-500\"\r\n                                    (click)=\"downloadDoc(record.documentId)\">{{record.filename}}</a>\r\n                            <td>{{record.createdDt | date: 'dd-MM-YYYY (HHmm)'}}</td>\r\n                            <td>{{record.createdBy}}</td>\r\n                        </tr>\r\n                    </ng-template>\r\n                </p-table>\r\n                <p></p>\r\n                <form [formGroup]=\"uploadForm\">\r\n                    <n2-file-upload #vesFileUpload styleClass=\"custombar2\" formControlName=\"file\"></n2-file-upload>\r\n                </form>\r\n                <p>Note: The uploaded supporting document above will be attached to all the VES records created in this\r\n                    transaction.</p>\r\n            </p-panel>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"flex justify-content-end align-items-center\">\r\n        <div>\r\n            <button pButton type=\"button\" label=\"Remove\" class=\"p-button-outlined p-button-danger\"\r\n                (click)=\"delete()\"></button>\r\n            <button pButton type=\"button\" label=\"Cancel\" class=\"p-button-danger\" (click)=\"onCancel()\"></button>\r\n            <button pButton type=\"button\" label=\"Submit\" [disabled]=\"!uploadForm.valid\"\r\n                (click)=\"onOpen(confirmationDialog);\" (click)=\"confirmationChange();\"></button>\r\n        </div>\r\n    </div>\r\n</p-panel>\r\n\r\n<p-dialog header='Amend Request Confirmation' [(visible)]='confirmationDialog.display' [breakpoints]=\"{'960px': '75vw'}\"\r\n    [style]=\"{width: '50vw'}\" [draggable]='false' [resizable]='false' [modal]='true'>\r\n    <div *ngFor=\"let change of changes\">\r\n        {{change}}\r\n    </div>\r\n    <p></p>\r\n    <form [formGroup]=\"remarksForm\">\r\n        <label for=\"remarks\">Remarks</label>\r\n        <textarea type=\"text\" pInputText id=\"remarks\" formControlName=\"remarks\" rows=\"4\"\r\n            class=\"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full\"></textarea>\r\n    </form>\r\n    <ng-template pTemplate='footer'>\r\n        <button pButton class='p-button-danger' label='Cancel' (click)='confirmationDialog.display=false'\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n        <p-confirmPopup key='FileUpload'></p-confirmPopup>\r\n        <button pButton label='Submit' (click)=\"addRequest()\"\r\n            [style]=\"{'margin-left': '.5em' , 'margin-bottom': '.5em'}\"></button>\r\n    </ng-template>\r\n</p-dialog>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}