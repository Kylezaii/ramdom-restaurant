{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateAccessRightRequestComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst forms_1 = require(\"@angular/forms\");\nconst api_1 = require(\"primeng/api\");\nconst nspay2_constants_1 = require(\"app/nspay2.constants\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../../service/access-right-request.service\"));\nconst i2 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i3 = tslib_1.__importStar(require(\"app/ng-connect\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/dynamicdialog\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i6 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i7 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i8 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i14 = tslib_1.__importStar(require(\"../../../../../shared/language/translate.directive\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nfunction CreateAccessRightRequestComponent_div_23_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_23_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_23_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_23_div_2_Template, 2, 0, \"div\", 24);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵtemplate(4, CreateAccessRightRequestComponent_div_23_div_4_Template, 2, 0, \"div\", 25);\n    i0.ɵɵtext(5, \"\\n                    \");\n    i0.ɵɵtemplate(6, CreateAccessRightRequestComponent_div_23_div_6_Template, 2, 0, \"div\", 26);\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.newRequestForm.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.existingRequest);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.failedEDS);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_34_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_34_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.newRequestForm.get(\"effectiveDateOfChange\").errors == null ? null : ctx_r1.newRequestForm.get(\"effectiveDateOfChange\").errors[\"required\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_56_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_56_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.newRequestForm.get(\"salutation\").errors == null ? null : ctx_r2.newRequestForm.get(\"salutation\").errors[\"required\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_69_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_69_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_69_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵtemplate(4, CreateAccessRightRequestComponent_div_69_div_4_Template, 2, 0, \"div\", 33);\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.newRequestForm.get(\"displayName\").errors == null ? null : ctx_r3.newRequestForm.get(\"displayName\").errors[\"required\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.newRequestForm.get(\"displayName\").errors == null ? null : ctx_r3.newRequestForm.get(\"displayName\").errors[\"minlength\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_79_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_79_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_79_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵtemplate(4, CreateAccessRightRequestComponent_div_79_div_4_Template, 2, 0, \"div\", 35);\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.newRequestForm.get(\"userInitial\").errors == null ? null : ctx_r4.newRequestForm.get(\"userInitial\").errors[\"required\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.newRequestForm.get(\"userInitial\").errors == null ? null : ctx_r4.newRequestForm.get(\"userInitial\").errors[\"minlength\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_101_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_101_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.newRequestForm.get(\"unit\").errors == null ? null : ctx_r5.newRequestForm.get(\"unit\").errors[\"required\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_120_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_120_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_120_div_2_Template, 2, 0, \"div\", 37);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.newRequestForm.get(\"contactNo\").errors == null ? null : ctx_r6.newRequestForm.get(\"contactNo\").errors[\"pattern\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_131_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_131_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_131_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.newRequestForm.get(\"status\").errors == null ? null : ctx_r7.newRequestForm.get(\"status\").errors[\"required\"]);\n  }\n}\nfunction CreateAccessRightRequestComponent_div_145_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CreateAccessRightRequestComponent_div_145_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, CreateAccessRightRequestComponent_div_145_div_2_Template, 2, 0, \"div\", 31);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.newRequestForm.get(\"role\").errors == null ? null : ctx_r8.newRequestForm.get(\"role\").errors[\"required\"]);\n  }\n}\nconst _c0 = function () {\n  return {\n    \"padding\": \"1rem 1.5rem 0.5rem 1.5rem\",\n    \"background\": \"#f8f9fa\",\n    \"border\": \"1px solid #dee2e6\"\n  };\n};\nconst _c1 = function () {\n  return {\n    \"float\": \"right\"\n  };\n};\nconst _c2 = function () {\n  return {\n    \"padding\": \"1rem 1.5rem 0.5rem 1.5rem\"\n  };\n};\nconst _c3 = function () {\n  return {\n    \"height\": \"150%\"\n  };\n};\nconst _c4 = function () {\n  return {\n    \"width\": \"100%\",\n    \"min-width\": \"100%\"\n  };\n};\nclass CreateAccessRightRequestComponent {\n  constructor(accessRightRequestService, confirmationService, codeService, dialogRef, formBuilder, toastService, dateUtilsService) {\n    this.accessRightRequestService = accessRightRequestService;\n    this.confirmationService = confirmationService;\n    this.codeService = codeService;\n    this.dialogRef = dialogRef;\n    this.formBuilder = formBuilder;\n    this.toastService = toastService;\n    this.dateUtilsService = dateUtilsService;\n    this.unitOptions = [];\n    this.optRoleList = [];\n    this.mainRoleList = [];\n    this.statusOptions = [];\n    this.salutationOptions = [];\n    this.dateFormat = \"DD-MM-yyyy\";\n    this.contactNoPattern = \"[0-9]{8,}\";\n    this.newRequestForm = this.formBuilder.group({\n      email: ['', [forms_1.Validators.required, forms_1.Validators.email]],\n      effectiveDateOfChange: [null, [forms_1.Validators.required]],\n      name: [{\n        value: '',\n        disabled: true\n      }, [forms_1.Validators.required]],\n      salutation: ['', [forms_1.Validators.required]],\n      displayName: ['', [forms_1.Validators.required, forms_1.Validators.minLength(4)]],\n      userInitial: ['', [forms_1.Validators.required, forms_1.Validators.minLength(2)]],\n      appointment: [{\n        value: '',\n        disabled: true\n      }, [forms_1.Validators.required]],\n      unit: ['', [forms_1.Validators.required]],\n      contactNo: ['', [forms_1.Validators.pattern(this.contactNoPattern)]],\n      status: ['', [forms_1.Validators.required]],\n      role: ['', [forms_1.Validators.required]],\n      optionalRole: [['']],\n      expiredOn: [],\n      requestStatus: ['']\n    });\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.retrieveSalutationOptions();\n    this.retrieveStatusOptions();\n    this.retrieveUnitOptions();\n    this.retrieveMainRoleList();\n    this.retrieveOptRoleList();\n  }\n  retrieveSalutationOptions() {\n    this.codeService.gets('salutation').subscribe(codes => {\n      this.salutationOptions = codes[0].map(x => ({\n        code: x.codeId,\n        desc: x.label['en-US']\n      }));\n      console.log(\"Saluatation options\", this.salutationOptions);\n    });\n  }\n  retrieveStatusOptions() {\n    this.statusOptions = nspay2_constants_1.NSPAY2_ACCESS_STATUS.map(x => ({\n      code: x.code,\n      desc: x.desc\n    }));\n    console.log(\"Status options\", this.statusOptions);\n  }\n  retrieveUnitOptions() {\n    this.accessRightRequestService.getReviewingUnits().subscribe({\n      next: res => {\n        this.unitOptions = res.body?.data;\n        console.log(\"Unit options\", this.unitOptions);\n      }\n    });\n  }\n  retrieveMainRoleList() {\n    this.accessRightRequestService.getAllMainRole().subscribe({\n      next: res => {\n        if (res.body.data) {\n          for (const [k, v] of Object.entries(res.body.data)) {\n            this.mainRoleList.push({\n              key: k,\n              value: v\n            });\n          }\n          console.log(\"Main role list\", this.mainRoleList);\n        }\n      }\n    });\n  }\n  retrieveOptRoleList() {\n    this.accessRightRequestService.getAllOptRole().subscribe({\n      next: res => {\n        if (res.body.data) {\n          for (const [k, v] of Object.entries(res.body.data)) {\n            this.optRoleList.push({\n              key: k,\n              value: v\n            });\n          }\n          console.log(\"Optional role list\", this.optRoleList);\n        }\n      }\n    });\n  }\n  searchByEmail() {\n    const email = this.newRequestForm.value.email;\n    this.accessRightRequestService.getUserByEmail(email).subscribe(resp => {\n      if (resp.body.data) {\n        console.log(\"User found and retrieved successfully\", resp.body.data);\n        this.user = resp.body.data;\n        this.clearValidationError();\n        this.patchUserDetails();\n      }\n    }, error => {\n      console.log(\"error is \" + String(error?.error?.error_desc));\n      const error_message = String(error?.error?.error_desc);\n      const existing_request = \"existing Access Right Request\";\n      const failed_to_retrieve = \"Failed to retrieve user from EDS\";\n      if (error_message.includes(existing_request)) {\n        this.existingRequest = true;\n      } else if (error_message.includes(failed_to_retrieve)) {\n        this.failedEDS = true;\n      }\n    });\n  }\n  clearValidationError() {\n    this.existingRequest = false;\n    this.failedEDS = false;\n  }\n  patchUserDetails() {\n    console.log(\"Patching user details...\");\n    this.newRequestForm.patchValue({\n      name: this.user?.name,\n      salutation: this.user?.salutation,\n      displayName: this.user?.displayName,\n      userInitial: this.user?.userInitial,\n      appointment: this.user?.appt,\n      unit: this.user?.unit,\n      contactNo: this.user?.phoneNum,\n      status: this.user?.status,\n      role: this.user?.roleId,\n      optionalRole: this.user?.optionalRoleId.split(\", \"),\n      expiredOn: this.user?.expiryDate,\n      requestStatus: 'New'\n    });\n  }\n  confirm(event) {\n    const reqType = this.getRequestType();\n    if (!this.newRequestForm.valid) {\n      this.newRequestForm.markAllAsTouched();\n    } else if (reqType === null) {\n      this.newRequestForm.markAsPending();\n    } else {\n      const request = {\n        // immutable fields\n        subjectId: this.user.subjectId,\n        name: this.user.name,\n        nric: this.user.nric,\n        appt: this.user.appt,\n        email: this.user.email,\n        expiryDate: this.dateUtilsService.convertDateToStr(this.user.expiryDate, this.dateFormat),\n        // mutable fields\n        effectiveDate: this.dateUtilsService.convertDateToStr(this.newRequestForm.value.effectiveDateOfChange, this.dateFormat),\n        salutation: this.newRequestForm.value.salutation,\n        displayName: this.newRequestForm.value.displayName,\n        userInitial: this.newRequestForm.value.userInitial,\n        unit: this.newRequestForm.value.unit,\n        phoneNum: this.newRequestForm.value.contactNo,\n        status: this.newRequestForm.value.status,\n        roleId: this.newRequestForm.value.role,\n        optionalRoleId: this.newRequestForm.value.optionalRole,\n        requestType: reqType\n      };\n      console.log(\"Create request body\", request);\n      this.confirmationService.confirm({\n        target: event.target,\n        message: 'Good to go?',\n        icon: 'pi pi-exclamation-triangle',\n        acceptLabel: \"Proceed\",\n        rejectLabel: \"No\",\n        accept: () => {\n          this.postNewAccessRightRequest(request);\n          // ensure delay so that able to update database\n          setTimeout(() => {\n            this.closeDialog(true);\n          }, 1000);\n          console.log(\"Closing create request dialog...\");\n        }\n      });\n    }\n  }\n  postNewAccessRightRequest(request) {\n    this.accessRightRequestService.createRequest(request).subscribe(res => {\n      console.log(\"Success \", res);\n    }, error => {\n      console.log(\"Error is \", error.message);\n      this.toastService.error(error.error.error_desc);\n    });\n  }\n  getRequestType() {\n    const optRoles = this.user.optionalRoleId.split(\", \");\n    if (this.newRequestForm.value.salutation !== this.user.salutation || this.newRequestForm.value.displayName !== this.user.displayName || this.newRequestForm.value.userInitial !== this.user.userInitial || this.newRequestForm.value.unit !== this.user.unit || this.newRequestForm.value.contactNo !== this.user.phoneNum || this.newRequestForm.value.role !== this.user.roleId || this.compareDifference(this.newRequestForm.value.optionalRole, optRoles)) {\n      return \"UPDATE\";\n    } else if (this.newRequestForm.value.status !== this.user.status) {\n      if (this.newRequestForm.value.status === 'A') {\n        return \"ENABLE\";\n      } else {\n        return \"DISABLE\";\n      }\n    } else {\n      console.log(\"No fields were changed\");\n      return this.user.requestType;\n    }\n  }\n  compareDifference(a, b) {\n    const c = a.filter(element => !b.includes(element));\n    const d = b.filter(element => !a.includes(element));\n    return Math.max(c.length, d.length) > 0;\n  }\n  closeDialog(cond) {\n    this.dialogRef.close(cond);\n  }\n}\nexports.CreateAccessRightRequestComponent = CreateAccessRightRequestComponent;\nCreateAccessRightRequestComponent.ɵfac = function CreateAccessRightRequestComponent_Factory(t) {\n  return new (t || CreateAccessRightRequestComponent)(i0.ɵɵdirectiveInject(i1.AccessRightRequestService), i0.ɵɵdirectiveInject(i2.ConfirmationService), i0.ɵɵdirectiveInject(i3.IcCodeService), i0.ɵɵdirectiveInject(i4.DynamicDialogRef), i0.ɵɵdirectiveInject(i5.FormBuilder), i0.ɵɵdirectiveInject(i6.CustomToastService), i0.ɵɵdirectiveInject(i7.DateUtilsService));\n};\nCreateAccessRightRequestComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateAccessRightRequestComponent,\n  selectors: [[\"n2-create-access-right-request\"]],\n  features: [i0.ɵɵProvidersFeature([api_1.ConfirmationService])],\n  decls: 184,\n  vars: 81,\n  consts: [[3, \"formGroup\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"icon\", \"pi pi-times\", 1, \"p-button-rounded\", \"p-button-primary\", \"p-button-text\", 3, \"click\"], [1, \"field\", \"grid\"], [1, \"col-2\"], [1, \"col-4\"], [1, \"p-inputgroup\"], [\"id\", \"email\", \"type\", \"text\", \"formControlName\", \"email\", \"pInputText\", \"\", 3, \"ngClass\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Search\", 3, \"click\"], [4, \"ngIf\"], [\"dateFormat\", \"dd/mm/yy\", \"placeholder\", \"Select a Date\", \"formControlName\", \"effectiveDateOfChange\", \"appendTo\", \"body\", 3, \"showButtonBar\", \"ngClass\"], [\"class\", \"form-text text-danger\", 4, \"ngIf\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"name\", \"pInputText\", \"\"], [\"placeholder\", \"Select a Salutation\", \"optionLabel\", \"desc\", \"optionValue\", \"code\", \"formControlName\", \"salutation\", \"appendTo\", \"body\", 3, \"options\", \"ngClass\"], [\"id\", \"displayName\", \"type\", \"text\", \"formControlName\", \"displayName\", \"pInputText\", \"\", 3, \"ngClass\"], [\"id\", \"userInitial\", \"type\", \"text\", \"formControlName\", \"userInitial\", \"pInputText\", \"\", 3, \"ngClass\"], [\"id\", \"appointment\", \"type\", \"text\", \"formControlName\", \"appointment\", \"pInputText\", \"\"], [\"placeholder\", \"Select a Unit\", \"optionLabel\", \"unitName\", \"optionValue\", \"id\", \"formControlName\", \"unit\", \"appendTo\", \"body\", 3, \"options\", \"ngClass\"], [\"id\", \"contactNo\", \"type\", \"text\", \"formControlName\", \"contactNo\", \"pInputText\", \"\", 3, \"ngClass\"], [\"placeholder\", \"Select a Status\", \"optionLabel\", \"desc\", \"optionValue\", \"code\", \"formControlName\", \"status\", \"appendTo\", \"body\", 3, \"options\", \"ngClass\"], [\"placeholder\", \"Select a Role\", \"formControlName\", \"role\", \"appendTo\", \"body\", \"optionLabel\", \"value\", \"optionValue\", \"key\", 3, \"options\", \"ngClass\"], [\"optionLabel\", \"value\", \"optionValue\", \"key\", \"defaultLabel\", \"Select a Optional Role\", \"display\", \"chip\", \"formControlName\", \"optionalRole\", \"appendTo\", \"body\", 3, \"options\"], [1, \"p-dialog-footer\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Submit\", 1, \"p-button-success\", 3, \"click\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V005\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V006\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V007\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V005\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V006\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V007\", 1, \"form-text\", \"text-danger\"], [1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V001\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V001\", 1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V003\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V003\", 1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V002\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V002\", 1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V004\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.acl.messages.validation.ACL-V004\", 1, \"form-text\", \"text-danger\"]],\n  template: function CreateAccessRightRequestComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"\\n        User Information\\n        \");\n      i0.ɵɵelementStart(4, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function CreateAccessRightRequestComponent_Template_button_click_4_listener() {\n        return ctx.closeDialog(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(5, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵelementStart(7, \"div\");\n      i0.ɵɵtext(8, \"\\n        \");\n      i0.ɵɵelementStart(9, \"div\", 2);\n      i0.ɵɵtext(10, \"\\n            \");\n      i0.ɵɵelementStart(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n            \");\n      i0.ɵɵelementStart(14, \"div\", 4);\n      i0.ɵɵtext(15, \"\\n                \");\n      i0.ɵɵelementStart(16, \"div\", 5);\n      i0.ɵɵtext(17, \"\\n                    \");\n      i0.ɵɵelement(18, \"input\", 6);\n      i0.ɵɵtext(19, \"\\n                    \");\n      i0.ɵɵelementStart(20, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function CreateAccessRightRequestComponent_Template_button_click_20_listener() {\n        return ctx.searchByEmail();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \"\\n                \");\n      i0.ɵɵtemplate(23, CreateAccessRightRequestComponent_div_23_Template, 8, 3, \"div\", 8);\n      i0.ɵɵtext(24, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n            \");\n      i0.ɵɵelementStart(26, \"label\", 3);\n      i0.ɵɵtext(27, \"Effective Date of Change\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(28, \"\\n            \");\n      i0.ɵɵelementStart(29, \"div\", 4);\n      i0.ɵɵtext(30, \"\\n                \");\n      i0.ɵɵelementStart(31, \"p-calendar\", 9);\n      i0.ɵɵtext(32, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\n                \");\n      i0.ɵɵtemplate(34, CreateAccessRightRequestComponent_div_34_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(35, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n        \");\n      i0.ɵɵelementStart(38, \"div\", 2);\n      i0.ɵɵtext(39, \"\\n            \");\n      i0.ɵɵelementStart(40, \"label\", 3);\n      i0.ɵɵtext(41, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(42, \"\\n            \");\n      i0.ɵɵelementStart(43, \"div\", 4);\n      i0.ɵɵtext(44, \"\\n                \");\n      i0.ɵɵelement(45, \"input\", 11);\n      i0.ɵɵtext(46, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(47, \"\\n            \");\n      i0.ɵɵelementStart(48, \"label\", 3);\n      i0.ɵɵtext(49, \"Salutation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \"\\n            \");\n      i0.ɵɵelementStart(51, \"div\", 4);\n      i0.ɵɵtext(52, \"\\n                \");\n      i0.ɵɵelementStart(53, \"p-dropdown\", 12);\n      i0.ɵɵtext(54, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n                \");\n      i0.ɵɵtemplate(56, CreateAccessRightRequestComponent_div_56_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(57, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(58, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(59, \"\\n        \");\n      i0.ɵɵelementStart(60, \"div\", 2);\n      i0.ɵɵtext(61, \"\\n            \");\n      i0.ɵɵelementStart(62, \"label\", 3);\n      i0.ɵɵtext(63, \"Display Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(64, \"\\n            \");\n      i0.ɵɵelementStart(65, \"div\", 4);\n      i0.ɵɵtext(66, \"\\n                \");\n      i0.ɵɵelement(67, \"input\", 13);\n      i0.ɵɵtext(68, \"\\n                \");\n      i0.ɵɵtemplate(69, CreateAccessRightRequestComponent_div_69_Template, 6, 2, \"div\", 10);\n      i0.ɵɵtext(70, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(71, \"\\n            \");\n      i0.ɵɵelementStart(72, \"label\", 3);\n      i0.ɵɵtext(73, \"User initial\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \"\\n            \");\n      i0.ɵɵelementStart(75, \"div\", 4);\n      i0.ɵɵtext(76, \"\\n                \");\n      i0.ɵɵelement(77, \"input\", 14);\n      i0.ɵɵtext(78, \"\\n                \");\n      i0.ɵɵtemplate(79, CreateAccessRightRequestComponent_div_79_Template, 6, 2, \"div\", 10);\n      i0.ɵɵtext(80, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(81, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(82, \"\\n        \");\n      i0.ɵɵelementStart(83, \"div\", 2);\n      i0.ɵɵtext(84, \"\\n            \");\n      i0.ɵɵelementStart(85, \"label\", 3);\n      i0.ɵɵtext(86, \"Appointment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(87, \"\\n            \");\n      i0.ɵɵelementStart(88, \"div\", 4);\n      i0.ɵɵtext(89, \"\\n                \");\n      i0.ɵɵelement(90, \"input\", 15);\n      i0.ɵɵtext(91, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(92, \"\\n            \");\n      i0.ɵɵelementStart(93, \"label\", 3);\n      i0.ɵɵtext(94, \"Unit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(95, \"\\n            \");\n      i0.ɵɵelementStart(96, \"div\", 4);\n      i0.ɵɵtext(97, \"\\n                \");\n      i0.ɵɵelementStart(98, \"p-dropdown\", 16);\n      i0.ɵɵtext(99, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(100, \"\\n                \");\n      i0.ɵɵtemplate(101, CreateAccessRightRequestComponent_div_101_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(102, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(103, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(104, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(105, \"\\n    \");\n      i0.ɵɵelementStart(106, \"h1\");\n      i0.ɵɵtext(107, \"\\n        Additional Information\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(108, \"\\n    \");\n      i0.ɵɵelementStart(109, \"div\");\n      i0.ɵɵtext(110, \"\\n        \");\n      i0.ɵɵelementStart(111, \"div\", 2);\n      i0.ɵɵtext(112, \"\\n            \");\n      i0.ɵɵelementStart(113, \"label\", 3);\n      i0.ɵɵtext(114, \"Contact No\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(115, \"\\n            \");\n      i0.ɵɵelementStart(116, \"div\", 4);\n      i0.ɵɵtext(117, \"\\n                \");\n      i0.ɵɵelement(118, \"input\", 17);\n      i0.ɵɵtext(119, \"\\n                \");\n      i0.ɵɵtemplate(120, CreateAccessRightRequestComponent_div_120_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(121, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(122, \"\\n            \");\n      i0.ɵɵelementStart(123, \"label\", 3);\n      i0.ɵɵtext(124, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(125, \"\\n            \");\n      i0.ɵɵelementStart(126, \"div\", 4);\n      i0.ɵɵtext(127, \"\\n                \");\n      i0.ɵɵelementStart(128, \"p-dropdown\", 18);\n      i0.ɵɵtext(129, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(130, \"\\n                \");\n      i0.ɵɵtemplate(131, CreateAccessRightRequestComponent_div_131_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(132, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(133, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(134, \"\\n        \");\n      i0.ɵɵelementStart(135, \"div\", 2);\n      i0.ɵɵtext(136, \"\\n            \");\n      i0.ɵɵelementStart(137, \"label\", 3);\n      i0.ɵɵtext(138, \"Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(139, \"\\n            \");\n      i0.ɵɵelementStart(140, \"div\", 4);\n      i0.ɵɵtext(141, \"\\n                \");\n      i0.ɵɵelementStart(142, \"p-dropdown\", 19);\n      i0.ɵɵtext(143, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(144, \"\\n                \");\n      i0.ɵɵtemplate(145, CreateAccessRightRequestComponent_div_145_Template, 4, 1, \"div\", 10);\n      i0.ɵɵtext(146, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(147, \"\\n            \");\n      i0.ɵɵelementStart(148, \"label\", 3);\n      i0.ɵɵtext(149, \"Optional Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(150, \"\\n            \");\n      i0.ɵɵelementStart(151, \"div\", 4);\n      i0.ɵɵtext(152, \"\\n                \");\n      i0.ɵɵelementStart(153, \"p-multiSelect\", 20);\n      i0.ɵɵtext(154, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(155, \"   \\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(156, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(157, \"\\n        \");\n      i0.ɵɵelementStart(158, \"div\", 2);\n      i0.ɵɵtext(159, \"\\n            \");\n      i0.ɵɵelementStart(160, \"label\", 3);\n      i0.ɵɵtext(161, \"Expired On\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(162, \"\\n            \");\n      i0.ɵɵelementStart(163, \"label\", 4);\n      i0.ɵɵtext(164);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(165, \"\\n            \");\n      i0.ɵɵelementStart(166, \"label\", 3);\n      i0.ɵɵtext(167, \"Request Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(168, \"\\n            \");\n      i0.ɵɵelementStart(169, \"label\", 4);\n      i0.ɵɵtext(170);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(171, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(172, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(173, \"\\n    \");\n      i0.ɵɵelementStart(174, \"div\", 21);\n      i0.ɵɵtext(175, \"\\n        \");\n      i0.ɵɵelementStart(176, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function CreateAccessRightRequestComponent_Template_button_click_176_listener() {\n        return ctx.closeDialog(false);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(177, \"\\n        \");\n      i0.ɵɵelementStart(178, \"button\", 23);\n      i0.ɵɵlistener(\"click\", function CreateAccessRightRequestComponent_Template_button_click_178_listener($event) {\n        return ctx.confirm($event);\n      });\n      i0.ɵɵtext(179, \"\\n            \");\n      i0.ɵɵelement(180, \"p-confirmPopup\");\n      i0.ɵɵtext(181, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(182, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(183, \"\\n\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      let tmp_6_0;\n      i0.ɵɵproperty(\"formGroup\", ctx.newRequestForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(63, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(64, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(65, _c2));\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(66, _c3));\n      i0.ɵɵadvance(7);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(67, _c4));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", ((tmp_6_0 = ctx.newRequestForm.get(\"email\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors.invalid) || ctx.existingRequest || ctx.failedEDS ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"email\").invalid || ctx.newRequestForm.get(\"email\").dirty || ctx.newRequestForm.get(\"email\").touched);\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(68, _c4));\n      i0.ɵɵproperty(\"showButtonBar\", true)(\"ngClass\", ctx.newRequestForm.get(\"effectiveDateOfChange\").invalid && (ctx.newRequestForm.get(\"effectiveDateOfChange\").dirty || ctx.newRequestForm.get(\"effectiveDateOfChange\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"effectiveDateOfChange\").invalid && (ctx.newRequestForm.get(\"effectiveDateOfChange\").dirty || ctx.newRequestForm.get(\"effectiveDateOfChange\").touched));\n      i0.ɵɵadvance(11);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(69, _c4));\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(70, _c4));\n      i0.ɵɵproperty(\"options\", ctx.salutationOptions)(\"ngClass\", ctx.newRequestForm.get(\"salutation\").invalid && (ctx.newRequestForm.get(\"salutation\").dirty || ctx.newRequestForm.get(\"salutation\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"salutation\").invalid && (ctx.newRequestForm.get(\"salutation\").dirty || ctx.newRequestForm.get(\"salutation\").touched));\n      i0.ɵɵadvance(11);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(71, _c4));\n      i0.ɵɵproperty(\"ngClass\", ctx.newRequestForm.get(\"displayName\").invalid && (ctx.newRequestForm.get(\"displayName\").dirty || ctx.newRequestForm.get(\"displayName\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"displayName\").invalid && (ctx.newRequestForm.get(\"displayName\").dirty || ctx.newRequestForm.get(\"displayName\").touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(72, _c4));\n      i0.ɵɵproperty(\"ngClass\", ctx.newRequestForm.get(\"userInitial\").invalid && (ctx.newRequestForm.get(\"userInitial\").dirty || ctx.newRequestForm.get(\"userInitial\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"userInitial\").invalid && (ctx.newRequestForm.get(\"userInitial\").dirty || ctx.newRequestForm.get(\"userInitial\").touched));\n      i0.ɵɵadvance(11);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(73, _c4));\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(74, _c4));\n      i0.ɵɵproperty(\"options\", ctx.unitOptions)(\"ngClass\", ctx.newRequestForm.get(\"unit\").invalid && (ctx.newRequestForm.get(\"unit\").dirty || ctx.newRequestForm.get(\"unit\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"unit\").invalid && (ctx.newRequestForm.get(\"unit\").dirty || ctx.newRequestForm.get(\"unit\").touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(75, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(76, _c2));\n      i0.ɵɵadvance(9);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(77, _c4));\n      i0.ɵɵproperty(\"ngClass\", ctx.newRequestForm.get(\"contactNo\").invalid && (ctx.newRequestForm.get(\"contactNo\").dirty || ctx.newRequestForm.get(\"contactNo\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"contactNo\").invalid && (ctx.newRequestForm.get(\"contactNo\").dirty || ctx.newRequestForm.get(\"contactNo\").touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(78, _c4));\n      i0.ɵɵproperty(\"options\", ctx.statusOptions)(\"ngClass\", ctx.newRequestForm.get(\"status\").invalid && (ctx.newRequestForm.get(\"status\").dirty || ctx.newRequestForm.get(\"status\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"status\").invalid && (ctx.newRequestForm.get(\"status\").dirty || ctx.newRequestForm.get(\"status\").touched));\n      i0.ɵɵadvance(11);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(79, _c4));\n      i0.ɵɵproperty(\"options\", ctx.mainRoleList)(\"ngClass\", ctx.newRequestForm.get(\"role\").invalid && (ctx.newRequestForm.get(\"role\").dirty || ctx.newRequestForm.get(\"role\").touched) ? \"ng-invalid ng-dirty\" : \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.newRequestForm.get(\"role\").invalid && (ctx.newRequestForm.get(\"role\").dirty || ctx.newRequestForm.get(\"role\").touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(80, _c4));\n      i0.ɵɵproperty(\"options\", ctx.optRoleList);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate1(\"\\n                \", ctx.newRequestForm.value.expiredOn, \"\\n            \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"\\n                \", ctx.newRequestForm.value.requestStatus, \"\\n            \");\n    }\n  },\n  dependencies: [i8.NgClass, i8.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i9.ButtonDirective, i10.Dropdown, i11.InputText, i12.ConfirmPopup, i13.Calendar, i14.TranslateDirective, i15.MultiSelect],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtYWNjZXNzLXJpZ2h0LXJlcXVlc3QuY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW4vYWNjZXNzLWNvbnRyb2wvb3ZlcnZpZXcvYWNjZXNzLXJpZ2h0LXJlcXVlc3QvY3JlYXRlLWFjY2Vzcy1yaWdodC1yZXF1ZXN0LW1vZGFsL2NyZWF0ZS1hY2Nlc3MtcmlnaHQtcmVxdWVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ01BQWdNIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","CreateAccessRightRequestComponent","constructor","accessRightRequestService","confirmationService","codeService","dialogRef","formBuilder","toastService","dateUtilsService","group","email","forms_1","required","effectiveDateOfChange","name","value","disabled","salutation","displayName","minLength","userInitial","appointment","unit","contactNo","pattern","contactNoPattern","status","role","optionalRole","expiredOn","requestStatus","ngOnInit","load","retrieveSalutationOptions","retrieveStatusOptions","retrieveUnitOptions","retrieveMainRoleList","retrieveOptRoleList","gets","subscribe","codes","salutationOptions","map","x","code","codeId","desc","label","console","log","statusOptions","nspay2_constants_1","getReviewingUnits","next","res","unitOptions","body","data","getAllMainRole","k","v","Object","entries","mainRoleList","push","key","getAllOptRole","optRoleList","searchByEmail","newRequestForm","getUserByEmail","resp","user","clearValidationError","patchUserDetails","error","String","error_desc","error_message","existing_request","failed_to_retrieve","includes","existingRequest","failedEDS","patchValue","appt","phoneNum","roleId","optionalRoleId","split","expiryDate","confirm","event","reqType","getRequestType","valid","markAllAsTouched","markAsPending","request","subjectId","nric","convertDateToStr","dateFormat","effectiveDate","requestType","target","message","icon","acceptLabel","rejectLabel","accept","postNewAccessRightRequest","setTimeout","closeDialog","createRequest","optRoles","compareDifference","a","b","c","filter","element","d","Math","max","length","cond","close","exports","selectors","features","api_1","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-request\\create-access-right-request-modal\\create-access-right-request.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\admin\\access-control\\overview\\access-right-request\\create-access-right-request-modal\\create-access-right-request.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { DynamicDialogRef } from 'primeng/dynamicdialog';\r\nimport { IcCodeService } from 'app/ng-connect';\r\nimport { NSPAY2_ACCESS_STATUS } from 'app/nspay2.constants';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { AccessRightRequestService } from '../../service/access-right-request.service';\r\nimport { IAccessRightRequest } from '../../model/access-right-request.model';\r\n\r\n@Component({\r\n    selector: 'n2-create-access-right-request',\r\n    templateUrl: './create-access-right-request.component.html',\r\n    styleUrls: ['./create-access-right-request.component.scss'],\r\n    providers: [ConfirmationService]\r\n})\r\n\r\nexport class CreateAccessRightRequestComponent implements OnInit {\r\n\r\n    failedEDS: boolean;\r\n    existingRequest: boolean;\r\n\r\n    unitOptions: any[] = [];\r\n    optRoleList: any[] = [];\r\n    mainRoleList: any[] = [];\r\n    statusOptions: any[] = [];\r\n    salutationOptions: any[] = [];\r\n\r\n    user: IAccessRightRequest;\r\n\r\n    readonly dateFormat = \"DD-MM-yyyy\";\r\n    readonly contactNoPattern = \"[0-9]{8,}\";\r\n\r\n    newRequestForm = this.formBuilder.group({\r\n        email: ['', [Validators.required, Validators.email]],\r\n        effectiveDateOfChange: [null, [Validators.required]],\r\n        name: [{ value: '', disabled: true }, [Validators.required]],\r\n        salutation: ['', [Validators.required]],\r\n        displayName: ['', [Validators.required, Validators.minLength(4)]],\r\n        userInitial: ['', [Validators.required, Validators.minLength(2)]],\r\n        appointment: [{ value: '', disabled: true }, [Validators.required]],\r\n        unit: ['', [Validators.required]],\r\n        contactNo: ['', [Validators.pattern(this.contactNoPattern)]],\r\n        status: ['', [Validators.required]],\r\n        role: ['', [Validators.required]],\r\n        optionalRole: [['']],\r\n        expiredOn: [],\r\n        requestStatus: ['']\r\n    });\r\n\r\n    constructor(\r\n        private accessRightRequestService: AccessRightRequestService,\r\n        private confirmationService: ConfirmationService,\r\n        private codeService: IcCodeService,\r\n        private dialogRef: DynamicDialogRef,\r\n        private formBuilder: FormBuilder,\r\n        private toastService: CustomToastService,\r\n        public dateUtilsService: DateUtilsService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.load();\r\n    }\r\n\r\n    load(): void {\r\n        this.retrieveSalutationOptions();\r\n        this.retrieveStatusOptions();\r\n        this.retrieveUnitOptions();\r\n        this.retrieveMainRoleList();\r\n        this.retrieveOptRoleList();\r\n    }\r\n\r\n    retrieveSalutationOptions(): void {\r\n        this.codeService.gets('salutation')\r\n            .subscribe((codes: any[]) => {\r\n                this.salutationOptions = codes[0].map((x: any) => ({\r\n                    code: x.codeId,\r\n                    desc: x.label['en-US']\r\n                }));\r\n                console.log(\"Saluatation options\", this.salutationOptions);\r\n            });\r\n    }\r\n\r\n    retrieveStatusOptions(): void {\r\n        this.statusOptions = NSPAY2_ACCESS_STATUS.map((x: any) => ({\r\n            code: x.code,\r\n            desc: x.desc\r\n        }));\r\n        console.log(\"Status options\", this.statusOptions);\r\n    }\r\n\r\n    retrieveUnitOptions(): void {\r\n        this.accessRightRequestService.getReviewingUnits()\r\n            .subscribe({\r\n                next: (res: HttpResponse<any>) => {\r\n                    this.unitOptions = res.body?.data;\r\n                    console.log(\"Unit options\", this.unitOptions);\r\n                }\r\n            });\r\n    }\r\n\r\n    retrieveMainRoleList(): void {\r\n        this.accessRightRequestService.getAllMainRole().subscribe({\r\n            next: (res: HttpResponse<any>) => {\r\n                if (res.body.data) {\r\n                    for (const [k, v] of Object.entries(res.body.data)) {\r\n                        this.mainRoleList.push({\r\n                            key: k,\r\n                            value: v\r\n                        });\r\n                    }\r\n                    console.log(\"Main role list\", this.mainRoleList);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    retrieveOptRoleList(): void {\r\n        this.accessRightRequestService.getAllOptRole().subscribe({\r\n            next: (res: HttpResponse<any>) => {\r\n                if (res.body.data) {\r\n                    for (const [k, v] of Object.entries(res.body.data)) {\r\n                        this.optRoleList.push({\r\n                            key: k,\r\n                            value: v\r\n                        });\r\n                    }\r\n                    console.log(\"Optional role list\", this.optRoleList)\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    searchByEmail(): void {\r\n        const email = this.newRequestForm.value.email;\r\n        this.accessRightRequestService.getUserByEmail(email).subscribe(resp => {\r\n            if (resp.body.data) {\r\n                console.log(\"User found and retrieved successfully\", resp.body.data);\r\n                this.user = resp.body.data;\r\n                this.clearValidationError();\r\n                this.patchUserDetails();\r\n            }\r\n        },\r\n        (error: any) => {\r\n            console.log(\"error is \" + String(error?.error?.error_desc));\r\n            const error_message = String(error?.error?.error_desc);\r\n            const existing_request = \"existing Access Right Request\";\r\n            const failed_to_retrieve = \"Failed to retrieve user from EDS\";\r\n            if (error_message.includes(existing_request)) {\r\n                this.existingRequest = true;\r\n            } else if (error_message.includes(failed_to_retrieve)) {\r\n                this.failedEDS = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    clearValidationError(): void {\r\n        this.existingRequest = false;\r\n        this.failedEDS = false;\r\n    }\r\n\r\n    patchUserDetails(): void {\r\n        console.log(\"Patching user details...\");\r\n        this.newRequestForm.patchValue({\r\n            name: this.user?.name,\r\n            salutation: this.user?.salutation,\r\n            displayName: this.user?.displayName,\r\n            userInitial: this.user?.userInitial,\r\n            appointment: this.user?.appt,\r\n            unit: this.user?.unit,\r\n            contactNo: this.user?.phoneNum,\r\n            status: this.user?.status,\r\n            role: this.user?.roleId,\r\n            optionalRole: this.user?.optionalRoleId.split(\", \"),\r\n            expiredOn: this.user?.expiryDate,\r\n            requestStatus: 'New',\r\n        });\r\n    }\r\n\r\n    confirm(event: Event): void {\r\n        const reqType = this.getRequestType();\r\n\r\n        if (!this.newRequestForm.valid) {\r\n            this.newRequestForm.markAllAsTouched();\r\n        } else if (reqType === null) {\r\n            this.newRequestForm.markAsPending();\r\n        } else {\r\n            const request = {\r\n                // immutable fields\r\n                subjectId: this.user.subjectId,\r\n                name: this.user.name,\r\n                nric: this.user.nric,\r\n                appt: this.user.appt,\r\n                email: this.user.email,\r\n                expiryDate: this.dateUtilsService.convertDateToStr(this.user.expiryDate, this.dateFormat),\r\n                // mutable fields\r\n                effectiveDate: this.dateUtilsService.convertDateToStr(this.newRequestForm.value.effectiveDateOfChange, this.dateFormat),\r\n                salutation: this.newRequestForm.value.salutation,\r\n                displayName: this.newRequestForm.value.displayName,\r\n                userInitial: this.newRequestForm.value.userInitial,\r\n                unit: this.newRequestForm.value.unit,\r\n                phoneNum: this.newRequestForm.value.contactNo,\r\n                status: this.newRequestForm.value.status,\r\n                roleId: this.newRequestForm.value.role,\r\n                optionalRoleId: this.newRequestForm.value.optionalRole,\r\n                requestType: reqType,\r\n            }\r\n            console.log(\"Create request body\", request);\r\n\r\n            this.confirmationService.confirm({\r\n                target: event.target,\r\n                message: 'Good to go?',\r\n                icon: 'pi pi-exclamation-triangle',\r\n                acceptLabel: \"Proceed\",\r\n                rejectLabel: \"No\",\r\n                accept: () => {\r\n                    this.postNewAccessRightRequest(request);\r\n                    \r\n                    // ensure delay so that able to update database\r\n                    setTimeout(() => {\r\n                        this.closeDialog(true);\r\n                    }, 1000);\r\n                    console.log(\"Closing create request dialog...\")\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    postNewAccessRightRequest(request: any): void {\r\n        this.accessRightRequestService.createRequest(request).subscribe(\r\n            (res: HttpResponse<any>) => {\r\n                console.log(\"Success \", res)\r\n            },\r\n            (error: HttpErrorResponse) => {\r\n                console.log(\"Error is \", error.message);\r\n                this.toastService.error(error.error.error_desc);\r\n            }\r\n        )\r\n    }\r\n\r\n    getRequestType(): string {\r\n        const optRoles = this.user.optionalRoleId.split(\", \");\r\n\r\n        if (this.newRequestForm.value.salutation !== this.user.salutation || this.newRequestForm.value.displayName !== this.user.displayName ||\r\n            this.newRequestForm.value.userInitial !== this.user.userInitial || this.newRequestForm.value.unit !== this.user.unit || \r\n            this.newRequestForm.value.contactNo !== this.user.phoneNum || this.newRequestForm.value.role !== this.user.roleId ||\r\n            this.compareDifference(this.newRequestForm.value.optionalRole, optRoles)) {\r\n            return \"UPDATE\";\r\n        } else if (this.newRequestForm.value.status !== this.user.status) {\r\n            if (this.newRequestForm.value.status === 'A') {\r\n                return \"ENABLE\";\r\n            } else {\r\n                return \"DISABLE\";\r\n            }\r\n        } else {\r\n            console.log(\"No fields were changed\");\r\n            return this.user.requestType;\r\n        }\r\n    }\r\n\r\n    compareDifference(a: string[], b: string[]): boolean {\r\n        const c = a.filter((element) => !b.includes(element));\r\n        const d = b.filter((element) => !a.includes(element));\r\n        return Math.max(c.length, d.length) > 0;\r\n    }\r\n\r\n    closeDialog(cond: boolean): void {\r\n        this.dialogRef.close(cond);\r\n    }\r\n}\r\n","<form [formGroup]=\"newRequestForm\">\r\n    <h1 [style]=\"{'padding':'1rem 1.5rem 0.5rem 1.5rem', 'background':'#f8f9fa', 'border':'1px solid #dee2e6'}\">\r\n        User Information\r\n        <button [style]=\"{'float':'right'}\" pButton pRipple type=\"button\" icon=\"pi pi-times\" (click)=\"closeDialog(false)\"\r\n            class=\"p-button-rounded p-button-primary p-button-text\"></button>\r\n    </h1>\r\n    <div [style]=\"{'padding':'1rem 1.5rem 0.5rem 1.5rem'}\">\r\n        <div class=\"field grid\" [style]=\"{'height':'150%'}\">\r\n            <label class=\"col-2\">Email</label>\r\n            <div class=\"col-4\">\r\n                <div class=\"p-inputgroup\" [style]=\"{'width':'100%','min-width':'100%'}\">\r\n                    <input id=\"email\" type=\"text\" formControlName=\"email\"\r\n                        [ngClass]=\"(newRequestForm.get('email')?.errors?.invalid || existingRequest || failedEDS) ? 'ng-invalid ng-dirty': ''\"\r\n                        pInputText />\r\n                    <button type=\"button\" pButton pRipple label=\"Search\" (click)=\"searchByEmail()\"></button>\r\n                </div>\r\n                <div *ngIf=\"newRequestForm.get('email')!.invalid || newRequestForm.get('email')!.dirty || newRequestForm.get('email')!.touched\">\r\n                    <div \r\n                        *ngIf=\"newRequestForm.get('email')?.errors?.email\"\r\n                        class=\"form-text text-danger\"\r\n                        icTranslate=\"nspay2App.acl.messages.validation.ACL-V005\">\r\n                    </div>\r\n                    <div \r\n                        *ngIf=\"existingRequest\"\r\n                        class=\"form-text text-danger\"\r\n                        icTranslate=\"nspay2App.acl.messages.validation.ACL-V006\">\r\n                    </div>\r\n                    <div \r\n                        *ngIf=\"failedEDS\"\r\n                        class=\"form-text text-danger\"\r\n                        icTranslate=\"nspay2App.acl.messages.validation.ACL-V007\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label class=\"col-2\">Effective Date of Change</label>\r\n            <div class=\"col-4\">\r\n                <p-calendar dateFormat=\"dd/mm/yy\" placeholder=\"Select a Date\"\r\n                    [style]=\"{'width':'100%','min-width':'100%'}\" [showButtonBar]=\"true\"\r\n                    formControlName=\"effectiveDateOfChange\" appendTo=\"body\"\r\n                    [ngClass]=\"(newRequestForm.get('effectiveDateOfChange').invalid && (newRequestForm.get('effectiveDateOfChange').dirty || newRequestForm.get('effectiveDateOfChange').touched)) ? 'ng-invalid ng-dirty':''\">\r\n                </p-calendar>\r\n                <div *ngIf=\"newRequestForm.get('effectiveDateOfChange').invalid && (newRequestForm.get('effectiveDateOfChange').dirty || newRequestForm.get('effectiveDateOfChange').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('effectiveDateOfChange').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Name</label>\r\n            <div class=\"col-4\">\r\n                <input [style]=\"{'width':'100%','min-width':'100%'}\" id=\"name\" type=\"text\" formControlName=\"name\"\r\n                    pInputText />\r\n            </div>\r\n            <label class=\"col-2\">Salutation</label>\r\n            <div class=\"col-4\">\r\n                <p-dropdown placeholder=\"Select a Salutation\" [style]=\"{'width':'100%','min-width':'100%'}\"\r\n                    [options]=\"salutationOptions\" optionLabel=\"desc\" optionValue=\"code\" formControlName=\"salutation\"\r\n                    appendTo=\"body\"\r\n                    [ngClass]=\"(newRequestForm.get('salutation').invalid && (newRequestForm.get('salutation').dirty || newRequestForm.get('salutation').touched)) ? 'ng-invalid ng-dirty':''\">\r\n                </p-dropdown>\r\n                <div *ngIf=\"newRequestForm.get('salutation').invalid && (newRequestForm.get('salutation').dirty || newRequestForm.get('salutation').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('salutation').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Display Name</label>\r\n            <div class=\"col-4\">\r\n                <input [style]=\"{'width':'100%','min-width':'100%'}\" id=\"displayName\" type=\"text\"\r\n                    formControlName=\"displayName\"\r\n                    [ngClass]=\"(newRequestForm.get('displayName').invalid && (newRequestForm.get('displayName').dirty || newRequestForm.get('displayName').touched)) ? 'ng-invalid ng-dirty':''\"\r\n                    pInputText />\r\n                <div *ngIf=\"newRequestForm.get('displayName').invalid && (newRequestForm.get('displayName').dirty || newRequestForm.get('displayName').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('displayName').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                    <div *ngIf=\"newRequestForm.get('displayName').errors?.['minlength']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V003\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label class=\"col-2\">User initial</label>\r\n            <div class=\"col-4\">\r\n                <input [style]=\"{'width':'100%','min-width':'100%'}\" id=\"userInitial\" type=\"text\"\r\n                    formControlName=\"userInitial\"\r\n                    [ngClass]=\"(newRequestForm.get('userInitial').invalid && (newRequestForm.get('userInitial').dirty || newRequestForm.get('userInitial').touched)) ? 'ng-invalid ng-dirty':''\"\r\n                    pInputText />\r\n                <div *ngIf=\"newRequestForm.get('userInitial').invalid && (newRequestForm.get('userInitial').dirty || newRequestForm.get('userInitial').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('userInitial').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                    <div *ngIf=\"newRequestForm.get('userInitial').errors?.['minlength']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V002\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Appointment</label>\r\n            <div class=\"col-4\">\r\n                <input [style]=\"{'width':'100%','min-width':'100%'}\" id=\"appointment\" type=\"text\"\r\n                    formControlName=\"appointment\" pInputText />\r\n            </div>\r\n            <label class=\"col-2\">Unit</label>\r\n            <div class=\"col-4\">\r\n                <p-dropdown placeholder=\"Select a Unit\" [style]=\"{'width':'100%','min-width':'100%'}\"\r\n                    [options]=\"unitOptions\" optionLabel=\"unitName\" optionValue=\"id\" formControlName=\"unit\"\r\n                    appendTo=\"body\"\r\n                    [ngClass]=\"(newRequestForm.get('unit').invalid && (newRequestForm.get('unit').dirty || newRequestForm.get('unit').touched)) ? 'ng-invalid ng-dirty':''\">\r\n                </p-dropdown>\r\n                <div *ngIf=\"newRequestForm.get('unit').invalid && (newRequestForm.get('unit').dirty || newRequestForm.get('unit').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('unit').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <h1 [style]=\"{'padding':'1rem 1.5rem 0.5rem 1.5rem', 'background':'#f8f9fa', 'border':'1px solid #dee2e6'}\">\r\n        Additional Information\r\n    </h1>\r\n    <div [style]=\"{'padding':'1rem 1.5rem 0.5rem 1.5rem'}\">\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Contact No</label>\r\n            <div class=\"col-4\">\r\n                <input [style]=\"{'width':'100%','min-width':'100%'}\" id=\"contactNo\" type=\"text\"\r\n                    formControlName=\"contactNo\"\r\n                    [ngClass]=\"(newRequestForm.get('contactNo').invalid && (newRequestForm.get('contactNo').dirty || newRequestForm.get('contactNo').touched)) ? 'ng-invalid ng-dirty':''\"\r\n                    pInputText />\r\n                <div *ngIf=\"newRequestForm.get('contactNo').invalid && (newRequestForm.get('contactNo').dirty || newRequestForm.get('contactNo').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('contactNo').errors?.['pattern']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V004\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label class=\"col-2\">Status</label>\r\n            <div class=\"col-4\">\r\n                <p-dropdown placeholder=\"Select a Status\" [style]=\"{'width':'100%','min-width':'100%'}\"\r\n                    [options]=\"statusOptions\" optionLabel=\"desc\" optionValue=\"code\" formControlName=\"status\"\r\n                    appendTo=\"body\"\r\n                    [ngClass]=\"(newRequestForm.get('status').invalid && (newRequestForm.get('status').dirty || newRequestForm.get('status').touched)) ? 'ng-invalid ng-dirty':''\">\r\n                </p-dropdown>\r\n                <div *ngIf=\"newRequestForm.get('status').invalid && (newRequestForm.get('status').dirty || newRequestForm.get('status').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('status').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Role</label>\r\n            <div class=\"col-4\">\r\n                <p-dropdown placeholder=\"Select a Role\" [style]=\"{'width':'100%','min-width':'100%'}\"\r\n                    [options]=\"mainRoleList\" formControlName=\"role\" appendTo=\"body\" optionLabel=\"value\" optionValue=\"key\"\r\n                    [ngClass]=\"(newRequestForm.get('role').invalid && (newRequestForm.get('role').dirty || newRequestForm.get('role').touched)) ? 'ng-invalid ng-dirty':''\">\r\n                </p-dropdown>\r\n                <div *ngIf=\"newRequestForm.get('role').invalid && (newRequestForm.get('role').dirty || newRequestForm.get('role').touched)\"\r\n                    class=\"form-text text-danger\">\r\n                    <div *ngIf=\"newRequestForm.get('role').errors?.['required']\" class=\"form-text text-danger\" icTranslate=\"nspay2App.acl.messages.validation.ACL-V001\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label class=\"col-2\">Optional Role</label>\r\n            <div class=\"col-4\">\r\n                <p-multiSelect [style]=\"{'width':'100%','min-width':'100%'}\" [options]=\"optRoleList\" optionLabel=\"value\" optionValue=\"key\"\r\n                    defaultLabel=\"Select a Optional Role\" display=\"chip\" formControlName=\"optionalRole\" appendTo=\"body\">\r\n                </p-multiSelect>   \r\n            </div>\r\n        </div>\r\n        <div class=\"field grid\">\r\n            <label class=\"col-2\">Expired On</label>\r\n            <label class=\"col-4\">\r\n                {{ this.newRequestForm.value.expiredOn }}\r\n            </label>\r\n            <label class=\"col-2\">Request Status</label>\r\n            <label class=\"col-4\">\r\n                {{ this.newRequestForm.value.requestStatus }}\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class=\"p-dialog-footer\">\r\n        <button pButton pRipple type=\"button\" label=\"Cancel\" class=\"p-button-danger\" (click)=\"closeDialog(false)\"></button>\r\n        <button pButton pRipple type=\"button\" label=\"Submit\" class=\"p-button-success\" (click)=\"confirm($event)\">\r\n            <p-confirmPopup></p-confirmPopup>\r\n        </button>\r\n    </div>\r\n</form>"]},"metadata":{},"sourceType":"script","externalDependencies":[]}