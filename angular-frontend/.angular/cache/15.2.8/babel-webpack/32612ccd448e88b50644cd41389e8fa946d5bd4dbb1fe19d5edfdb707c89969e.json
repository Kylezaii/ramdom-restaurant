{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EPCreateComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst core_1 = require(\"@angular/core\");\nconst forms_1 = require(\"@angular/forms\");\nconst nric_directive_1 = require(\"app/shared/validator/nric.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/router\"));\nconst i2 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i3 = tslib_1.__importStar(require(\"app/shared/confirm/nsp-confirm.service\"));\nconst i4 = tslib_1.__importStar(require(\"../service/employer-profile.service\"));\nconst i5 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i6 = tslib_1.__importStar(require(\"app/core/util/export-utils.service\"));\nconst i7 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i12 = tslib_1.__importStar(require(\"primeng/dropdown\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i14 = tslib_1.__importStar(require(\"primeng/confirmdialog\"));\nconst i15 = tslib_1.__importStar(require(\"primeng/confirmpopup\"));\nconst i16 = tslib_1.__importStar(require(\"primeng/inputnumber\"));\nconst i17 = tslib_1.__importStar(require(\"primeng/panel\"));\nconst i18 = tslib_1.__importStar(require(\"primeng/keyfilter\"));\nfunction EPCreateComponent_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_span_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_span_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_span_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_119_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"div\", 40);\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function EPCreateComponent_ng_template_119_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      const _r5 = i0.ɵɵreference(117);\n      return i0.ɵɵresetView(ctx_r9.exportCSV(_r5));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                            \");\n  }\n}\nfunction EPCreateComponent_ng_template_121_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelement(3, \"th\", 42);\n    i0.ɵɵtext(4, \"\\n                                    \");\n    i0.ɵɵelementStart(5, \"th\", 43);\n    i0.ɵɵtext(6, \"NRIC\");\n    i0.ɵɵelement(7, \"p-sortIcon\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                                    \");\n    i0.ɵɵelementStart(9, \"th\", 45);\n    i0.ɵɵtext(10, \"Salutation\");\n    i0.ɵɵelement(11, \"p-sortIcon\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                    \");\n    i0.ɵɵelementStart(13, \"th\", 47);\n    i0.ɵɵtext(14, \"Name\");\n    i0.ɵɵelement(15, \"p-sortIcon\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n                                    \");\n    i0.ɵɵelementStart(17, \"th\", 49);\n    i0.ɵɵtext(18, \"Appointment\");\n    i0.ɵɵelement(19, \"p-sortIcon\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                                    \");\n    i0.ɵɵelementStart(21, \"th\", 51);\n    i0.ɵɵtext(22, \"Email\");\n    i0.ɵɵelement(23, \"p-sortIcon\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                                    \");\n    i0.ɵɵelementStart(25, \"th\", 53);\n    i0.ɵɵtext(26, \"Contact No.\");\n    i0.ɵɵelement(27, \"p-sortIcon\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                            \");\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Invalid NRIC Format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Maxmium length is 50\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Maxmium length is 30\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Invalid Email Format\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_span_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtext(1, \"Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EPCreateComponent_ng_template_123_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"tr\", 55);\n    i0.ɵɵtext(2, \"\\n                                    \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                                    \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"\\n                                        \");\n    i0.ɵɵelement(8, \"input\", 56);\n    i0.ɵɵtext(9, \"\\n                                        \");\n    i0.ɵɵtemplate(10, EPCreateComponent_ng_template_123_span_10_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(11, \"\\n                                        \");\n    i0.ɵɵtemplate(12, EPCreateComponent_ng_template_123_span_12_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(13, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                                    \");\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16, \"\\n                                        \");\n    i0.ɵɵelementStart(17, \"p-dropdown\", 57);\n    i0.ɵɵtext(18, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                                        \");\n    i0.ɵɵtemplate(20, EPCreateComponent_ng_template_123_span_20_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(21, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                                    \");\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24, \"\\n                                        \");\n    i0.ɵɵelement(25, \"input\", 58);\n    i0.ɵɵtext(26, \"\\n                                        \");\n    i0.ɵɵtemplate(27, EPCreateComponent_ng_template_123_span_27_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(28, \"\\n                                        \");\n    i0.ɵɵtemplate(29, EPCreateComponent_ng_template_123_span_29_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(30, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n                                    \");\n    i0.ɵɵelementStart(32, \"td\");\n    i0.ɵɵtext(33, \"\\n                                        \");\n    i0.ɵɵelement(34, \"input\", 59);\n    i0.ɵɵtext(35, \"\\n                                        \");\n    i0.ɵɵtemplate(36, EPCreateComponent_ng_template_123_span_36_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(37, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n                                    \");\n    i0.ɵɵelementStart(39, \"td\");\n    i0.ɵɵtext(40, \"\\n                                        \");\n    i0.ɵɵelement(41, \"input\", 60);\n    i0.ɵɵtext(42, \"\\n                                        \");\n    i0.ɵɵtemplate(43, EPCreateComponent_ng_template_123_span_43_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(44, \"\\n                                        \");\n    i0.ɵɵtemplate(45, EPCreateComponent_ng_template_123_span_45_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(46, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n                                    \");\n    i0.ɵɵelementStart(48, \"td\");\n    i0.ɵɵtext(49, \"\\n                                        \");\n    i0.ɵɵelement(50, \"input\", 61);\n    i0.ɵɵtext(51, \"\\n                                        \");\n    i0.ɵɵtemplate(52, EPCreateComponent_ng_template_123_span_52_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(53, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const officer_r11 = ctx.$implicit;\n    const i_r12 = ctx.rowIndex;\n    const ctx_r8 = i0.ɵɵnextContext();\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_5_0;\n    let tmp_7_0;\n    let tmp_8_0;\n    let tmp_9_0;\n    let tmp_10_0;\n    let tmp_11_0;\n    let tmp_12_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r12);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\n                                        \", officer_r11.value.officerRole, \"\\n                                    \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = officer_r11.get(\"nric\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = officer_r11.get(\"nric\")) == null ? null : tmp_2_0.dirty));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = officer_r11.get(\"nric\")) == null ? null : tmp_3_0.hasError(\"nric\")) && ((tmp_3_0 = officer_r11.get(\"nric\")) == null ? null : tmp_3_0.dirty));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"options\", ctx_r8.salutationOptions);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = officer_r11.get(\"salutation\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = officer_r11.get(\"salutation\")) == null ? null : tmp_5_0.dirty));\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"name\", i_r12, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_7_0 = officer_r11.get(\"name\")) == null ? null : tmp_7_0.hasError(\"maxlength\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = officer_r11.get(\"name\")) == null ? null : tmp_8_0.hasError(\"required\")) && ((tmp_8_0 = officer_r11.get(\"name\")) == null ? null : tmp_8_0.dirty));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (tmp_9_0 = officer_r11.get(\"appointment\")) == null ? null : tmp_9_0.hasError(\"maxlength\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = officer_r11.get(\"email\")) == null ? null : tmp_10_0.hasError(\"required\")) && ((tmp_10_0 = officer_r11.get(\"email\")) == null ? null : tmp_10_0.dirty));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = officer_r11.get(\"email\")) == null ? null : tmp_11_0.hasError(\"email\")) && ((tmp_11_0 = officer_r11.get(\"email\")) == null ? null : tmp_11_0.dirty));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = officer_r11.get(\"contactNo\")) == null ? null : tmp_12_0.hasError(\"required\")) && ((tmp_12_0 = officer_r11.get(\"phoneNo\")) == null ? null : tmp_12_0.dirty));\n  }\n}\nclass EPCreateComponent {\n  constructor(route, router, fb, nspConfirmService, employerProfileService, toastService, exportUtilsService) {\n    this.route = route;\n    this.router = router;\n    this.fb = fb;\n    this.nspConfirmService = nspConfirmService;\n    this.employerProfileService = employerProfileService;\n    this.toastService = toastService;\n    this.exportUtilsService = exportUtilsService;\n    this.changeIndexEvent = new core_1.EventEmitter();\n    this.epForm = this.fb.group({\n      companyInfo: this.fb.group({\n        csn1: new forms_1.FormControl(null, forms_1.Validators.required),\n        csn2: new forms_1.FormControl(\"PTE\", forms_1.Validators.required),\n        csn3: new forms_1.FormControl(\"01\", forms_1.Validators.required),\n        companyName: new forms_1.FormControl(null, forms_1.Validators.required),\n        blk: new forms_1.FormControl(null, forms_1.Validators.required),\n        street: new forms_1.FormControl(null, forms_1.Validators.required),\n        unit: new forms_1.FormControl(null),\n        building: new forms_1.FormControl(null),\n        postalCode: new forms_1.FormControl(null, forms_1.Validators.required),\n        companySize: new forms_1.FormControl(null, forms_1.Validators.required),\n        eRegistered: new forms_1.FormControl('N', forms_1.Validators.required)\n      }),\n      officers: this.fb.array([])\n    });\n    this.representativeList = ['CO1', 'CO2'];\n    this.salutationOptions = [{\n      label: \"Ms\",\n      value: \"MS\"\n    }, {\n      label: \"Mr\",\n      value: \"MR\"\n    }, {\n      label: \"Mrs\",\n      value: \"MRS\"\n    }, {\n      label: \"Dr\",\n      value: \"DR\"\n    }];\n    this.eRegisteredOptions = [{\n      label: \"Yes\",\n      value: 'Y'\n    }, {\n      label: \"No\",\n      value: 'N'\n    }];\n    this.constructForm();\n  }\n  get officersFormArray() {\n    return this.epForm.get('officers');\n  }\n  ngOnInit() {\n    //\n  }\n  exportCSV(dataTable) {\n    const officers = this.epForm.get('officers');\n    const data = officers.value;\n    const columns = [{\n      field: 'role',\n      header: ' ',\n      index: 0\n    }, {\n      field: 'nric',\n      header: 'NRIC',\n      index: 1\n    }, {\n      field: 'salutation',\n      header: 'Salutation',\n      index: 2\n    }, {\n      field: 'name',\n      header: 'Name',\n      index: 3\n    }, {\n      field: 'appointment',\n      header: 'Appointment',\n      index: 4\n    }, {\n      field: 'email',\n      header: 'Email',\n      index: 5\n    }, {\n      field: 'contactNo',\n      header: 'Contact No.',\n      index: 6\n    }];\n    const dtoList = [];\n    data.forEach(o => {\n      dtoList.push({\n        role: o.officerRole,\n        nric: o.nric,\n        salutation: o.salutation,\n        name: o.name,\n        appointment: o.appointment,\n        email: o.email,\n        contactNo: o.contactNo\n      });\n    });\n    this.exportUtilsService.exportCSV(dataTable, dtoList, data.length, columns, \"Officers\");\n  }\n  constructForm() {\n    const officers = this.epForm.get('officers');\n    this.representativeList.forEach(role => {\n      officers.push(this.fb.group({\n        officerRole: new forms_1.FormControl(role),\n        nric: new forms_1.FormControl(null, (0, nric_directive_1.NRICValidator)()),\n        salutation: new forms_1.FormControl(),\n        name: new forms_1.FormControl(),\n        appointment: new forms_1.FormControl(),\n        email: new forms_1.FormControl(),\n        contactNo: new forms_1.FormControl()\n      }));\n    });\n  }\n  logForm() {\n    console.log(this.epForm);\n    console.log(\"----\");\n    console.log(this.epForm.controls);\n  }\n  resetFields() {\n    this.epForm.reset();\n    const companyInfo = this.epForm.controls['companyInfo'];\n    companyInfo.reset({\n      csn2: \"PTE\",\n      csn3: \"01\",\n      eRegistered: \"N\"\n    });\n    const arr = this.epForm.controls['officers'];\n    arr.clear();\n    this.constructForm();\n  }\n  reset(event, key) {\n    this.nspConfirmService.onConfirmPopupMsg(event, `CSN is not created and you will be redirected to the amendment history tab. Do you want to proceed?`, key, null, () => {\n      this.resetFields();\n      this.changeActiveIndex(2);\n    });\n  }\n  confirm(event, key) {\n    this.nspConfirmService.onConfirmPopupMsg(event, `Confirm to add ${String(this.epForm.value.companyInfo.companyName)}?`, key, null, () => {\n      this.prepareRequest();\n    });\n  }\n  changeActiveIndex(index) {\n    this.changeIndexEvent.emit(index);\n  }\n  prepareRequest() {\n    const formValue = this.epForm.value;\n    const newEmpProfile = {};\n    newEmpProfile.csn = `${String(formValue.companyInfo.csn1)}` + `${String(formValue.companyInfo.csn2)}` + `${String(formValue.companyInfo.csn3)}`;\n    newEmpProfile.companyName = formValue.companyInfo.companyName;\n    newEmpProfile.blk = formValue.companyInfo.blk;\n    newEmpProfile.street = formValue.companyInfo.street;\n    newEmpProfile.building = formValue.companyInfo.building;\n    newEmpProfile.unit = formValue.companyInfo.unit;\n    newEmpProfile.postalCode = formValue.companyInfo.postalCode;\n    newEmpProfile.companySize = formValue.companyInfo.companySize;\n    newEmpProfile.eRegistered = formValue.companyInfo.eRegistered;\n    const employerRepsArr = [];\n    formValue.officers.forEach(o => {\n      if (o.name !== null && o.nric !== null && o.email !== null) {\n        const newOfficer = {};\n        newOfficer.officerRole = o.officerRole;\n        newOfficer.name = o.name;\n        newOfficer.nric = o.nric;\n        newOfficer.salutation = o.salutation;\n        newOfficer.appointment = o.appointment;\n        newOfficer.email = o.email;\n        newOfficer.contactNo = o.contactNo;\n        employerRepsArr.push(newOfficer);\n      }\n    });\n    newEmpProfile.companyOfficers = employerRepsArr;\n    this.submitCreateRequest(newEmpProfile);\n  }\n  submitCreateRequest(newEmployerProfile) {\n    this.employerProfileService.create(newEmployerProfile).subscribe(resp => {\n      if (resp && resp.status === 200) {\n        this.toastService.success(\"Employer details has been updated\");\n        this.resetFields();\n      }\n    }, error => {\n      this.toastService.error(error.error?.error_desc);\n    });\n  }\n}\nexports.EPCreateComponent = EPCreateComponent;\nEPCreateComponent.ɵfac = function EPCreateComponent_Factory(t) {\n  return new (t || EPCreateComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.NspConfirmationService), i0.ɵɵdirectiveInject(i4.EmployerProfileService), i0.ɵɵdirectiveInject(i5.CustomToastService), i0.ɵɵdirectiveInject(i6.ExportUtilsService));\n};\nEPCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EPCreateComponent,\n  selectors: [[\"n2-ep-create\"]],\n  outputs: {\n    changeIndexEvent: \"changeIndexEvent\"\n  },\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 145,\n  vars: 13,\n  consts: [[3, \"formGroup\"], [1, \"grid\"], [\"formGroupName\", \"companyInfo\", 1, \"col-4\"], [\"header\", \"Company Information\"], [1, \"field\", \"grid\"], [\"for\", \"csn\", 1, \"col-3\"], [\"id\", \"csn\", 1, \"col-9\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"csn1\", \"id\", \"csn1\", \"maxlength\", \"10\", 2, \"width\", \"30%\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"csn2\", \"id\", \"csn2\", \"maxlength\", \"3\", 2, \"width\", \"20%\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"csn3\", \"id\", \"csn3\", \"maxlength\", \"2\", 2, \"width\", \"20%\"], [\"class\", \"p-error\", 4, \"ngIf\"], [1, \"col-9\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"companyName\", \"id\", \"companyName\", \"maxlength\", \"50\", 1, \"w-full\"], [\"for\", \"address\", 1, \"col-3\"], [\"id\", \"address\", 1, \"col-9\"], [1, \"field\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"blk\", \"id\", \"blk\", \"placeholder\", \"Blk\", \"maxlength\", \"10\", 2, \"width\", \"25%\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"street\", \"id\", \"street\", \"placeholder\", \"Street\", \"maxlength\", \"100\", 2, \"width\", \"70%\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"unit\", \"id\", \"unit\", \"placeholder\", \"Unit\", \"maxlength\", \"10\", 2, \"width\", \"40%\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"building\", \"id\", \"building\", \"placeholder\", \"Building\", \"maxlength\", \"100\", 2, \"width\", \"55%\"], [\"for\", \"postal\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"pKeyFilter\", \"pint\", \"formControlName\", \"postalCode\", \"id\", \"postal\", \"maxlength\", \"6\"], [\"for\", \"companySize\", 1, \"col-3\"], [\"formControlName\", \"companySize\", \"id\", \"size\", \"mode\", \"decimal\", 3, \"min\", \"max\", \"maxlength\", \"useGrouping\"], [\"for\", \"eRegistered\", 1, \"col-3\"], [\"formControlName\", \"eRegistered\", \"optionLabel\", \"label\", \"optionValue\", \"value\", \"placeholder\", \"\\u00A0\", 3, \"options\"], [1, \"col-8\"], [\"formArrayName\", \"officers\"], [\"header\", \"Officers\"], [\"styleClass\", \"p-datatable-gridlines\", 3, \"value\"], [\"officersTb\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [1, \"flex\", \"justify-content-end\", \"align-items-center\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Cancel\", 1, \"p-button-danger\", 3, \"click\"], [\"key\", \"createConfirmPopup\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Submit\", 3, \"disabled\", \"click\"], [\"key\", \"cancelDialog\", \"header\", \"Confirmation\", \"icon\", \"pi pi-exclamation-triangle\"], [1, \"p-error\"], [1, \"p-d-flex\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-o\", \"pTooltip\", \"CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", 2, \"width\", \"7%\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.nric\"], [\"field\", \"value.nric\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.salutation\", 2, \"width\", \"13%\"], [\"field\", \"value.salutation\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.name\"], [\"field\", \"value.name\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.appointment\"], [\"field\", \"value.appointment\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.email\"], [\"field\", \"value.email\"], [\"scope\", \"col\", \"pSortableColumn\", \"value.contactNo\"], [\"field\", \"value.contactNo\"], [3, \"formGroupName\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"nric\", 1, \"w-full\"], [\"formControlName\", \"salutation\", \"optionLabel\", \"label\", \"optionValue\", \"value\", \"placeholder\", \"\\u00A0\", \"styleClass\", \"full-width\", 3, \"options\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"name\", 1, \"w-full\", 3, \"id\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"appointment\", 1, \"w-full\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"email\", 1, \"w-full\"], [\"type\", \"text\", \"pInputText\", \"\", \"formControlName\", \"contactNo\", 1, \"w-full\"]],\n  template: function EPCreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n            \");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n                \");\n      i0.ɵɵelementStart(6, \"p-panel\", 3);\n      i0.ɵɵtext(7, \"\\n                    \");\n      i0.ɵɵelementStart(8, \"div\", 4);\n      i0.ɵɵtext(9, \"\\n                        \");\n      i0.ɵɵelementStart(10, \"label\", 5);\n      i0.ɵɵtext(11, \"CSN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \"\\n                        \");\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵtext(14, \"\\n                            \");\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵtext(16, \"\\n                            -\\n                            \");\n      i0.ɵɵelement(17, \"input\", 8);\n      i0.ɵɵtext(18, \"\\n                            -\\n                            \");\n      i0.ɵɵelement(19, \"input\", 9);\n      i0.ɵɵtext(20, \"\\n                            \");\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵtext(22, \"\\n                            \");\n      i0.ɵɵtemplate(23, EPCreateComponent_span_23_Template, 2, 0, \"span\", 10);\n      i0.ɵɵtext(24, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n\\n                    \");\n      i0.ɵɵelementStart(27, \"div\", 4);\n      i0.ɵɵtext(28, \"\\n                        \");\n      i0.ɵɵelementStart(29, \"label\", 5);\n      i0.ɵɵtext(30, \"Company Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \"\\n                        \");\n      i0.ɵɵelementStart(32, \"div\", 11);\n      i0.ɵɵtext(33, \"\\n                            \");\n      i0.ɵɵelement(34, \"input\", 12);\n      i0.ɵɵtext(35, \"\\n                            \");\n      i0.ɵɵtemplate(36, EPCreateComponent_span_36_Template, 2, 0, \"span\", 10);\n      i0.ɵɵtext(37, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n\\n                    \");\n      i0.ɵɵelementStart(40, \"div\", 4);\n      i0.ɵɵtext(41, \"\\n                        \");\n      i0.ɵɵelementStart(42, \"label\", 13);\n      i0.ɵɵtext(43, \"Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(44, \"\\n                        \");\n      i0.ɵɵelementStart(45, \"div\", 14);\n      i0.ɵɵtext(46, \"\\n                            \");\n      i0.ɵɵelementStart(47, \"div\", 15);\n      i0.ɵɵtext(48, \"\\n                                \");\n      i0.ɵɵelement(49, \"input\", 16);\n      i0.ɵɵtext(50, \"\\n                                \");\n      i0.ɵɵelement(51, \"input\", 17);\n      i0.ɵɵtext(52, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n\\n                            \");\n      i0.ɵɵelementStart(54, \"div\");\n      i0.ɵɵtext(55, \"\\n                                \");\n      i0.ɵɵelement(56, \"input\", 18);\n      i0.ɵɵtext(57, \"\\n                                \");\n      i0.ɵɵelement(58, \"input\", 19);\n      i0.ɵɵtext(59, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(60, \"\\n                            \");\n      i0.ɵɵtemplate(61, EPCreateComponent_span_61_Template, 2, 0, \"span\", 10);\n      i0.ɵɵtext(62, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(63, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(64, \"\\n\\n                    \");\n      i0.ɵɵelementStart(65, \"div\", 4);\n      i0.ɵɵtext(66, \"\\n                        \");\n      i0.ɵɵelementStart(67, \"label\", 20);\n      i0.ɵɵtext(68, \"Postal Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(69, \"\\n                        \");\n      i0.ɵɵelementStart(70, \"div\", 11);\n      i0.ɵɵtext(71, \"\\n                            \");\n      i0.ɵɵelement(72, \"input\", 21);\n      i0.ɵɵtext(73, \"\\n                            \");\n      i0.ɵɵelement(74, \"br\");\n      i0.ɵɵtext(75, \"\\n                            \");\n      i0.ɵɵtemplate(76, EPCreateComponent_span_76_Template, 2, 0, \"span\", 10);\n      i0.ɵɵtext(77, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(78, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(79, \"\\n\\n                    \");\n      i0.ɵɵelementStart(80, \"div\", 4);\n      i0.ɵɵtext(81, \"\\n                        \");\n      i0.ɵɵelementStart(82, \"label\", 22);\n      i0.ɵɵtext(83, \"Company Size\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(84, \"\\n                        \");\n      i0.ɵɵelementStart(85, \"div\", 11);\n      i0.ɵɵtext(86, \"\\n                            \");\n      i0.ɵɵelement(87, \"p-inputNumber\", 23);\n      i0.ɵɵtext(88, \"\\n                            \");\n      i0.ɵɵelement(89, \"br\");\n      i0.ɵɵtext(90, \"\\n                            \");\n      i0.ɵɵtemplate(91, EPCreateComponent_span_91_Template, 2, 0, \"span\", 10);\n      i0.ɵɵtext(92, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(93, \"\\n\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(94, \"\\n\\n                    \");\n      i0.ɵɵelementStart(95, \"div\", 4);\n      i0.ɵɵtext(96, \"\\n                        \");\n      i0.ɵɵelementStart(97, \"label\", 24);\n      i0.ɵɵtext(98, \"eRegistered\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(99, \"\\n                        \");\n      i0.ɵɵelementStart(100, \"div\", 11);\n      i0.ɵɵtext(101, \"\\n                            \");\n      i0.ɵɵelementStart(102, \"p-dropdown\", 25);\n      i0.ɵɵtext(103, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(104, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(105, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(106, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(107, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(108, \"\\n\\n            \");\n      i0.ɵɵelementStart(109, \"div\", 26);\n      i0.ɵɵtext(110, \"\\n                \");\n      i0.ɵɵelementStart(111, \"div\", 27);\n      i0.ɵɵtext(112, \"\\n                    \");\n      i0.ɵɵelementStart(113, \"p-panel\", 28);\n      i0.ɵɵtext(114, \"\\n                        \");\n      i0.ɵɵtext(115, \"\\n                        \");\n      i0.ɵɵelementStart(116, \"p-table\", 29, 30);\n      i0.ɵɵtext(118, \"\\n                            \");\n      i0.ɵɵtemplate(119, EPCreateComponent_ng_template_119_Template, 6, 0, \"ng-template\", 31);\n      i0.ɵɵtext(120, \"\\n                            \");\n      i0.ɵɵtemplate(121, EPCreateComponent_ng_template_121_Template, 30, 0, \"ng-template\", 32);\n      i0.ɵɵtext(122, \"\\n                            \");\n      i0.ɵɵtemplate(123, EPCreateComponent_ng_template_123_Template, 56, 13, \"ng-template\", 33);\n      i0.ɵɵtext(124, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(125, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(126, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(127, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(128, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(129, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(130, \"\\n\\n\");\n      i0.ɵɵelementStart(131, \"div\", 34);\n      i0.ɵɵtext(132, \"\\n    \");\n      i0.ɵɵelementStart(133, \"div\");\n      i0.ɵɵtext(134, \"\\n      \");\n      i0.ɵɵelementStart(135, \"button\", 35);\n      i0.ɵɵlistener(\"click\", function EPCreateComponent_Template_button_click_135_listener($event) {\n        return ctx.reset($event, \"cancelDialog\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(136, \"\\n      \");\n      i0.ɵɵelement(137, \"p-confirmPopup\", 36);\n      i0.ɵɵtext(138, \"\\n      \");\n      i0.ɵɵelementStart(139, \"button\", 37);\n      i0.ɵɵlistener(\"click\", function EPCreateComponent_Template_button_click_139_listener($event) {\n        return ctx.confirm($event, \"createConfirmPopup\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(140, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(141, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(142, \"\\n\\n\");\n      i0.ɵɵelement(143, \"p-confirmDialog\", 38);\n      i0.ɵɵtext(144, \"\\n\");\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_1_1;\n      let tmp_2_0;\n      let tmp_2_1;\n      let tmp_3_0;\n      let tmp_3_1;\n      let tmp_4_0;\n      let tmp_4_1;\n      let tmp_9_0;\n      let tmp_9_1;\n      i0.ɵɵproperty(\"formGroup\", ctx.epForm);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_1_1 = tmp_1_0.get(\"csn1\")) == null ? null : tmp_1_1.hasError(\"required\")) && ((tmp_1_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : tmp_1_0.get(\"csn1\").dirty) || ((tmp_1_0 = ctx.epForm.get(\"companyInfo\").get(\"csn2\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_1_1 = tmp_1_0.get(\"csn2\")) == null ? null : tmp_1_1.dirty) || ((tmp_1_0 = ctx.epForm.get(\"companyInfo\").get(\"csn3\")) == null ? null : tmp_1_0.hasError(\"required\")) && ((tmp_1_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_1_1 = tmp_1_0.get(\"csn3\")) == null ? null : tmp_1_1.dirty));\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_2_1 = tmp_2_0.get(\"companyName\")) == null ? null : tmp_2_1.hasError(\"required\")) && ((tmp_2_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_2_1 = tmp_2_0.get(\"companyName\")) == null ? null : tmp_2_1.dirty));\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_3_1 = tmp_3_0.get(\"blk\")) == null ? null : tmp_3_1.hasError(\"required\")) && ((tmp_3_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_3_1 = tmp_3_0.get(\"blk\")) == null ? null : tmp_3_1.dirty) || ((tmp_3_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_3_1 = tmp_3_0.get(\"street\")) == null ? null : tmp_3_1.hasError(\"required\")) && ((tmp_3_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_3_1 = tmp_3_0.get(\"street\")) == null ? null : tmp_3_1.dirty));\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_4_1 = tmp_4_0.get(\"postalCode\")) == null ? null : tmp_4_1.hasError(\"required\")) && ((tmp_4_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_4_1 = tmp_4_0.get(\"postalCode\")) == null ? null : tmp_4_1.dirty));\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"min\", 1)(\"max\", 9999999)(\"maxlength\", 7)(\"useGrouping\", false);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_9_1 = tmp_9_0.get(\"companySize\")) == null ? null : tmp_9_1.hasError(\"required\")) && ((tmp_9_0 = ctx.epForm.get(\"companyInfo\")) == null ? null : (tmp_9_1 = tmp_9_0.get(\"companySize\")) == null ? null : tmp_9_1.dirty));\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"options\", ctx.eRegisteredOptions);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"value\", ctx.officersFormArray.controls);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"disabled\", !ctx.epForm.valid);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.MaxLengthValidator, i7.NgIf, i2.FormGroupDirective, i2.FormControlName, i2.FormGroupName, i2.FormArrayName, i8.PrimeTemplate, i9.ButtonDirective, i10.Tooltip, i11.Table, i11.SortableColumn, i11.SortIcon, i12.Dropdown, i13.InputText, i14.ConfirmDialog, i15.ConfirmPopup, i16.InputNumber, i17.Panel, i18.KeyFilter],\n  styles: [\"[_nghost-%COMP%]     .full-width {\\r\\n    width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVwLWNyZWF0ZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwiZmlsZSI6ImVwLWNyZWF0ZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbiAgIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvYWRtaW5pc3RyYXRpb24vZW1wbG95ZXItcHJvZmlsZS9jcmVhdGUvZXAtY3JlYXRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUEsNFVBQTRVIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5mdWxsLXdpZHRoIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EPCreateComponent","constructor","route","router","fb","nspConfirmService","employerProfileService","toastService","exportUtilsService","core_1","group","companyInfo","csn1","forms_1","required","csn2","csn3","companyName","blk","street","unit","building","postalCode","companySize","eRegistered","officers","array","label","value","constructForm","officersFormArray","epForm","get","ngOnInit","exportCSV","dataTable","data","columns","field","header","index","dtoList","forEach","o","push","role","officerRole","nric","salutation","name","appointment","email","contactNo","length","representativeList","logForm","console","log","controls","resetFields","reset","arr","clear","event","key","onConfirmPopupMsg","changeActiveIndex","confirm","String","prepareRequest","changeIndexEvent","emit","formValue","newEmpProfile","csn","employerRepsArr","newOfficer","companyOfficers","submitCreateRequest","newEmployerProfile","create","subscribe","resp","status","success","error","error_desc","exports","selectors","outputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\administration\\employer-profile\\create\\ep-create.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\administration\\employer-profile\\create\\ep-create.component.html"],"sourcesContent":["import { NspConfirmationService } from 'app/shared/confirm/nsp-confirm.service';\r\nimport {Component, EventEmitter, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\n\r\nimport {FormArray, FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\r\nimport { ExportUtilsService } from 'app/core/util/export-utils.service';\r\nimport {ConfirmationService} from 'primeng/api';\r\nimport {ConfirmDialogModule} from 'primeng/confirmdialog';\r\nimport {NRICValidator} from 'app/shared/validator/nric.directive';\r\nimport {ICompany, ICompanyOfficer} from '../employer-profile.model';\r\nimport {EmployerProfileService} from '../service/employer-profile.service';\r\nimport {HttpErrorResponse, HttpResponse} from '@angular/common/http';\r\nimport {CustomToastService} from 'app/layouts/service/customtoast.service';\r\nimport { Table } from 'primeng/table';\r\n@Component({\r\n  selector: 'n2-ep-create',\r\n  templateUrl: './ep-create.component.html',\r\n  styleUrls: ['./ep-create.component.css'],\r\n  providers: []\r\n})\r\nexport class EPCreateComponent implements OnInit {\r\n  @Output() changeIndexEvent = new EventEmitter<number>();\r\n\r\n  epForm: FormGroup = this.fb.group({\r\n    companyInfo: this.fb.group({\r\n      csn1: new FormControl(null, Validators.required),\r\n      csn2: new FormControl(\"PTE\", Validators.required),\r\n      csn3: new FormControl(\"01\", Validators.required),\r\n      companyName: new FormControl(null, Validators.required),\r\n      blk: new FormControl(null, Validators.required),\r\n      street: new FormControl(null, Validators.required),\r\n      unit: new FormControl(null),\r\n      building: new FormControl(null),\r\n      postalCode: new FormControl(null, Validators.required),\r\n      companySize: new FormControl(null, Validators.required),\r\n      eRegistered: new FormControl('N', Validators.required)\r\n    }),\r\n    officers: this.fb.array([])\r\n  });\r\n\r\n  readonly representativeList = ['CO1', 'CO2'];\r\n\r\n  salutationOptions = [\r\n    {label: \"Ms\", value: \"MS\"},\r\n    {label: \"Mr\", value: \"MR\"},\r\n    {label: \"Mrs\", value: \"MRS\"},\r\n    {label: \"Dr\", value: \"DR\"}\r\n  ]\r\n\r\n  eRegisteredOptions = [\r\n    {label: \"Yes\", value: 'Y'},\r\n    {label: \"No\", value: 'N'}\r\n  ]\r\n  \r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private nspConfirmService: NspConfirmationService,\r\n    private employerProfileService: EmployerProfileService,\r\n    private toastService: CustomToastService,\r\n    private exportUtilsService: ExportUtilsService\r\n  ) {\r\n    this.constructForm();\r\n  }\r\n\r\n  get officersFormArray(): FormArray {\r\n    return this.epForm.get('officers') as FormArray;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //\r\n  }\r\n\r\n  exportCSV(dataTable: Table): void {\r\n    const officers = this.epForm.get('officers') as FormArray;\r\n    const data = officers.value;\r\n    const columns = [\r\n      { field: 'role', header: ' ', index: 0 },\r\n      { field: 'nric', header: 'NRIC', index: 1 },\r\n      { field: 'salutation', header: 'Salutation', index: 2 },\r\n      { field: 'name', header: 'Name', index: 3 },\r\n      { field: 'appointment', header: 'Appointment', index: 4 },\r\n      { field: 'email', header: 'Email', index: 5 },\r\n      { field: 'contactNo', header: 'Contact No.', index: 6 },\r\n    ];\r\n\r\n    const dtoList: any[] = [];\r\n    data.forEach((o: any) => {\r\n      dtoList.push({\r\n        role: o.officerRole,\r\n        nric: o.nric,\r\n        salutation: o.salutation,\r\n        name: o.name,\r\n        appointment: o.appointment,\r\n        email: o.email,\r\n        contactNo: o.contactNo\r\n      });\r\n    });\r\n\r\n    this.exportUtilsService.exportCSV(dataTable, dtoList, data.length, columns, \"Officers\");\r\n  }\r\n\r\n  constructForm(): void {\r\n    const officers = this.epForm.get('officers') as FormArray;\r\n\r\n    this.representativeList.forEach(role => {\r\n        officers.push(\r\n          this.fb.group({\r\n            officerRole: new FormControl(role),\r\n            nric: new FormControl(null, NRICValidator()),\r\n            salutation: new FormControl(),\r\n            name: new FormControl(),\r\n            appointment: new FormControl(),\r\n            email: new FormControl(),\r\n            contactNo: new FormControl()\r\n          })\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  logForm(): void {\r\n    console.log(this.epForm);\r\n    console.log(\"----\");\r\n    console.log(this.epForm.controls);\r\n  }\r\n\r\n  resetFields() {\r\n    this.epForm.reset();\r\n\r\n        const companyInfo = <FormGroup>this.epForm.controls['companyInfo'];\r\n        companyInfo.reset({csn2: \"PTE\", csn3: \"01\", eRegistered: \"N\"});\r\n    \r\n        const arr = <FormArray>this.epForm.controls['officers'];\r\n        arr.clear();\r\n    \r\n        this.constructForm();\r\n  }\r\n\r\n  reset(event: Event, key: string): void {\r\n    this.nspConfirmService.onConfirmPopupMsg(event, \r\n      `CSN is not created and you will be redirected to the amendment history tab. Do you want to proceed?`,\r\n      key, null, () => {\r\n        this.resetFields();\r\n        this.changeActiveIndex(2);\r\n      });\r\n  }\r\n\r\n  confirm(event: Event, key: string): void {\r\n    this.nspConfirmService.onConfirmPopupMsg(event, `Confirm to add ${String(this.epForm.value.companyInfo.companyName)}?`,\r\n      key, null, () => {\r\n      this.prepareRequest();\r\n    })\r\n  }\r\n\r\n  changeActiveIndex(index: number): void {\r\n    this.changeIndexEvent.emit(index)\r\n  }\r\n\r\n  prepareRequest(): void {\r\n    const formValue = this.epForm.value;\r\n\r\n    const newEmpProfile: ICompany = {};\r\n\r\n    newEmpProfile.csn = `${String(formValue.companyInfo.csn1)}`\r\n      + `${String(formValue.companyInfo.csn2)}`\r\n      + `${String(formValue.companyInfo.csn3)}`;\r\n    newEmpProfile.companyName = formValue.companyInfo.companyName;\r\n    newEmpProfile.blk = formValue.companyInfo.blk;\r\n    newEmpProfile.street = formValue.companyInfo.street;\r\n    newEmpProfile.building = formValue.companyInfo.building;\r\n    newEmpProfile.unit = formValue.companyInfo.unit;\r\n    newEmpProfile.postalCode = formValue.companyInfo.postalCode;\r\n    newEmpProfile.companySize = formValue.companyInfo.companySize;\r\n    newEmpProfile.eRegistered = formValue.companyInfo.eRegistered;\r\n\r\n    const employerRepsArr: ICompanyOfficer[] = [];\r\n\r\n    formValue.officers.forEach((o: any) => {\r\n\r\n      if (o.name !== null && o.nric !== null && o.email !== null) {\r\n        const newOfficer: ICompanyOfficer = {};\r\n        newOfficer.officerRole = o.officerRole;\r\n        newOfficer.name = o.name;\r\n        newOfficer.nric = o.nric;\r\n        newOfficer.salutation = o.salutation;\r\n        newOfficer.appointment = o.appointment;\r\n        newOfficer.email = o.email;\r\n        newOfficer.contactNo = o.contactNo;\r\n\r\n        employerRepsArr.push(newOfficer);\r\n      }\r\n    });\r\n\r\n    newEmpProfile.companyOfficers = employerRepsArr;\r\n\r\n    this.submitCreateRequest(newEmpProfile);\r\n  }\r\n\r\n  submitCreateRequest(newEmployerProfile: ICompany): void {\r\n    this.employerProfileService.create(newEmployerProfile).subscribe(\r\n      resp => {\r\n        if (resp && resp.status === 200) {\r\n          this.toastService.success(\"Employer details has been updated\");\r\n          this.resetFields();\r\n        }\r\n      },\r\n      (error:any) => {\r\n        this.toastService.error(error.error?.error_desc);\r\n      })\r\n  }\r\n}\r\n","<form [formGroup]=\"epForm\">\r\n    <div class=\"grid\">\r\n            <div class=\"col-4\" formGroupName=\"companyInfo\">\r\n                <p-panel header=\"Company Information\">\r\n                    <div class=\"field grid\">\r\n                        <label for=\"csn\" class=\"col-3\">CSN</label>\r\n                        <div class=\"col-9\" id=\"csn\">\r\n                            <input type=\"text\" pInputText formControlName=\"csn1\" id=\"csn1\" style=\"width:30%\" maxlength=\"10\"/>\r\n                            -\r\n                            <input type=\"text\" pInputText formControlName=\"csn2\" id=\"csn2\" style=\"width:20%\" maxlength=\"3\"/>\r\n                            -\r\n                            <input type=\"text\" pInputText formControlName=\"csn3\" id=\"csn3\" style=\"width:20%\" maxlength=\"2\"/>\r\n                            <br/>\r\n                            <span *ngIf=\"(epForm.get('companyInfo')?.get('csn1')?.hasError('required') && epForm.get('companyInfo')?.get('csn1').dirty)\r\n                            || (epForm.get('companyInfo').get('csn2')?.hasError('required') && epForm.get('companyInfo')?.get('csn2')?.dirty)\r\n                            || (epForm.get('companyInfo').get('csn3')?.hasError('required') && epForm.get('companyInfo')?.get('csn3')?.dirty)\"\r\n                            class=\"p-error\">Required</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field grid\">\r\n                        <label for=\"csn\" class=\"col-3\">Company Name</label>\r\n                        <div class=\"col-9\">\r\n                            <input type=\"text\" pInputText formControlName=\"companyName\" id=\"companyName\" class=\"w-full\" maxlength=\"50\"/>\r\n                            <span *ngIf=\"epForm.get('companyInfo')?.get('companyName')?.hasError('required') && epForm.get('companyInfo')?.get('companyName')?.dirty\" class=\"p-error\">Required</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field grid\">\r\n                        <label for=\"address\" class=\"col-3\">Address</label>\r\n                        <div class=\"col-9\" id=\"address\">\r\n                            <div class=\"field\">\r\n                                <input type=\"text\" pInputText formControlName=\"blk\" id=\"blk\" placeholder=\"Blk\" style=\"width:25%\" maxlength=\"10\"/>\r\n                                <input type=\"text\" pInputText formControlName=\"street\" id=\"street\" placeholder=\"Street\" style=\"width:70%\" maxlength=\"100\"/>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <input type=\"text\" pInputText formControlName=\"unit\" id=\"unit\" placeholder=\"Unit\" style=\"width:40%\" maxlength=\"10\"/>\r\n                                <input type=\"text\" pInputText formControlName=\"building\" id=\"building\" placeholder=\"Building\" style=\"width:55%\" maxlength=\"100\"/>\r\n                            </div>\r\n                            <span *ngIf=\"(epForm.get('companyInfo')?.get('blk')?.hasError('required') && epForm.get('companyInfo')?.get('blk')?.dirty)\r\n                            || (epForm.get('companyInfo')?.get('street')?.hasError('required') && epForm.get('companyInfo')?.get('street')?.dirty)\" class=\"p-error\">Required</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field grid\">\r\n                        <label for=\"postal\" class=\"col-3\">Postal Code</label>\r\n                        <div class=\"col-9\">\r\n                            <input type=\"text\" pInputText pKeyFilter=\"pint\" formControlName=\"postalCode\" id=\"postal\" maxlength=\"6\"/>\r\n                            <br/>\r\n                            <span *ngIf=\"epForm.get('companyInfo')?.get('postalCode')?.hasError('required') && epForm.get('companyInfo')?.get('postalCode')?.dirty\" class=\"p-error\">Required</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"field grid\">\r\n                        <label for=\"companySize\" class=\"col-3\">Company Size</label>\r\n                        <div class=\"col-9\">\r\n                            <p-inputNumber formControlName=\"companySize\" id=\"size\"\r\n                                mode=\"decimal\"\r\n                                [min]=\"1\"\r\n                                [max]=\"9999999\"\r\n                                [maxlength]=\"7\"\r\n                                [useGrouping]=\"false\"></p-inputNumber>\r\n                            <br/>\r\n                            <span *ngIf=\"epForm.get('companyInfo')?.get('companySize')?.hasError('required') && epForm.get('companyInfo')?.get('companySize')?.dirty\" class=\"p-error\">Required</span>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"field grid\">\r\n                        <label for=\"eRegistered\" class=\"col-3\">eRegistered</label>\r\n                        <div class=\"col-9\">\r\n                            <p-dropdown formControlName=\"eRegistered\"\r\n                                [options]=\"eRegisteredOptions\"\r\n                                optionLabel=\"label\"\r\n                                optionValue=\"value\"\r\n                                placeholder=\"&nbsp;\">\r\n                            </p-dropdown>\r\n                        </div>\r\n                    </div>\r\n                </p-panel>\r\n            </div>\r\n\r\n            <div class=\"col-8\">\r\n                <div formArrayName=\"officers\">\r\n                    <p-panel header=\"Officers\">\r\n                        <!-- <p-table [value]=\"epForm.controls.officers['controls']\"  -->\r\n                        <p-table #officersTb [value]=\"officersFormArray.controls\"\r\n                            styleClass=\"p-datatable-gridlines\">\r\n                            <ng-template pTemplate=\"caption\">\r\n                                <div class=\"p-d-flex\">\r\n                                    <button type=\"button\" pButton pRipple icon=\"pi pi-file-o\" (click)=\"exportCSV(officersTb)\" pTooltip=\"CSV\" tooltipPosition=\"bottom\"></button>\r\n                                </div>\r\n                            </ng-template>\r\n                            <ng-template pTemplate=\"header\">\r\n                                <tr>\r\n                                    <th scope=\"col\" style=\"width: 7%\"></th>\r\n                                    <th scope=\"col\" pSortableColumn=\"value.nric\">NRIC<p-sortIcon field=\"value.nric\"></p-sortIcon></th>\r\n                                    <th scope=\"col\" style=\"width: 13%\" pSortableColumn=\"value.salutation\">Salutation<p-sortIcon field=\"value.salutation\"></p-sortIcon></th>\r\n                                    <th scope=\"col\" pSortableColumn=\"value.name\">Name<p-sortIcon field=\"value.name\"></p-sortIcon></th>\r\n                                    <th scope=\"col\" pSortableColumn=\"value.appointment\">Appointment<p-sortIcon field=\"value.appointment\"></p-sortIcon></th>\r\n                                    <th scope=\"col\" pSortableColumn=\"value.email\">Email<p-sortIcon field=\"value.email\"></p-sortIcon></th>\r\n                                    <th scope=\"col\" pSortableColumn=\"value.contactNo\">Contact No.<p-sortIcon field=\"value.contactNo\"></p-sortIcon></th>\r\n                                </tr>\r\n                            </ng-template>\r\n                            <ng-template pTemplate=\"body\" let-officer let-i=\"rowIndex\">\r\n                                <tr [formGroupName]=\"i\">\r\n                                    <td>\r\n                                        {{officer.value.officerRole}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type=\"text\" pInputText formControlName=\"nric\" class=\"w-full\"/>\r\n                                        <span *ngIf=\"officer.get('nric')?.hasError('required') && officer.get('nric')?.dirty\" class=\"p-error\">Required</span>\r\n                                        <span *ngIf=\"officer.get('nric')?.hasError('nric') && officer.get('nric')?.dirty\" class=\"p-error\">Invalid NRIC Format</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <p-dropdown formControlName=\"salutation\"\r\n                                            [options]=\"salutationOptions\"\r\n                                            optionLabel=\"label\"\r\n                                            optionValue=\"value\"\r\n                                            placeholder=\"&nbsp;\"\r\n                                            styleClass=\"full-width\">\r\n                                        </p-dropdown>\r\n                                        <span *ngIf=\"officer.get('salutation')?.hasError('required') && officer.get('salutation')?.dirty\" class=\"p-error\">Required</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type=\"text\" pInputText formControlName=\"name\" id=\"name{{i}}\" class=\"w-full\"/>\r\n                                        <span *ngIf=\"officer.get('name')?.hasError('maxlength')\" class=\"p-error\">Maxmium length is 50</span>\r\n                                        <span *ngIf=\"officer.get('name')?.hasError('required') && officer.get('name')?.dirty\" class=\"p-error\">Required</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type=\"text\" pInputText formControlName=\"appointment\" class=\"w-full\"/>\r\n                                        <span *ngIf=\"officer.get('appointment')?.hasError('maxlength')\" class=\"p-error\">Maxmium length is 30</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type=\"text\" pInputText formControlName=\"email\" class=\"w-full\"/>\r\n                                        <span *ngIf=\"officer.get('email')?.hasError('required') && officer.get('email')?.dirty\" class=\"p-error\">Required</span>\r\n                                        <span *ngIf=\"officer.get('email')?.hasError('email') && officer.get('email')?.dirty\" class=\"p-error\">Invalid Email Format</span>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type=\"text\" pInputText formControlName=\"contactNo\" class=\"w-full\"/>\r\n                                        <span *ngIf=\"officer.get('contactNo')?.hasError('required') && officer.get('phoneNo')?.dirty\" class=\"p-error\">Required</span>\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-template>\r\n                        </p-table>\r\n                    </p-panel>\r\n                </div>\r\n            </div>\r\n    </div>\r\n</form>\r\n\r\n<div class=\"flex justify-content-end align-items-center\">\r\n    <div>\r\n      <button pButton type=\"button\" label=\"Cancel\" (click)=\"reset($event, 'cancelDialog')\" class=\"p-button-danger\"></button>\r\n      <p-confirmPopup key='createConfirmPopup'></p-confirmPopup>\r\n      <button pButton type=\"button\" label=\"Submit\" (click)=\"confirm($event, 'createConfirmPopup')\" [disabled]=\"!epForm.valid\"></button>\r\n    </div>\r\n</div>\r\n\r\n<p-confirmDialog key='cancelDialog' header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}