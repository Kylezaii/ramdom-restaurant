{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EnquiryNsmanComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst forms_1 = require(\"@angular/forms\");\nconst nric_directive_1 = require(\"app/shared/validator/nric.directive\");\nconst date_validator_directive_1 = require(\"app/shared/validator/date-validator.directive\");\nconst either_or_field_directive_1 = require(\"app/shared/validator/either-or-field.directive\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i2 = tslib_1.__importStar(require(\"../caution-alert-block/service/cab.service\"));\nconst i3 = tslib_1.__importStar(require(\"./service/enquiry-nsman.service\"));\nconst i4 = tslib_1.__importStar(require(\"app/layouts/service/customtoast.service\"));\nconst i5 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/card\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/checkbox\"));\nconst i10 = tslib_1.__importStar(require(\"primeng/inputtext\"));\nconst i11 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i12 = tslib_1.__importStar(require(\"../../shared/language/translate.directive\"));\nconst i13 = tslib_1.__importStar(require(\"primeng/togglebutton\"));\nconst i14 = tslib_1.__importStar(require(\"./personal-particulars/nsman-particulars-summary.component\"));\nconst i15 = tslib_1.__importStar(require(\"./search/partial-nric/nsman-partial-nric-search.component\"));\nconst i16 = tslib_1.__importStar(require(\"./search/nsman-tabs/nsman-tabs.component\"));\nfunction EnquiryNsmanComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelement(1, \"span\", 30);\n    i0.ɵɵtext(2, \"\\n                    \");\n  }\n}\nfunction EnquiryNsmanComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \"\\n                                    Minimum of last 4 alphanumeric characters is required.\\n                                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1, \"\\n                                    Invalid NRIC entered.\\n                                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \"\\n                                    Invalid Case ID entered.\\n                                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1, \"\\n                                    Either NRIC or Case ID is required. Please key a valid input.\\n                                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1, \"\\n                                    End date cannot be earlier than start date.\\n                                \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"n2-nsman-particulars-summary\", 36);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nsman\", ctx_r6.nsman);\n  }\n}\nfunction EnquiryNsmanComponent_div_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelement(2, \"p-card\", 37);\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EnquiryNsmanComponent_div_97_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"n2-nsman-partial-nric-search\", 39);\n    i0.ɵɵlistener(\"selectNSmanEvent\", function EnquiryNsmanComponent_div_97_Template_n2_nsman_partial_nric_search_selectNSmanEvent_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.selectNSman($event));\n    });\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nsmen\", ctx_r8.nsmen);\n  }\n}\nfunction EnquiryNsmanComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelement(2, \"n2-nsman-tabs\", 40);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"nsman\", ctx_r9.nsman)(\"index\", ctx_r9.index);\n  }\n}\nconst _c0 = function () {\n  return {\n    \"width\": \"45%\"\n  };\n};\nclass EnquiryNsmanComponent {\n  constructor(fb, cabService, enquiryNSmanService, toastService) {\n    this.fb = fb;\n    this.cabService = cabService;\n    this.enquiryNSmanService = enquiryNSmanService;\n    this.toastService = toastService;\n    this.searchForm = this.fb.group({\n      nricInput: new forms_1.FormControl(''),\n      caseIdInput: new forms_1.FormControl('', forms_1.Validators.pattern('^(EPI|EI|SI|E|S|EP)([0-9]{2})-[0-9]+$')),\n      startDateInput: new forms_1.FormControl(),\n      endDateInput: new forms_1.FormControl(),\n      allRecord: new forms_1.FormControl(false)\n    }, {\n      validators: [either_or_field_directive_1.EitherOrValidator.eitherOr('nricInput', 'caseIdInput'), date_validator_directive_1.DateValidator.dateLessThanOrEquals('startDateInput', 'endDateInput')]\n    });\n    // boolean variables to determine which card/table/panels are shown\n    this.isCollapsed = false;\n    this.isNSmanFound = false;\n    this.isNSmenFound = false;\n    this.nsman = {};\n    this.nsmen = [];\n  }\n  ngOnInit() {\n    //\n  }\n  retrieve() {\n    this.isNSmanFound = false;\n    this.isNSmenFound = false;\n    const nricInput = this.searchForm.controls['nricInput'].value;\n    const caseIdInput = this.searchForm.controls['caseIdInput'].value;\n    if (nricInput) {\n      if (nricInput.length < 9) {\n        this.findNSmen(nricInput);\n      } else {\n        this.findNSmanByNric(nricInput);\n      }\n    } else if (caseIdInput) {\n      this.findNSmanByCaseId(caseIdInput);\n    }\n  }\n  findNSmen(nricInput) {\n    this.enquiryNSmanService.getNSmen(nricInput).subscribe(resp => {\n      if (resp.body.data.length > 0) {\n        this.isNSmenFound = true;\n        this.nsmen = resp.body.data;\n      }\n    }, error => {\n      const error_message = String(error?.error?.error_desc);\n      console.log(\"error is \" + error_message);\n      this.toastService.add({\n        severity: 'error',\n        summary: error_message\n      });\n    });\n  }\n  findNSmanByNric(nricInput) {\n    this.enquiryNSmanService.getNSmanByNric(nricInput).subscribe(resp => {\n      if (resp.body.data) {\n        this.index = 0;\n        this.isNSmanFound = true;\n        this.nsman = resp.body.data;\n      }\n    }, error => {\n      const error_message = String(error?.error?.error_desc);\n      console.log(\"error is \" + error_message);\n      this.toastService.add({\n        severity: 'error',\n        summary: error_message\n      });\n    });\n  }\n  findNSmanByCaseId(caseIdInput) {\n    this.enquiryNSmanService.getNSmanByCaseId(caseIdInput).subscribe(resp => {\n      if (resp.body.data) {\n        this.index = 3;\n        this.isNSmanFound = true;\n        this.nsman = resp.body.data;\n      }\n    }, error => {\n      const error_message = String(error?.error?.error_desc);\n      console.log(\"error is \" + error_message);\n      this.toastService.add({\n        severity: 'error',\n        summary: error_message\n      });\n    });\n  }\n  selectNSman(nric) {\n    console.log(\"parent receive SELECT NSMAN event\", nric);\n    if (nric) {\n      this.nsmen = null;\n      this.isNSmenFound = false;\n      this.findNSmanByNric(nric);\n    }\n  }\n  patchDefaultDates() {\n    if (!this.searchForm.controls['nricInput'].value && !this.searchForm.controls['caseIdInput'].value) {\n      // if no search input then clear default dates\n      this.searchForm.controls['startDateInput'].reset();\n      this.searchForm.controls['endDateInput'].reset();\n    } else {\n      const defaultStartDate = new Date();\n      if (this.searchForm.controls['nricInput'].value) {\n        defaultStartDate.setMonth(defaultStartDate.getMonth() - 3);\n      } else if (this.searchForm.controls['caseIdInput'].value) {\n        defaultStartDate.setMonth(defaultStartDate.getMonth() - 6);\n      }\n      const defaultEndDate = new Date();\n      defaultEndDate.setMonth(defaultEndDate.getMonth() + 6);\n      this.searchForm.patchValue({\n        startDateInput: defaultStartDate,\n        endDateInput: defaultEndDate\n      });\n    }\n  }\n  onKeyupNric() {\n    // if user types in nric then clear case id and set appropriate nric validation\n    this.searchForm.controls['caseIdInput'].reset(\"\");\n    this.setNricValidator();\n    // patch default dates if all record is unchecked\n    if (!this.searchForm.controls['allRecord'].value) {\n      this.patchDefaultDates();\n    }\n  }\n  onKeyupCaseid() {\n    // if user types in case id then clear nric\n    this.searchForm.controls['nricInput'].reset(\"\");\n    // patch default dates if all record is unchecked\n    if (!this.searchForm.controls['allRecord'].value) {\n      this.patchDefaultDates();\n    }\n  }\n  onInputOrSelectPeriod() {\n    // if user types in or selects date then uncheck all record\n    this.searchForm.controls['allRecord'].reset(false);\n  }\n  onClickAllRecord() {\n    // if user checks all record, then clear start and end dates\n    if (this.searchForm.controls['allRecord'].value) {\n      this.searchForm.controls['startDateInput'].reset();\n      this.searchForm.controls['endDateInput'].reset();\n    } else {\n      this.patchDefaultDates();\n    }\n  }\n  setNricValidator() {\n    const nricControl = this.searchForm.get('nricInput');\n    if (nricControl.value.length < 9) {\n      // set partial nric validation\n      nricControl.setValidators([forms_1.Validators.pattern('^[a-zA-Z]?[0-9]{3,7}[a-zA-Z]$')]);\n    } else {\n      // set full nric validator\n      nricControl.setValidators([(0, nric_directive_1.NRICValidator)()]);\n    }\n    nricControl.updateValueAndValidity();\n  }\n}\nexports.EnquiryNsmanComponent = EnquiryNsmanComponent;\nEnquiryNsmanComponent.ɵfac = function EnquiryNsmanComponent_Factory(t) {\n  return new (t || EnquiryNsmanComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CABService), i0.ɵɵdirectiveInject(i3.EnquiryNSmanService), i0.ɵɵdirectiveInject(i4.CustomToastService));\n};\nEnquiryNsmanComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EnquiryNsmanComponent,\n  selectors: [[\"n2-enquiry-nsman\"]],\n  decls: 104,\n  vars: 22,\n  consts: [[2, \"display\", \"flex\"], [2, \"margin-right\", \"0.5rem\"], [\"onIcon\", \"pi pi-chevron-right\", \"offIcon\", \"pi pi-chevron-left\", 3, \"ngModel\", \"ngModelChange\"], [1, \"cards\", 3, \"hidden\"], [1, \"grid\"], [1, \"col-12\"], [\"styleClass\", \"search-card\"], [\"pTemplate\", \"header\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"field\", \"grid\"], [\"for\", \"nricInput\", 1, \"col-3\"], [1, \"col-9\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"nricInput\", \"formControlName\", \"nricInput\", 1, \"w-full\", 3, \"ngClass\", \"keyup\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.enquiry.validation.nricPattern\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V002\", 4, \"ngIf\"], [\"for\", \"caseIdInput\", 1, \"col-3\"], [\"type\", \"text\", \"pInputText\", \"\", \"id\", \"caseIdInput\", \"formControlName\", \"caseIdInput\", \"placeholder\", \"< Key in Case ID >\", 1, \"w-full\", 3, \"ngClass\", \"keyup\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V005\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V001\", 4, \"ngIf\"], [\"for\", \"startDateInput\", 1, \"col-3\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"inputId\", \"startDateInput\", \"formControlName\", \"startDateInput\", \"view\", \"month\", \"dateFormat\", \"mmyy\", 3, \"inputStyle\", \"ngClass\", \"onInput\", \"onSelect\"], [2, \"margin-left\", \"1rem\", \"margin-right\", \"1rem\"], [\"inputId\", \"endDateInput\", \"formControlName\", \"endDateInput\", \"view\", \"month\", \"dateFormat\", \"mmyy\", 3, \"inputStyle\", \"ngClass\", \"onInput\", \"onSelect\"], [\"class\", \"form-text text-danger\", \"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V003\", 4, \"ngIf\"], [\"for\", \"allRecord\", 1, \"col-5\"], [\"id\", \"allRecord\", \"formControlName\", \"allRecord\", 1, \"col-3\", 3, \"binary\", \"click\"], [\"type\", \"submit\", \"pButton\", \"\", \"label\", \"Retrieve\", 1, \"col-4\", 3, \"disabled\"], [\"class\", \"col-12\", 4, \"ngIf\"], [\"style\", \"width: 100%\", 4, \"ngIf\"], [\"icTranslate\", \"nspay2App.enquiry.nsman.search.header\", 1, \"p-card-title\"], [\"icTranslate\", \"nspay2App.enquiry.validation.nricPattern\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V002\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V005\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V001\", 1, \"form-text\", \"text-danger\"], [\"icTranslate\", \"nspay2App.enquiry.validation.ENQ-V003\", 1, \"form-text\", \"text-danger\"], [3, \"nsman\"], [\"styleClass\", \"empty-card\"], [2, \"width\", \"100%\"], [3, \"nsmen\", \"selectNSmanEvent\"], [3, \"nsman\", \"index\"]],\n  template: function EnquiryNsmanComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\\n    \");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n        \");\n      i0.ɵɵelementStart(4, \"p-toggleButton\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function EnquiryNsmanComponent_Template_p_toggleButton_ngModelChange_4_listener($event) {\n        return ctx.isCollapsed = $event;\n      });\n      i0.ɵɵtext(5, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\\n    \");\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵtext(9, \"\\n        \");\n      i0.ɵɵelementStart(10, \"div\", 4);\n      i0.ɵɵtext(11, \"\\n            \");\n      i0.ɵɵtext(12, \"\\n            \");\n      i0.ɵɵelementStart(13, \"div\", 5);\n      i0.ɵɵtext(14, \"\\n                \");\n      i0.ɵɵelementStart(15, \"p-card\", 6);\n      i0.ɵɵtext(16, \"\\n                    \");\n      i0.ɵɵtemplate(17, EnquiryNsmanComponent_ng_template_17_Template, 3, 0, \"ng-template\", 7);\n      i0.ɵɵtext(18, \"\\n                    \");\n      i0.ɵɵelementStart(19, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function EnquiryNsmanComponent_Template_form_ngSubmit_19_listener() {\n        return ctx.retrieve();\n      });\n      i0.ɵɵtext(20, \"\\n                        \");\n      i0.ɵɵelementStart(21, \"div\", 9);\n      i0.ɵɵtext(22, \"\\n                            \");\n      i0.ɵɵelementStart(23, \"label\", 10);\n      i0.ɵɵtext(24, \"NRIC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n                            \");\n      i0.ɵɵelementStart(26, \"div\", 11);\n      i0.ɵɵtext(27, \"\\n                                \");\n      i0.ɵɵelementStart(28, \"input\", 12);\n      i0.ɵɵlistener(\"keyup\", function EnquiryNsmanComponent_Template_input_keyup_28_listener() {\n        return ctx.onKeyupNric();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29, \"\\n                                \");\n      i0.ɵɵtemplate(30, EnquiryNsmanComponent_div_30_Template, 2, 0, \"div\", 13);\n      i0.ɵɵtext(31, \"\\n                                \");\n      i0.ɵɵtemplate(32, EnquiryNsmanComponent_div_32_Template, 2, 0, \"div\", 14);\n      i0.ɵɵtext(33, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(34, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n                        \");\n      i0.ɵɵelementStart(36, \"div\", 9);\n      i0.ɵɵtext(37, \"\\n                            \");\n      i0.ɵɵelementStart(38, \"label\", 15);\n      i0.ɵɵtext(39, \"Case ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(40, \"\\n                            \");\n      i0.ɵɵelementStart(41, \"div\", 11);\n      i0.ɵɵtext(42, \"\\n                                \");\n      i0.ɵɵelementStart(43, \"input\", 16);\n      i0.ɵɵlistener(\"keyup\", function EnquiryNsmanComponent_Template_input_keyup_43_listener() {\n        return ctx.onKeyupCaseid();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(44, \"\\n                                \");\n      i0.ɵɵtemplate(45, EnquiryNsmanComponent_div_45_Template, 2, 0, \"div\", 17);\n      i0.ɵɵtext(46, \"\\n                                \");\n      i0.ɵɵtemplate(47, EnquiryNsmanComponent_div_47_Template, 2, 0, \"div\", 18);\n      i0.ɵɵtext(48, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(49, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \"\\n                        \");\n      i0.ɵɵelementStart(51, \"div\", 9);\n      i0.ɵɵtext(52, \"\\n                            \");\n      i0.ɵɵelementStart(53, \"label\", 19);\n      i0.ɵɵtext(54, \"Period\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n                            \");\n      i0.ɵɵelementStart(56, \"div\", 11);\n      i0.ɵɵtext(57, \"\\n                                \");\n      i0.ɵɵelementStart(58, \"div\", 20);\n      i0.ɵɵtext(59, \"\\n                                    \");\n      i0.ɵɵelementStart(60, \"p-calendar\", 21);\n      i0.ɵɵlistener(\"onInput\", function EnquiryNsmanComponent_Template_p_calendar_onInput_60_listener() {\n        return ctx.onInputOrSelectPeriod();\n      })(\"onSelect\", function EnquiryNsmanComponent_Template_p_calendar_onSelect_60_listener() {\n        return ctx.onInputOrSelectPeriod();\n      });\n      i0.ɵɵtext(61, \"\\n                                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n                                    \");\n      i0.ɵɵelementStart(63, \"span\", 22);\n      i0.ɵɵtext(64, \"-\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(65, \"\\n                                    \");\n      i0.ɵɵelementStart(66, \"p-calendar\", 23);\n      i0.ɵɵlistener(\"onInput\", function EnquiryNsmanComponent_Template_p_calendar_onInput_66_listener() {\n        return ctx.onInputOrSelectPeriod();\n      })(\"onSelect\", function EnquiryNsmanComponent_Template_p_calendar_onSelect_66_listener() {\n        return ctx.onInputOrSelectPeriod();\n      });\n      i0.ɵɵtext(67, \"\\n                                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(68, \"\\n                                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(69, \"\\n                                \");\n      i0.ɵɵtemplate(70, EnquiryNsmanComponent_div_70_Template, 2, 0, \"div\", 24);\n      i0.ɵɵtext(71, \"\\n                            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(72, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(73, \"\\n                        \");\n      i0.ɵɵelementStart(74, \"div\", 9);\n      i0.ɵɵtext(75, \"\\n                            \");\n      i0.ɵɵelementStart(76, \"label\", 25);\n      i0.ɵɵtext(77, \"All Record?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(78, \"\\n                            \");\n      i0.ɵɵelementStart(79, \"p-checkbox\", 26);\n      i0.ɵɵlistener(\"click\", function EnquiryNsmanComponent_Template_p_checkbox_click_79_listener() {\n        return ctx.onClickAllRecord();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(80, \"\\n                            \");\n      i0.ɵɵelement(81, \"button\", 27);\n      i0.ɵɵtext(82, \"\\n                        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(83, \"\\n                    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(84, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(85, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(86, \"\\n            \");\n      i0.ɵɵtext(87, \"\\n\\n            \");\n      i0.ɵɵtext(88, \"\\n            \");\n      i0.ɵɵtemplate(89, EnquiryNsmanComponent_div_89_Template, 5, 1, \"div\", 28);\n      i0.ɵɵtext(90, \"\\n            \");\n      i0.ɵɵtemplate(91, EnquiryNsmanComponent_div_91_Template, 4, 0, \"div\", 28);\n      i0.ɵɵtext(92, \"\\n            \");\n      i0.ɵɵtext(93, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(94, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(95, \"\\n\\n    \");\n      i0.ɵɵtext(96, \"\\n    \");\n      i0.ɵɵtemplate(97, EnquiryNsmanComponent_div_97_Template, 5, 1, \"div\", 29);\n      i0.ɵɵtext(98, \"\\n    \");\n      i0.ɵɵtext(99, \"\\n\\n    \");\n      i0.ɵɵtext(100, \"\\n    \");\n      i0.ɵɵtemplate(101, EnquiryNsmanComponent_div_101_Template, 4, 2, \"div\", 29);\n      i0.ɵɵtext(102, \"\\n    \");\n      i0.ɵɵtext(103, \"\\n\\n\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.isCollapsed);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hidden\", ctx.isCollapsed);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngClass\", (ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidEitherOr\"]) && (((tmp_3_0 = ctx.searchForm.get(\"nricInput\")) == null ? null : tmp_3_0.dirty) || ((tmp_3_0 = ctx.searchForm.get(\"caseIdInput\")) == null ? null : tmp_3_0.dirty)) ? \"red-border\" : null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.searchForm.get(\"nricInput\").errors == null ? null : ctx.searchForm.get(\"nricInput\").errors.pattern) && ((tmp_4_0 = ctx.searchForm.get(\"nricInput\")) == null ? null : tmp_4_0.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.searchForm.get(\"nricInput\").errors == null ? null : ctx.searchForm.get(\"nricInput\").errors[\"nric\"]) && ((tmp_5_0 = ctx.searchForm.get(\"nricInput\")) == null ? null : tmp_5_0.dirty));\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngClass\", (ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidEitherOr\"]) && (((tmp_6_0 = ctx.searchForm.get(\"nricInput\")) == null ? null : tmp_6_0.dirty) || ((tmp_6_0 = ctx.searchForm.get(\"caseIdInput\")) == null ? null : tmp_6_0.dirty)) ? \"red-border\" : null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.searchForm.get(\"caseIdInput\").errors == null ? null : ctx.searchForm.get(\"caseIdInput\").errors.pattern) && ((tmp_7_0 = ctx.searchForm.get(\"caseIdInput\")) == null ? null : tmp_7_0.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidEitherOr\"]) && (((tmp_8_0 = ctx.searchForm.get(\"nricInput\")) == null ? null : tmp_8_0.dirty) || ((tmp_8_0 = ctx.searchForm.get(\"caseIdInput\")) == null ? null : tmp_8_0.dirty)));\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"inputStyle\", i0.ɵɵpureFunction0(20, _c0))(\"ngClass\", (ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidDateLessThanOrEquals\"]) ? \"red-border\" : null);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"inputStyle\", i0.ɵɵpureFunction0(21, _c0))(\"ngClass\", (ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidDateLessThanOrEquals\"]) ? \"red-border\" : null);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchForm.errors == null ? null : ctx.searchForm.errors[\"invalidDateLessThanOrEquals\"]);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"binary\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.searchForm.valid);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.isNSmanFound);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isNSmanFound);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.isNSmenFound);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.isNSmanFound);\n    }\n  },\n  dependencies: [i5.NgClass, i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgModel, i1.FormGroupDirective, i1.FormControlName, i6.Card, i7.PrimeTemplate, i8.ButtonDirective, i9.Checkbox, i10.InputText, i11.Calendar, i12.TranslateDirective, i13.ToggleButton, i14.NsmanParticularSummaryComponent, i15.NsmanPartialNricSearchComponent, i16.NsmanTabsComponent],\n  styles: [\"[_nghost-%COMP%]     .cards {\\n  width: 350px;\\n  margin-top: 0.6rem;\\n  margin-right: 0.5rem;\\n}\\n\\n[_nghost-%COMP%]     .col-12 {\\n  padding-top: 0;\\n  padding-bottom: 0;\\n}\\n\\n[_nghost-%COMP%]     .p-togglebutton.p-button {\\n  background: var(--surface-b) !important;\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);\\n  border: transparent;\\n  height: 100%;\\n}\\n\\n[_nghost-%COMP%]     .p-togglebutton.p-button.p-highlight .p-button-icon-left {\\n  color: #495057 !important;\\n}\\n\\n[_nghost-%COMP%]     .search-card {\\n  background: var(--surface-b) !important;\\n  padding-top: 1em;\\n  margin-bottom: 1rem;\\n}\\n\\n[_nghost-%COMP%]     .empty-card {\\n  background: var(--surface-b) !important;\\n}\\n\\n[_nghost-%COMP%]     .p-card .p-card-title {\\n  margin-left: 1.2rem;\\n}\\n\\n[_nghost-%COMP%]     .p-card .p-card-body {\\n  padding-top: 0;\\n}\\n\\n[_nghost-%COMP%]     .field > label {\\n  margin-bottom: 0;\\n}\\n\\n[_nghost-%COMP%]     .red-border {\\n  border-color: #e24c4c !important;\\n}\\n\\n[_nghost-%COMP%]     .red-border > .p-calendar > .p-inputtext {\\n  border-color: #e24c4c !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVucXVpcnktbnNtYW4uY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXHByb2plY3RzJTIwMlxcbnNwYXlpaWFwcFxcc3JjXFxtYWluXFx3ZWJhcHBcXGFwcFxcZW5xdWlyeVxcbnNtYW5cXGVucXVpcnktbnNtYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSx1Q0FBQTtFQUNBLCtHQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FER0E7RUFDSSx5QkFBQTtBQ0FKOztBREdBO0VBQ0ksdUNBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDQUo7O0FER0E7RUFDSSx1Q0FBQTtBQ0FKOztBREdBO0VBQ0ksbUJBQUE7QUNBSjs7QURHQTtFQUNJLGNBQUE7QUNBSjs7QURHQTtFQUNJLGdCQUFBO0FDQUo7O0FER0E7RUFDSSxnQ0FBQTtBQ0FKOztBREdBO0VBQ0ksZ0NBQUE7QUNBSiIsImZpbGUiOiJlbnF1aXJ5LW5zbWFuLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5jYXJkcyB7XHJcbiAgICB3aWR0aDogMzUwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiAwLjZyZW07XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTsgXHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY29sLTEyIHtcclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDA7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC10b2dnbGVidXR0b24ucC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gICAgYm9yZGVyOiB0cmFuc3BhcmVudDtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLy8gc2V0IGNvbG9yIG9mIHJpZ2h0IGNoZXZyb24gdG8gYmUgY29uc2lzdGVudFxyXG46aG9zdCA6Om5nLWRlZXAgLnAtdG9nZ2xlYnV0dG9uLnAtYnV0dG9uLnAtaGlnaGxpZ2h0IC5wLWJ1dHRvbi1pY29uLWxlZnQge1xyXG4gICAgY29sb3I6ICM0OTUwNTcgIWltcG9ydGFudDsgXHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuc2VhcmNoLWNhcmQge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy10b3A6IDFlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZW1wdHktY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1jYXJkIC5wLWNhcmQtdGl0bGUge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZpZWxkID4gbGFiZWwge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5yZWQtYm9yZGVyIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXIgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufSIsIjpob3N0IDo6bmctZGVlcCAuY2FyZHMge1xuICB3aWR0aDogMzUwcHg7XG4gIG1hcmdpbi10b3A6IDAuNnJlbTtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY29sLTEyIHtcbiAgcGFkZGluZy10b3A6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtdG9nZ2xlYnV0dG9uLnAtYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiAwIDJweCAxcHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7XG4gIGJvcmRlcjogdHJhbnNwYXJlbnQ7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLXRvZ2dsZWJ1dHRvbi5wLWJ1dHRvbi5wLWhpZ2hsaWdodCAucC1idXR0b24taWNvbi1sZWZ0IHtcbiAgY29sb3I6ICM0OTUwNTcgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5zZWFyY2gtY2FyZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcbiAgcGFkZGluZy10b3A6IDFlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5lbXB0eS1jYXJkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtY2FyZCAucC1jYXJkLXRpdGxlIHtcbiAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcbiAgcGFkZGluZy10b3A6IDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZmllbGQgPiBsYWJlbCB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlciB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXIgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvZW5xdWlyeS9uc21hbi9lbnF1aXJ5LW5zbWFuLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9lbnF1aXJ5L25zbWFuL2VucXVpcnktbnNtYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSx1Q0FBQTtFQUNBLCtHQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FER0E7RUFDSSx5QkFBQTtBQ0FKOztBREdBO0VBQ0ksdUNBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDQUo7O0FER0E7RUFDSSx1Q0FBQTtBQ0FKOztBREdBO0VBQ0ksbUJBQUE7QUNBSjs7QURHQTtFQUNJLGNBQUE7QUNBSjs7QURHQTtFQUNJLGdCQUFBO0FDQUo7O0FER0E7RUFDSSxnQ0FBQTtBQ0FKOztBREdBO0VBQ0ksZ0NBQUE7QUNBSjtBRENBLHc4SEFBdzhIIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5jYXJkcyB7XHJcbiAgICB3aWR0aDogMzUwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiAwLjZyZW07XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTsgXHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY29sLTEyIHtcclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDA7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC10b2dnbGVidXR0b24ucC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG4gICAgYm94LXNoYWRvdzogMCAycHggMXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gICAgYm9yZGVyOiB0cmFuc3BhcmVudDtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLy8gc2V0IGNvbG9yIG9mIHJpZ2h0IGNoZXZyb24gdG8gYmUgY29uc2lzdGVudFxyXG46aG9zdCA6Om5nLWRlZXAgLnAtdG9nZ2xlYnV0dG9uLnAtYnV0dG9uLnAtaGlnaGxpZ2h0IC5wLWJ1dHRvbi1pY29uLWxlZnQge1xyXG4gICAgY29sb3I6ICM0OTUwNTcgIWltcG9ydGFudDsgXHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuc2VhcmNoLWNhcmQge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy10b3A6IDFlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZW1wdHktY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1jYXJkIC5wLWNhcmQtdGl0bGUge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmZpZWxkID4gbGFiZWwge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5yZWQtYm9yZGVyIHtcclxuICAgIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXIgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XHJcbiAgICBib3JkZXItY29sb3I6ICNlMjRjNGMgIWltcG9ydGFudDtcclxufSIsIjpob3N0IDo6bmctZGVlcCAuY2FyZHMge1xuICB3aWR0aDogMzUwcHg7XG4gIG1hcmdpbi10b3A6IDAuNnJlbTtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY29sLTEyIHtcbiAgcGFkZGluZy10b3A6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtdG9nZ2xlYnV0dG9uLnAtYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiAwIDJweCAxcHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7XG4gIGJvcmRlcjogdHJhbnNwYXJlbnQ7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLXRvZ2dsZWJ1dHRvbi5wLWJ1dHRvbi5wLWhpZ2hsaWdodCAucC1idXR0b24taWNvbi1sZWZ0IHtcbiAgY29sb3I6ICM0OTUwNTcgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5zZWFyY2gtY2FyZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcbiAgcGFkZGluZy10b3A6IDFlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5lbXB0eS1jYXJkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtY2FyZCAucC1jYXJkLXRpdGxlIHtcbiAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcbiAgcGFkZGluZy10b3A6IDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZmllbGQgPiBsYWJlbCB7XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucmVkLWJvcmRlciB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnJlZC1ib3JkZXIgPiAucC1jYWxlbmRhciA+IC5wLWlucHV0dGV4dCB7XG4gIGJvcmRlci1jb2xvcjogI2UyNGM0YyAhaW1wb3J0YW50O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EnquiryNsmanComponent","constructor","fb","cabService","enquiryNSmanService","toastService","group","nricInput","forms_1","caseIdInput","pattern","startDateInput","endDateInput","allRecord","validators","either_or_field_directive_1","eitherOr","date_validator_directive_1","dateLessThanOrEquals","ngOnInit","retrieve","isNSmanFound","isNSmenFound","searchForm","controls","value","length","findNSmen","findNSmanByNric","findNSmanByCaseId","getNSmen","subscribe","resp","body","data","nsmen","error","error_message","String","error_desc","console","log","add","severity","summary","getNSmanByNric","index","nsman","getNSmanByCaseId","selectNSman","nric","patchDefaultDates","reset","defaultStartDate","Date","setMonth","getMonth","defaultEndDate","patchValue","onKeyupNric","setNricValidator","onKeyupCaseid","onInputOrSelectPeriod","onClickAllRecord","nricControl","get","setValidators","updateValueAndValidity","exports","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\enquiry-nsman.component.ts","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\enquiry-nsman.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { CustomToastService } from 'app/layouts/service/customtoast.service';\r\nimport { NRICValidator } from 'app/shared/validator/nric.directive';\r\nimport { DateValidator } from 'app/shared/validator/date-validator.directive';\r\nimport { EitherOrValidator } from 'app/shared/validator/either-or-field.directive';\r\nimport { CABService } from '../caution-alert-block/service/cab.service';\r\nimport { EnquiryNSmanService } from './service/enquiry-nsman.service';\r\nimport { EnqNSman, EnqNSmen } from './model/nsman.model';\r\n\r\n@Component({\r\n  selector: 'n2-enquiry-nsman',\r\n  templateUrl: './enquiry-nsman.component.html',\r\n  styleUrls: ['./enquiry-nsman.component.scss']\r\n})\r\nexport class EnquiryNsmanComponent implements OnInit {\r\n\r\n  searchForm: FormGroup = this.fb.group({\r\n    nricInput: new FormControl(''),\r\n    caseIdInput: new FormControl('', Validators.pattern('^(EPI|EI|SI|E|S|EP)([0-9]{2})-[0-9]+$')),\r\n    startDateInput: new FormControl(),\r\n    endDateInput: new FormControl(),\r\n    allRecord: new FormControl(false)\r\n  }, {\r\n    validators: [\r\n      EitherOrValidator.eitherOr('nricInput', 'caseIdInput'),\r\n      DateValidator.dateLessThanOrEquals('startDateInput', 'endDateInput')\r\n    ]\r\n  });\r\n\r\n  // boolean variables to determine which card/table/panels are shown\r\n  isCollapsed = false;\r\n  isNSmanFound = false;\r\n  isNSmenFound = false;\r\n\r\n  index: number;\r\n  nsman: EnqNSman = {};\r\n  nsmen: EnqNSmen[] = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private cabService: CABService,\r\n    private enquiryNSmanService: EnquiryNSmanService,\r\n    private toastService: CustomToastService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    //\r\n  }\r\n\r\n  retrieve(): void {\r\n    this.isNSmanFound = false;\r\n    this.isNSmenFound = false;\r\n\r\n    const nricInput = this.searchForm.controls['nricInput'].value;\r\n    const caseIdInput = this.searchForm.controls['caseIdInput'].value;\r\n\r\n    if (nricInput) {\r\n      if (nricInput.length < 9) {\r\n        this.findNSmen(nricInput);\r\n      } else {\r\n        this.findNSmanByNric(nricInput);\r\n      }\r\n    } else if (caseIdInput) {\r\n      this.findNSmanByCaseId(caseIdInput);\r\n    }\r\n  }\r\n\r\n  findNSmen(nricInput: string) {\r\n    this.enquiryNSmanService.getNSmen(nricInput).subscribe(\r\n      resp => {\r\n        if (resp.body.data.length > 0) {\r\n          this.isNSmenFound = true;\r\n          this.nsmen = resp.body.data;\r\n        }\r\n      },\r\n      (error: any) => {\r\n        const error_message = String(error?.error?.error_desc);\r\n        console.log(\"error is \" + error_message);\r\n        this.toastService.add({\r\n          severity: 'error',\r\n          summary: error_message\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  findNSmanByNric(nricInput: string) {\r\n    this.enquiryNSmanService.getNSmanByNric(nricInput).subscribe(\r\n      resp => {\r\n        if (resp.body.data) {\r\n          this.index = 0;\r\n          this.isNSmanFound = true;\r\n          this.nsman = resp.body.data;\r\n        }\r\n      },\r\n      (error: any) => {\r\n        const error_message = String(error?.error?.error_desc);\r\n        console.log(\"error is \" + error_message);\r\n        this.toastService.add({\r\n          severity: 'error',\r\n          summary: error_message\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  findNSmanByCaseId(caseIdInput: string) {\r\n    this.enquiryNSmanService.getNSmanByCaseId(caseIdInput).subscribe(\r\n      resp => {\r\n        if (resp.body.data) {\r\n          this.index = 3;\r\n          this.isNSmanFound = true;\r\n          this.nsman = resp.body.data;\r\n        }\r\n      },\r\n      (error: any) => {\r\n        const error_message = String(error?.error?.error_desc);\r\n        console.log(\"error is \" + error_message);\r\n        this.toastService.add({\r\n          severity: 'error',\r\n          summary: error_message\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  selectNSman(nric: any) {\r\n    console.log(\"parent receive SELECT NSMAN event\", nric);\r\n    if (nric) {\r\n      this.nsmen = null;\r\n      this.isNSmenFound = false;\r\n      this.findNSmanByNric(nric);\r\n    }\r\n  }\r\n\r\n  patchDefaultDates(): void {\r\n    if (!this.searchForm.controls['nricInput'].value && !this.searchForm.controls['caseIdInput'].value) {\r\n      // if no search input then clear default dates\r\n      this.searchForm.controls['startDateInput'].reset();\r\n      this.searchForm.controls['endDateInput'].reset();\r\n    } else {\r\n      const defaultStartDate = new Date();\r\n      if (this.searchForm.controls['nricInput'].value) {\r\n        defaultStartDate.setMonth(defaultStartDate.getMonth() - 3);\r\n      } else if (this.searchForm.controls['caseIdInput'].value) {\r\n        defaultStartDate.setMonth(defaultStartDate.getMonth() - 6);\r\n      }\r\n  \r\n      const defaultEndDate = new Date();\r\n      defaultEndDate.setMonth(defaultEndDate.getMonth() + 6);\r\n  \r\n      this.searchForm.patchValue({\r\n        startDateInput: defaultStartDate,\r\n        endDateInput: defaultEndDate\r\n      });\r\n    }\r\n  }\r\n\r\n  onKeyupNric(): void {\r\n    // if user types in nric then clear case id and set appropriate nric validation\r\n    this.searchForm.controls['caseIdInput'].reset(\"\");\r\n    this.setNricValidator();\r\n\r\n    // patch default dates if all record is unchecked\r\n    if (!this.searchForm.controls['allRecord'].value) {\r\n      this.patchDefaultDates();\r\n    }\r\n  }\r\n\r\n  onKeyupCaseid(): void {\r\n    // if user types in case id then clear nric\r\n    this.searchForm.controls['nricInput'].reset(\"\");\r\n\r\n    // patch default dates if all record is unchecked\r\n    if (!this.searchForm.controls['allRecord'].value) {\r\n      this.patchDefaultDates();\r\n    }\r\n  }\r\n\r\n  onInputOrSelectPeriod(): void {\r\n    // if user types in or selects date then uncheck all record\r\n    this.searchForm.controls['allRecord'].reset(false);\r\n  }\r\n\r\n  onClickAllRecord(): void {\r\n    // if user checks all record, then clear start and end dates\r\n    if (this.searchForm.controls['allRecord'].value) {\r\n      this.searchForm.controls['startDateInput'].reset();\r\n      this.searchForm.controls['endDateInput'].reset();\r\n    } else {\r\n      this.patchDefaultDates();\r\n    }\r\n  }\r\n\r\n  setNricValidator(): void {\r\n    const nricControl = this.searchForm.get('nricInput');\r\n    if (nricControl.value.length < 9) {\r\n      // set partial nric validation\r\n      nricControl.setValidators([Validators.pattern('^[a-zA-Z]?[0-9]{3,7}[a-zA-Z]$')]);\r\n    } else {\r\n      // set full nric validator\r\n      nricControl.setValidators([NRICValidator()]);\r\n    }\r\n    nricControl.updateValueAndValidity();\r\n  }\r\n}\r\n","<div style=\"display: flex\">\r\n\r\n    <div style=\"margin-right: 0.5rem;\">\r\n        <p-toggleButton [(ngModel)]=\"isCollapsed\" onIcon=\"pi pi-chevron-right\" offIcon=\"pi pi-chevron-left\">\r\n        </p-toggleButton>\r\n    </div>\r\n\r\n    <div [hidden]=\"isCollapsed\" class=\"cards\">\r\n        <div class=\"grid\">\r\n            <!-- Search NSman card -->\r\n            <div class=\"col-12\">\r\n                <p-card styleClass=\"search-card\">\r\n                    <ng-template pTemplate=\"header\">\r\n                        <span class=\"p-card-title\" icTranslate=\"nspay2App.enquiry.nsman.search.header\"></span>\r\n                    </ng-template>\r\n                    <form [formGroup]=\"searchForm\" (ngSubmit)=\"retrieve()\">\r\n                        <div class=\"field grid\">\r\n                            <label for=\"nricInput\" class=\"col-3\">NRIC</label>\r\n                            <div class=\"col-9\">\r\n                                <input type=\"text\" pInputText id=\"nricInput\" formControlName=\"nricInput\"\r\n                                    (keyup)=\"onKeyupNric()\" class=\"w-full\" \r\n                                    [ngClass]=\"searchForm.errors?.['invalidEitherOr'] && (searchForm.get('nricInput')?.dirty || \r\n                                    searchForm.get('caseIdInput')?.dirty) ? 'red-border' : null\" />\r\n                                <div class=\"form-text text-danger\"\r\n                                    *ngIf=\"searchForm.get('nricInput').errors?.pattern && searchForm.get('nricInput')?.dirty\"\r\n                                    icTranslate=\"nspay2App.enquiry.validation.nricPattern\">\r\n                                    Minimum of last 4 alphanumeric characters is required.\r\n                                </div>\r\n                                <div class=\"form-text text-danger\" \r\n                                    *ngIf=\"searchForm.get('nricInput').errors?.['nric'] && searchForm.get('nricInput')?.dirty\"\r\n                                    icTranslate=\"nspay2App.enquiry.validation.ENQ-V002\">\r\n                                    Invalid NRIC entered.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field grid\">\r\n                            <label for=\"caseIdInput\" class=\"col-3\">Case ID</label>\r\n                            <div class=\"col-9\">\r\n                                <input type=\"text\" pInputText id=\"caseIdInput\" formControlName=\"caseIdInput\"\r\n                                    (keyup)=\"onKeyupCaseid()\" class=\"w-full\" placeholder=\"&lt; Key in Case ID &gt;\" \r\n                                    [ngClass]=\"searchForm.errors?.['invalidEitherOr'] && (searchForm.get('nricInput')?.dirty || \r\n                                    searchForm.get('caseIdInput')?.dirty) ? 'red-border' : null\" />\r\n                                <div class=\"form-text text-danger\" \r\n                                    *ngIf=\"searchForm.get('caseIdInput').errors?.pattern && searchForm.get('caseIdInput')?.dirty\"\r\n                                    icTranslate=\"nspay2App.enquiry.validation.ENQ-V005\">\r\n                                    Invalid Case ID entered.\r\n                                </div>\r\n                                <div class=\"form-text text-danger\" \r\n                                    *ngIf=\"searchForm.errors?.['invalidEitherOr'] && (searchForm.get('nricInput')?.dirty || \r\n                                    searchForm.get('caseIdInput')?.dirty)\"\r\n                                    icTranslate=\"nspay2App.enquiry.validation.ENQ-V001\">\r\n                                    Either NRIC or Case ID is required. Please key a valid input.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field grid\">\r\n                            <label for=\"startDateInput\" class=\"col-3\">Period</label>\r\n                            <div class=\"col-9\">\r\n                                <div style=\"display: flex; align-items: center;\">\r\n                                    <p-calendar inputId=\"startDateInput\" formControlName=\"startDateInput\" view=\"month\"\r\n                                        dateFormat=\"mmyy\" [inputStyle]=\"{'width': '45%'}\" \r\n                                        (onInput)=\"onInputOrSelectPeriod()\" (onSelect)=\"onInputOrSelectPeriod()\" \r\n                                        [ngClass]=\"searchForm.errors?.['invalidDateLessThanOrEquals'] ? 'red-border' : null\">\r\n                                    </p-calendar>\r\n                                    <span style=\"margin-left: 1rem; margin-right: 1rem;\">-</span>\r\n                                    <p-calendar inputId=\"endDateInput\" formControlName=\"endDateInput\" view=\"month\"\r\n                                        dateFormat=\"mmyy\" [inputStyle]=\"{'width': '45%'}\" \r\n                                        (onInput)=\"onInputOrSelectPeriod()\" (onSelect)=\"onInputOrSelectPeriod()\"\r\n                                        [ngClass]=\"searchForm.errors?.['invalidDateLessThanOrEquals'] ? 'red-border' : null\">\r\n                                    </p-calendar>\r\n                                </div>\r\n                                <div class=\"form-text text-danger\"\r\n                                    *ngIf=\"searchForm.errors?.['invalidDateLessThanOrEquals']\"\r\n                                    icTranslate=\"nspay2App.enquiry.validation.ENQ-V003\">\r\n                                    End date cannot be earlier than start date.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"field grid\">\r\n                            <label for=\"allRecord\" class=\"col-5\">All Record?</label>\r\n                            <p-checkbox id=\"allRecord\" formControlName=\"allRecord\" [binary]=\"true\" class=\"col-3\"\r\n                                (click)=\"onClickAllRecord()\"></p-checkbox>\r\n                            <button type=\"submit\" pButton label=\"Retrieve\" class=\"col-4\"\r\n                                [disabled]=\"!searchForm.valid\"></button>\r\n                        </div>\r\n                    </form>\r\n                </p-card>\r\n            </div>\r\n            <!-- end of Search NSman card -->\r\n\r\n            <!-- Personal Particular Summary card -->\r\n            <div class=\"col-12\" *ngIf=\"isNSmanFound\">\r\n                <n2-nsman-particulars-summary [nsman]=\"nsman\">\r\n                </n2-nsman-particulars-summary>\r\n            </div>\r\n            <div class=\"col-12\" *ngIf=\"!isNSmanFound\">\r\n                <p-card styleClass=\"empty-card\"></p-card>\r\n            </div>\r\n            <!-- end of Personal Particular Summary card -->\r\n        </div>\r\n    </div>\r\n\r\n    <!-- partial NRIC search result table -->\r\n    <div *ngIf=\"isNSmenFound\" style=\"width: 100%\">\r\n        <n2-nsman-partial-nric-search [nsmen]=\"nsmen\" (selectNSmanEvent)=\"selectNSman($event)\">\r\n        </n2-nsman-partial-nric-search>\r\n    </div>\r\n    <!-- end of partial NRIC search result table -->\r\n\r\n    <!-- tabView panels -->\r\n    <div *ngIf=\"isNSmanFound\" style=\"width: 100%\">\r\n        <n2-nsman-tabs [nsman]=\"nsman\" [index]=\"index\"></n2-nsman-tabs>\r\n    </div>\r\n    <!-- end of tabView panels -->\r\n\r\n</div>"]},"metadata":{},"sourceType":"script","externalDependencies":[]}