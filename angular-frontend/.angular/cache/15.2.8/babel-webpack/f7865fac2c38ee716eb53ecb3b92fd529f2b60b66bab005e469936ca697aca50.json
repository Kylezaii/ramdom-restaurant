{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NsmanParticularSummaryComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"app/enquiry/caution-alert-block/service/cab.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/common\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/card\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/dialog\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/divider\"));\nconst i9 = tslib_1.__importStar(require(\"../../../shared/language/translate.directive\"));\nconst i10 = tslib_1.__importStar(require(\"../../caution-alert-block/cab.component\"));\nconst i11 = tslib_1.__importStar(require(\"./expanded-particulars/nsman-expanded-particulars.component\"));\nfunction NsmanParticularSummaryComponent_div_0_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelement(3, \"span\", 13);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_ng_template_4_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onOpenExpandedSummaryDialog());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n        \");\n  }\n}\nfunction NsmanParticularSummaryComponent_div_0_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"i\", 16);\n    i0.ɵɵtext(3, \" Stop Payment active\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NsmanParticularSummaryComponent_div_0_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelementStart(7, \"span\", 17);\n    i0.ɵɵtext(8, \"Trade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵelementStart(10, \"span\", 18);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"div\");\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"span\", 17);\n    i0.ɵɵtext(18, \"Emp.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                    \");\n    i0.ɵɵelementStart(20, \"span\", 18);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                \");\n    i0.ɵɵelementStart(25, \"div\");\n    i0.ɵɵtext(26, \"\\n                    \");\n    i0.ɵɵelementStart(27, \"span\", 17);\n    i0.ɵɵtext(28, \"Nett Emp.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelementStart(30, \"span\", 18);\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"NOA\", ctx_r5.latestNOAInfo.yrOfIncome.substring(2), \" (DD-MM-YYYY)\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\\n                        \", i0.ɵɵpipeBind3(12, 4, ctx_r5.latestNOAInfo.tradeIncome, \"SGD\", \"\"), \"\\n                    \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"\\n                        \", i0.ɵɵpipeBind3(22, 8, ctx_r5.latestNOAInfo.empIncome, \"SGD\", \"\"), \"\\n                    \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"\\n                        \", i0.ɵɵpipeBind3(32, 12, ctx_r5.latestNOAInfo.nettEmpIncome, \"SGD\", \"\"), \"\\n                    \");\n  }\n}\nconst _c0 = function () {\n  return {\n    minimumIntegerDigits: 2\n  };\n};\nfunction NsmanParticularSummaryComponent_div_0_div_56_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_div_56_div_5_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r13.showPreviousCpfRecord());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                        \");\n    i0.ɵɵelementStart(4, \"div\", 23);\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"div\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n                            \");\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10, \"get company name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵelementStart(16, \"div\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                        \");\n    i0.ɵɵelementStart(20, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_div_56_div_5_div_2_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r15.showNextCpfRecord());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(item_r10.csn);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate3(\"\\n                                \", i0.ɵɵpipeBind3(14, 5, item_r10.monthlySalary, \"SGD\", \"\"), \"\\n                                (\", ctx_r12.latestCpfInfo.at(0).relevantContributionMonth.toLocaleString(\"en-US\", i0.ɵɵpureFunction0(9, _c0)), \"-\", ctx_r12.latestCpfInfo.at(0).relevantContributionYear, \")\\n                            \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r10.sector);\n  }\n}\nfunction NsmanParticularSummaryComponent_div_0_div_56_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, NsmanParticularSummaryComponent_div_0_div_56_div_5_div_2_Template, 22, 10, \"div\", 20);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.cpfIndex == i_r11);\n  }\n}\nfunction NsmanParticularSummaryComponent_div_0_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵtemplate(5, NsmanParticularSummaryComponent_div_0_div_56_div_5_Template, 4, 1, \"div\", 19);\n    i0.ɵɵtext(6, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\\n                    CPF Relevant Month: \", ctx_r6.latestCpfInfo.at(0).relevantContributionMonth.toLocaleString(\"en-US\", i0.ɵɵpureFunction0(3, _c0)), \"-\", ctx_r6.latestCpfInfo.at(0).relevantContributionYear, \"\\n                \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.latestCpfInfo);\n  }\n}\nfunction NsmanParticularSummaryComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"p-card\", 5);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵtemplate(4, NsmanParticularSummaryComponent_div_0_ng_template_4_Template, 8, 0, \"ng-template\", 6);\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementStart(6, \"div\");\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵtemplate(8, NsmanParticularSummaryComponent_div_0_div_8_Template, 5, 0, \"div\", 7);\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementStart(10, \"div\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelementStart(13, \"div\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementStart(16, \"div\", 8);\n    i0.ɵɵtext(17, \"\\n                \");\n    i0.ɵɵelementStart(18, \"span\", 9);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementStart(21, \"span\", 10);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n            \");\n    i0.ɵɵelementStart(25, \"div\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n            \");\n    i0.ɵɵelement(28, \"p-divider\");\n    i0.ɵɵtext(29, \"\\n            \");\n    i0.ɵɵelementStart(30, \"div\");\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵelementStart(32, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_Template_a_click_32_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onOpenCabDialog(ctx_r17.nsman.personalInfo.nric));\n    });\n    i0.ɵɵtext(33, \"Caution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n                ,\\n                \");\n    i0.ɵɵelementStart(35, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_Template_a_click_35_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.onOpenCabDialog(ctx_r19.nsman.personalInfo.nric));\n    });\n    i0.ɵɵtext(36, \"Alert\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n                &\\n                \");\n    i0.ɵɵelementStart(38, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function NsmanParticularSummaryComponent_div_0_Template_a_click_38_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onOpenCabDialog(ctx_r20.nsman.personalInfo.nric));\n    });\n    i0.ɵɵtext(39, \"Block\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n            \");\n    i0.ɵɵelement(42, \"p-divider\");\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelementStart(44, \"div\");\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n            \");\n    i0.ɵɵelementStart(47, \"div\");\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n            \");\n    i0.ɵɵelement(50, \"p-divider\");\n    i0.ɵɵtext(51, \"\\n            \");\n    i0.ɵɵtemplate(52, NsmanParticularSummaryComponent_div_0_div_52_Template, 35, 16, \"div\", 0);\n    i0.ɵɵtext(53, \"\\n            \");\n    i0.ɵɵelement(54, \"p-divider\");\n    i0.ɵɵtext(55, \"\\n            \");\n    i0.ɵɵtemplate(56, NsmanParticularSummaryComponent_div_0_div_56_Template, 7, 4, \"div\", 0);\n    i0.ɵɵtext(57, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(59, \"    \\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isStopPaymentActive);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.nsman.personalInfo.nric, \" \", ctx_r0.nsman.serviceInfo.currRank, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.nsman.personalInfo.fullName.toUpperCase());\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.nsman.serviceInfo.currTOS, \" (\", ctx_r0.nsman.personalInfo.sex, \")\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.nsman.contactInfo.phoneNo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.nsman.contactInfo.email);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.highlightCaution ? \"highlight-red\" : \"normal-text\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.highlightAlert ? \"highlight-red\" : \"normal-text\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.highlightBlock ? \"highlight-red\" : \"normal-text\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.nsman.bankAccountInfo.bankName, \" \", ctx_r0.nsman.bankAccountInfo.bankAcctNo, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r0.nsman.bankAccountInfo.lastUpdatedDate, \")\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.latestNOAInfo != null);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.latestCpfInfo.length > 0);\n  }\n}\nfunction NsmanParticularSummaryComponent_n2_nsman_expanded_particulars_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"n2-nsman-expanded-particulars\", 25);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"nsman\", ctx_r1.nsman);\n  }\n}\nfunction NsmanParticularSummaryComponent_n2_cab_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"n2-cab\", 26);\n    i0.ɵɵlistener(\"cabClose\", function NsmanParticularSummaryComponent_n2_cab_9_Template_n2_cab_cabClose_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.onClose(ctx_r21.displayNsmanCabDialog));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"csnOrNric\", ctx_r2.nric);\n  }\n}\nconst _c1 = function () {\n  return {\n    width: \"90vw\"\n  };\n};\nconst _c2 = function () {\n  return {\n    width: \"70vw\"\n  };\n};\nclass NsmanParticularSummaryComponent {\n  constructor(cabService, dateUtilsService) {\n    this.cabService = cabService;\n    this.dateUtilsService = dateUtilsService;\n    this.displayNsmanCabDialog = {\n      display: false\n    };\n    this.displayNsmanExpandedSummaryDialog = {\n      display: false\n    };\n    this.dateFormat = \"DD-MM-YYYY\";\n    this.isStopPaymentActive = false;\n    this.cpfIndex = 0;\n    this.latestCpfInfo = [];\n    this.latestNOAInfo = {};\n    // cab variables\n    this.nric = '';\n    this.highlightAlert = false;\n    this.highlightBlock = false;\n    this.highlightCaution = false;\n  }\n  ngOnInit() {\n    console.log(\"NSman\", this.nsman);\n    this.nric = this.nsman.personalInfo.nric;\n    this.isStopPaymentActive = true; // to change\n    this.initSummaryInfo();\n    this.setCabFlags();\n  }\n  initSummaryInfo() {\n    if (this.nsman != null) {\n      if (this.nsman.cpfContributionInfo.length > 0) {\n        for (let i = 0; i < this.nsman.cpfContributionInfo.length; i++) {\n          if (i === 0) {\n            // capture cpf contribution made in the latest month and year\n            this.latestCpfInfo.push(this.nsman.cpfContributionInfo.at(i));\n          } else {\n            // capture subsequent contributions made in the latest month and year\n            if (this.latestCpfInfo.at(0).relevantContributionMonth === this.nsman.cpfContributionInfo.at(i).relevantContributionMonth && this.latestCpfInfo.at(0).relevantContributionYear === this.nsman.cpfContributionInfo.at(i).relevantContributionYear) {\n              this.latestCpfInfo.push(this.nsman.cpfContributionInfo.at(i));\n            }\n          }\n        }\n      }\n      // calculate month salary\n      this.latestCpfInfo.forEach(x => x.monthlySalary = x.ordinaryWage / 12);\n      if (this.nsman.noaInfo.length > 0) {\n        // capture noa info in the latest month and year\n        this.latestNOAInfo = this.nsman.noaInfo.at(0);\n        // calculate nett emp income\n        this.latestNOAInfo.nettEmpIncome = this.latestNOAInfo.tradeIncome + this.latestNOAInfo.empIncome;\n      }\n    }\n  }\n  setCabFlags() {\n    this.cabService.getCABIndicators(this.nric).subscribe(resp => {\n      if (resp.body?.data) {\n        this.cabIndicators = resp.body.data;\n      }\n    });\n    setTimeout(() => {\n      this.highlightAlert = this.cabIndicators.isAlertEnabledInd === 'Y';\n      this.highlightBlock = this.cabIndicators.isBlockEnabledInd === 'Y';\n      this.highlightCaution = this.cabIndicators.hasCautionRemarkInd === 'Y';\n    }, 1000);\n  }\n  onOpenExpandedSummaryDialog() {\n    this.displayNsmanExpandedSummaryDialog.display = true;\n  }\n  onOpenCabDialog(nric) {\n    this.nric = nric;\n    this.displayNsmanCabDialog.display = true;\n  }\n  onClose(dialog) {\n    dialog.display = false;\n    this.setCabFlags();\n  }\n  showPreviousCpfRecord() {\n    if (this.cpfIndex > 0) {\n      this.cpfIndex--;\n    }\n  }\n  showNextCpfRecord() {\n    if (this.cpfIndex < this.latestCpfInfo.length - 1) {\n      this.cpfIndex++;\n    }\n  }\n}\nexports.NsmanParticularSummaryComponent = NsmanParticularSummaryComponent;\nNsmanParticularSummaryComponent.ɵfac = function NsmanParticularSummaryComponent_Factory(t) {\n  return new (t || NsmanParticularSummaryComponent)(i0.ɵɵdirectiveInject(i1.CABService), i0.ɵɵdirectiveInject(i2.DateUtilsService));\n};\nNsmanParticularSummaryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NsmanParticularSummaryComponent,\n  selectors: [[\"n2-nsman-particulars-summary\"]],\n  inputs: {\n    nsman: \"nsman\"\n  },\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 12,\n  vars: 20,\n  consts: [[4, \"ngIf\"], [\"styleClass\", \"summary-dialog\", 3, \"showHeader\", \"visible\", \"modal\", \"dismissableMask\", \"draggable\", \"resizable\", \"visibleChange\"], [3, \"nsman\", 4, \"ngIf\"], [\"styleClass\", \"cab-dialog\", 3, \"showHeader\", \"visible\", \"modal\", \"draggable\", \"resizable\", \"visibleChange\"], [3, \"csnOrNric\", \"cabClose\", 4, \"ngIf\"], [\"styleClass\", \"summary-card\"], [\"pTemplate\", \"header\"], [\"style\", \"margin-bottom: 1rem;\", 4, \"ngIf\"], [2, \"margin-top\", \"1rem\", \"margin-bottom\", \"1rem\"], [2, \"display\", \"inline-block\", \"width\", \"35%\"], [2, \"display\", \"inline-block\", \"width\", \"60%\"], [3, \"ngClass\", \"click\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"icTranslate\", \"nspay2App.enquiry.nsman.search.personalParticulars\", 1, \"p-card-title\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-plus\", 1, \"expand-button\", 3, \"click\"], [2, \"margin-bottom\", \"1rem\"], [1, \"pi\", \"pi-exclamation-triangle\"], [2, \"display\", \"inline-block\", \"width\", \"30%\"], [2, \"display\", \"inline-block\", \"width\", \"65%\"], [4, \"ngFor\", \"ngForOf\"], [\"style\", \"display: flex; justify-content: space-between; margin-top: 0.5rem\", 4, \"ngIf\"], [2, \"display\", \"flex\", \"justify-content\", \"space-between\", \"margin-top\", \"0.5rem\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-chevron-left\", 1, \"chevron-button\", 3, \"click\"], [2, \"text-align\", \"left\"], [\"pButton\", \"\", \"type\", \"button\", \"icon\", \"pi pi-chevron-right\", 1, \"chevron-button\", 3, \"click\"], [3, \"nsman\"], [3, \"csnOrNric\", \"cabClose\"]],\n  template: function NsmanParticularSummaryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, NsmanParticularSummaryComponent_div_0_Template, 60, 16, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\\n\");\n      i0.ɵɵelementStart(2, \"p-dialog\", 1);\n      i0.ɵɵlistener(\"visibleChange\", function NsmanParticularSummaryComponent_Template_p_dialog_visibleChange_2_listener($event) {\n        return ctx.displayNsmanExpandedSummaryDialog.display = $event;\n      });\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵtemplate(4, NsmanParticularSummaryComponent_n2_nsman_expanded_particulars_4_Template, 1, 1, \"n2-nsman-expanded-particulars\", 2);\n      i0.ɵɵtext(5, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(6, \"\\n\\n\");\n      i0.ɵɵelementStart(7, \"p-dialog\", 3);\n      i0.ɵɵlistener(\"visibleChange\", function NsmanParticularSummaryComponent_Template_p_dialog_visibleChange_7_listener($event) {\n        return ctx.displayNsmanCabDialog.display = $event;\n      });\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵtemplate(9, NsmanParticularSummaryComponent_n2_cab_9_Template, 1, 1, \"n2-cab\", 4);\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(11, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.nsman != null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(18, _c1));\n      i0.ɵɵproperty(\"showHeader\", false)(\"visible\", ctx.displayNsmanExpandedSummaryDialog.display)(\"modal\", true)(\"dismissableMask\", true)(\"draggable\", false)(\"resizable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayNsmanExpandedSummaryDialog.display);\n      i0.ɵɵadvance(3);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(19, _c2));\n      i0.ɵɵproperty(\"showHeader\", false)(\"visible\", ctx.displayNsmanCabDialog.display)(\"modal\", true)(\"draggable\", false)(\"resizable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayNsmanCabDialog.display);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.Card, i5.PrimeTemplate, i6.ButtonDirective, i7.Dialog, i8.Divider, i9.TranslateDirective, i10.CABComponent, i11.NsmanExpandedParticularsComponent, i3.CurrencyPipe],\n  styles: [\"[_nghost-%COMP%]     .summary-card {\\n  background: var(--surface-b) !important;\\n  padding-top: 1em;\\n}\\n\\n[_nghost-%COMP%]     .p-card .p-card-title {\\n  margin-left: 1.2rem;\\n}\\n\\n[_nghost-%COMP%]     .p-card .p-card-body {\\n  padding-top: 0;\\n}\\n\\n[_nghost-%COMP%]     .expand-button {\\n  color: #14B8A6;\\n  background: none;\\n  border: none;\\n  width: 30px;\\n  padding: 0;\\n  margin-left: auto;\\n  margin-right: 0.5rem;\\n}\\n\\n[_nghost-%COMP%]     .pi-exclamation-triangle {\\n  color: #FF4E00;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n[_nghost-%COMP%]     .chevron-button {\\n  color: #14B8A6;\\n  background: none;\\n  border: none;\\n  font-size: 3rem;\\n  width: 30px !important;\\n  padding: 0 !important;\\n}\\n\\n[_nghost-%COMP%]     .highlight-red {\\n  color: #FF4E00;\\n}\\n\\n[_nghost-%COMP%]     .normal-text {\\n  color: var(--bs-gray-700) !important;\\n  font-weight: normal;\\n  text-decoration: none;\\n}\\n\\n[_nghost-%COMP%]     .summary-dialog .p-dialog-content {\\n  background: var(--surface-b) !important;\\n}\\n\\n[_nghost-%COMP%]     .cab-dialog .p-dialog-content {\\n  padding: 0 0 2rem 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5zbWFuLXBhcnRpY3VsYXJzLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxwcm9qZWN0cyUyMDJcXG5zcGF5aWlhcHBcXHNyY1xcbWFpblxcd2ViYXBwXFxhcHBcXGVucXVpcnlcXG5zbWFuXFxwZXJzb25hbC1wYXJ0aWN1bGFyc1xcbnNtYW4tcGFydGljdWxhcnMtc3VtbWFyeS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVDQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EscUJBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLG9DQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtBQ0NKOztBREVBO0VBQ0ksdUNBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0FDQ0oiLCJmaWxlIjoibnNtYW4tcGFydGljdWxhcnMtc3VtbWFyeS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAuc3VtbWFyeS1jYXJkIHtcclxuICAgIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcclxuICAgIHBhZGRpbmctdG9wOiAxZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1jYXJkIC5wLWNhcmQtdGl0bGUge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcclxuICAgIHBhZGRpbmctdG9wOiAwO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmV4cGFuZC1idXR0b24ge1xyXG4gICAgY29sb3I6ICMxNEI4QTY7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgd2lkdGg6IDMwcHg7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5waS1leGNsYW1hdGlvbi10cmlhbmdsZSB7XHJcbiAgICBjb2xvcjogI0ZGNEUwMDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmNoZXZyb24tYnV0dG9uIHtcclxuICAgIGNvbG9yOiAjMTRCOEE2O1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogM3JlbTtcclxuICAgIHdpZHRoOiAzMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuaGlnaGxpZ2h0LXJlZCB7XHJcbiAgICBjb2xvcjogI0ZGNEUwMDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5ub3JtYWwtdGV4dCB7XHJcbiAgICBjb2xvcjogdmFyKC0tYnMtZ3JheS03MDApICFpbXBvcnRhbnQ7IFxyXG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5zdW1tYXJ5LWRpYWxvZyAucC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuY2FiLWRpYWxvZyAucC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBwYWRkaW5nOiAwIDAgMnJlbSAwO1xyXG59XHJcblxyXG4vLyA6aG9zdCA6Om5nLWRlZXAgLmV4cGFuZC1idXR0b246ZW5hYmxlZDpob3ZlcntcclxuLy8gICAgIGNvbG9yOiAjMEQ5NDg4O1xyXG4vLyAgICAgYmFja2dyb3VuZDogbm9uZTtcclxuLy8gICAgIGJvcmRlcjogbm9uZTtcclxuLy8gfSIsIjpob3N0IDo6bmctZGVlcCAuc3VtbWFyeS1jYXJkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xuICBwYWRkaW5nLXRvcDogMWVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtY2FyZCAucC1jYXJkLXRpdGxlIHtcbiAgbWFyZ2luLWxlZnQ6IDEuMnJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC1ib2R5IHtcbiAgcGFkZGluZy10b3A6IDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZXhwYW5kLWJ1dHRvbiB7XG4gIGNvbG9yOiAjMTRCOEE2O1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIHdpZHRoOiAzMHB4O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAucGktZXhjbGFtYXRpb24tdHJpYW5nbGUge1xuICBjb2xvcjogI0ZGNEUwMDtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jaGV2cm9uLWJ1dHRvbiB7XG4gIGNvbG9yOiAjMTRCOEE2O1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGZvbnQtc2l6ZTogM3JlbTtcbiAgd2lkdGg6IDMwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmhpZ2hsaWdodC1yZWQge1xuICBjb2xvcjogI0ZGNEUwMDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5ub3JtYWwtdGV4dCB7XG4gIGNvbG9yOiB2YXIoLS1icy1ncmF5LTcwMCkgIWltcG9ydGFudDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnN1bW1hcnktZGlhbG9nIC5wLWRpYWxvZy1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhYi1kaWFsb2cgLnAtZGlhbG9nLWNvbnRlbnQge1xuICBwYWRkaW5nOiAwIDAgMnJlbSAwO1xufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvZW5xdWlyeS9uc21hbi9wZXJzb25hbC1wYXJ0aWN1bGFycy9uc21hbi1wYXJ0aWN1bGFycy1zdW1tYXJ5LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9lbnF1aXJ5L25zbWFuL3BlcnNvbmFsLXBhcnRpY3VsYXJzL25zbWFuLXBhcnRpY3VsYXJzLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1Q0FBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxtQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxvQ0FBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNDSjs7QURFQTtFQUNJLHVDQUFBO0FDQ0o7O0FERUE7RUFDSSxtQkFBQTtBQ0NKO0FEQ0EsZ29JQUFnb0kiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAgLnN1bW1hcnktY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zdXJmYWNlLWIpICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nLXRvcDogMWVtO1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLnAtY2FyZCAucC1jYXJkLXRpdGxlIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxLjJyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucC1jYXJkIC5wLWNhcmQtYm9keSB7XHJcbiAgICBwYWRkaW5nLXRvcDogMDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5leHBhbmQtYnV0dG9uIHtcclxuICAgIGNvbG9yOiAjMTRCOEE2O1xyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAucGktZXhjbGFtYXRpb24tdHJpYW5nbGUge1xyXG4gICAgY29sb3I6ICNGRjRFMDA7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5jaGV2cm9uLWJ1dHRvbiB7XHJcbiAgICBjb2xvcjogIzE0QjhBNjtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBmb250LXNpemU6IDNyZW07XHJcbiAgICB3aWR0aDogMzBweCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmhpZ2hsaWdodC1yZWQge1xyXG4gICAgY29sb3I6ICNGRjRFMDA7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAubm9ybWFsLXRleHQge1xyXG4gICAgY29sb3I6IHZhcigtLWJzLWdyYXktNzAwKSAhaW1wb3J0YW50OyBcclxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuc3VtbWFyeS1kaWFsb2cgLnAtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tc3VyZmFjZS1iKSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmNhYi1kaWFsb2cgLnAtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgcGFkZGluZzogMCAwIDJyZW0gMDtcclxufVxyXG5cclxuLy8gOmhvc3QgOjpuZy1kZWVwIC5leHBhbmQtYnV0dG9uOmVuYWJsZWQ6aG92ZXJ7XHJcbi8vICAgICBjb2xvcjogIzBEOTQ4ODtcclxuLy8gICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbi8vICAgICBib3JkZXI6IG5vbmU7XHJcbi8vIH0iLCI6aG9zdCA6Om5nLWRlZXAgLnN1bW1hcnktY2FyZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcbiAgcGFkZGluZy10b3A6IDFlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLWNhcmQgLnAtY2FyZC10aXRsZSB7XG4gIG1hcmdpbi1sZWZ0OiAxLjJyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1jYXJkIC5wLWNhcmQtYm9keSB7XG4gIHBhZGRpbmctdG9wOiAwO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmV4cGFuZC1idXR0b24ge1xuICBjb2xvcjogIzE0QjhBNjtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICB3aWR0aDogMzBweDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnBpLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIHtcbiAgY29sb3I6ICNGRjRFMDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2hldnJvbi1idXR0b24ge1xuICBjb2xvcjogIzE0QjhBNjtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXNpemU6IDNyZW07XG4gIHdpZHRoOiAzMHB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5oaWdobGlnaHQtcmVkIHtcbiAgY29sb3I6ICNGRjRFMDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubm9ybWFsLXRleHQge1xuICBjb2xvcjogdmFyKC0tYnMtZ3JheS03MDApICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5zdW1tYXJ5LWRpYWxvZyAucC1kaWFsb2ctY29udGVudCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLXN1cmZhY2UtYikgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5jYWItZGlhbG9nIC5wLWRpYWxvZy1jb250ZW50IHtcbiAgcGFkZGluZzogMCAwIDJyZW0gMDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;IAGYA;IAAAA,+BAAiD;IAC7CA;IAAAA,2BAAmG;IACnGA;IAAAA,kCAA8G;IAAxCA;MAAAA;MAAA;MAAA,OAASA,mDAA6B;IAAA,EAAC;IAACA,iBAAS;IAC3HA;IAAAA,iBAAM;IACVA;;;;;IAEIA,+BAA8D;IAC1DA;IAAAA,6BAAsC;IAACA,oCAAmB;IAAAA,iBAAI;IAClEA;IAAAA,iBAAM;;;;;IAuBNA,2BAAmC;IAC/BA;IAAAA,2BAAK;IAAAA,YAA2D;IAAAA,iBAAM;IACtEA;IAAAA,2BAAK;IACDA;IAAAA,gCAAgD;IAAAA,qBAAK;IAAAA,iBAAO;IAC5DA;IAAAA,iCAAgD;IAC5CA,aACJ;;IAAAA,iBAAO;IACXA;IAAAA,iBAAM;IACNA;IAAAA,4BAAK;IACDA;IAAAA,iCAAgD;IAAAA,qBAAI;IAAAA,iBAAO;IAC3DA;IAAAA,iCAAgD;IAC5CA,aACJ;;IAAAA,iBAAO;IACXA;IAAAA,iBAAM;IACNA;IAAAA,4BAAK;IACDA;IAAAA,iCAAgD;IAAAA,0BAAS;IAAAA,iBAAO;IAChEA;IAAAA,iCAAgD;IAC5CA,aACJ;;IAAAA,iBAAO;IACXA;IAAAA,iBAAM;IACVA;IAAAA,iBAAM;;;;IAnBGA,eAA2D;IAA3DA,2FAA2D;IAIxDA,eACJ;IADIA,iJACJ;IAKIA,gBACJ;IADIA,+IACJ;IAKIA,gBACJ;IADIA,oJACJ;;;;;;;;;;;IAUAA,+BAAqG;IACjGA;IAAAA,kCAAiH;IAAlCA;MAAAA;MAAA;MAAA,OAASA,8CAAuB;IAAA,EAAC;IAACA,iBAAS;IAC1HA;IAAAA,+BAA8B;IAC1BA;IAAAA,2BAAK;IAAAA,YAAc;IAAAA,iBAAM;IACzBA;IAAAA,2BAAK;IAAAA,iCAAgB;IAAAA,iBAAM;IAC3BA;IAAAA,4BAAK;IACDA,aAGJ;;IAAAA,iBAAM;IACNA;IAAAA,4BAAK;IAAAA,aAAiB;IAAAA,iBAAM;IAChCA;IAAAA,iBAAM;IACNA;IAAAA,mCAA8G;IAA9BA;MAAAA;MAAA;MAAA,OAASA,0CAAmB;IAAA,EAAC;IAACA,iBAAS;IAC3HA;IAAAA,iBAAM;;;;;IAVOA,eAAc;IAAdA,kCAAc;IAGfA,eAGJ;IAHIA,qWAGJ;IACKA,eAAiB;IAAjBA,qCAAiB;;;;;IAXlCA,2BAAuD;IACnDA;IAAAA,sGAaM;IACVA;IAAAA,iBAAM;;;;;IAd8EA,eAAmB;IAAnBA,+CAAmB;;;;;IAN3GA,2BAAsC;IAClCA;IAAAA,2BAAK;IACDA,YAEJ;IAAAA,iBAAM;IACNA;IAAAA,8FAeM;IACVA;IAAAA,iBAAM;;;;IAnBEA,eAEJ;IAFIA,6PAEJ;IACsBA,eAAkB;IAAlBA,8CAAkB;;;;;;IA7DxDA,2BAA2B;IACvBA;IAAAA,iCAAkC;IAC9BA;IAAAA,sGAKc;IACdA;IAAAA,2BAAK;IACDA;IAAAA,sFAEM;IACNA;IAAAA,4BAAK;IAAAA,aAA8D;IAAAA,iBAAM;IACzEA;IAAAA,4BAAK;IAAAA,aAA+C;IAAAA,iBAAM;IAC1DA;IAAAA,+BAAoD;IAChDA;IAAAA,gCAAgD;IAAAA,aAA8D;IAAAA,iBAAO;IACrHA;IAAAA,iCAAgD;IAAAA,aAA+B;IAAAA,iBAAO;IAC1FA;IAAAA,iBAAM;IACNA;IAAAA,4BAAK;IAAAA,aAA6B;IAAAA,iBAAM;IACxCA;IAAAA,6BAAuB;IACvBA;IAAAA,4BAAK;IACDA;IAAAA,8BACmD;IAAnDA;MAAAA;MAAA;MAAA,OAASA,uEAAwC;IAAA,EAAC;IAACA,wBAAO;IAAAA,iBAAI;IAC9DA,sDACA;IAAAA,8BACmD;IAAnDA;MAAAA;MAAA;MAAA,OAASA,uEAAwC;IAAA,EAAC;IAACA,sBAAK;IAAAA,iBAAI;IAC5DA,sDACA;IAAAA,8BACmD;IAAnDA;MAAAA;MAAA;MAAA,OAASA,uEAAwC;IAAA,EAAC;IAACA,sBAAK;IAAAA,iBAAI;IAChEA;IAAAA,iBAAM;IACNA;IAAAA,6BAAuB;IACvBA;IAAAA,4BAAK;IAAAA,aAA2E;IAAAA,iBAAM;IACtFA;IAAAA,4BAAK;IAAAA,aAA6C;IAAAA,iBAAM;IACxDA;IAAAA,6BAAuB;IACvBA;IAAAA,0FAoBM;IACNA;IAAAA,6BAAuB;IACvBA;IAAAA,wFAqBM;IACVA;IAAAA,iBAAM;IACVA;IAAAA,iBAAS;IACbA;IAAAA,iBAAM;;;;IAvEYA,eAAyB;IAAzBA,iDAAyB;IAG1BA,eAA8D;IAA9DA,qGAA8D;IAC9DA,eAA+C;IAA/CA,sEAA+C;IAEAA,eAA8D;IAA9DA,qGAA8D;IAC9DA,eAA+B;IAA/BA,sDAA+B;IAE9EA,eAA6B;IAA7BA,oDAA6B;IAG3BA,eAA8D;IAA9DA,mFAA8D;IAG9DA,eAA4D;IAA5DA,iFAA4D;IAG5DA,eAA4D;IAA5DA,iFAA4D;IAI9DA,eAA2E;IAA3EA,kHAA2E;IAC3EA,eAA6C;IAA7CA,6EAA6C;IAE5CA,eAA2B;IAA3BA,mDAA2B;IAsB3BA,eAA8B;IAA9BA,sDAA8B;;;;;IA4B5CA,oDAAiI;;;;IAAhDA,oCAAe;;;;;;IAKhGA,kCAA6G;IAA5CA;MAAAA;MAAA;MAAA,OAAYA,6DAA8B;IAAA,EAAC;IAACA,iBAAS;;;;IAAxEA,uCAAkB;;;;;;;;;;;;;ACnFpE,MAMaC,+BAA+B;EAqB1CC,YACUC,UAAsB,EACtBC,gBAAkC;IADlC,eAAU,GAAVD,UAAU;IACV,qBAAgB,GAAhBC,gBAAgB;IAnB1B,0BAAqB,GAAQ;MAAEC,OAAO,EAAE;IAAK,CAAE;IAC/C,sCAAiC,GAAQ;MAAEA,OAAO,EAAE;IAAK,CAAE;IAE3D,eAAU,GAAG,YAAY;IACzB,wBAAmB,GAAG,KAAK;IAE3B,aAAQ,GAAG,CAAC;IACZ,kBAAa,GAAmB,EAAE;IAClC,kBAAa,GAAiB,EAAE;IAEhC;IACA,SAAI,GAAG,EAAE;IACT,mBAAc,GAAG,KAAK;IACtB,mBAAc,GAAG,KAAK;IACtB,qBAAgB,GAAG,KAAK;EAMrB;EAEHC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACC,KAAK,CAAC;IAChC,IAAI,CAACC,IAAI,GAAG,IAAI,CAACD,KAAK,CAACE,YAAY,CAACD,IAAI;IACxC,IAAI,CAACE,mBAAmB,GAAG,IAAI,CAAC,CAAC;IACjC,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAD,eAAe;IACb,IAAI,IAAI,CAACJ,KAAK,IAAI,IAAI,EAAE;MACtB,IAAI,IAAI,CAACA,KAAK,CAACM,mBAAmB,CAACC,MAAM,GAAG,CAAC,EAAE;QAC7C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACR,KAAK,CAACM,mBAAmB,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;UAC9D,IAAIA,CAAC,KAAK,CAAC,EAAE;YACX;YACA,IAAI,CAACC,aAAa,CAACC,IAAI,CAAC,IAAI,CAACV,KAAK,CAACM,mBAAmB,CAACK,EAAE,CAACH,CAAC,CAAC,CAAC;WAC9D,MAAM;YACL;YACA,IAAK,IAAI,CAACC,aAAa,CAACE,EAAE,CAAC,CAAC,CAAC,CAACC,yBAAyB,KAAK,IAAI,CAACZ,KAAK,CAACM,mBAAmB,CAACK,EAAE,CAACH,CAAC,CAAC,CAACI,yBAAyB,IACtH,IAAI,CAACH,aAAa,CAACE,EAAE,CAAC,CAAC,CAAC,CAACE,wBAAwB,KAAK,IAAI,CAACb,KAAK,CAACM,mBAAmB,CAACK,EAAE,CAACH,CAAC,CAAC,CAACK,wBAAyB,EAAE;cACxH,IAAI,CAACJ,aAAa,CAACC,IAAI,CAAC,IAAI,CAACV,KAAK,CAACM,mBAAmB,CAACK,EAAE,CAACH,CAAC,CAAC,CAAC;;;;;MAKrE;MACA,IAAI,CAACC,aAAa,CAACK,OAAO,CAACC,CAAC,IAAIA,CAAC,CAACC,aAAa,GAAGD,CAAC,CAACE,YAAY,GAAC,EAAE,CAAC;MAEpE,IAAI,IAAI,CAACjB,KAAK,CAACkB,OAAO,CAACX,MAAM,GAAG,CAAC,EAAE;QACjC;QACA,IAAI,CAACY,aAAa,GAAG,IAAI,CAACnB,KAAK,CAACkB,OAAO,CAACP,EAAE,CAAC,CAAC,CAAC;QAC7C;QACA,IAAI,CAACQ,aAAa,CAACC,aAAa,GAAG,IAAI,CAACD,aAAa,CAACE,WAAW,GAAG,IAAI,CAACF,aAAa,CAACG,SAAS;;;EAGtG;EAEAjB,WAAW;IACT,IAAI,CAACX,UAAU,CAAC6B,gBAAgB,CAAC,IAAI,CAACtB,IAAI,CAAC,CAACuB,SAAS,CAACC,IAAI,IAAG;MAC3D,IAAIA,IAAI,CAACC,IAAI,EAAEC,IAAI,EAAE;QACnB,IAAI,CAACC,aAAa,GAAGH,IAAI,CAACC,IAAI,CAACC,IAAI;;IAEvC,CAAC,CAAC;IACFE,UAAU,CAAC,MAAK;MACd,IAAI,CAACC,cAAc,GAAG,IAAI,CAACF,aAAa,CAACG,iBAAiB,KAAK,GAAG;MAClE,IAAI,CAACC,cAAc,GAAG,IAAI,CAACJ,aAAa,CAACK,iBAAiB,KAAK,GAAG;MAClE,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACN,aAAa,CAACO,mBAAmB,KAAK,GAAG;IACxE,CAAC,EAAE,IAAI,CAAC;EACV;EAEAC,2BAA2B;IACzB,IAAI,CAACC,iCAAiC,CAACzC,OAAO,GAAG,IAAI;EACvD;EAEA0C,eAAe,CAACrC,IAAY;IAC1B,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACsC,qBAAqB,CAAC3C,OAAO,GAAG,IAAI;EAC3C;EAEA4C,OAAO,CAACC,MAAW;IACjBA,MAAM,CAAC7C,OAAO,GAAG,KAAK;IACtB,IAAI,CAACS,WAAW,EAAE;EACpB;EAEAqC,qBAAqB;IACnB,IAAI,IAAI,CAACC,QAAQ,GAAG,CAAC,EAAE;MACrB,IAAI,CAACA,QAAQ,EAAE;;EAEnB;EAEAC,iBAAiB;IACf,IAAI,IAAI,CAACD,QAAQ,GAAG,IAAI,CAAClC,aAAa,CAACF,MAAM,GAAG,CAAC,EAAE;MACjD,IAAI,CAACoC,QAAQ,EAAE;;EAEnB;;AAzGFE;;mBAMarD,+BAA+B;AAAA;;QAA/BA,+BAA+B;EAAAsD;EAAAC;IAAA/C;EAAA;EAAAgD,iCAF/B,EAAE;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDVf7D,kFAgFM;MAENA;MAAAA,mCAC2H;MAD5FA;QAAA;MAAA,EAAuD;MAElFA;MAAAA,oIAAiI;MACrIA;MAAAA,iBAAW;MAEXA;MAAAA,mCAC8F;MAD/DA;QAAA;MAAA,EAA2C;MAEtEA;MAAAA,sFAAsH;MAC1HA;MAAAA,iBAAW;MACXA;;;MA3FMA,wCAAmB;MAmFrBA,eAAyB;MAAzBA,0CAAyB;MADnBA,kCAAoB;MAEMA,eAA+C;MAA/CA,oEAA+C;MAI/EA,eAAyB;MAAzBA,0CAAyB;MADnBA,kCAAoB;MAEjBA,eAAmC;MAAnCA,wDAAmC","names":["i0","NsmanParticularSummaryComponent","constructor","cabService","dateUtilsService","display","ngOnInit","console","log","nsman","nric","personalInfo","isStopPaymentActive","initSummaryInfo","setCabFlags","cpfContributionInfo","length","i","latestCpfInfo","push","at","relevantContributionMonth","relevantContributionYear","forEach","x","monthlySalary","ordinaryWage","noaInfo","latestNOAInfo","nettEmpIncome","tradeIncome","empIncome","getCABIndicators","subscribe","resp","body","data","cabIndicators","setTimeout","highlightAlert","isAlertEnabledInd","highlightBlock","isBlockEnabledInd","highlightCaution","hasCautionRemarkInd","onOpenExpandedSummaryDialog","displayNsmanExpandedSummaryDialog","onOpenCabDialog","displayNsmanCabDialog","onClose","dialog","showPreviousCpfRecord","cpfIndex","showNextCpfRecord","exports","selectors","inputs","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\personal-particulars\\nsman-particulars-summary.component.html","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\enquiry\\nsman\\personal-particulars\\nsman-particulars-summary.component.ts"],"sourcesContent":["<div *ngIf=\"nsman != null\">\r\n    <p-card styleClass=\"summary-card\">\r\n        <ng-template pTemplate=\"header\">\r\n            <div style=\"display: flex; align-items: center;\">\r\n                <span class=\"p-card-title\" icTranslate=\"nspay2App.enquiry.nsman.search.personalParticulars\"></span>\r\n                <button pButton type=\"button\" class=\"expand-button\" icon=\"pi pi-plus\" (click)=\"onOpenExpandedSummaryDialog()\"></button>\r\n            </div>\r\n        </ng-template>\r\n        <div>\r\n            <div *ngIf=\"isStopPaymentActive\" style=\"margin-bottom: 1rem;\">\r\n                <i class=\"pi pi-exclamation-triangle\"> Stop Payment active</i>\r\n            </div>\r\n            <div>{{ nsman.personalInfo.nric }} {{ nsman.serviceInfo.currRank }}</div>\r\n            <div>{{ nsman.personalInfo.fullName.toUpperCase() }}</div>\r\n            <div style=\"margin-top: 1rem; margin-bottom: 1rem;\">\r\n                <span style=\"display: inline-block; width: 35%\">{{ nsman.serviceInfo.currTOS }} ({{ nsman.personalInfo.sex }})</span>\r\n                <span style=\"display: inline-block; width: 60%\">{{ nsman.contactInfo.phoneNo }}</span>\r\n            </div>\r\n            <div>{{ nsman.contactInfo.email }}</div>\r\n            <p-divider></p-divider>\r\n            <div>\r\n                <a [ngClass]=\"highlightCaution ? 'highlight-red' : 'normal-text'\" \r\n                (click)=\"onOpenCabDialog(nsman.personalInfo.nric)\">Caution</a>\r\n                ,\r\n                <a [ngClass]=\"highlightAlert ? 'highlight-red' : 'normal-text'\" \r\n                (click)=\"onOpenCabDialog(nsman.personalInfo.nric)\">Alert</a>\r\n                &\r\n                <a [ngClass]=\"highlightBlock ? 'highlight-red' : 'normal-text'\" \r\n                (click)=\"onOpenCabDialog(nsman.personalInfo.nric)\">Block</a>\r\n            </div>\r\n            <p-divider></p-divider>\r\n            <div>{{ nsman.bankAccountInfo.bankName }} {{ nsman.bankAccountInfo.bankAcctNo }}</div>\r\n            <div>({{ nsman.bankAccountInfo.lastUpdatedDate }})</div>\r\n            <p-divider></p-divider>\r\n            <div *ngIf=\"latestNOAInfo != null\">\r\n                <div>NOA{{ latestNOAInfo.yrOfIncome.substring(2) }} (DD-MM-YYYY)</div>\r\n                <div>\r\n                    <span style=\"display: inline-block; width: 30%\">Trade</span>\r\n                    <span style=\"display: inline-block; width: 65%\">\r\n                        {{ latestNOAInfo.tradeIncome | currency:'SGD' : '' }}\r\n                    </span>\r\n                </div>\r\n                <div>\r\n                    <span style=\"display: inline-block; width: 30%\">Emp.</span>\r\n                    <span style=\"display: inline-block; width: 65%\">\r\n                        {{ latestNOAInfo.empIncome | currency:'SGD' : '' }}\r\n                    </span>\r\n                </div>\r\n                <div>\r\n                    <span style=\"display: inline-block; width: 30%\">Nett Emp.</span>\r\n                    <span style=\"display: inline-block; width: 65%\">\r\n                        {{ latestNOAInfo.nettEmpIncome | currency:'SGD' : '' }}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <p-divider></p-divider>\r\n            <div *ngIf=\"latestCpfInfo.length > 0\">\r\n                <div>\r\n                    CPF Relevant Month: {{ latestCpfInfo.at(0).relevantContributionMonth.toLocaleString(\"en-US\", \r\n                    { minimumIntegerDigits: 2 }) }}-{{ latestCpfInfo.at(0).relevantContributionYear }}\r\n                </div>\r\n                <div *ngFor=\"let item of latestCpfInfo; let i = index\">\r\n                    <div style=\"display: flex; justify-content: space-between; margin-top: 0.5rem\" *ngIf=\"cpfIndex == i\">\r\n                        <button pButton type=\"button\" class=\"chevron-button\" icon=\"pi pi-chevron-left\" (click)=\"showPreviousCpfRecord()\"></button>\r\n                        <div style=\"text-align: left\">\r\n                            <div>{{ item.csn }}</div>\r\n                            <div>get company name</div>\r\n                            <div>\r\n                                {{ item.monthlySalary | currency:'SGD' : '' }}\r\n                                ({{ latestCpfInfo.at(0).relevantContributionMonth.toLocaleString(\"en-US\", \r\n                                { minimumIntegerDigits: 2 }) }}-{{ latestCpfInfo.at(0).relevantContributionYear }})\r\n                            </div>\r\n                            <div>{{ item.sector }}</div>\r\n                        </div>\r\n                        <button pButton type=\"button\" class=\"chevron-button\" icon=\"pi pi-chevron-right\" (click)=\"showNextCpfRecord()\"></button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </p-card>    \r\n</div>\r\n\r\n<p-dialog [showHeader]=\"false\" [(visible)]=\"displayNsmanExpandedSummaryDialog.display\" [modal]=\"true\" \r\n    [style]=\"{width: '90vw'}\" styleClass=\"summary-dialog\" [dismissableMask]=\"true\" [draggable]=\"false\" [resizable]=\"false\">\r\n    <n2-nsman-expanded-particulars *ngIf=\"displayNsmanExpandedSummaryDialog.display\" [nsman]=\"nsman\"></n2-nsman-expanded-particulars>\r\n</p-dialog>\r\n\r\n<p-dialog [showHeader]=\"false\" [(visible)]=\"displayNsmanCabDialog.display\" [modal]=\"true\"\r\n    [style]=\"{width: '70vw'}\" styleClass=\"cab-dialog\" [draggable]=\"false\" [resizable]=\"false\">\r\n    <n2-cab *ngIf=\"displayNsmanCabDialog.display\" [csnOrNric]=\"nric\" (cabClose)=\"onClose(displayNsmanCabDialog)\"></n2-cab>\r\n</p-dialog>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { EnqNSman, NSmanCpfInfo, NSmanNOAInfo } from '../model/nsman.model';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { CABService } from 'app/enquiry/caution-alert-block/service/cab.service';\r\nimport { CABIndicators } from 'app/enquiry/caution-alert-block/model/cab.model';\r\n\r\n@Component({\r\n  selector: 'n2-nsman-particulars-summary',\r\n  templateUrl: './nsman-particulars-summary.component.html',\r\n  styleUrls: ['./nsman-particulars-summary.component.scss'],\r\n  providers: []\r\n})\r\nexport class NsmanParticularSummaryComponent implements OnInit {\r\n\r\n  @Input() nsman: EnqNSman;\r\n  \r\n  displayNsmanCabDialog: any = { display: false };\r\n  displayNsmanExpandedSummaryDialog: any = { display: false };\r\n\r\n  dateFormat = \"DD-MM-YYYY\";\r\n  isStopPaymentActive = false;\r\n\r\n  cpfIndex = 0;\r\n  latestCpfInfo: NSmanCpfInfo[] = [];\r\n  latestNOAInfo: NSmanNOAInfo = {};\r\n\r\n  // cab variables\r\n  nric = '';\r\n  highlightAlert = false;\r\n  highlightBlock = false;\r\n  highlightCaution = false;\r\n  cabIndicators: CABIndicators;\r\n\r\n  constructor(\r\n    private cabService: CABService,\r\n    private dateUtilsService: DateUtilsService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log(\"NSman\", this.nsman);\r\n    this.nric = this.nsman.personalInfo.nric;\r\n    this.isStopPaymentActive = true; // to change\r\n    this.initSummaryInfo();\r\n    this.setCabFlags();\r\n  }\r\n\r\n  initSummaryInfo(): void {\r\n    if (this.nsman != null) {\r\n      if (this.nsman.cpfContributionInfo.length > 0) {\r\n        for (let i = 0; i < this.nsman.cpfContributionInfo.length; i++) {\r\n          if (i === 0) {\r\n            // capture cpf contribution made in the latest month and year\r\n            this.latestCpfInfo.push(this.nsman.cpfContributionInfo.at(i));\r\n          } else {\r\n            // capture subsequent contributions made in the latest month and year\r\n            if ((this.latestCpfInfo.at(0).relevantContributionMonth === this.nsman.cpfContributionInfo.at(i).relevantContributionMonth)\r\n            && (this.latestCpfInfo.at(0).relevantContributionYear === this.nsman.cpfContributionInfo.at(i).relevantContributionYear)) {\r\n              this.latestCpfInfo.push(this.nsman.cpfContributionInfo.at(i));\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // calculate month salary\r\n      this.latestCpfInfo.forEach(x => x.monthlySalary = x.ordinaryWage/12);\r\n\r\n      if (this.nsman.noaInfo.length > 0) {\r\n        // capture noa info in the latest month and year\r\n        this.latestNOAInfo = this.nsman.noaInfo.at(0);\r\n        // calculate nett emp income\r\n        this.latestNOAInfo.nettEmpIncome = this.latestNOAInfo.tradeIncome + this.latestNOAInfo.empIncome;\r\n      }\r\n    }\r\n  }\r\n\r\n  setCabFlags(): void {\r\n    this.cabService.getCABIndicators(this.nric).subscribe(resp => {\r\n      if (resp.body?.data) {\r\n        this.cabIndicators = resp.body.data;\r\n      }\r\n    });\r\n    setTimeout(() => {\r\n      this.highlightAlert = this.cabIndicators.isAlertEnabledInd === 'Y';\r\n      this.highlightBlock = this.cabIndicators.isBlockEnabledInd === 'Y';\r\n      this.highlightCaution = this.cabIndicators.hasCautionRemarkInd === 'Y';\r\n    }, 1000);\r\n  }\r\n\r\n  onOpenExpandedSummaryDialog(): void {\r\n    this.displayNsmanExpandedSummaryDialog.display = true;\r\n  }\r\n\r\n  onOpenCabDialog(nric: string): void {\r\n    this.nric = nric;\r\n    this.displayNsmanCabDialog.display = true;\r\n  }\r\n\r\n  onClose(dialog: any): void {\r\n    dialog.display = false;\r\n    this.setCabFlags();\r\n  }\r\n\r\n  showPreviousCpfRecord(): void {\r\n    if (this.cpfIndex > 0) {\r\n      this.cpfIndex--;\r\n    }\r\n  }\r\n\r\n  showNextCpfRecord(): void {\r\n    if (this.cpfIndex < this.latestCpfInfo.length - 1) {\r\n      this.cpfIndex++;\r\n    }\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}