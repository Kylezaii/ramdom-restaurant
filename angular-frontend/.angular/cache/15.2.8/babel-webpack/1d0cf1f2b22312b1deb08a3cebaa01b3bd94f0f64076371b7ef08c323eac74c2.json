{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryGeneratedLettersBySummaryComponent = void 0;\nconst tslib_1 = require(\"tslib\");\nconst i0 = tslib_1.__importStar(require(\"@angular/core\"));\nconst i1 = tslib_1.__importStar(require(\"../../service/letter.service\"));\nconst i2 = tslib_1.__importStar(require(\"app/core/util/date-utils.service\"));\nconst i3 = tslib_1.__importStar(require(\"@angular/forms\"));\nconst i4 = tslib_1.__importStar(require(\"primeng/api\"));\nconst i5 = tslib_1.__importStar(require(\"primeng/button\"));\nconst i6 = tslib_1.__importStar(require(\"primeng/tooltip\"));\nconst i7 = tslib_1.__importStar(require(\"primeng/table\"));\nconst i8 = tslib_1.__importStar(require(\"primeng/calendar\"));\nconst i9 = tslib_1.__importStar(require(\"primeng/multiselect\"));\nconst i10 = tslib_1.__importStar(require(\"@angular/common\"));\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function QueryGeneratedLettersBySummaryComponent_ng_template_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.exportCSV());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n    \");\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-calendar\", 23, 24);\n    i0.ɵɵlistener(\"onSelect\", function QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_12_Template_p_calendar_onSelect_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const filter_r9 = restoredCtx.filterCallback;\n      const _r10 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(filter_r9(_r10.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                   \");\n  }\n  if (rf & 2) {\n    const value_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r8);\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"div\", 25);\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵelementStart(3, \"span\", 26);\n    i0.ɵɵtext(4, \"Letter Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                    \");\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_24_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                                \");\n    i0.ɵɵelementStart(1, \"span\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n                            \");\n  }\n  if (rf & 2) {\n    const option_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r16.letterTypeTitle);\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n                        \");\n    i0.ɵɵelementStart(1, \"p-multiSelect\", 27);\n    i0.ɵɵlistener(\"onChange\", function QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_24_Template_p_multiSelect_onChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const filter_r14 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r14($event.value));\n    });\n    i0.ɵɵtext(2, \"\\n                            \");\n    i0.ɵɵtemplate(3, QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_24_ng_template_3_Template, 4, 1, \"ng-template\", 28);\n    i0.ɵɵtext(4, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const value_r13 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", value_r13)(\"options\", ctx_r7.letterTypes);\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"th\", 6);\n    i0.ɵɵtext(4, \"SN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"th\", 7);\n    i0.ɵɵtext(7, \"Calendar Month\\n                \");\n    i0.ɵɵelement(8, \"p-sortIcon\", 8);\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵelementStart(10, \"p-columnFilter\", 9);\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵtemplate(12, QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_12_Template, 4, 1, \"ng-template\", 10);\n    i0.ɵɵtext(13, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementStart(16, \"th\", 11);\n    i0.ɵɵtext(17, \"Letter Type\\n                \");\n    i0.ɵɵelement(18, \"p-sortIcon\", 12);\n    i0.ɵɵtext(19, \"\\n                \");\n    i0.ɵɵelementStart(20, \"p-columnFilter\", 13);\n    i0.ɵɵtext(21, \"\\n                    \");\n    i0.ɵɵtemplate(22, QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_22_Template, 7, 0, \"ng-template\", 2);\n    i0.ɵɵtext(23, \"\\n                    \");\n    i0.ɵɵtemplate(24, QueryGeneratedLettersBySummaryComponent_ng_template_4_ng_template_24_Template, 6, 2, \"ng-template\", 10);\n    i0.ɵɵtext(25, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n            \");\n    i0.ɵɵelementStart(28, \"th\", 14);\n    i0.ɵɵtext(29, \"Email\\n                \");\n    i0.ɵɵelement(30, \"p-sortIcon\", 15);\n    i0.ɵɵtext(31, \"\\n                \");\n    i0.ɵɵelement(32, \"p-columnFilter\", 16);\n    i0.ɵɵtext(33, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n            \");\n    i0.ɵɵelementStart(35, \"th\", 17);\n    i0.ɵɵtext(36, \"Letter\\n                \");\n    i0.ɵɵelement(37, \"p-sortIcon\", 18);\n    i0.ɵɵtext(38, \"\\n                \");\n    i0.ɵɵelement(39, \"p-columnFilter\", 19);\n    i0.ɵɵtext(40, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n            \");\n    i0.ɵɵelementStart(42, \"th\", 20);\n    i0.ɵɵtext(43, \"Total\\n                \");\n    i0.ɵɵelement(44, \"p-sortIcon\", 21);\n    i0.ɵɵtext(45, \"\\n                \");\n    i0.ɵɵelement(46, \"p-columnFilter\", 22);\n    i0.ɵɵtext(47, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n    \");\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"showMatchModes\", false)(\"showOperator\", false)(\"showAddButton\", false);\n  }\n}\nfunction QueryGeneratedLettersBySummaryComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelementStart(13, \"td\", 30);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementStart(16, \"td\", 30);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n            \");\n    i0.ɵɵelementStart(19, \"td\", 30);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n    \");\n  }\n  if (rf & 2) {\n    const record_r19 = ctx.$implicit;\n    const i_r20 = ctx.rowIndex;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r20 + 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, record_r19.genDte, \"MMM yyyy\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(record_r19.letterTypeTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r19.emailCount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r19.letterCount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(record_r19.totalCount);\n  }\n}\nconst _c0 = function () {\n  return [10, 25, 50];\n};\nclass QueryGeneratedLettersBySummaryComponent {\n  constructor(letterService, dateUtilsService) {\n    this.letterService = letterService;\n    this.dateUtilsService = dateUtilsService;\n    this.queriedLettersBySummary = [];\n    this.letterTypes = [];\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.retrieveGeneratedLettersBySummary();\n    this.retrieveLetterTypes();\n  }\n  retrieveGeneratedLettersBySummary() {\n    this.letterService.getLetterSummary(null).subscribe(resp => {\n      if (resp.body.data.dtoList) {\n        const dtoList = resp.body.data.dtoList;\n        for (let i = 0; i < dtoList.length; i++) {\n          dtoList[i].genDte = this.dateUtilsService.convertUnixToDate(dtoList[i].genDte);\n        }\n        this.queriedLettersBySummary = dtoList;\n        console.log(\"queried letters by summary after\", this.queriedLettersBySummary);\n      }\n    });\n  }\n  retrieveLetterTypes() {\n    this.letterService.getAllLetterTypes(null).subscribe(resp => {\n      if (resp.body.data) {\n        this.letterTypes = resp.body.data;\n        console.log(\"all letter types\", this.letterTypes);\n      }\n    });\n  }\n  exportCSV() {\n    //\n  }\n}\nexports.QueryGeneratedLettersBySummaryComponent = QueryGeneratedLettersBySummaryComponent;\nQueryGeneratedLettersBySummaryComponent.ɵfac = function QueryGeneratedLettersBySummaryComponent_Factory(t) {\n  return new (t || QueryGeneratedLettersBySummaryComponent)(i0.ɵɵdirectiveInject(i1.LetterService), i0.ɵɵdirectiveInject(i2.DateUtilsService));\n};\nQueryGeneratedLettersBySummaryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: QueryGeneratedLettersBySummaryComponent,\n  selectors: [[\"n2-query-generated-letters-by-summary\"]],\n  decls: 9,\n  vars: 6,\n  consts: [[\"styleClass\", \"p-datatable-gridlines\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"rowsPerPageOptions\", \"showCurrentPageReport\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file\", \"pTooltip\", \"Export as CSV\", \"tooltipPosition\", \"bottom\", 3, \"click\"], [\"scope\", \"col\", 2, \"width\", \"5%\"], [\"scope\", \"col\", \"pSortableColumn\", \"genDte\"], [\"field\", \"genDte\"], [\"type\", \"date\", \"field\", \"genDte\", \"display\", \"menu\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"pTemplate\", \"filter\"], [\"scope\", \"col\", \"pSortableColumn\", \"letterTypeTitle\"], [\"field\", \"letterTypeTitle\"], [\"type\", \"text\", \"field\", \"letterTypeTitle\", \"matchMode\", \"in\", \"display\", \"menu\", 3, \"showMatchModes\", \"showOperator\", \"showAddButton\"], [\"scope\", \"col\", \"pSortableColumn\", \"emailCount\"], [\"field\", \"emailCount\"], [\"type\", \"numeric\", \"field\", \"emailCount\", \"display\", \"menu\"], [\"scope\", \"col\", \"pSortableColumn\", \"letterCount\"], [\"field\", \"letterCount\"], [\"type\", \"numeric\", \"field\", \"letterCount\", \"display\", \"menu\"], [\"scope\", \"col\", \"pSortableColumn\", \"totalCount\"], [\"field\", \"totalCount\"], [\"type\", \"numeric\", \"field\", \"totalCount\", \"display\", \"menu\"], [\"view\", \"month\", \"dateFormat\", \"M yy\", 3, \"ngModel\", \"onSelect\"], [\"calendar\", \"\"], [1, \"px-3\", \"pt-3\", \"pb-0\"], [1, \"font-bold\"], [\"display\", \"chip\", \"placeholder\", \"Any\", \"optionLabel\", \"letterTypeTitle\", \"optionValue\", \"letterTypeTitle\", 3, \"ngModel\", \"options\", \"onChange\"], [\"pTemplate\", \"item\"], [1, \"ml-1\"], [2, \"text-align\", \"right\"]],\n  template: function QueryGeneratedLettersBySummaryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵtemplate(2, QueryGeneratedLettersBySummaryComponent_ng_template_2_Template, 6, 0, \"ng-template\", 1);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵtemplate(4, QueryGeneratedLettersBySummaryComponent_ng_template_4_Template, 50, 6, \"ng-template\", 2);\n      i0.ɵɵtext(5, \"\\n    \");\n      i0.ɵɵtemplate(6, QueryGeneratedLettersBySummaryComponent_ng_template_6_Template, 23, 9, \"ng-template\", 3);\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.queriedLettersBySummary)(\"paginator\", true)(\"rows\", 10)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(5, _c0))(\"showCurrentPageReport\", true);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i4.PrimeTemplate, i5.ButtonDirective, i6.Tooltip, i7.Table, i7.SortableColumn, i7.SortIcon, i7.ColumnFilter, i8.Calendar, i9.MultiSelect, i10.DatePipe],\n  styles: [\".p-column-filter-overlay-menu .p-column-filter-add-rule {\\n  display: flex !important;\\n}\\n\\n.p-column-filter-overlay-menu .p-column-filter-operator {\\n  display: flex !important;\\n}\\n\\n.p-column-filter-overlay-menu .p-column-filter-constraint .p-column-filter-matchmode-dropdown {\\n  display: flex !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXJ5LWdlbmVyYXRlZC1sZXR0ZXJzLWJ5LXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxccHJvamVjdHMlMjAyXFxuc3BheWlpYXBwXFxzcmNcXG1haW5cXHdlYmFwcFxcYXBwXFxyZXBvcnQtbGV0dGVyXFxsZXR0ZXJcXHF1ZXJ5LWdlbmVyYXRlZC1sZXR0ZXJzXFxieS1zdW1tYXJ5XFxxdWVyeS1nZW5lcmF0ZWQtbGV0dGVycy1ieS1zdW1tYXJ5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7QUNDSjs7QURFQTtFQUNJLHdCQUFBO0FDQ0o7O0FERUE7RUFDSSx3QkFBQTtBQ0NKIiwiZmlsZSI6InF1ZXJ5LWdlbmVyYXRlZC1sZXR0ZXJzLWJ5LXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucC1jb2x1bW4tZmlsdGVyLW92ZXJsYXktbWVudSAucC1jb2x1bW4tZmlsdGVyLWFkZC1ydWxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxufVxyXG5cclxuLnAtY29sdW1uLWZpbHRlci1vdmVybGF5LW1lbnUgLnAtY29sdW1uLWZpbHRlci1vcGVyYXRvciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51IC5wLWNvbHVtbi1maWx0ZXItY29uc3RyYWludCAucC1jb2x1bW4tZmlsdGVyLW1hdGNobW9kZS1kcm9wZG93biB7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbn0iLCIucC1jb2x1bW4tZmlsdGVyLW92ZXJsYXktbWVudSAucC1jb2x1bW4tZmlsdGVyLWFkZC1ydWxlIHtcbiAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xufVxuXG4ucC1jb2x1bW4tZmlsdGVyLW92ZXJsYXktbWVudSAucC1jb2x1bW4tZmlsdGVyLW9wZXJhdG9yIHtcbiAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xufVxuXG4ucC1jb2x1bW4tZmlsdGVyLW92ZXJsYXktbWVudSAucC1jb2x1bW4tZmlsdGVyLWNvbnN0cmFpbnQgLnAtY29sdW1uLWZpbHRlci1tYXRjaG1vZGUtZHJvcGRvd24ge1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcmVwb3J0LWxldHRlci9sZXR0ZXIvcXVlcnktZ2VuZXJhdGVkLWxldHRlcnMvYnktc3VtbWFyeS9xdWVyeS1nZW5lcmF0ZWQtbGV0dGVycy1ieS1zdW1tYXJ5LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vcHJvamVjdHMlMjAyL25zcGF5aWlhcHAvc3JjL21haW4vd2ViYXBwL2FwcC9yZXBvcnQtbGV0dGVyL2xldHRlci9xdWVyeS1nZW5lcmF0ZWQtbGV0dGVycy9ieS1zdW1tYXJ5L3F1ZXJ5LWdlbmVyYXRlZC1sZXR0ZXJzLWJ5LXN1bW1hcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3QkFBQTtBQ0NKOztBREVBO0VBQ0ksd0JBQUE7QUNDSjs7QURFQTtFQUNJLHdCQUFBO0FDQ0o7QURDQSxvL0NBQW8vQyIsInNvdXJjZXNDb250ZW50IjpbIi5wLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51IC5wLWNvbHVtbi1maWx0ZXItYWRkLXJ1bGUge1xyXG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucC1jb2x1bW4tZmlsdGVyLW92ZXJsYXktbWVudSAucC1jb2x1bW4tZmlsdGVyLW9wZXJhdG9yIHtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxufVxyXG5cclxuLnAtY29sdW1uLWZpbHRlci1vdmVybGF5LW1lbnUgLnAtY29sdW1uLWZpbHRlci1jb25zdHJhaW50IC5wLWNvbHVtbi1maWx0ZXItbWF0Y2htb2RlLWRyb3Bkb3duIHtcclxuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcclxufSIsIi5wLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51IC5wLWNvbHVtbi1maWx0ZXItYWRkLXJ1bGUge1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG59XG5cbi5wLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51IC5wLWNvbHVtbi1maWx0ZXItb3BlcmF0b3Ige1xuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG59XG5cbi5wLWNvbHVtbi1maWx0ZXItb3ZlcmxheS1tZW51IC5wLWNvbHVtbi1maWx0ZXItY29uc3RyYWludCAucC1jb2x1bW4tZmlsdGVyLW1hdGNobW9kZS1kcm9wZG93biB7XG4gIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;IASQA;IAAAA,8BAAiD;IAC7CA;IAAAA,iCAC6B;IAD2BA;MAAAA;MAAA;MAAA,OAASA,iCAAW;IAAA,EAAC;IAChDA,iBAAS;IAC1CA;IAAAA,iBAAM;IACVA;;;;;;IASoBA;IAAAA,0CAA2G;IAAnEA;MAAA;MAAA;MAAA;MAAA,OAAYA,oCAAsB;IAAA,EAAC;IAAgCA,iBAAa;IAC7HA;;;;IAD2BA,eAAiB;IAAjBA,kCAAiB;;;;;IASvCA;IAAAA,+BAA4B;IACxBA;IAAAA,gCAAwB;IAAAA,2BAAW;IAAAA,iBAAO;IAC9CA;IAAAA,iBAAM;IACVA;;;;;IAKYA;IAAAA,gCAAmB;IAAAA,YAA4B;IAAAA,iBAAO;IAC1DA;;;;IADuBA,eAA4B;IAA5BA,gDAA4B;;;;;;IAHvDA;IAAAA,yCACkG;IAA9FA;MAAA;MAAA;MAAA,OAAYA,uCAAoB;IAAA,EAAC;IACjCA;IAAAA,sIAEc;IAClBA;IAAAA,iBAAgB;IACpBA;;;;;IANmBA,eAAiB;IAAjBA,mCAAiB;;;;;IArBhDA;IAAAA,0BAAI;IACAA;IAAAA,6BAAkC;IAAAA,kBAAE;IAAAA,iBAAK;IACzCA;IAAAA,6BAAyC;IAAAA,gDACrC;IAAAA,gCAAwC;IACxCA;IAAAA,0CAC4E;IACxEA;IAAAA,yHAEa;IACjBA;IAAAA,iBAAiB;IACrBA;IAAAA,iBAAK;IACLA;IAAAA,+BAAkD;IAAAA,8CAC9C;IAAAA,kCAAiD;IACjDA;IAAAA,2CAC4E;IACxEA;IAAAA,wHAIc;IACdA;IAAAA,yHAOc;IAClBA;IAAAA,iBAAiB;IACrBA;IAAAA,iBAAK;IACLA;IAAAA,+BAA6C;IAAAA,wCACzC;IAAAA,kCAA4C;IAC5CA;IAAAA,sCAAkF;IACtFA;IAAAA,iBAAK;IACLA;IAAAA,+BAA8C;IAAAA,yCAC1C;IAAAA,kCAA6C;IAC7CA;IAAAA,sCAAmF;IACvFA;IAAAA,iBAAK;IACLA;IAAAA,+BAA6C;IAAAA,wCACzC;IAAAA,kCAA4C;IAC5CA;IAAAA,sCAAkF;IACtFA;IAAAA,iBAAK;IACTA;IAAAA,iBAAK;IACTA;;;IAtCgBA,gBAAwB;IAAxBA,sCAAwB;IASxBA,gBAAwB;IAAxBA,sCAAwB;;;;;IA+BpCA;IAAAA,0BAAI;IACAA;IAAAA,0BAAI;IAAAA,YAAW;IAAAA,iBAAK;IACpBA;IAAAA,0BAAI;IAAAA,YAAqC;;IAAAA,iBAAK;IAC9CA;IAAAA,2BAAI;IAAAA,aAA4B;IAAAA,iBAAK;IACrCA;IAAAA,+BAA8B;IAAAA,aAAuB;IAAAA,iBAAK;IAC1DA;IAAAA,+BAA8B;IAAAA,aAAwB;IAAAA,iBAAK;IAC3DA;IAAAA,+BAA8B;IAAAA,aAAuB;IAAAA,iBAAK;IAC9DA;IAAAA,iBAAK;IACTA;;;;;IAPYA,eAAW;IAAXA,+BAAW;IACXA,eAAqC;IAArCA,yEAAqC;IACrCA,eAA4B;IAA5BA,gDAA4B;IACFA,eAAuB;IAAvBA,2CAAuB;IACvBA,eAAwB;IAAxBA,4CAAwB;IACxBA,eAAuB;IAAvBA,2CAAuB;;;;;;AC5DjE,MAMaC,uCAAuC;EAKlDC,YACUC,aAA4B,EAC7BC,gBAAkC;IADjC,kBAAa,GAAbD,aAAa;IACd,qBAAgB,GAAhBC,gBAAgB;IALzB,4BAAuB,GAA4B,EAAE;IACrD,gBAAW,GAAkB,EAAE;EAM/B;EAEAC,QAAQ;IACN,IAAI,CAACC,IAAI,EAAE;EACb;EAEAA,IAAI;IACF,IAAI,CAACC,iCAAiC,EAAE;IACxC,IAAI,CAACC,mBAAmB,EAAE;EAC5B;EAEAD,iCAAiC;IAC/B,IAAI,CAACJ,aAAa,CAACM,gBAAgB,CAAC,IAAI,CAAC,CAACC,SAAS,CAACC,IAAI,IAAG;MACzD,IAAIA,IAAI,CAACC,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;QAC1B,MAAMA,OAAO,GAAGH,IAAI,CAACC,IAAI,CAACC,IAAI,CAACC,OAAO;QACtC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;UACvCD,OAAO,CAACC,CAAC,CAAC,CAACE,MAAM,GAAG,IAAI,CAACb,gBAAgB,CAACc,iBAAiB,CAACJ,OAAO,CAACC,CAAC,CAAC,CAACE,MAAM,CAAC;;QAEhF,IAAI,CAACE,uBAAuB,GAAGL,OAAO;QACtCM,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAE,IAAI,CAACF,uBAAuB,CAAC;;IAEjF,CAAC,CAAC;EACJ;EAEAX,mBAAmB;IACjB,IAAI,CAACL,aAAa,CAACmB,iBAAiB,CAAC,IAAI,CAAC,CAACZ,SAAS,CAACC,IAAI,IAAG;MAC1D,IAAIA,IAAI,CAACC,IAAI,CAACC,IAAI,EAAE;QAClB,IAAI,CAACU,WAAW,GAAGZ,IAAI,CAACC,IAAI,CAACC,IAAI;QACjCO,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACE,WAAW,CAAC;;IAErD,CAAC,CAAC;EACJ;EAEAC,SAAS;IACP;EAAA;;AAjDJC;;mBAMaxB,uCAAuC;AAAA;;QAAvCA,uCAAuC;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZpD9B,kCAOoF;MAChFA;MAAAA,wGAKc;MACdA;MAAAA,yGA4Cc;MACdA;MAAAA,yGASc;MAClBA;MAAAA,iBAAU;MACVA;;;MArEIA,mDAAiC","names":["i0","QueryGeneratedLettersBySummaryComponent","constructor","letterService","dateUtilsService","ngOnInit","load","retrieveGeneratedLettersBySummary","retrieveLetterTypes","getLetterSummary","subscribe","resp","body","data","dtoList","i","length","genDte","convertUnixToDate","queriedLettersBySummary","console","log","getAllLetterTypes","letterTypes","exportCSV","exports","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\report-letter\\letter\\query-generated-letters\\by-summary\\query-generated-letters-by-summary.component.html","C:\\Users\\D1347074\\Desktop\\projects 2\\nspayiiapp\\src\\main\\webapp\\app\\report-letter\\letter\\query-generated-letters\\by-summary\\query-generated-letters-by-summary.component.ts"],"sourcesContent":["<p-table\r\n    [value]=\"queriedLettersBySummary\"\r\n    styleClass=\"p-datatable-gridlines\"\r\n    [paginator]=\"true\"\r\n    [rows]=\"10\"\r\n    [rowsPerPageOptions]=\"[10,25,50]\"\r\n    [showCurrentPageReport]=\"true\"\r\n    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\">\r\n    <ng-template pTemplate=\"caption\">\r\n        <div style=\"display: flex; align-items: center;\">\r\n            <button type=\"button\" pButton pRipple icon=\"pi pi-file\" (click)=\"exportCSV()\" pTooltip=\"Export as CSV\"\r\n                tooltipPosition=\"bottom\"></button>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"header\">\r\n        <tr>\r\n            <th scope=\"col\" style=\"width: 5%\">SN</th>\r\n            <th scope=\"col\" pSortableColumn=\"genDte\">Calendar Month\r\n                <p-sortIcon field=\"genDte\"></p-sortIcon>\r\n                <p-columnFilter type=\"date\" field=\"genDte\" display=\"menu\"\r\n                    [showMatchModes]=\"false\" [showOperator]=\"false\" [showAddButton]=\"false\">\r\n                    <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n                        <p-calendar #calendar [ngModel]=\"value\" (onSelect)=\"filter(calendar.value)\" view=\"month\" dateFormat=\"M yy\"></p-calendar>\r\n                   </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"letterTypeTitle\">Letter Type\r\n                <p-sortIcon field=\"letterTypeTitle\"></p-sortIcon>\r\n                <p-columnFilter type=\"text\" field=\"letterTypeTitle\" matchMode=\"in\" display=\"menu\"\r\n                    [showMatchModes]=\"false\" [showOperator]=\"false\" [showAddButton]=\"false\">\r\n                    <ng-template pTemplate=\"header\">\r\n                        <div class=\"px-3 pt-3 pb-0\">\r\n                            <span class=\"font-bold\">Letter Type</span>\r\n                        </div>\r\n                    </ng-template>\r\n                    <ng-template pTemplate=\"filter\" let-value let-filter=\"filterCallback\">\r\n                        <p-multiSelect [ngModel]=\"value\" [options]=\"letterTypes\" display=\"chip\" placeholder=\"Any\"\r\n                            (onChange)=\"filter($event.value)\" optionLabel=\"letterTypeTitle\" optionValue=\"letterTypeTitle\">\r\n                            <ng-template let-option pTemplate=\"item\">\r\n                                <span class=\"ml-1\">{{ option.letterTypeTitle }}</span>\r\n                            </ng-template>\r\n                        </p-multiSelect>\r\n                    </ng-template>\r\n                </p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"emailCount\">Email\r\n                <p-sortIcon field=\"emailCount\"></p-sortIcon>\r\n                <p-columnFilter type=\"numeric\" field=\"emailCount\" display=\"menu\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"letterCount\">Letter\r\n                <p-sortIcon field=\"letterCount\"></p-sortIcon>\r\n                <p-columnFilter type=\"numeric\" field=\"letterCount\" display=\"menu\"></p-columnFilter>\r\n            </th>\r\n            <th scope=\"col\" pSortableColumn=\"totalCount\">Total\r\n                <p-sortIcon field=\"totalCount\"></p-sortIcon>\r\n                <p-columnFilter type=\"numeric\" field=\"totalCount\" display=\"menu\"></p-columnFilter>\r\n            </th>\r\n        </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"body\" let-record let-i=\"rowIndex\">\r\n        <tr>\r\n            <td>{{ i + 1 }}</td>\r\n            <td>{{ record.genDte | date:'MMM yyyy' }}</td>\r\n            <td>{{ record.letterTypeTitle }}</td>\r\n            <td style=\"text-align: right\">{{ record.emailCount }}</td>\r\n            <td style=\"text-align: right\">{{ record.letterCount }}</td>\r\n            <td style=\"text-align: right\">{{ record.totalCount }}</td>\r\n        </tr>\r\n    </ng-template>\r\n</p-table>\r\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { DateUtilsService } from 'app/core/util/date-utils.service';\r\nimport { LetterService } from '../../service/letter.service';\r\nimport { ILetterType } from '../../model/letter.model';\r\nimport { IQueryGeneratedLetter } from '../../model/letter.model';\r\n\r\n@Component({\r\n  selector: 'n2-query-generated-letters-by-summary',\r\n  templateUrl: './query-generated-letters-by-summary.component.html',\r\n  styleUrls: ['./query-generated-letters-by-summary.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class QueryGeneratedLettersBySummaryComponent implements OnInit {\r\n\r\n  queriedLettersBySummary: IQueryGeneratedLetter[] = [];\r\n  letterTypes: ILetterType[] = [];\r\n\r\n  constructor(\r\n    private letterService: LetterService,\r\n    public dateUtilsService: DateUtilsService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.load();\r\n  }\r\n\r\n  load(): void {\r\n    this.retrieveGeneratedLettersBySummary();\r\n    this.retrieveLetterTypes();\r\n  }\r\n\r\n  retrieveGeneratedLettersBySummary(): void {\r\n    this.letterService.getLetterSummary(null).subscribe(resp => {\r\n      if (resp.body.data.dtoList) {\r\n        const dtoList = resp.body.data.dtoList;\r\n        for (let i = 0; i < dtoList.length; i++) {\r\n          dtoList[i].genDte = this.dateUtilsService.convertUnixToDate(dtoList[i].genDte);\r\n        }\r\n        this.queriedLettersBySummary = dtoList;\r\n        console.log(\"queried letters by summary after\", this.queriedLettersBySummary);\r\n      }\r\n    });  \r\n  }\r\n\r\n  retrieveLetterTypes(): void {\r\n    this.letterService.getAllLetterTypes(null).subscribe(resp => {\r\n      if (resp.body.data) {\r\n        this.letterTypes = resp.body.data;\r\n        console.log(\"all letter types\", this.letterTypes);\r\n      }\r\n    });\r\n  }\r\n\r\n  exportCSV(): void {\r\n    //\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}